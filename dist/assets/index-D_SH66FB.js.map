{"version":3,"file":"index-D_SH66FB.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/alert-circle.js","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.js","../../node_modules/lucide-react/dist/esm/icons/bell.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/calculator.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/code.js","../../node_modules/lucide-react/dist/esm/icons/database.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/filter.js","../../node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../../node_modules/lucide-react/dist/esm/icons/info.js","../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../node_modules/lucide-react/dist/esm/icons/list.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/message-square.js","../../node_modules/lucide-react/dist/esm/icons/minus.js","../../node_modules/lucide-react/dist/esm/icons/mouse-pointer.js","../../node_modules/lucide-react/dist/esm/icons/paintbrush.js","../../node_modules/lucide-react/dist/esm/icons/pause.js","../../node_modules/lucide-react/dist/esm/icons/pencil.js","../../node_modules/lucide-react/dist/esm/icons/play.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/redo.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/send.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/square.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/type.js","../../node_modules/lucide-react/dist/esm/icons/undo.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/wand-2.js","../../node_modules/lucide-react/dist/esm/icons/workflow.js","../../node_modules/lucide-react/dist/esm/icons/wrench.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../node_modules/clsx/dist/clsx.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/lib/utils.ts","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/store/index.ts","../../src/components/Sidebar.tsx","../../src/lib/config.ts","../../src/lib/events/event-emitter.ts","../../src/lib/logging/thought-logger.ts","../../src/lib/errors/AppError.ts","../../src/lib/api/rate-limiter.ts","../../src/lib/api/api-client.ts","../../src/lib/agent-system.ts","../../src/hooks/useToast.ts","../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@radix-ui/react-compose-refs/dist/index.mjs","../../node_modules/@radix-ui/react-slot/dist/index.mjs","../../node_modules/@radix-ui/react-primitive/dist/index.mjs","../../node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs","../../node_modules/@radix-ui/react-presence/dist/index.mjs","../../node_modules/@radix-ui/react-context/dist/index.mjs","../../node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs","../../node_modules/@radix-ui/react-direction/dist/index.mjs","../../node_modules/@radix-ui/number/dist/index.mjs","../../node_modules/@radix-ui/primitive/dist/index.mjs","../../node_modules/@radix-ui/react-scroll-area/dist/index.mjs","../../src/components/ui/ScrollArea.tsx","../../node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","../../node_modules/framer-motion/dist/es/context/PresenceContext.mjs","../../node_modules/framer-motion/dist/es/utils/is-browser.mjs","../../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../../node_modules/framer-motion/dist/es/context/LazyContext.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","../../node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","../../node_modules/framer-motion/dist/es/utils/GlobalConfig.mjs","../../node_modules/framer-motion/dist/es/frameloop/render-step.mjs","../../node_modules/framer-motion/dist/es/frameloop/batcher.mjs","../../node_modules/framer-motion/dist/es/frameloop/microtask.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","../../node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","../../node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","../../node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","../../node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","../../node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","../../node_modules/framer-motion/dist/es/motion/features/definitions.mjs","../../node_modules/framer-motion/dist/es/motion/features/load-features.mjs","../../node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","../../node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","../../node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","../../node_modules/framer-motion/dist/es/motion/index.mjs","../../node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","../../node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","../../node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","../../node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","../../node_modules/framer-motion/dist/es/utils/clamp.mjs","../../node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","../../node_modules/framer-motion/dist/es/value/types/utils.mjs","../../node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","../../node_modules/framer-motion/dist/es/render/html/use-props.mjs","../../node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","../../node_modules/framer-motion/dist/es/render/svg/use-props.mjs","../../node_modules/framer-motion/dist/es/render/dom/use-render.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/render.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","../../node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","../../node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","../../node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","../../node_modules/framer-motion/dist/es/utils/use-constant.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../../node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","../../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","../../node_modules/framer-motion/dist/es/utils/noop.mjs","../../node_modules/framer-motion/dist/es/frameloop/frame.mjs","../../node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","../../node_modules/framer-motion/dist/es/render/html/config-motion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","../../node_modules/framer-motion/dist/es/events/add-dom-event.mjs","../../node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","../../node_modules/framer-motion/dist/es/events/event-info.mjs","../../node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","../../node_modules/framer-motion/dist/es/utils/pipe.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","../../node_modules/framer-motion/dist/es/motion/features/Feature.mjs","../../node_modules/framer-motion/dist/es/gestures/hover.mjs","../../node_modules/framer-motion/dist/es/gestures/focus.mjs","../../node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","../../node_modules/framer-motion/dist/es/gestures/press.mjs","../../node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","../../node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","../../node_modules/framer-motion/dist/es/motion/features/gestures.mjs","../../node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","../../node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","../../node_modules/framer-motion/dist/es/utils/errors.mjs","../../node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../../node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","../../node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../../node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","../../node_modules/framer-motion/dist/es/easing/ease.mjs","../../node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../../node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","../../node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","../../node_modules/framer-motion/dist/es/easing/circ.mjs","../../node_modules/framer-motion/dist/es/easing/back.mjs","../../node_modules/framer-motion/dist/es/easing/anticipate.mjs","../../node_modules/framer-motion/dist/es/easing/utils/map.mjs","../../node_modules/framer-motion/dist/es/value/types/color/utils.mjs","../../node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","../../node_modules/framer-motion/dist/es/value/types/color/hex.mjs","../../node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","../../node_modules/framer-motion/dist/es/value/types/color/index.mjs","../../node_modules/framer-motion/dist/es/utils/mix.mjs","../../node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../../node_modules/framer-motion/dist/es/utils/mix-color.mjs","../../node_modules/framer-motion/dist/es/value/types/complex/index.mjs","../../node_modules/framer-motion/dist/es/utils/mix-complex.mjs","../../node_modules/framer-motion/dist/es/utils/progress.mjs","../../node_modules/framer-motion/dist/es/utils/interpolate.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/default.mjs","../../node_modules/framer-motion/dist/es/utils/offsets/time.mjs","../../node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","../../node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","../../node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../../node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","../../node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","../../node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","../../node_modules/framer-motion/dist/es/frameloop/sync-time.mjs","../../node_modules/framer-motion/dist/es/animation/animators/js/driver-frameloop.mjs","../../node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","../../node_modules/framer-motion/dist/es/animation/animators/js/index.mjs","../../node_modules/framer-motion/dist/es/utils/memo.mjs","../../node_modules/framer-motion/dist/es/animation/animators/waapi/create-accelerated-animation.mjs","../../node_modules/framer-motion/dist/es/animation/animators/instant.mjs","../../node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../../node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../../node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","../../node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","../../node_modules/framer-motion/dist/es/animation/utils/keyframes.mjs","../../node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","../../node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","../../node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","../../node_modules/framer-motion/dist/es/utils/array.mjs","../../node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../../node_modules/framer-motion/dist/es/value/index.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","../../node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","../../node_modules/framer-motion/dist/es/render/utils/setters.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","../../node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","../../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","../../node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","../../node_modules/framer-motion/dist/es/motion/features/animations.mjs","../../node_modules/framer-motion/dist/es/utils/distance.mjs","../../node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/models.mjs","../../node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","../../node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","../../node_modules/framer-motion/dist/es/projection/utils/measure.mjs","../../node_modules/framer-motion/dist/es/utils/get-context-window.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","../../node_modules/framer-motion/dist/es/gestures/drag/index.mjs","../../node_modules/framer-motion/dist/es/gestures/pan/index.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","../../node_modules/framer-motion/dist/es/projection/node/state.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","../../node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","../../node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","../../node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","../../node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","../../node_modules/framer-motion/dist/es/projection/shared/stack.mjs","../../node_modules/framer-motion/dist/es/projection/styles/transform.mjs","../../node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","../../node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","../../node_modules/framer-motion/dist/es/utils/delay.mjs","../../node_modules/framer-motion/dist/es/debug/record.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","../../node_modules/framer-motion/dist/es/animation/interfaces/single-value.mjs","../../node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","../../node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","../../node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","../../node_modules/framer-motion/dist/es/motion/features/drag.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../../node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","../../node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","../../node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","../../node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","../../node_modules/framer-motion/dist/es/render/store.mjs","../../node_modules/framer-motion/dist/es/render/VisualElement.mjs","../../node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","../../node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","../../node_modules/framer-motion/dist/es/motion/features/layout.mjs","../../node_modules/framer-motion/dist/es/render/dom/motion.mjs","../../node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","../../node_modules/framer-motion/dist/es/utils/use-force-update.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../../node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../../node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs","../../node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs","../../node_modules/@radix-ui/react-id/dist/index.mjs","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../../node_modules/@radix-ui/react-arrow/dist/index.mjs","../../node_modules/@radix-ui/react-use-size/dist/index.mjs","../../node_modules/@radix-ui/react-popper/dist/index.mjs","../../node_modules/@radix-ui/react-portal/dist/index.mjs","../../node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs","../../node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../../node_modules/@radix-ui/react-tooltip/dist/index.mjs","../../src/components/ui/Tooltip.tsx","../../src/components/LoadingIndicator.tsx","../../node_modules/comma-separated-tokens/index.js","../../node_modules/estree-util-is-identifier-name/lib/index.js","../../node_modules/hast-util-whitespace/lib/index.js","../../node_modules/property-information/lib/util/schema.js","../../node_modules/property-information/lib/util/merge.js","../../node_modules/property-information/lib/normalize.js","../../node_modules/property-information/lib/util/info.js","../../node_modules/property-information/lib/util/types.js","../../node_modules/property-information/lib/util/defined-info.js","../../node_modules/property-information/lib/util/create.js","../../node_modules/property-information/lib/xlink.js","../../node_modules/property-information/lib/xml.js","../../node_modules/property-information/lib/util/case-sensitive-transform.js","../../node_modules/property-information/lib/util/case-insensitive-transform.js","../../node_modules/property-information/lib/xmlns.js","../../node_modules/property-information/lib/aria.js","../../node_modules/property-information/lib/html.js","../../node_modules/property-information/lib/svg.js","../../node_modules/property-information/lib/find.js","../../node_modules/property-information/lib/hast-to-react.js","../../node_modules/property-information/index.js","../../node_modules/space-separated-tokens/index.js","../../node_modules/inline-style-parser/index.js","../../node_modules/style-to-object/cjs/index.js","../../node_modules/style-to-object/esm/index.mjs","../../node_modules/unist-util-position/lib/index.js","../../node_modules/unist-util-stringify-position/lib/index.js","../../node_modules/vfile-message/lib/index.js","../../node_modules/hast-util-to-jsx-runtime/lib/index.js","../../node_modules/html-url-attributes/lib/index.js","../../node_modules/mdast-util-to-string/lib/index.js","../../node_modules/decode-named-character-reference/index.dom.js","../../node_modules/micromark-util-chunked/index.js","../../node_modules/micromark-util-combine-extensions/index.js","../../node_modules/micromark-util-decode-numeric-character-reference/index.js","../../node_modules/micromark-util-normalize-identifier/index.js","../../node_modules/micromark-util-character/index.js","../../node_modules/micromark-util-sanitize-uri/index.js","../../node_modules/micromark-factory-space/index.js","../../node_modules/micromark/lib/initialize/content.js","../../node_modules/micromark/lib/initialize/document.js","../../node_modules/micromark-util-classify-character/index.js","../../node_modules/micromark-util-resolve-all/index.js","../../node_modules/micromark-core-commonmark/lib/attention.js","../../node_modules/micromark-core-commonmark/lib/autolink.js","../../node_modules/micromark-core-commonmark/lib/blank-line.js","../../node_modules/micromark-core-commonmark/lib/block-quote.js","../../node_modules/micromark-core-commonmark/lib/character-escape.js","../../node_modules/micromark-core-commonmark/lib/character-reference.js","../../node_modules/micromark-core-commonmark/lib/code-fenced.js","../../node_modules/micromark-core-commonmark/lib/code-indented.js","../../node_modules/micromark-core-commonmark/lib/code-text.js","../../node_modules/micromark-util-subtokenize/lib/splice-buffer.js","../../node_modules/micromark-util-subtokenize/index.js","../../node_modules/micromark-core-commonmark/lib/content.js","../../node_modules/micromark-factory-destination/index.js","../../node_modules/micromark-factory-label/index.js","../../node_modules/micromark-factory-title/index.js","../../node_modules/micromark-factory-whitespace/index.js","../../node_modules/micromark-core-commonmark/lib/definition.js","../../node_modules/micromark-core-commonmark/lib/hard-break-escape.js","../../node_modules/micromark-core-commonmark/lib/heading-atx.js","../../node_modules/micromark-util-html-tag-name/index.js","../../node_modules/micromark-core-commonmark/lib/html-flow.js","../../node_modules/micromark-core-commonmark/lib/html-text.js","../../node_modules/micromark-core-commonmark/lib/label-end.js","../../node_modules/micromark-core-commonmark/lib/label-start-image.js","../../node_modules/micromark-core-commonmark/lib/label-start-link.js","../../node_modules/micromark-core-commonmark/lib/line-ending.js","../../node_modules/micromark-core-commonmark/lib/thematic-break.js","../../node_modules/micromark-core-commonmark/lib/list.js","../../node_modules/micromark-core-commonmark/lib/setext-underline.js","../../node_modules/micromark/lib/initialize/flow.js","../../node_modules/micromark/lib/initialize/text.js","../../node_modules/micromark/lib/constructs.js","../../node_modules/micromark/lib/create-tokenizer.js","../../node_modules/micromark/lib/parse.js","../../node_modules/micromark/lib/postprocess.js","../../node_modules/micromark/lib/preprocess.js","../../node_modules/micromark-util-decode-string/index.js","../../node_modules/mdast-util-from-markdown/lib/index.js","../../node_modules/remark-parse/lib/index.js","../../node_modules/mdast-util-to-hast/lib/handlers/blockquote.js","../../node_modules/mdast-util-to-hast/lib/handlers/break.js","../../node_modules/mdast-util-to-hast/lib/handlers/code.js","../../node_modules/mdast-util-to-hast/lib/handlers/delete.js","../../node_modules/mdast-util-to-hast/lib/handlers/emphasis.js","../../node_modules/mdast-util-to-hast/lib/handlers/footnote-reference.js","../../node_modules/mdast-util-to-hast/lib/handlers/heading.js","../../node_modules/mdast-util-to-hast/lib/handlers/html.js","../../node_modules/mdast-util-to-hast/lib/revert.js","../../node_modules/mdast-util-to-hast/lib/handlers/image-reference.js","../../node_modules/mdast-util-to-hast/lib/handlers/image.js","../../node_modules/mdast-util-to-hast/lib/handlers/inline-code.js","../../node_modules/mdast-util-to-hast/lib/handlers/link-reference.js","../../node_modules/mdast-util-to-hast/lib/handlers/link.js","../../node_modules/mdast-util-to-hast/lib/handlers/list-item.js","../../node_modules/mdast-util-to-hast/lib/handlers/list.js","../../node_modules/mdast-util-to-hast/lib/handlers/paragraph.js","../../node_modules/mdast-util-to-hast/lib/handlers/root.js","../../node_modules/mdast-util-to-hast/lib/handlers/strong.js","../../node_modules/mdast-util-to-hast/lib/handlers/table.js","../../node_modules/mdast-util-to-hast/lib/handlers/table-row.js","../../node_modules/mdast-util-to-hast/lib/handlers/table-cell.js","../../node_modules/trim-lines/index.js","../../node_modules/mdast-util-to-hast/lib/handlers/text.js","../../node_modules/mdast-util-to-hast/lib/handlers/thematic-break.js","../../node_modules/mdast-util-to-hast/lib/handlers/index.js","../../node_modules/@ungap/structured-clone/esm/types.js","../../node_modules/@ungap/structured-clone/esm/deserialize.js","../../node_modules/@ungap/structured-clone/esm/serialize.js","../../node_modules/@ungap/structured-clone/esm/index.js","../../node_modules/mdast-util-to-hast/lib/footer.js","../../node_modules/unist-util-is/lib/index.js","../../node_modules/unist-util-visit-parents/lib/index.js","../../node_modules/unist-util-visit/lib/index.js","../../node_modules/mdast-util-to-hast/lib/state.js","../../node_modules/mdast-util-to-hast/lib/index.js","../../node_modules/remark-rehype/lib/index.js","../../node_modules/bail/index.js","../../node_modules/extend/index.js","../../node_modules/is-plain-obj/index.js","../../node_modules/trough/lib/index.js","../../node_modules/vfile/lib/minpath.browser.js","../../node_modules/vfile/lib/minproc.browser.js","../../node_modules/vfile/lib/minurl.shared.js","../../node_modules/vfile/lib/minurl.browser.js","../../node_modules/vfile/lib/index.js","../../node_modules/unified/lib/callable-instance.js","../../node_modules/unified/lib/index.js","../../node_modules/react-markdown/lib/index.js","../../node_modules/ccount/index.js","../../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../../node_modules/mdast-util-find-and-replace/lib/index.js","../../node_modules/mdast-util-gfm-autolink-literal/lib/index.js","../../node_modules/mdast-util-gfm-footnote/lib/index.js","../../node_modules/mdast-util-gfm-strikethrough/lib/index.js","../../node_modules/markdown-table/index.js","../../node_modules/zwitch/index.js","../../node_modules/mdast-util-to-markdown/lib/handle/blockquote.js","../../node_modules/mdast-util-to-markdown/lib/util/pattern-in-scope.js","../../node_modules/mdast-util-to-markdown/lib/handle/break.js","../../node_modules/longest-streak/index.js","../../node_modules/mdast-util-to-markdown/lib/util/format-code-as-indented.js","../../node_modules/mdast-util-to-markdown/lib/util/check-fence.js","../../node_modules/mdast-util-to-markdown/lib/handle/code.js","../../node_modules/mdast-util-to-markdown/lib/util/check-quote.js","../../node_modules/mdast-util-to-markdown/lib/handle/definition.js","../../node_modules/mdast-util-to-markdown/lib/util/check-emphasis.js","../../node_modules/mdast-util-to-markdown/lib/util/encode-character-reference.js","../../node_modules/mdast-util-to-markdown/lib/util/encode-info.js","../../node_modules/mdast-util-to-markdown/lib/handle/emphasis.js","../../node_modules/mdast-util-to-markdown/lib/util/format-heading-as-setext.js","../../node_modules/mdast-util-to-markdown/lib/handle/heading.js","../../node_modules/mdast-util-to-markdown/lib/handle/html.js","../../node_modules/mdast-util-to-markdown/lib/handle/image.js","../../node_modules/mdast-util-to-markdown/lib/handle/image-reference.js","../../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../../node_modules/mdast-util-to-markdown/lib/util/format-link-as-autolink.js","../../node_modules/mdast-util-to-markdown/lib/handle/link.js","../../node_modules/mdast-util-to-markdown/lib/handle/link-reference.js","../../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../../node_modules/mdast-util-to-markdown/lib/util/check-bullet-other.js","../../node_modules/mdast-util-to-markdown/lib/util/check-bullet-ordered.js","../../node_modules/mdast-util-to-markdown/lib/util/check-rule.js","../../node_modules/mdast-util-to-markdown/lib/handle/list.js","../../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../../node_modules/mdast-util-to-markdown/lib/handle/paragraph.js","../../node_modules/mdast-util-phrasing/lib/index.js","../../node_modules/mdast-util-to-markdown/lib/handle/root.js","../../node_modules/mdast-util-to-markdown/lib/util/check-strong.js","../../node_modules/mdast-util-to-markdown/lib/handle/strong.js","../../node_modules/mdast-util-to-markdown/lib/handle/text.js","../../node_modules/mdast-util-to-markdown/lib/util/check-rule-repetition.js","../../node_modules/mdast-util-to-markdown/lib/handle/thematic-break.js","../../node_modules/mdast-util-to-markdown/lib/handle/index.js","../../node_modules/mdast-util-gfm-table/lib/index.js","../../node_modules/mdast-util-gfm-task-list-item/lib/index.js","../../node_modules/mdast-util-gfm/lib/index.js","../../node_modules/micromark-extension-gfm-autolink-literal/lib/syntax.js","../../node_modules/micromark-extension-gfm-footnote/lib/syntax.js","../../node_modules/micromark-extension-gfm-strikethrough/lib/syntax.js","../../node_modules/micromark-extension-gfm-table/lib/edit-map.js","../../node_modules/micromark-extension-gfm-table/lib/infer.js","../../node_modules/micromark-extension-gfm-table/lib/syntax.js","../../node_modules/micromark-extension-gfm-task-list-item/lib/syntax.js","../../node_modules/micromark-extension-gfm/index.js","../../node_modules/remark-gfm/lib/index.js","../../node_modules/hast-util-parse-selector/lib/index.js","../../node_modules/hastscript/lib/create-h.js","../../node_modules/hastscript/lib/svg-case-sensitive-tag-names.js","../../node_modules/hastscript/lib/index.js","../../node_modules/vfile-location/lib/index.js","../../node_modules/web-namespaces/index.js","../../node_modules/hast-util-from-parse5/lib/index.js","../../node_modules/hast-util-to-parse5/lib/index.js","../../node_modules/html-void-elements/index.js","../../node_modules/parse5/dist/common/unicode.js","../../node_modules/parse5/dist/common/error-codes.js","../../node_modules/parse5/dist/tokenizer/preprocessor.js","../../node_modules/parse5/dist/common/token.js","../../node_modules/entities/lib/esm/generated/decode-data-html.js","../../node_modules/entities/lib/esm/generated/decode-data-xml.js","../../node_modules/entities/lib/esm/decode_codepoint.js","../../node_modules/entities/lib/esm/decode.js","../../node_modules/parse5/dist/common/html.js","../../node_modules/parse5/dist/tokenizer/index.js","../../node_modules/parse5/dist/parser/open-element-stack.js","../../node_modules/parse5/dist/parser/formatting-element-list.js","../../node_modules/parse5/dist/tree-adapters/default.js","../../node_modules/parse5/dist/common/doctype.js","../../node_modules/parse5/dist/common/foreign-content.js","../../node_modules/parse5/dist/parser/index.js","../../node_modules/parse5/dist/serializer/index.js","../../node_modules/hast-util-raw/lib/index.js","../../node_modules/rehype-raw/lib/index.js","../../src/components/MarkdownContent.tsx","../../src/hooks/useLocalStorage.ts","../../src/context/SettingsContext.tsx","../../src/components/Chat.tsx","../../src/components/canvas/CanvasPrompt.tsx","../../src/components/canvas/CanvasToolbar.tsx","../../src/components/canvas/CanvasProperties.tsx","../../src/lib/canvas/canvas-manager.ts","../../src/lib/config/models.ts","../../src/lib/routing/model-router.ts","../../src/lib/canvas/ai-designer.ts","../../src/components/panels/CanvasPanel.tsx","../../src/lib/agents/core/message-queue.ts","../../src/lib/agents/core/base-agent.ts","../../src/lib/routing/router.ts","../../src/lib/errors/ErrorHandler.ts","../../src/lib/agents/primary-agent.ts","../../src/lib/tools/web-data-tools.ts","../../src/lib/agents/specialist-agent.ts","../../src/lib/agents/task-agent.ts","../../src/lib/agents/core/agent-registry.ts","../../src/lib/memory/vector-store.ts","../../src/lib/storage/indexed-db.ts","../../src/lib/memory/memory-manager.ts","../../node_modules/@huggingface/inference/dist/index.js","../../src/lib/api/qwen-api.ts","../../src/lib/agents/code-agent.ts","../../src/lib/agents/agent-system.ts","../../src/components/panels/AgentPanel.tsx","../../src/components/competitor-analysis/AnalysisParameters.tsx","../../src/components/competitor-analysis/AnalysisDashboard.tsx","../../src/components/competitor-analysis/AnalysisReport.tsx","../../src/components/competitor-analysis/ComparisonMatrix.tsx","../../src/components/competitor-analysis/StrategicInsights.tsx","../../src/lib/services/github-service.ts","../../src/lib/tools/github-tools.ts","../../src/lib/tools/competitor-analysis.ts","../../src/lib/tools/tool-registry.ts","../../src/hooks/useCompetitorAnalysis.ts","../../src/components/competitor-analysis/CompetitorAnalysis.tsx","../../src/components/panels/ToolsPanel.tsx","../../node_modules/date-fns/toDate.mjs","../../node_modules/date-fns/constants.mjs","../../node_modules/date-fns/_lib/defaultOptions.mjs","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../../node_modules/date-fns/compareAsc.mjs","../../node_modules/date-fns/differenceInCalendarMonths.mjs","../../node_modules/date-fns/_lib/getRoundingMethod.mjs","../../node_modules/date-fns/differenceInMilliseconds.mjs","../../node_modules/date-fns/endOfDay.mjs","../../node_modules/date-fns/endOfMonth.mjs","../../node_modules/date-fns/isLastDayOfMonth.mjs","../../node_modules/date-fns/differenceInMonths.mjs","../../node_modules/date-fns/differenceInSeconds.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/match.mjs","../../node_modules/date-fns/locale/en-US.mjs","../../node_modules/date-fns/formatDistance.mjs","../../node_modules/date-fns/formatDistanceToNow.mjs","../../src/components/DocumentList.tsx","../../src/lib/documents/vector-store.ts","../../src/lib/documents/auto-tagger.ts","../../src/lib/documents/document-manager.ts","../../src/components/DocumentUpload.tsx","../../src/components/panels/DocumentPanel.tsx","../../src/lib/search/moa.ts","../../src/lib/search/rag-processor.ts","../../src/lib/api/perplexity.ts","../../src/lib/api/tavily.ts","../../src/lib/api/google-search.ts","../../src/lib/api/serp.ts","../../src/services/search-service.ts","../../src/context/SearchContext.tsx","../../src/components/SearchResults.tsx","../../src/components/panels/SearchPanel.tsx","../../src/components/SaveButton.tsx","../../src/components/panels/settings/APISettings.tsx","../../src/components/Toggle.tsx","../../src/components/panels/settings/PerformanceSettings.tsx","../../src/components/panels/settings/MemorySettings.tsx","../../src/components/panels/settings/NotificationSettings.tsx","../../src/components/panels/settings/SettingsSection.tsx","../../src/components/panels/settings/ModelSettings.tsx","../../src/components/panels/settings/WorkflowSettings.tsx","../../src/components/panels/SettingsPanel.tsx","../../src/components/MainContent.tsx","../../src/components/LoggingSidebar.tsx","../../src/components/Layout.tsx","../../node_modules/@radix-ui/react-collection/dist/index.mjs","../../node_modules/@radix-ui/react-toast/dist/index.mjs","../../src/providers/ToastProvider.tsx","../../src/providers/ConfigProvider.tsx","../../src/components/ErrorBoundary.tsx","../../node_modules/universal-user-agent/dist-web/index.js","../../node_modules/before-after-hook/lib/register.js","../../node_modules/before-after-hook/lib/add.js","../../node_modules/before-after-hook/lib/remove.js","../../node_modules/before-after-hook/index.js","../../node_modules/@octokit/endpoint/dist-web/index.js","../../node_modules/deprecation/dist-web/index.js","../../node_modules/wrappy/wrappy.js","../../node_modules/once/once.js","../../node_modules/@octokit/request-error/dist-web/index.js","../../node_modules/@octokit/request/dist-web/index.js","../../node_modules/@octokit/graphql/dist-web/index.js","../../node_modules/@octokit/auth-token/dist-web/index.js","../../node_modules/@octokit/core/dist-web/index.js","../../node_modules/@octokit/plugin-request-log/dist-web/index.js","../../node_modules/@octokit/plugin-paginate-rest/dist-web/index.js","../../node_modules/@octokit/plugin-rest-endpoint-methods/dist-web/index.js","../../node_modules/@octokit/rest/dist-web/index.js","../../src/lib/github/github-client.ts","../../src/lib/github/codespace-client.ts","../../src/lib/system/code-awareness.ts","../../src/lib/system/system-initializer.ts","../../src/lib/services/search-service.ts","../../src/lib/initialize.ts","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({\n      color = \"currentColor\",\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = \"\",\n      children,\n      ...rest\n    }, ref) => {\n      return createElement(\n        \"svg\",\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n          ...rest\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...Array.isArray(children) ? children : [children]\n        ]\n      );\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",\n      key: \"l5xja\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",\n      key: \"ep3f8r\"\n    }\n  ],\n  [\"path\", { d: \"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\", key: \"1p4c4q\" }],\n  [\"path\", { d: \"M17.599 6.5a3 3 0 0 0 .399-1.375\", key: \"tmeiqw\" }],\n  [\"path\", { d: \"M6.003 5.125A3 3 0 0 0 6.401 6.5\", key: \"105sqy\" }],\n  [\"path\", { d: \"M3.477 10.896a4 4 0 0 1 .585-.396\", key: \"ql3yin\" }],\n  [\"path\", { d: \"M19.938 10.5a4 4 0 0 1 .585.396\", key: \"1qfode\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-1.967-.516\", key: \"2e4loj\" }],\n  [\"path\", { d: \"M19.967 17.484A4 4 0 0 1 18 18\", key: \"159ez6\" }]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calculator = createLucideIcon(\"Calculator\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", key: \"1nb95v\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"6\", y2: \"6\", key: \"x4nwl0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"14\", y2: \"18\", key: \"wjye3r\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }],\n  [\"path\", { d: \"M8 18h.01\", key: \"lrp35t\" }]\n]);\n\nexport { Calculator as default };\n//# sourceMappingURL=calculator.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Code = createLucideIcon(\"Code\", [\n  [\"polyline\", { points: \"16 18 22 12 16 6\", key: \"z7tu5w\" }],\n  [\"polyline\", { points: \"8 6 2 12 8 18\", key: \"1eg1df\" }]\n]);\n\nexport { Code as default };\n//# sourceMappingURL=code.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Database = createLucideIcon(\"Database\", [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n]);\n\nexport { Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Grid3x3 = createLucideIcon(\"Grid3x3\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n]);\n\nexport { Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lightbulb = createLucideIcon(\"Lightbulb\", [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n]);\n\nexport { Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst List = createLucideIcon(\"List\", [\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"6\", y2: \"6\", key: \"7ey8pc\" }],\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"12\", y2: \"12\", key: \"rjfblc\" }],\n  [\"line\", { x1: \"8\", x2: \"21\", y1: \"18\", y2: \"18\", key: \"c3b1m8\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"6\", y2: \"6\", key: \"1g7gq3\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"12\", y2: \"12\", key: \"1pjlvk\" }],\n  [\"line\", { x1: \"3\", x2: \"3.01\", y1: \"18\", y2: \"18\", key: \"28t2mc\" }]\n]);\n\nexport { List as default };\n//# sourceMappingURL=list.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageSquare = createLucideIcon(\"MessageSquare\", [\n  [\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\", key: \"1lielz\" }]\n]);\n\nexport { MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Minus = createLucideIcon(\"Minus\", [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]]);\n\nexport { Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MousePointer = createLucideIcon(\"MousePointer\", [\n  [\"path\", { d: \"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z\", key: \"y2ucgo\" }],\n  [\"path\", { d: \"m13 13 6 6\", key: \"1nhxnf\" }]\n]);\n\nexport { MousePointer as default };\n//# sourceMappingURL=mouse-pointer.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Paintbrush = createLucideIcon(\"Paintbrush\", [\n  [\n    \"path\",\n    {\n      d: \"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z\",\n      key: \"m6k5sh\"\n    }\n  ],\n  [\"path\", { d: \"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7\", key: \"arzq70\" }],\n  [\"path\", { d: \"M14.5 17.5 4.5 15\", key: \"s7fvrz\" }]\n]);\n\nexport { Paintbrush as default };\n//# sourceMappingURL=paintbrush.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pause = createLucideIcon(\"Pause\", [\n  [\"rect\", { width: \"4\", height: \"16\", x: \"6\", y: \"4\", key: \"iffhe4\" }],\n  [\"rect\", { width: \"4\", height: \"16\", x: \"14\", y: \"4\", key: \"sjin7j\" }]\n]);\n\nexport { Pause as default };\n//# sourceMappingURL=pause.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pencil = createLucideIcon(\"Pencil\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"5 3 19 12 5 21 5 3\", key: \"191637\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Redo = createLucideIcon(\"Redo\", [\n  [\"path\", { d: \"M21 7v6h-6\", key: \"3ptur4\" }],\n  [\"path\", { d: \"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7\", key: \"1kgawr\" }]\n]);\n\nexport { Redo as default };\n//# sourceMappingURL=redo.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\"path\", { d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\", key: \"1owoqh\" }],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\"path\", { d: \"m22 2-7 20-4-9-9-4Z\", key: \"1q3vgg\" }],\n  [\"path\", { d: \"M22 2 11 13\", key: \"nzbqef\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SlidersHorizontal = createLucideIcon(\"SlidersHorizontal\", [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n]);\n\nexport { SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\",\n      key: \"17u4zn\"\n    }\n  ],\n  [\"path\", { d: \"M5 3v4\", key: \"bklmnn\" }],\n  [\"path\", { d: \"M19 17v4\", key: \"iiml17\" }],\n  [\"path\", { d: \"M3 5h4\", key: \"nem4j1\" }],\n  [\"path\", { d: \"M17 19h4\", key: \"lbex7p\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Square = createLucideIcon(\"Square\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n]);\n\nexport { Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tag = createLucideIcon(\"Tag\", [\n  [\n    \"path\",\n    {\n      d: \"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"vktsd0\"\n    }\n  ],\n  [\"circle\", { cx: \"7.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"kqv944\" }]\n]);\n\nexport { Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Type = createLucideIcon(\"Type\", [\n  [\"polyline\", { points: \"4 7 4 4 20 4 20 7\", key: \"1nosan\" }],\n  [\"line\", { x1: \"9\", x2: \"15\", y1: \"20\", y2: \"20\", key: \"swin9y\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"4\", y2: \"20\", key: \"1tx1rr\" }]\n]);\n\nexport { Type as default };\n//# sourceMappingURL=type.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Undo = createLucideIcon(\"Undo\", [\n  [\"path\", { d: \"M3 7v6h6\", key: \"1v2h90\" }],\n  [\"path\", { d: \"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13\", key: \"1r6uu6\" }]\n]);\n\nexport { Undo as default };\n//# sourceMappingURL=undo.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wand2 = createLucideIcon(\"Wand2\", [\n  [\n    \"path\",\n    {\n      d: \"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z\",\n      key: \"1bcowg\"\n    }\n  ],\n  [\"path\", { d: \"m14 7 3 3\", key: \"1r5n42\" }],\n  [\"path\", { d: \"M5 6v4\", key: \"ilb8ba\" }],\n  [\"path\", { d: \"M19 14v4\", key: \"blhpug\" }],\n  [\"path\", { d: \"M10 2v2\", key: \"7u0qdc\" }],\n  [\"path\", { d: \"M7 8H3\", key: \"zfb6yr\" }],\n  [\"path\", { d: \"M21 16h-4\", key: \"1cnmox\" }],\n  [\"path\", { d: \"M11 3H9\", key: \"1obp7u\" }]\n]);\n\nexport { Wand2 as default };\n//# sourceMappingURL=wand-2.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Workflow = createLucideIcon(\"Workflow\", [\n  [\"rect\", { width: \"8\", height: \"8\", x: \"3\", y: \"3\", rx: \"2\", key: \"by2w9f\" }],\n  [\"path\", { d: \"M7 11v4a2 2 0 0 0 2 2h4\", key: \"xkn7yn\" }],\n  [\"rect\", { width: \"8\", height: \"8\", x: \"13\", y: \"13\", rx: \"2\", key: \"1cgmvn\" }]\n]);\n\nexport { Workflow as default };\n//# sourceMappingURL=workflow.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wrench = createLucideIcon(\"Wrench\", [\n  [\n    \"path\",\n    {\n      d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\",\n      key: \"cbrjhi\"\n    }\n  ]\n]);\n\nexport { Wrench as default };\n//# sourceMappingURL=wrench.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\"polygon\", { points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\", key: \"45s27k\" }]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nfunction createClassUtils(config) {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  function getClassGroupId(className) {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  }\n  function getConflictingClassGroupIds(classGroupId, hasPostfixModifier) {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  }\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n}\nfunction getGroupRecursive(classParts, classPartObject) {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n}\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nfunction getGroupIdForArbitraryProperty(className) {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n}\n/**\n * Exported for testing only\n */\nfunction createClassMap(config) {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n}\nfunction processClassesRecursively(classGroup, classPartObject, classGroupId, theme) {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n}\nfunction getPart(classPartObject, path) {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n}\nfunction isThemeGetter(func) {\n  return func.isThemeGetter;\n}\nfunction getPrefixedClassGroupEntries(classGroupEntries, prefix) {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n}\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nfunction createLruCache(maxCacheSize) {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  function update(key, value) {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  }\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n}\nconst IMPORTANT_MODIFIER = '!';\nfunction createSplitModifiers(config) {\n  const separator = config.separator;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // splitModifiers inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  return function splitModifiers(className) {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n}\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nfunction sortModifiers(modifiers) {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n}\nfunction createConfigUtils(config) {\n  return {\n    cache: createLruCache(config.cacheSize),\n    splitModifiers: createSplitModifiers(config),\n    ...createClassUtils(config)\n  };\n}\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nfunction mergeClassList(classList, configUtils) {\n  const {\n    splitModifiers,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = new Set();\n  return classList.trim().split(SPLIT_CLASSES_REGEX).map(originalClassName => {\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = splitModifiers(originalClassName);\n    let classGroupId = getClassGroupId(maybePostfixModifierPosition ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    if (!classGroupId) {\n      if (!maybePostfixModifierPosition) {\n        return {\n          isTailwindClass: false,\n          originalClassName\n        };\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        return {\n          isTailwindClass: false,\n          originalClassName\n        };\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    return {\n      isTailwindClass: true,\n      modifierId,\n      classGroupId,\n      originalClassName,\n      hasPostfixModifier\n    };\n  }).reverse()\n  // Last class in conflict wins, so we need to filter conflicting classes in reverse order.\n  .filter(parsed => {\n    if (!parsed.isTailwindClass) {\n      return true;\n    }\n    const {\n      modifierId,\n      classGroupId,\n      hasPostfixModifier\n    } = parsed;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.has(classId)) {\n      return false;\n    }\n    classGroupsInConflict.add(classId);\n    getConflictingClassGroupIds(classGroupId, hasPostfixModifier).forEach(group => classGroupsInConflict.add(modifierId + group));\n    return true;\n  }).reverse().map(parsed => parsed.originalClassName).join(' ');\n}\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nfunction toValue(mix) {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nfunction fromTheme(key) {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n}\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore\nconst shadowRegex = /^-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nfunction isLength(value) {\n  return isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\n}\nfunction isArbitraryLength(value) {\n  return getIsArbitraryValue(value, 'length', isLengthOnly);\n}\nfunction isNumber(value) {\n  return Boolean(value) && !Number.isNaN(Number(value));\n}\nfunction isArbitraryNumber(value) {\n  return getIsArbitraryValue(value, 'number', isNumber);\n}\nfunction isInteger(value) {\n  return Boolean(value) && Number.isInteger(Number(value));\n}\nfunction isPercent(value) {\n  return value.endsWith('%') && isNumber(value.slice(0, -1));\n}\nfunction isArbitraryValue(value) {\n  return arbitraryValueRegex.test(value);\n}\nfunction isTshirtSize(value) {\n  return tshirtUnitRegex.test(value);\n}\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nfunction isArbitrarySize(value) {\n  return getIsArbitraryValue(value, sizeLabels, isNever);\n}\nfunction isArbitraryPosition(value) {\n  return getIsArbitraryValue(value, 'position', isNever);\n}\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nfunction isArbitraryImage(value) {\n  return getIsArbitraryValue(value, imageLabels, isImage);\n}\nfunction isArbitraryShadow(value) {\n  return getIsArbitraryValue(value, '', isShadow);\n}\nfunction isAny() {\n  return true;\n}\nfunction getIsArbitraryValue(value, label, testValue) {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n}\nfunction isLengthOnly(value) {\n  // `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n  // For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n  // I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\n  return lengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\n}\nfunction isNever() {\n  return false;\n}\nfunction isShadow(value) {\n  return shadowRegex.test(value);\n}\nfunction isImage(value) {\n  return imageRegex.test(value);\n}\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nfunction getDefaultConfig() {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity', 'plus-lighter'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumber = () => [isNumber, isArbitraryNumber];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumber(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumber(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumber(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumber(),\n      scale: getNumber(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractons'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': getBlendModes()\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n}\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nfunction mergeConfigs(baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  extend = {},\n  override = {}\n}) {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n}\nfunction overrideProperty(baseObject, overrideKey, overrideValue) {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n}\nfunction overrideConfigProperties(baseObject, overrideObject) {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n}\nfunction mergeConfigProperties(baseObject, mergeObject) {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n}\nfunction extendTailwindMerge(configExtension, ...createConfig) {\n  return typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\n}\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api)\n    return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording)\n      return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools)\n              return;\n            if (typeof api.dispatch !== \"function\")\n              return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState)\n              return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0)\n    f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ninterface StoreState {\n  activeView: 'chat' | 'canvas' | 'agent' | 'tools' | 'documents' | 'search' | 'settings';\n  settingsPanelOpen: boolean;\n  sidebarOpen: boolean;\n  loggingOpen: boolean;\n  theme: 'light' | 'dark' | 'system';\n  apiKeys: {\n    xai: string;\n    groq: string;\n    perplexity: string;\n    huggingface: string;\n    github: string;\n    tavily: string;\n  };\n  logs: Array<{\n    type: 'error' | 'warning' | 'info' | 'success';\n    message: string;\n    timestamp: number;\n    details?: any;\n  }>;\n  setActiveView: (view: StoreState['activeView']) => void;\n  setSettingsPanelOpen: (open: boolean) => void;\n  setSidebarOpen: (open: boolean) => void;\n  setLoggingOpen: (open: boolean) => void;\n  setTheme: (theme: StoreState['theme']) => void;\n  setApiKey: (provider: keyof StoreState['apiKeys'], key: string) => void;\n  addLog: (log: Omit<StoreState['logs'][number], 'timestamp'>) => void;\n  clearLogs: () => void;\n}\n\nexport const useStore = create<StoreState>()(\n  persist(\n    (set) => ({\n      activeView: 'chat',\n      settingsPanelOpen: false,\n      sidebarOpen: true,\n      loggingOpen: true,\n      theme: 'system',\n      apiKeys: {\n        xai: '',\n        groq: '',\n        perplexity: '',\n        huggingface: '',\n        github: '',\n        tavily: ''\n      },\n      logs: [],\n      setActiveView: (view) => set({ activeView: view }),\n      setSettingsPanelOpen: (open) => set({ settingsPanelOpen: open }),\n      setSidebarOpen: (open) => set({ sidebarOpen: open }),\n      setLoggingOpen: (open) => set({ loggingOpen: open }),\n      setTheme: (theme) => set({ theme }),\n      setApiKey: (provider, key) => set((state) => ({\n        apiKeys: { ...state.apiKeys, [provider]: key }\n      })),\n      addLog: (log) => set((state) => ({\n        logs: [...state.logs, { ...log, timestamp: Date.now() }]\n      })),\n      clearLogs: () => set({ logs: [] }),\n    }),\n    {\n      name: 'app-storage',\n      partialize: (state) => ({\n        theme: state.theme,\n        apiKeys: state.apiKeys,\n        sidebarOpen: state.sidebarOpen,\n        loggingOpen: state.loggingOpen\n      }),\n    }\n  )\n);","import React from 'react';\nimport { MessageSquare, Paintbrush, Brain, Wrench, FileText, Settings, Search } from 'lucide-react';\nimport { cn } from '../lib/utils';\nimport { useStore } from '../store';\n\nexport function Sidebar() {\n  const { activeView, setActiveView } = useStore();\n\n  const navItems = [\n    { id: 'chat', icon: MessageSquare, label: 'Chat', primary: true },\n    { id: 'canvas', icon: Paintbrush, label: 'Canvas' },\n    { id: 'agent', icon: Brain, label: 'Agent' },\n    { id: 'tools', icon: Wrench, label: 'Tools' },\n    { id: 'documents', icon: FileText, label: 'Documents' },\n    { id: 'search', icon: Search, label: 'Search' },\n    { id: 'settings', icon: Settings, label: 'Settings' }\n  ] as const;\n\n  return (\n    <div className=\"w-64 bg-background border-r border-border flex flex-col\">\n      <div className=\"flex-1 py-2 space-y-1\">\n        {navItems.map((item) => {\n          const Icon = item.icon;\n          return (\n            <button\n              key={item.id}\n              onClick={() => setActiveView(item.id)}\n              className={cn(\n                'w-full flex items-center space-x-3 px-3 py-2 text-sm transition-colors',\n                activeView === item.id\n                  ? item.primary \n                    ? 'bg-primary text-primary-foreground'\n                    : 'bg-secondary text-secondary-foreground'\n                  : 'text-muted-foreground hover:text-foreground hover:bg-secondary'\n              )}\n            >\n              <Icon className=\"w-5 h-5\" />\n              <span>{item.label}</span>\n            </button>\n          );\n        })}\n      </div>\n\n      <div className=\"p-4 border-t border-border\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-2 h-2 bg-green-400 rounded-full\" />\n          <span className=\"text-sm text-muted-foreground\">System Online</span>\n        </div>\n      </div>\n    </div>\n  );\n}","import { XAI_CONFIG } from './config';\n\n// API Keys\nexport const PERPLEXITY_API_KEY = import.meta.env.VITE_PERPLEXITY_API_KEY || '';\nexport const GOOGLE_API_KEY = import.meta.env.VITE_GOOGLE_API_KEY || '';\nexport const SERP_API_KEY = import.meta.env.VITE_SERP_API_KEY || '';\nexport const XAI_API_KEY = import.meta.env.VITE_XAI_API_KEY || '';\nexport const GROQ_API_KEY = import.meta.env.VITE_GROQ_API_KEY || '';\nexport const HUGGINGFACE_TOKEN = import.meta.env.VITE_HUGGINGFACE_TOKEN || '';\n\n// API Configuration\nexport const config = {\n  apiKeys: {\n    perplexity: PERPLEXITY_API_KEY,\n    google: GOOGLE_API_KEY,\n    serp: SERP_API_KEY,\n    xai: XAI_API_KEY,\n    groq: GROQ_API_KEY,\n    huggingface: HUGGINGFACE_TOKEN\n  },\n  services: {\n    perplexity: {\n      baseUrl: 'https://api.perplexity.ai',\n      defaultModel: 'llama-3.1-sonar-large-128k-online',\n      maxTokens: 2048,\n      temperature: 0.7\n    },\n    google: {\n      baseUrl: 'https://www.googleapis.com/customsearch/v1',\n      searchEngineId: 'AIzaSyBYnK6ckkX8gW_Qs4vYGKn2uvd3GyVIooU',\n      resultsPerPage: 5\n    },\n    serp: {\n      baseUrl: 'https://serpapi.com/search',\n      resultsPerPage: 5\n    },\n    xai: {\n      baseUrl: 'https://api.x.ai/v1',\n      defaultModel: 'grok-beta',\n      maxTokens: 1024,\n      temperature: 0.7\n    },\n    groq: {\n      baseUrl: 'https://api.groq.com/openai/v1',\n      models: {\n        small: 'llama-3.2-3b-preview',\n        medium: 'llama-3.2-7b-preview',\n        large: 'llama-3.2-70b-preview',\n        toolUse: 'llama-3.2-70b-tool-use'\n      },\n      maxTokens: 4096,\n      temperature: 0.7\n    }\n  },\n  features: {\n    enableSearch: true,\n    enableMemory: true,\n    enableStreaming: true,\n    enableDebugMode: false\n  }\n} as const;","type EventCallback = (...args: any[]) => void;\n\nexport class EventEmitter {\n  private events: { [key: string]: EventCallback[] } = {};\n\n  on(event: string, callback: EventCallback): void {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n    this.events[event].push(callback);\n  }\n\n  off(event: string, callback: EventCallback): void {\n    if (!this.events[event]) return;\n    this.events[event] = this.events[event].filter(cb => cb !== callback);\n  }\n\n  emit(event: string, ...args: any[]): void {\n    if (!this.events[event]) return;\n    this.events[event].forEach(callback => callback(...args));\n  }\n\n  once(event: string, callback: EventCallback): void {\n    const wrapper = (...args: any[]) => {\n      callback(...args);\n      this.off(event, wrapper);\n    };\n    this.on(event, wrapper);\n  }\n\n  removeAllListeners(event?: string): void {\n    if (event) {\n      delete this.events[event];\n    } else {\n      this.events = {};\n    }\n  }\n}","import { EventEmitter } from '../events/event-emitter';\n\nexport type ThoughtType = \n  | 'observation'  // For recording facts and events\n  | 'reasoning'    // For logical deductions\n  | 'plan'         // For outlining steps\n  | 'decision'     // For choices made\n  | 'critique'     // For self-criticism\n  | 'reflection'   // For meta-cognition\n  | 'execution'    // For actions taken\n  | 'success'      // For successful outcomes\n  | 'error'        // For failures and issues\n  | 'agent-state'  // For agent status changes\n  | 'agent-comm'   // For inter-agent communication\n  | 'memory-op'    // For memory operations\n  | 'task-plan';   // For task planning events\n\nexport interface Thought {\n  id: string;\n  level: ThoughtType;\n  message: string;\n  timestamp: number;\n  metadata?: Record<string, unknown>;\n  agentId?: string;\n  collaborationId?: string;\n  parentThoughtId?: string;\n  taskId?: string;\n  source?: string;\n}\n\nexport class ThoughtLogger extends EventEmitter {\n  private static instance: ThoughtLogger;\n  private thoughts: Thought[] = [];\n  private listeners: Set<(thoughts: Thought[]) => void> = new Set();\n  private activeCollaborations: Map<string, string[]> = new Map();\n  private activeTasks: Map<string, Set<string>> = new Map();\n  private memoryUsage: number = 0;\n\n  private constructor() {\n    super();\n    // Log initial startup\n    this.log('observation', 'System initialized');\n    this.startMemoryTracking();\n  }\n\n  static getInstance(): ThoughtLogger {\n    if (!ThoughtLogger.instance) {\n      ThoughtLogger.instance = new ThoughtLogger();\n    }\n    return ThoughtLogger.instance;\n  }\n\n  private startMemoryTracking(): void {\n    setInterval(() => {\n      // Simulate memory tracking in browser environment\n      this.memoryUsage = this.thoughts.reduce((total, thought) => {\n        return total + JSON.stringify(thought).length;\n      }, 0);\n    }, 5000);\n  }\n\n  async getMemoryUsage(): Promise<number> {\n    return this.memoryUsage;\n  }\n\n  log(\n    level: ThoughtType,\n    message: string,\n    metadata?: Record<string, unknown>,\n    options: {\n      agentId?: string;\n      collaborationId?: string;\n      parentThoughtId?: string;\n      taskId?: string;\n      source?: string;\n    } = {}\n  ): void {\n    const thought: Thought = {\n      id: crypto.randomUUID(),\n      level,\n      message,\n      timestamp: Date.now(),\n      metadata,\n      ...options\n    };\n\n    // Track collaborations\n    if (options.collaborationId) {\n      const thoughts = this.activeCollaborations.get(options.collaborationId) || [];\n      thoughts.push(thought.id);\n      this.activeCollaborations.set(options.collaborationId, thoughts);\n    }\n\n    // Track tasks\n    if (options.taskId) {\n      const agents = this.activeTasks.get(options.taskId) || new Set();\n      if (options.agentId) {\n        agents.add(options.agentId);\n      }\n      this.activeTasks.set(options.taskId, agents);\n    }\n\n    this.thoughts.push(thought);\n    this.notifyListeners();\n\n    // Log to console in development\n    if (process.env.NODE_ENV === 'development') {\n      const prefix = [\n        options.agentId ? `[${options.agentId}]` : '',\n        options.taskId ? `(Task ${options.taskId})` : '',\n        level.toUpperCase()\n      ].filter(Boolean).join(' ');\n      \n      console.log(`${prefix}: ${message}`, metadata || '');\n    }\n  }\n\n  getThoughts(options: {\n    agentId?: string;\n    collaborationId?: string;\n    level?: ThoughtType;\n    since?: number;\n    taskId?: string;\n    source?: string;\n  } = {}): Thought[] {\n    let filtered = [...this.thoughts];\n\n    if (options.agentId) {\n      filtered = filtered.filter(t => t.agentId === options.agentId);\n    }\n\n    if (options.collaborationId) {\n      filtered = filtered.filter(t => t.collaborationId === options.collaborationId);\n    }\n\n    if (options.level) {\n      filtered = filtered.filter(t => t.level === options.level);\n    }\n\n    if (options.since) {\n      filtered = filtered.filter(t => t.timestamp >= options.since);\n    }\n\n    if (options.taskId) {\n      filtered = filtered.filter(t => t.taskId === options.taskId);\n    }\n\n    if (options.source) {\n      filtered = filtered.filter(t => t.source === options.source);\n    }\n\n    return filtered;\n  }\n\n  subscribe(listener: (thoughts: Thought[]) => void): () => void {\n    this.listeners.add(listener);\n    listener(this.getThoughts());\n\n    return () => {\n      this.listeners.delete(listener);\n    };\n  }\n\n  private notifyListeners(): void {\n    const thoughts = this.getThoughts();\n    this.listeners.forEach(listener => listener(thoughts));\n  }\n\n  getThoughtTypes(): Record<string, ThoughtType> {\n    return {\n      OBSERVATION: 'observation',\n      REASONING: 'reasoning',\n      PLAN: 'plan',\n      DECISION: 'decision',\n      CRITIQUE: 'critique',\n      REFLECTION: 'reflection',\n      EXECUTION: 'execution',\n      SUCCESS: 'success',\n      ERROR: 'error',\n      AGENT_STATE: 'agent-state',\n      AGENT_COMM: 'agent-comm',\n      MEMORY_OP: 'memory-op',\n      TASK_PLAN: 'task-plan'\n    };\n  }\n\n  clear(): void {\n    this.thoughts = [];\n    this.activeCollaborations.clear();\n    this.activeTasks.clear();\n    this.notifyListeners();\n  }\n}\n\nexport const thoughtLogger = ThoughtLogger.getInstance();","export class AppError extends Error {\n  constructor(\n    message: string,\n    public code: string = 'UNKNOWN_ERROR',\n    public details?: any\n  ) {\n    super(message);\n    this.name = 'AppError';\n  }\n}\n\nexport class APIError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'API_ERROR', details);\n    this.name = 'APIError';\n  }\n}\n\nexport class SearchError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'SEARCH_ERROR', details);\n    this.name = 'SearchError';\n  }\n}\n\nexport class ProcessingError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'PROCESSING_ERROR', details);\n    this.name = 'ProcessingError';\n  }\n}\n\nexport class ToolError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'TOOL_ERROR', details);\n    this.name = 'ToolError';\n  }\n}\n\nexport class MemoryError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'MEMORY_ERROR', details);\n    this.name = 'MemoryError';\n  }\n}\n\nexport class ValidationError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'VALIDATION_ERROR', details);\n    this.name = 'ValidationError';\n  }\n}\n\nexport class ConfigurationError extends AppError {\n  constructor(message: string, details?: any) {\n    super(message, 'CONFIGURATION_ERROR', details);\n    this.name = 'ConfigurationError';\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\n\ninterface RateLimiterOptions {\n  maxRequests: number;\n  interval: number; // in milliseconds\n}\n\nexport class RateLimiter {\n  private timestamps: number[] = [];\n  private options: RateLimiterOptions;\n\n  constructor(options: RateLimiterOptions) {\n    this.options = options;\n  }\n\n  async acquire(): Promise<void> {\n    const now = Date.now();\n    this.timestamps = this.timestamps.filter(\n      time => now - time < this.options.interval\n    );\n\n    if (this.timestamps.length >= this.options.maxRequests) {\n      const waitTime = this.options.interval - (now - this.timestamps[0]);\n      thoughtLogger.log('warning', `Rate limit exceeded, waiting ${waitTime}ms`);\n      await new Promise(resolve => setTimeout(resolve, waitTime));\n    }\n\n    this.timestamps.push(now);\n  }\n\n  getRemainingRequests(): number {\n    const now = Date.now();\n    const validTimestamps = this.timestamps.filter(\n      time => now - time < this.options.interval\n    );\n    return Math.max(0, this.options.maxRequests - validTimestamps.length);\n  }\n\n  reset(): void {\n    this.timestamps = [];\n  }\n}","import { config } from '../config';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\nimport { RateLimiter } from './rate-limiter';\nimport type { Message } from '../types';\n\nexport class APIClient {\n  private static instance: APIClient | null = null;\n  private initialized = false;\n  private rateLimiter: RateLimiter;\n\n  private constructor() {\n    this.rateLimiter = new RateLimiter({\n      maxRequests: 60,\n      interval: 60 * 1000 // 1 minute\n    });\n  }\n\n  static getInstance(): APIClient {\n    if (!APIClient.instance) {\n      APIClient.instance = new APIClient();\n    }\n    return APIClient.instance;\n  }\n\n  async initialize(): Promise<APIClient> {\n    if (this.initialized) return this;\n\n    try {\n      // Validate required API keys\n      const missingKeys = this.validateApiKeys();\n      if (missingKeys.length > 0) {\n        throw new AppError(`Missing API keys: ${missingKeys.join(', ')}`, 'CONFIG_ERROR');\n      }\n\n      // Test API connection\n      await this.testConnection();\n      \n      this.initialized = true;\n      thoughtLogger.log('success', 'API client initialized successfully');\n      return this;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize API client', { error });\n      throw error;\n    }\n  }\n\n  private validateApiKeys(): string[] {\n    const requiredKeys = ['xai', 'groq', 'perplexity', 'huggingface'] as const;\n    return requiredKeys.filter(key => !config.apiKeys[key]);\n  }\n\n  private async testConnection(): Promise<void> {\n    const response = await fetch(`${config.services.xai.baseUrl}/models`, {\n      headers: {\n        'Authorization': `Bearer ${config.apiKeys.xai}`,\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (!response.ok) {\n      throw new AppError('Failed to connect to API', 'API_ERROR');\n    }\n  }\n\n  async chat(messages: Message[], onProgress?: (content: string) => void): Promise<void> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    // Check rate limits\n    await this.rateLimiter.acquire();\n\n    try {\n      const response = await fetch(`${config.services.xai.baseUrl}/chat/completions`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${config.apiKeys.xai}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          messages: messages.map(({ role, content }) => ({ role, content })),\n          model: config.services.xai.defaultModel,\n          stream: Boolean(onProgress),\n          temperature: config.services.xai.temperature,\n          max_tokens: config.services.xai.maxTokens\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new AppError(\n          `Chat API request failed: ${error.error?.message || response.statusText}`,\n          'API_ERROR'\n        );\n      }\n\n      if (onProgress && response.body) {\n        await this.handleStreamingResponse(response.body, onProgress);\n        return;\n      }\n\n      const data = await response.json();\n      onProgress?.(data.choices[0].message.content);\n    } catch (error) {\n      thoughtLogger.log('error', 'Chat request failed', { error });\n      throw error;\n    }\n  }\n\n  private async handleStreamingResponse(\n    body: ReadableStream<Uint8Array>,\n    onProgress: (content: string) => void\n  ): Promise<void> {\n    const reader = body.getReader();\n    const decoder = new TextDecoder();\n\n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = decoder.decode(value, { stream: true });\n        const lines = chunk.split('\\n');\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = line.slice(6);\n            if (data === '[DONE]') continue;\n\n            try {\n              const parsed = JSON.parse(data);\n              const content = parsed.choices[0]?.delta?.content;\n              if (content) {\n                onProgress(content);\n              }\n            } catch (e) {\n              thoughtLogger.log('error', 'Failed to parse streaming response', { error: e });\n            }\n          }\n        }\n      }\n    } finally {\n      reader.releaseLock();\n    }\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { APIClient } from './api/api-client';\nimport { thoughtLogger } from './logging/thought-logger';\nimport { AppError } from './errors/AppError';\nimport type { Message } from './types';\n\nclass AgentSystem {\n  private apiClient: APIClient;\n  private initialized = false;\n\n  constructor() {\n    this.apiClient = APIClient.getInstance();\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      await this.apiClient.initialize();\n      this.initialized = true;\n      thoughtLogger.log('success', 'Agent system initialized successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize agent system', { error });\n      throw error;\n    }\n  }\n\n  async processMessage(\n    content: string,\n    onProgress?: (content: string) => void\n  ): Promise<void> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    try {\n      const message: Message = {\n        id: crypto.randomUUID(),\n        role: 'user',\n        content,\n        timestamp: Date.now()\n      };\n\n      await this.apiClient.chat([message], onProgress);\n      thoughtLogger.log('success', 'Message processed successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Message processing failed', { error });\n      throw error instanceof AppError ? error : new AppError('Failed to process message', 'PROCESSING_ERROR');\n    }\n  }\n}\n\nexport const agentSystem = new AgentSystem();","import { create } from 'zustand';\n\nexport interface Toast {\n  id: string;\n  type: 'success' | 'error' | 'info';\n  title?: string;\n  message: string;\n  duration?: number;\n}\n\ninterface ToastState {\n  toasts: Toast[];\n  addToast: (toast: Omit<Toast, 'id'>) => void;\n  removeToast: (id: string) => void;\n}\n\nexport const useToast = create<ToastState>((set) => ({\n  toasts: [],\n  addToast: (toast) => {\n    const id = crypto.randomUUID();\n    set((state) => ({\n      toasts: [...state.toasts, { ...toast, id }],\n    }));\n\n    if (toast.duration !== 0) {\n      setTimeout(() => {\n        set((state) => ({\n          toasts: state.toasts.filter((t) => t.id !== id),\n        }));\n      }, toast.duration || 5000);\n    }\n  },\n  removeToast: (id) =>\n    set((state) => ({\n      toasts: state.toasts.filter((t) => t.id !== id),\n    })),\n}));","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import {useCallback as $3vqmr$useCallback} from \"react\";\n\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$var$setRef(ref, value) {\n    if (typeof ref === 'function') ref(value);\n    else if (ref !== null && ref !== undefined) ref.current = value;\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$export$43e446d32b3d21af(...refs) {\n    return (node)=>refs.forEach((ref)=>$6ed0406888f73fc4$var$setRef(ref, node)\n        )\n    ;\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return $3vqmr$useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...refs), refs);\n}\n\n\n\n\nexport {$6ed0406888f73fc4$export$43e446d32b3d21af as composeRefs, $6ed0406888f73fc4$export$c7b2cbe3552a0d05 as useComposedRefs};\n//# sourceMappingURL=index.mjs.map\n","import $9IrjX$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $9IrjX$forwardRef, Children as $9IrjX$Children, isValidElement as $9IrjX$isValidElement, createElement as $9IrjX$createElement, cloneElement as $9IrjX$cloneElement, Fragment as $9IrjX$Fragment} from \"react\";\nimport {composeRefs as $9IrjX$composeRefs} from \"@radix-ui/react-compose-refs\";\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$export$8c6ed5c666ac1360 = /*#__PURE__*/ $9IrjX$forwardRef((props, forwardedRef)=>{\n    const { children: children , ...slotProps } = props;\n    const childrenArray = $9IrjX$Children.toArray(children);\n    const slottable = childrenArray.find($5e63c961fc1ce211$var$isSlottable);\n    if (slottable) {\n        // the new element to render is the one passed as a child of `Slottable`\n        const newElement = slottable.props.children;\n        const newChildren = childrenArray.map((child)=>{\n            if (child === slottable) {\n                // because the new element will be the one rendered, we are only interested\n                // in grabbing its children (`newElement.props.children`)\n                if ($9IrjX$Children.count(newElement) > 1) return $9IrjX$Children.only(null);\n                return /*#__PURE__*/ $9IrjX$isValidElement(newElement) ? newElement.props.children : null;\n            } else return child;\n        });\n        return /*#__PURE__*/ $9IrjX$createElement($5e63c961fc1ce211$var$SlotClone, $9IrjX$babelruntimehelpersesmextends({}, slotProps, {\n            ref: forwardedRef\n        }), /*#__PURE__*/ $9IrjX$isValidElement(newElement) ? /*#__PURE__*/ $9IrjX$cloneElement(newElement, undefined, newChildren) : null);\n    }\n    return /*#__PURE__*/ $9IrjX$createElement($5e63c961fc1ce211$var$SlotClone, $9IrjX$babelruntimehelpersesmextends({}, slotProps, {\n        ref: forwardedRef\n    }), children);\n});\n$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName = 'Slot';\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$var$SlotClone = /*#__PURE__*/ $9IrjX$forwardRef((props, forwardedRef)=>{\n    const { children: children , ...slotProps } = props;\n    if (/*#__PURE__*/ $9IrjX$isValidElement(children)) return /*#__PURE__*/ $9IrjX$cloneElement(children, {\n        ...$5e63c961fc1ce211$var$mergeProps(slotProps, children.props),\n        ref: forwardedRef ? $9IrjX$composeRefs(forwardedRef, children.ref) : children.ref\n    });\n    return $9IrjX$Children.count(children) > 1 ? $9IrjX$Children.only(null) : null;\n});\n$5e63c961fc1ce211$var$SlotClone.displayName = 'SlotClone';\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45 = ({ children: children  })=>{\n    return /*#__PURE__*/ $9IrjX$createElement($9IrjX$Fragment, null, children);\n};\n/* ---------------------------------------------------------------------------------------------- */ function $5e63c961fc1ce211$var$isSlottable(child) {\n    return /*#__PURE__*/ $9IrjX$isValidElement(child) && child.type === $5e63c961fc1ce211$export$d9f1ccf0bdb05d45;\n}\nfunction $5e63c961fc1ce211$var$mergeProps(slotProps, childProps) {\n    // all child props should override\n    const overrideProps = {\n        ...childProps\n    };\n    for(const propName in childProps){\n        const slotPropValue = slotProps[propName];\n        const childPropValue = childProps[propName];\n        const isHandler = /^on[A-Z]/.test(propName);\n        if (isHandler) {\n            // if the handler exists on both, we compose them\n            if (slotPropValue && childPropValue) overrideProps[propName] = (...args)=>{\n                childPropValue(...args);\n                slotPropValue(...args);\n            };\n            else if (slotPropValue) overrideProps[propName] = slotPropValue;\n        } else if (propName === 'style') overrideProps[propName] = {\n            ...slotPropValue,\n            ...childPropValue\n        };\n        else if (propName === 'className') overrideProps[propName] = [\n            slotPropValue,\n            childPropValue\n        ].filter(Boolean).join(' ');\n    }\n    return {\n        ...slotProps,\n        ...overrideProps\n    };\n}\nconst $5e63c961fc1ce211$export$be92b6f5f03c0fe9 = $5e63c961fc1ce211$export$8c6ed5c666ac1360;\n\n\n\n\nexport {$5e63c961fc1ce211$export$8c6ed5c666ac1360 as Slot, $5e63c961fc1ce211$export$d9f1ccf0bdb05d45 as Slottable, $5e63c961fc1ce211$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import $4q5Fq$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $4q5Fq$forwardRef, useEffect as $4q5Fq$useEffect, createElement as $4q5Fq$createElement} from \"react\";\nimport {flushSync as $4q5Fq$flushSync} from \"react-dom\";\nimport {Slot as $4q5Fq$Slot} from \"@radix-ui/react-slot\";\n\n\n\n\n\nconst $8927f6f2acc4f386$var$NODES = [\n    'a',\n    'button',\n    'div',\n    'form',\n    'h2',\n    'h3',\n    'img',\n    'input',\n    'label',\n    'li',\n    'nav',\n    'ol',\n    'p',\n    'span',\n    'svg',\n    'ul'\n]; // Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/ const $8927f6f2acc4f386$export$250ffa63cdc0d034 = $8927f6f2acc4f386$var$NODES.reduce((primitive, node)=>{\n    const Node = /*#__PURE__*/ $4q5Fq$forwardRef((props, forwardedRef)=>{\n        const { asChild: asChild , ...primitiveProps } = props;\n        const Comp = asChild ? $4q5Fq$Slot : node;\n        $4q5Fq$useEffect(()=>{\n            window[Symbol.for('radix-ui')] = true;\n        }, []);\n        return /*#__PURE__*/ $4q5Fq$createElement(Comp, $4q5Fq$babelruntimehelpersesmextends({}, primitiveProps, {\n            ref: forwardedRef\n        }));\n    });\n    Node.displayName = `Primitive.${node}`;\n    return {\n        ...primitive,\n        [node]: Node\n    };\n}, {});\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/ /**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click \n * target.dispatchEvent(new Event(click))\n *\n * dispatching a custom type within a non-discrete event \n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(customType))}\n *\n * dispatching a custom type within a `discrete` event \n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(customType))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */ function $8927f6f2acc4f386$export$6d1a0317bde7de7f(target, event) {\n    if (target) $4q5Fq$flushSync(()=>target.dispatchEvent(event)\n    );\n}\n/* -----------------------------------------------------------------------------------------------*/ const $8927f6f2acc4f386$export$be92b6f5f03c0fe9 = $8927f6f2acc4f386$export$250ffa63cdc0d034;\n\n\n\n\nexport {$8927f6f2acc4f386$export$250ffa63cdc0d034 as Primitive, $8927f6f2acc4f386$export$be92b6f5f03c0fe9 as Root, $8927f6f2acc4f386$export$6d1a0317bde7de7f as dispatchDiscreteCustomEvent};\n//# sourceMappingURL=index.mjs.map\n","import {useLayoutEffect as $dxlwH$useLayoutEffect} from \"react\";\n\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */ const $9f79659886946c16$export$e5c5a5f917a5871c = Boolean(globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) ? $dxlwH$useLayoutEffect : ()=>{};\n\n\n\n\nexport {$9f79659886946c16$export$e5c5a5f917a5871c as useLayoutEffect};\n//# sourceMappingURL=index.mjs.map\n","import {Children as $iqq3r$Children, cloneElement as $iqq3r$cloneElement, useState as $iqq3r$useState, useRef as $iqq3r$useRef, useEffect as $iqq3r$useEffect, useCallback as $iqq3r$useCallback, useReducer as $iqq3r$useReducer} from \"react\";\nimport {flushSync as $iqq3r$flushSync} from \"react-dom\";\nimport {useComposedRefs as $iqq3r$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useLayoutEffect as $iqq3r$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\n\n\n\nfunction $fe963b355347cc68$export$3e6543de14f8614f(initialState, machine) {\n    return $iqq3r$useReducer((state, event)=>{\n        const nextState = machine[state][event];\n        return nextState !== null && nextState !== void 0 ? nextState : state;\n    }, initialState);\n}\n\n\nconst $921a889cee6df7e8$export$99c2b779aa4e8b8b = (props)=>{\n    const { present: present , children: children  } = props;\n    const presence = $921a889cee6df7e8$var$usePresence(present);\n    const child = typeof children === 'function' ? children({\n        present: presence.isPresent\n    }) : $iqq3r$Children.only(children);\n    const ref = $iqq3r$useComposedRefs(presence.ref, child.ref);\n    const forceMount = typeof children === 'function';\n    return forceMount || presence.isPresent ? /*#__PURE__*/ $iqq3r$cloneElement(child, {\n        ref: ref\n    }) : null;\n};\n$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName = 'Presence';\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$usePresence(present) {\n    const [node1, setNode] = $iqq3r$useState();\n    const stylesRef = $iqq3r$useRef({});\n    const prevPresentRef = $iqq3r$useRef(present);\n    const prevAnimationNameRef = $iqq3r$useRef('none');\n    const initialState = present ? 'mounted' : 'unmounted';\n    const [state, send] = $fe963b355347cc68$export$3e6543de14f8614f(initialState, {\n        mounted: {\n            UNMOUNT: 'unmounted',\n            ANIMATION_OUT: 'unmountSuspended'\n        },\n        unmountSuspended: {\n            MOUNT: 'mounted',\n            ANIMATION_END: 'unmounted'\n        },\n        unmounted: {\n            MOUNT: 'mounted'\n        }\n    });\n    $iqq3r$useEffect(()=>{\n        const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n        prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n    }, [\n        state\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        const styles = stylesRef.current;\n        const wasPresent = prevPresentRef.current;\n        const hasPresentChanged = wasPresent !== present;\n        if (hasPresentChanged) {\n            const prevAnimationName = prevAnimationNameRef.current;\n            const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(styles);\n            if (present) send('MOUNT');\n            else if (currentAnimationName === 'none' || (styles === null || styles === void 0 ? void 0 : styles.display) === 'none') // If there is no exit animation or the element is hidden, animations won't run\n            // so we unmount instantly\n            send('UNMOUNT');\n            else {\n                /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */ const isAnimating = prevAnimationName !== currentAnimationName;\n                if (wasPresent && isAnimating) send('ANIMATION_OUT');\n                else send('UNMOUNT');\n            }\n            prevPresentRef.current = present;\n        }\n    }, [\n        present,\n        send\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        if (node1) {\n            /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */ const handleAnimationEnd = (event)=>{\n                const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n                const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n                if (event.target === node1 && isCurrentAnimation) // With React 18 concurrency this update is applied\n                // a frame after the animation ends, creating a flash of visible content.\n                // By manually flushing we ensure they sync within a frame, removing the flash.\n                $iqq3r$flushSync(()=>send('ANIMATION_END')\n                );\n            };\n            const handleAnimationStart = (event)=>{\n                if (event.target === node1) // if animation occurred, store its name as the previous animation.\n                prevAnimationNameRef.current = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n            };\n            node1.addEventListener('animationstart', handleAnimationStart);\n            node1.addEventListener('animationcancel', handleAnimationEnd);\n            node1.addEventListener('animationend', handleAnimationEnd);\n            return ()=>{\n                node1.removeEventListener('animationstart', handleAnimationStart);\n                node1.removeEventListener('animationcancel', handleAnimationEnd);\n                node1.removeEventListener('animationend', handleAnimationEnd);\n            };\n        } else // Transition to the unmounted state if the node is removed prematurely.\n        // We avoid doing so during cleanup as the node may change but still exist.\n        send('ANIMATION_END');\n    }, [\n        node1,\n        send\n    ]);\n    return {\n        isPresent: [\n            'mounted',\n            'unmountSuspended'\n        ].includes(state),\n        ref: $iqq3r$useCallback((node)=>{\n            if (node) stylesRef.current = getComputedStyle(node);\n            setNode(node);\n        }, [])\n    };\n}\n/* -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$getAnimationName(styles) {\n    return (styles === null || styles === void 0 ? void 0 : styles.animationName) || 'none';\n}\n\n\n\n\nexport {$921a889cee6df7e8$export$99c2b779aa4e8b8b as Presence};\n//# sourceMappingURL=index.mjs.map\n","import {createContext as $3bkAK$createContext, useMemo as $3bkAK$useMemo, createElement as $3bkAK$createElement, useContext as $3bkAK$useContext} from \"react\";\n\n\nfunction $c512c27ab02ef895$export$fd42f52fd3ae1109(rootComponentName, defaultContext) {\n    const Context = /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n    function Provider(props) {\n        const { children: children , ...context } = props; // Only re-memoize when prop values change\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        const value = $3bkAK$useMemo(()=>context\n        , Object.values(context));\n        return /*#__PURE__*/ $3bkAK$createElement(Context.Provider, {\n            value: value\n        }, children);\n    }\n    function useContext(consumerName) {\n        const context = $3bkAK$useContext(Context);\n        if (context) return context;\n        if (defaultContext !== undefined) return defaultContext; // if a defaultContext wasn't specified, it's a required context.\n        throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    Provider.displayName = rootComponentName + 'Provider';\n    return [\n        Provider,\n        useContext\n    ];\n}\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$export$50c7b4e9d9f19c1(scopeName, createContextScopeDeps = []) {\n    let defaultContexts = [];\n    /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$export$fd42f52fd3ae1109(rootComponentName, defaultContext) {\n        const BaseContext = /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n        const index = defaultContexts.length;\n        defaultContexts = [\n            ...defaultContexts,\n            defaultContext\n        ];\n        function Provider(props) {\n            const { scope: scope , children: children , ...context } = props;\n            const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index]) || BaseContext; // Only re-memoize when prop values change\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            const value = $3bkAK$useMemo(()=>context\n            , Object.values(context));\n            return /*#__PURE__*/ $3bkAK$createElement(Context.Provider, {\n                value: value\n            }, children);\n        }\n        function useContext(consumerName, scope) {\n            const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index]) || BaseContext;\n            const context = $3bkAK$useContext(Context);\n            if (context) return context;\n            if (defaultContext !== undefined) return defaultContext; // if a defaultContext wasn't specified, it's a required context.\n            throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n        }\n        Provider.displayName = rootComponentName + 'Provider';\n        return [\n            Provider,\n            useContext\n        ];\n    }\n    /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/ const createScope = ()=>{\n        const scopeContexts = defaultContexts.map((defaultContext)=>{\n            return /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n        });\n        return function useScope(scope) {\n            const contexts = (scope === null || scope === void 0 ? void 0 : scope[scopeName]) || scopeContexts;\n            return $3bkAK$useMemo(()=>({\n                    [`__scope${scopeName}`]: {\n                        ...scope,\n                        [scopeName]: contexts\n                    }\n                })\n            , [\n                scope,\n                contexts\n            ]);\n        };\n    };\n    createScope.scopeName = scopeName;\n    return [\n        $c512c27ab02ef895$export$fd42f52fd3ae1109,\n        $c512c27ab02ef895$var$composeContextScopes(createScope, ...createContextScopeDeps)\n    ];\n}\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$var$composeContextScopes(...scopes) {\n    const baseScope = scopes[0];\n    if (scopes.length === 1) return baseScope;\n    const createScope1 = ()=>{\n        const scopeHooks = scopes.map((createScope)=>({\n                useScope: createScope(),\n                scopeName: createScope.scopeName\n            })\n        );\n        return function useComposedScopes(overrideScopes) {\n            const nextScopes1 = scopeHooks.reduce((nextScopes, { useScope: useScope , scopeName: scopeName  })=>{\n                // We are calling a hook inside a callback which React warns against to avoid inconsistent\n                // renders, however, scoping doesn't have render side effects so we ignore the rule.\n                // eslint-disable-next-line react-hooks/rules-of-hooks\n                const scopeProps = useScope(overrideScopes);\n                const currentScope = scopeProps[`__scope${scopeName}`];\n                return {\n                    ...nextScopes,\n                    ...currentScope\n                };\n            }, {});\n            return $3bkAK$useMemo(()=>({\n                    [`__scope${baseScope.scopeName}`]: nextScopes1\n                })\n            , [\n                nextScopes1\n            ]);\n        };\n    };\n    createScope1.scopeName = baseScope.scopeName;\n    return createScope1;\n}\n\n\n\n\nexport {$c512c27ab02ef895$export$fd42f52fd3ae1109 as createContext, $c512c27ab02ef895$export$50c7b4e9d9f19c1 as createContextScope};\n//# sourceMappingURL=index.mjs.map\n","import {useRef as $lwiWj$useRef, useEffect as $lwiWj$useEffect, useMemo as $lwiWj$useMemo} from \"react\";\n\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */ function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(callback) {\n    const callbackRef = $lwiWj$useRef(callback);\n    $lwiWj$useEffect(()=>{\n        callbackRef.current = callback;\n    }); // https://github.com/facebook/react/issues/19240\n    return $lwiWj$useMemo(()=>(...args)=>{\n            var _callbackRef$current;\n            return (_callbackRef$current = callbackRef.current) === null || _callbackRef$current === void 0 ? void 0 : _callbackRef$current.call(callbackRef, ...args);\n        }\n    , []);\n}\n\n\n\n\nexport {$b1b2314f5f9a1d84$export$25bec8c6f54ee79a as useCallbackRef};\n//# sourceMappingURL=index.mjs.map\n","import {createContext as $7Gjcd$createContext, createElement as $7Gjcd$createElement, useContext as $7Gjcd$useContext} from \"react\";\n\n\nconst $f631663db3294ace$var$DirectionContext = /*#__PURE__*/ $7Gjcd$createContext(undefined);\n/* -------------------------------------------------------------------------------------------------\n * Direction\n * -----------------------------------------------------------------------------------------------*/ const $f631663db3294ace$export$c760c09fdd558351 = (props)=>{\n    const { dir: dir , children: children  } = props;\n    return /*#__PURE__*/ $7Gjcd$createElement($f631663db3294ace$var$DirectionContext.Provider, {\n        value: dir\n    }, children);\n};\n/* -----------------------------------------------------------------------------------------------*/ function $f631663db3294ace$export$b39126d51d94e6f3(localDir) {\n    const globalDir = $7Gjcd$useContext($f631663db3294ace$var$DirectionContext);\n    return localDir || globalDir || 'ltr';\n}\nconst $f631663db3294ace$export$2881499e37b75b9a = $f631663db3294ace$export$c760c09fdd558351;\n\n\n\n\nexport {$f631663db3294ace$export$b39126d51d94e6f3 as useDirection, $f631663db3294ace$export$2881499e37b75b9a as Provider, $f631663db3294ace$export$c760c09fdd558351 as DirectionProvider};\n//# sourceMappingURL=index.mjs.map\n","function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(value, [min, max]) {\n    return Math.min(max, Math.max(min, value));\n}\n\n\n\n\nexport {$ae6933e535247d3d$export$7d15b64cf5a3a4c4 as clamp};\n//# sourceMappingURL=index.mjs.map\n","function $e42e1063c40fb3ef$export$b9ecd428b558ff10(originalEventHandler, ourEventHandler, { checkForDefaultPrevented: checkForDefaultPrevented = true  } = {}) {\n    return function handleEvent(event) {\n        originalEventHandler === null || originalEventHandler === void 0 || originalEventHandler(event);\n        if (checkForDefaultPrevented === false || !event.defaultPrevented) return ourEventHandler === null || ourEventHandler === void 0 ? void 0 : ourEventHandler(event);\n    };\n}\n\n\n\n\nexport {$e42e1063c40fb3ef$export$b9ecd428b558ff10 as composeEventHandlers};\n//# sourceMappingURL=index.mjs.map\n","import $fnFM9$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $fnFM9$forwardRef, useState as $fnFM9$useState, createElement as $fnFM9$createElement, useRef as $fnFM9$useRef, Fragment as $fnFM9$Fragment, useEffect as $fnFM9$useEffect, useCallback as $fnFM9$useCallback, useReducer as $fnFM9$useReducer} from \"react\";\nimport {Primitive as $fnFM9$Primitive} from \"@radix-ui/react-primitive\";\nimport {Presence as $fnFM9$Presence} from \"@radix-ui/react-presence\";\nimport {createContextScope as $fnFM9$createContextScope} from \"@radix-ui/react-context\";\nimport {useComposedRefs as $fnFM9$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useCallbackRef as $fnFM9$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\nimport {useDirection as $fnFM9$useDirection} from \"@radix-ui/react-direction\";\nimport {useLayoutEffect as $fnFM9$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\nimport {clamp as $fnFM9$clamp} from \"@radix-ui/number\";\nimport {composeEventHandlers as $fnFM9$composeEventHandlers} from \"@radix-ui/primitive\";\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction $6c2e24571c90391f$export$3e6543de14f8614f(initialState, machine) {\n    return $fnFM9$useReducer((state, event)=>{\n        const nextState = machine[state][event];\n        return nextState !== null && nextState !== void 0 ? nextState : state;\n    }, initialState);\n}\n\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollArea\n * -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$SCROLL_AREA_NAME = 'ScrollArea';\nconst [$57acba87d6e25586$var$createScrollAreaContext, $57acba87d6e25586$export$488468afe3a6f2b1] = $fnFM9$createContextScope($57acba87d6e25586$var$SCROLL_AREA_NAME);\nconst [$57acba87d6e25586$var$ScrollAreaProvider, $57acba87d6e25586$var$useScrollAreaContext] = $57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLL_AREA_NAME);\nconst $57acba87d6e25586$export$ccf8d8d7bbf3c2cc = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { __scopeScrollArea: __scopeScrollArea , type: type = 'hover' , dir: dir , scrollHideDelay: scrollHideDelay = 600 , ...scrollAreaProps } = props;\n    const [scrollArea, setScrollArea] = $fnFM9$useState(null);\n    const [viewport, setViewport] = $fnFM9$useState(null);\n    const [content, setContent] = $fnFM9$useState(null);\n    const [scrollbarX, setScrollbarX] = $fnFM9$useState(null);\n    const [scrollbarY, setScrollbarY] = $fnFM9$useState(null);\n    const [cornerWidth, setCornerWidth] = $fnFM9$useState(0);\n    const [cornerHeight, setCornerHeight] = $fnFM9$useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = $fnFM9$useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = $fnFM9$useState(false);\n    const composedRefs = $fnFM9$useComposedRefs(forwardedRef, (node)=>setScrollArea(node)\n    );\n    const direction = $fnFM9$useDirection(dir);\n    return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaProvider, {\n        scope: __scopeScrollArea,\n        type: type,\n        dir: direction,\n        scrollHideDelay: scrollHideDelay,\n        scrollArea: scrollArea,\n        viewport: viewport,\n        onViewportChange: setViewport,\n        content: content,\n        onContentChange: setContent,\n        scrollbarX: scrollbarX,\n        onScrollbarXChange: setScrollbarX,\n        scrollbarXEnabled: scrollbarXEnabled,\n        onScrollbarXEnabledChange: setScrollbarXEnabled,\n        scrollbarY: scrollbarY,\n        onScrollbarYChange: setScrollbarY,\n        scrollbarYEnabled: scrollbarYEnabled,\n        onScrollbarYEnabledChange: setScrollbarYEnabled,\n        onCornerWidthChange: setCornerWidth,\n        onCornerHeightChange: setCornerHeight\n    }, /*#__PURE__*/ $fnFM9$createElement($fnFM9$Primitive.div, $fnFM9$babelruntimehelpersesmextends({\n        dir: direction\n    }, scrollAreaProps, {\n        ref: composedRefs,\n        style: {\n            position: 'relative',\n            // Pass corner sizes as CSS vars to reduce re-renders of context consumers\n            ['--radix-scroll-area-corner-width']: cornerWidth + 'px',\n            ['--radix-scroll-area-corner-height']: cornerHeight + 'px',\n            ...props.style\n        }\n    })));\n});\n/*#__PURE__*/ Object.assign($57acba87d6e25586$export$ccf8d8d7bbf3c2cc, {\n    displayName: $57acba87d6e25586$var$SCROLL_AREA_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaViewport\n * -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$VIEWPORT_NAME = 'ScrollAreaViewport';\nconst $57acba87d6e25586$export$a21cbf9f11fca853 = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { __scopeScrollArea: __scopeScrollArea , children: children , ...viewportProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$VIEWPORT_NAME, __scopeScrollArea);\n    const ref = $fnFM9$useRef(null);\n    const composedRefs = $fnFM9$useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Fragment, null, /*#__PURE__*/ $fnFM9$createElement(\"style\", {\n        dangerouslySetInnerHTML: {\n            __html: `[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}`\n        }\n    }), /*#__PURE__*/ $fnFM9$createElement($fnFM9$Primitive.div, $fnFM9$babelruntimehelpersesmextends({\n        \"data-radix-scroll-area-viewport\": \"\"\n    }, viewportProps, {\n        ref: composedRefs,\n        style: {\n            /**\n       * We don't support `visible` because the intention is to have at least one scrollbar\n       * if this component is used and `visible` will behave like `auto` in that case\n       * https://developer.mozilla.org/en-US/docs/Web/CSS/overflowed#description\n       *\n       * We don't handle `auto` because the intention is for the native implementation\n       * to be hidden if using this component. We just want to ensure the node is scrollable\n       * so could have used either `scroll` or `auto` here. We picked `scroll` to prevent\n       * the browser from having to work out whether to render native scrollbars or not,\n       * we tell it to with the intention of hiding them in CSS.\n       */ overflowX: context.scrollbarXEnabled ? 'scroll' : 'hidden',\n            overflowY: context.scrollbarYEnabled ? 'scroll' : 'hidden',\n            ...props.style\n        }\n    }), /*#__PURE__*/ $fnFM9$createElement(\"div\", {\n        ref: context.onContentChange,\n        style: {\n            minWidth: '100%',\n            display: 'table'\n        }\n    }, children)));\n});\n/*#__PURE__*/ Object.assign($57acba87d6e25586$export$a21cbf9f11fca853, {\n    displayName: $57acba87d6e25586$var$VIEWPORT_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaScrollbar\n * -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$SCROLLBAR_NAME = 'ScrollAreaScrollbar';\nconst $57acba87d6e25586$export$2fabd85d0eba3c57 = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { forceMount: forceMount , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { onScrollbarXEnabledChange: onScrollbarXEnabledChange , onScrollbarYEnabledChange: onScrollbarYEnabledChange  } = context;\n    const isHorizontal = props.orientation === 'horizontal';\n    $fnFM9$useEffect(()=>{\n        isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n        return ()=>{\n            isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n        };\n    }, [\n        isHorizontal,\n        onScrollbarXEnabledChange,\n        onScrollbarYEnabledChange\n    ]);\n    return context.type === 'hover' ? /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarHover, $fnFM9$babelruntimehelpersesmextends({}, scrollbarProps, {\n        ref: forwardedRef,\n        forceMount: forceMount\n    })) : context.type === 'scroll' ? /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarScroll, $fnFM9$babelruntimehelpersesmextends({}, scrollbarProps, {\n        ref: forwardedRef,\n        forceMount: forceMount\n    })) : context.type === 'auto' ? /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto, $fnFM9$babelruntimehelpersesmextends({}, scrollbarProps, {\n        ref: forwardedRef,\n        forceMount: forceMount\n    })) : context.type === 'always' ? /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible, $fnFM9$babelruntimehelpersesmextends({}, scrollbarProps, {\n        ref: forwardedRef\n    })) : null;\n});\n/*#__PURE__*/ Object.assign($57acba87d6e25586$export$2fabd85d0eba3c57, {\n    displayName: $57acba87d6e25586$var$SCROLLBAR_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$ScrollAreaScrollbarHover = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { forceMount: forceMount , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const [visible, setVisible] = $fnFM9$useState(false);\n    $fnFM9$useEffect(()=>{\n        const scrollArea = context.scrollArea;\n        let hideTimer = 0;\n        if (scrollArea) {\n            const handlePointerEnter = ()=>{\n                window.clearTimeout(hideTimer);\n                setVisible(true);\n            };\n            const handlePointerLeave = ()=>{\n                hideTimer = window.setTimeout(()=>setVisible(false)\n                , context.scrollHideDelay);\n            };\n            scrollArea.addEventListener('pointerenter', handlePointerEnter);\n            scrollArea.addEventListener('pointerleave', handlePointerLeave);\n            return ()=>{\n                window.clearTimeout(hideTimer);\n                scrollArea.removeEventListener('pointerenter', handlePointerEnter);\n                scrollArea.removeEventListener('pointerleave', handlePointerLeave);\n            };\n        }\n    }, [\n        context.scrollArea,\n        context.scrollHideDelay\n    ]);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Presence, {\n        present: forceMount || visible\n    }, /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto, $fnFM9$babelruntimehelpersesmextends({\n        \"data-state\": visible ? 'visible' : 'hidden'\n    }, scrollbarProps, {\n        ref: forwardedRef\n    })));\n});\nconst $57acba87d6e25586$var$ScrollAreaScrollbarScroll = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { forceMount: forceMount , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const isHorizontal = props.orientation === 'horizontal';\n    const debounceScrollEnd = $57acba87d6e25586$var$useDebounceCallback(()=>send('SCROLL_END')\n    , 100);\n    const [state, send] = $6c2e24571c90391f$export$3e6543de14f8614f('hidden', {\n        hidden: {\n            SCROLL: 'scrolling'\n        },\n        scrolling: {\n            SCROLL_END: 'idle',\n            POINTER_ENTER: 'interacting'\n        },\n        interacting: {\n            SCROLL: 'interacting',\n            POINTER_LEAVE: 'idle'\n        },\n        idle: {\n            HIDE: 'hidden',\n            SCROLL: 'scrolling',\n            POINTER_ENTER: 'interacting'\n        }\n    });\n    $fnFM9$useEffect(()=>{\n        if (state === 'idle') {\n            const hideTimer = window.setTimeout(()=>send('HIDE')\n            , context.scrollHideDelay);\n            return ()=>window.clearTimeout(hideTimer)\n            ;\n        }\n    }, [\n        state,\n        context.scrollHideDelay,\n        send\n    ]);\n    $fnFM9$useEffect(()=>{\n        const viewport = context.viewport;\n        const scrollDirection = isHorizontal ? 'scrollLeft' : 'scrollTop';\n        if (viewport) {\n            let prevScrollPos = viewport[scrollDirection];\n            const handleScroll = ()=>{\n                const scrollPos = viewport[scrollDirection];\n                const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n                if (hasScrollInDirectionChanged) {\n                    send('SCROLL');\n                    debounceScrollEnd();\n                }\n                prevScrollPos = scrollPos;\n            };\n            viewport.addEventListener('scroll', handleScroll);\n            return ()=>viewport.removeEventListener('scroll', handleScroll)\n            ;\n        }\n    }, [\n        context.viewport,\n        isHorizontal,\n        send,\n        debounceScrollEnd\n    ]);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Presence, {\n        present: forceMount || state !== 'hidden'\n    }, /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible, $fnFM9$babelruntimehelpersesmextends({\n        \"data-state\": state === 'hidden' ? 'hidden' : 'visible'\n    }, scrollbarProps, {\n        ref: forwardedRef,\n        onPointerEnter: $fnFM9$composeEventHandlers(props.onPointerEnter, ()=>send('POINTER_ENTER')\n        ),\n        onPointerLeave: $fnFM9$composeEventHandlers(props.onPointerLeave, ()=>send('POINTER_LEAVE')\n        )\n    })));\n});\nconst $57acba87d6e25586$var$ScrollAreaScrollbarAuto = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { forceMount: forceMount , ...scrollbarProps } = props;\n    const [visible, setVisible] = $fnFM9$useState(false);\n    const isHorizontal = props.orientation === 'horizontal';\n    const handleResize = $57acba87d6e25586$var$useDebounceCallback(()=>{\n        if (context.viewport) {\n            const isOverflowX = context.viewport.offsetWidth < context.viewport.scrollWidth;\n            const isOverflowY = context.viewport.offsetHeight < context.viewport.scrollHeight;\n            setVisible(isHorizontal ? isOverflowX : isOverflowY);\n        }\n    }, 10);\n    $57acba87d6e25586$var$useResizeObserver(context.viewport, handleResize);\n    $57acba87d6e25586$var$useResizeObserver(context.content, handleResize);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Presence, {\n        present: forceMount || visible\n    }, /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible, $fnFM9$babelruntimehelpersesmextends({\n        \"data-state\": visible ? 'visible' : 'hidden'\n    }, scrollbarProps, {\n        ref: forwardedRef\n    })));\n});\n/* -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$ScrollAreaScrollbarVisible = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { orientation: orientation = 'vertical' , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const thumbRef = $fnFM9$useRef(null);\n    const pointerOffsetRef = $fnFM9$useRef(0);\n    const [sizes, setSizes] = $fnFM9$useState({\n        content: 0,\n        viewport: 0,\n        scrollbar: {\n            size: 0,\n            paddingStart: 0,\n            paddingEnd: 0\n        }\n    });\n    const thumbRatio = $57acba87d6e25586$var$getThumbRatio(sizes.viewport, sizes.content);\n    const commonProps = {\n        ...scrollbarProps,\n        sizes: sizes,\n        onSizesChange: setSizes,\n        hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n        onThumbChange: (thumb)=>thumbRef.current = thumb\n        ,\n        onThumbPointerUp: ()=>pointerOffsetRef.current = 0\n        ,\n        onThumbPointerDown: (pointerPos)=>pointerOffsetRef.current = pointerPos\n    };\n    function getScrollPosition(pointerPos, dir) {\n        return $57acba87d6e25586$var$getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, dir);\n    }\n    if (orientation === 'horizontal') return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarX, $fnFM9$babelruntimehelpersesmextends({}, commonProps, {\n        ref: forwardedRef,\n        onThumbPositionChange: ()=>{\n            if (context.viewport && thumbRef.current) {\n                const scrollPos = context.viewport.scrollLeft;\n                const offset = $57acba87d6e25586$var$getThumbOffsetFromScroll(scrollPos, sizes, context.dir);\n                thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n            }\n        },\n        onWheelScroll: (scrollPos)=>{\n            if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        },\n        onDragScroll: (pointerPos)=>{\n            if (context.viewport) context.viewport.scrollLeft = getScrollPosition(pointerPos, context.dir);\n        }\n    }));\n    if (orientation === 'vertical') return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarY, $fnFM9$babelruntimehelpersesmextends({}, commonProps, {\n        ref: forwardedRef,\n        onThumbPositionChange: ()=>{\n            if (context.viewport && thumbRef.current) {\n                const scrollPos = context.viewport.scrollTop;\n                const offset = $57acba87d6e25586$var$getThumbOffsetFromScroll(scrollPos, sizes);\n                thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n            }\n        },\n        onWheelScroll: (scrollPos)=>{\n            if (context.viewport) context.viewport.scrollTop = scrollPos;\n        },\n        onDragScroll: (pointerPos)=>{\n            if (context.viewport) context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }\n    }));\n    return null;\n});\n/* -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$ScrollAreaScrollbarX = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { sizes: sizes , onSizesChange: onSizesChange , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const [computedStyle, setComputedStyle] = $fnFM9$useState();\n    const ref = $fnFM9$useRef(null);\n    const composeRefs = $fnFM9$useComposedRefs(forwardedRef, ref, context.onScrollbarXChange);\n    $fnFM9$useEffect(()=>{\n        if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n    }, [\n        ref\n    ]);\n    return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl, $fnFM9$babelruntimehelpersesmextends({\n        \"data-orientation\": \"horizontal\"\n    }, scrollbarProps, {\n        ref: composeRefs,\n        sizes: sizes,\n        style: {\n            bottom: 0,\n            left: context.dir === 'rtl' ? 'var(--radix-scroll-area-corner-width)' : 0,\n            right: context.dir === 'ltr' ? 'var(--radix-scroll-area-corner-width)' : 0,\n            ['--radix-scroll-area-thumb-width']: $57acba87d6e25586$var$getThumbSize(sizes) + 'px',\n            ...props.style\n        },\n        onThumbPointerDown: (pointerPos)=>props.onThumbPointerDown(pointerPos.x)\n        ,\n        onDragScroll: (pointerPos)=>props.onDragScroll(pointerPos.x)\n        ,\n        onWheelScroll: (event, maxScrollPos)=>{\n            if (context.viewport) {\n                const scrollPos = context.viewport.scrollLeft + event.deltaX;\n                props.onWheelScroll(scrollPos); // prevent window scroll when wheeling on scrollbar\n                if ($57acba87d6e25586$var$isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) event.preventDefault();\n            }\n        },\n        onResize: ()=>{\n            if (ref.current && context.viewport && computedStyle) onSizesChange({\n                content: context.viewport.scrollWidth,\n                viewport: context.viewport.offsetWidth,\n                scrollbar: {\n                    size: ref.current.clientWidth,\n                    paddingStart: $57acba87d6e25586$var$toInt(computedStyle.paddingLeft),\n                    paddingEnd: $57acba87d6e25586$var$toInt(computedStyle.paddingRight)\n                }\n            });\n        }\n    }));\n});\nconst $57acba87d6e25586$var$ScrollAreaScrollbarY = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { sizes: sizes , onSizesChange: onSizesChange , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, props.__scopeScrollArea);\n    const [computedStyle, setComputedStyle] = $fnFM9$useState();\n    const ref = $fnFM9$useRef(null);\n    const composeRefs = $fnFM9$useComposedRefs(forwardedRef, ref, context.onScrollbarYChange);\n    $fnFM9$useEffect(()=>{\n        if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n    }, [\n        ref\n    ]);\n    return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl, $fnFM9$babelruntimehelpersesmextends({\n        \"data-orientation\": \"vertical\"\n    }, scrollbarProps, {\n        ref: composeRefs,\n        sizes: sizes,\n        style: {\n            top: 0,\n            right: context.dir === 'ltr' ? 0 : undefined,\n            left: context.dir === 'rtl' ? 0 : undefined,\n            bottom: 'var(--radix-scroll-area-corner-height)',\n            ['--radix-scroll-area-thumb-height']: $57acba87d6e25586$var$getThumbSize(sizes) + 'px',\n            ...props.style\n        },\n        onThumbPointerDown: (pointerPos)=>props.onThumbPointerDown(pointerPos.y)\n        ,\n        onDragScroll: (pointerPos)=>props.onDragScroll(pointerPos.y)\n        ,\n        onWheelScroll: (event, maxScrollPos)=>{\n            if (context.viewport) {\n                const scrollPos = context.viewport.scrollTop + event.deltaY;\n                props.onWheelScroll(scrollPos); // prevent window scroll when wheeling on scrollbar\n                if ($57acba87d6e25586$var$isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) event.preventDefault();\n            }\n        },\n        onResize: ()=>{\n            if (ref.current && context.viewport && computedStyle) onSizesChange({\n                content: context.viewport.scrollHeight,\n                viewport: context.viewport.offsetHeight,\n                scrollbar: {\n                    size: ref.current.clientHeight,\n                    paddingStart: $57acba87d6e25586$var$toInt(computedStyle.paddingTop),\n                    paddingEnd: $57acba87d6e25586$var$toInt(computedStyle.paddingBottom)\n                }\n            });\n        }\n    }));\n});\n/* -----------------------------------------------------------------------------------------------*/ const [$57acba87d6e25586$var$ScrollbarProvider, $57acba87d6e25586$var$useScrollbarContext] = $57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME);\nconst $57acba87d6e25586$var$ScrollAreaScrollbarImpl = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { __scopeScrollArea: __scopeScrollArea , sizes: sizes , hasThumb: hasThumb , onThumbChange: onThumbChange , onThumbPointerUp: onThumbPointerUp , onThumbPointerDown: onThumbPointerDown , onThumbPositionChange: onThumbPositionChange , onDragScroll: onDragScroll , onWheelScroll: onWheelScroll , onResize: onResize , ...scrollbarProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME, __scopeScrollArea);\n    const [scrollbar, setScrollbar] = $fnFM9$useState(null);\n    const composeRefs = $fnFM9$useComposedRefs(forwardedRef, (node)=>setScrollbar(node)\n    );\n    const rectRef = $fnFM9$useRef(null);\n    const prevWebkitUserSelectRef = $fnFM9$useRef('');\n    const viewport = context.viewport;\n    const maxScrollPos = sizes.content - sizes.viewport;\n    const handleWheelScroll = $fnFM9$useCallbackRef(onWheelScroll);\n    const handleThumbPositionChange = $fnFM9$useCallbackRef(onThumbPositionChange);\n    const handleResize = $57acba87d6e25586$var$useDebounceCallback(onResize, 10);\n    function handleDragScroll(event) {\n        if (rectRef.current) {\n            const x = event.clientX - rectRef.current.left;\n            const y = event.clientY - rectRef.current.top;\n            onDragScroll({\n                x: x,\n                y: y\n            });\n        }\n    }\n    /**\n   * We bind wheel event imperatively so we can switch off passive\n   * mode for document wheel event to allow it to be prevented\n   */ $fnFM9$useEffect(()=>{\n        const handleWheel = (event)=>{\n            const element = event.target;\n            const isScrollbarWheel = scrollbar === null || scrollbar === void 0 ? void 0 : scrollbar.contains(element);\n            if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n        };\n        document.addEventListener('wheel', handleWheel, {\n            passive: false\n        });\n        return ()=>document.removeEventListener('wheel', handleWheel, {\n                passive: false\n            })\n        ;\n    }, [\n        viewport,\n        scrollbar,\n        maxScrollPos,\n        handleWheelScroll\n    ]);\n    /**\n   * Update thumb position on sizes change\n   */ $fnFM9$useEffect(handleThumbPositionChange, [\n        sizes,\n        handleThumbPositionChange\n    ]);\n    $57acba87d6e25586$var$useResizeObserver(scrollbar, handleResize);\n    $57acba87d6e25586$var$useResizeObserver(context.content, handleResize);\n    return /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollbarProvider, {\n        scope: __scopeScrollArea,\n        scrollbar: scrollbar,\n        hasThumb: hasThumb,\n        onThumbChange: $fnFM9$useCallbackRef(onThumbChange),\n        onThumbPointerUp: $fnFM9$useCallbackRef(onThumbPointerUp),\n        onThumbPositionChange: handleThumbPositionChange,\n        onThumbPointerDown: $fnFM9$useCallbackRef(onThumbPointerDown)\n    }, /*#__PURE__*/ $fnFM9$createElement($fnFM9$Primitive.div, $fnFM9$babelruntimehelpersesmextends({}, scrollbarProps, {\n        ref: composeRefs,\n        style: {\n            position: 'absolute',\n            ...scrollbarProps.style\n        },\n        onPointerDown: $fnFM9$composeEventHandlers(props.onPointerDown, (event)=>{\n            const mainPointer = 0;\n            if (event.button === mainPointer) {\n                const element = event.target;\n                element.setPointerCapture(event.pointerId);\n                rectRef.current = scrollbar.getBoundingClientRect(); // pointer capture doesn't prevent text selection in Safari\n                // so we remove text selection manually when scrolling\n                prevWebkitUserSelectRef.current = document.body.style.webkitUserSelect;\n                document.body.style.webkitUserSelect = 'none';\n                if (context.viewport) context.viewport.style.scrollBehavior = 'auto';\n                handleDragScroll(event);\n            }\n        }),\n        onPointerMove: $fnFM9$composeEventHandlers(props.onPointerMove, handleDragScroll),\n        onPointerUp: $fnFM9$composeEventHandlers(props.onPointerUp, (event)=>{\n            const element = event.target;\n            if (element.hasPointerCapture(event.pointerId)) element.releasePointerCapture(event.pointerId);\n            document.body.style.webkitUserSelect = prevWebkitUserSelectRef.current;\n            if (context.viewport) context.viewport.style.scrollBehavior = '';\n            rectRef.current = null;\n        })\n    })));\n});\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaThumb\n * -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$THUMB_NAME = 'ScrollAreaThumb';\nconst $57acba87d6e25586$export$9fba1154677d7cd2 = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { forceMount: forceMount , ...thumbProps } = props;\n    const scrollbarContext = $57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME, props.__scopeScrollArea);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Presence, {\n        present: forceMount || scrollbarContext.hasThumb\n    }, /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaThumbImpl, $fnFM9$babelruntimehelpersesmextends({\n        ref: forwardedRef\n    }, thumbProps)));\n});\nconst $57acba87d6e25586$var$ScrollAreaThumbImpl = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { __scopeScrollArea: __scopeScrollArea , style: style , ...thumbProps } = props;\n    const scrollAreaContext = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$THUMB_NAME, __scopeScrollArea);\n    const scrollbarContext = $57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME, __scopeScrollArea);\n    const { onThumbPositionChange: onThumbPositionChange  } = scrollbarContext;\n    const composedRef = $fnFM9$useComposedRefs(forwardedRef, (node)=>scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = $fnFM9$useRef();\n    const debounceScrollEnd = $57acba87d6e25586$var$useDebounceCallback(()=>{\n        if (removeUnlinkedScrollListenerRef.current) {\n            removeUnlinkedScrollListenerRef.current();\n            removeUnlinkedScrollListenerRef.current = undefined;\n        }\n    }, 100);\n    $fnFM9$useEffect(()=>{\n        const viewport = scrollAreaContext.viewport;\n        if (viewport) {\n            /**\n       * We only bind to native scroll event so we know when scroll starts and ends.\n       * When scroll starts we start a requestAnimationFrame loop that checks for\n       * changes to scroll position. That rAF loop triggers our thumb position change\n       * when relevant to avoid scroll-linked effects. We cancel the loop when scroll ends.\n       * https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Scroll-linked_effects\n       */ const handleScroll = ()=>{\n                debounceScrollEnd();\n                if (!removeUnlinkedScrollListenerRef.current) {\n                    const listener = $57acba87d6e25586$var$addUnlinkedScrollListener(viewport, onThumbPositionChange);\n                    removeUnlinkedScrollListenerRef.current = listener;\n                    onThumbPositionChange();\n                }\n            };\n            onThumbPositionChange();\n            viewport.addEventListener('scroll', handleScroll);\n            return ()=>viewport.removeEventListener('scroll', handleScroll)\n            ;\n        }\n    }, [\n        scrollAreaContext.viewport,\n        debounceScrollEnd,\n        onThumbPositionChange\n    ]);\n    return /*#__PURE__*/ $fnFM9$createElement($fnFM9$Primitive.div, $fnFM9$babelruntimehelpersesmextends({\n        \"data-state\": scrollbarContext.hasThumb ? 'visible' : 'hidden'\n    }, thumbProps, {\n        ref: composedRef,\n        style: {\n            width: 'var(--radix-scroll-area-thumb-width)',\n            height: 'var(--radix-scroll-area-thumb-height)',\n            ...style\n        },\n        onPointerDownCapture: $fnFM9$composeEventHandlers(props.onPointerDownCapture, (event)=>{\n            const thumb = event.target;\n            const thumbRect = thumb.getBoundingClientRect();\n            const x = event.clientX - thumbRect.left;\n            const y = event.clientY - thumbRect.top;\n            scrollbarContext.onThumbPointerDown({\n                x: x,\n                y: y\n            });\n        }),\n        onPointerUp: $fnFM9$composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)\n    }));\n});\n/*#__PURE__*/ Object.assign($57acba87d6e25586$export$9fba1154677d7cd2, {\n    displayName: $57acba87d6e25586$var$THUMB_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ScrollAreaCorner\n * -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$CORNER_NAME = 'ScrollAreaCorner';\nconst $57acba87d6e25586$export$56969d565df7cc4b = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME, props.__scopeScrollArea);\n    const hasBothScrollbarsVisible = Boolean(context.scrollbarX && context.scrollbarY);\n    const hasCorner = context.type !== 'scroll' && hasBothScrollbarsVisible;\n    return hasCorner ? /*#__PURE__*/ $fnFM9$createElement($57acba87d6e25586$var$ScrollAreaCornerImpl, $fnFM9$babelruntimehelpersesmextends({}, props, {\n        ref: forwardedRef\n    })) : null;\n});\n/*#__PURE__*/ Object.assign($57acba87d6e25586$export$56969d565df7cc4b, {\n    displayName: $57acba87d6e25586$var$CORNER_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$var$ScrollAreaCornerImpl = /*#__PURE__*/ $fnFM9$forwardRef((props, forwardedRef)=>{\n    const { __scopeScrollArea: __scopeScrollArea , ...cornerProps } = props;\n    const context = $57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME, __scopeScrollArea);\n    const [width1, setWidth] = $fnFM9$useState(0);\n    const [height1, setHeight] = $fnFM9$useState(0);\n    const hasSize = Boolean(width1 && height1);\n    $57acba87d6e25586$var$useResizeObserver(context.scrollbarX, ()=>{\n        var _context$scrollbarX;\n        const height = ((_context$scrollbarX = context.scrollbarX) === null || _context$scrollbarX === void 0 ? void 0 : _context$scrollbarX.offsetHeight) || 0;\n        context.onCornerHeightChange(height);\n        setHeight(height);\n    });\n    $57acba87d6e25586$var$useResizeObserver(context.scrollbarY, ()=>{\n        var _context$scrollbarY;\n        const width = ((_context$scrollbarY = context.scrollbarY) === null || _context$scrollbarY === void 0 ? void 0 : _context$scrollbarY.offsetWidth) || 0;\n        context.onCornerWidthChange(width);\n        setWidth(width);\n    });\n    return hasSize ? /*#__PURE__*/ $fnFM9$createElement($fnFM9$Primitive.div, $fnFM9$babelruntimehelpersesmextends({}, cornerProps, {\n        ref: forwardedRef,\n        style: {\n            width: width1,\n            height: height1,\n            position: 'absolute',\n            right: context.dir === 'ltr' ? 0 : undefined,\n            left: context.dir === 'rtl' ? 0 : undefined,\n            bottom: 0,\n            ...props.style\n        }\n    })) : null;\n});\n/* -----------------------------------------------------------------------------------------------*/ function $57acba87d6e25586$var$toInt(value) {\n    return value ? parseInt(value, 10) : 0;\n}\nfunction $57acba87d6e25586$var$getThumbRatio(viewportSize, contentSize) {\n    const ratio = viewportSize / contentSize;\n    return isNaN(ratio) ? 0 : ratio;\n}\nfunction $57acba87d6e25586$var$getThumbSize(sizes) {\n    const ratio = $57acba87d6e25586$var$getThumbRatio(sizes.viewport, sizes.content);\n    const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n    const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio; // minimum of 18 matches macOS minimum\n    return Math.max(thumbSize, 18);\n}\nfunction $57acba87d6e25586$var$getScrollPositionFromPointer(pointerPos, pointerOffset, sizes, dir = 'ltr') {\n    const thumbSizePx = $57acba87d6e25586$var$getThumbSize(sizes);\n    const thumbCenter = thumbSizePx / 2;\n    const offset = pointerOffset || thumbCenter;\n    const thumbOffsetFromEnd = thumbSizePx - offset;\n    const minPointerPos = sizes.scrollbar.paddingStart + offset;\n    const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n    const maxScrollPos = sizes.content - sizes.viewport;\n    const scrollRange = dir === 'ltr' ? [\n        0,\n        maxScrollPos\n    ] : [\n        maxScrollPos * -1,\n        0\n    ];\n    const interpolate = $57acba87d6e25586$var$linearScale([\n        minPointerPos,\n        maxPointerPos\n    ], scrollRange);\n    return interpolate(pointerPos);\n}\nfunction $57acba87d6e25586$var$getThumbOffsetFromScroll(scrollPos, sizes, dir = 'ltr') {\n    const thumbSizePx = $57acba87d6e25586$var$getThumbSize(sizes);\n    const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n    const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n    const maxScrollPos = sizes.content - sizes.viewport;\n    const maxThumbPos = scrollbar - thumbSizePx;\n    const scrollClampRange = dir === 'ltr' ? [\n        0,\n        maxScrollPos\n    ] : [\n        maxScrollPos * -1,\n        0\n    ];\n    const scrollWithoutMomentum = $fnFM9$clamp(scrollPos, scrollClampRange);\n    const interpolate = $57acba87d6e25586$var$linearScale([\n        0,\n        maxScrollPos\n    ], [\n        0,\n        maxThumbPos\n    ]);\n    return interpolate(scrollWithoutMomentum);\n} // https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction $57acba87d6e25586$var$linearScale(input, output) {\n    return (value)=>{\n        if (input[0] === input[1] || output[0] === output[1]) return output[0];\n        const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n        return output[0] + ratio * (value - input[0]);\n    };\n}\nfunction $57acba87d6e25586$var$isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos) {\n    return scrollPos > 0 && scrollPos < maxScrollPos;\n} // Custom scroll handler to avoid scroll-linked effects\n// https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Scroll-linked_effects\nconst $57acba87d6e25586$var$addUnlinkedScrollListener = (node, handler = ()=>{})=>{\n    let prevPosition = {\n        left: node.scrollLeft,\n        top: node.scrollTop\n    };\n    let rAF = 0;\n    (function loop() {\n        const position = {\n            left: node.scrollLeft,\n            top: node.scrollTop\n        };\n        const isHorizontalScroll = prevPosition.left !== position.left;\n        const isVerticalScroll = prevPosition.top !== position.top;\n        if (isHorizontalScroll || isVerticalScroll) handler();\n        prevPosition = position;\n        rAF = window.requestAnimationFrame(loop);\n    })();\n    return ()=>window.cancelAnimationFrame(rAF)\n    ;\n};\nfunction $57acba87d6e25586$var$useDebounceCallback(callback, delay) {\n    const handleCallback = $fnFM9$useCallbackRef(callback);\n    const debounceTimerRef = $fnFM9$useRef(0);\n    $fnFM9$useEffect(()=>()=>window.clearTimeout(debounceTimerRef.current)\n    , []);\n    return $fnFM9$useCallback(()=>{\n        window.clearTimeout(debounceTimerRef.current);\n        debounceTimerRef.current = window.setTimeout(handleCallback, delay);\n    }, [\n        handleCallback,\n        delay\n    ]);\n}\nfunction $57acba87d6e25586$var$useResizeObserver(element, onResize) {\n    const handleResize = $fnFM9$useCallbackRef(onResize);\n    $fnFM9$useLayoutEffect(()=>{\n        let rAF = 0;\n        if (element) {\n            /**\n       * Resize Observer will throw an often benign error that says `ResizeObserver loop\n       * completed with undelivered notifications`. This means that ResizeObserver was not\n       * able to deliver all observations within a single animation frame, so we use\n       * `requestAnimationFrame` to ensure we don't deliver unnecessary observations.\n       * Further reading: https://github.com/WICG/resize-observer/issues/38\n       */ const resizeObserver = new ResizeObserver(()=>{\n                cancelAnimationFrame(rAF);\n                rAF = window.requestAnimationFrame(handleResize);\n            });\n            resizeObserver.observe(element);\n            return ()=>{\n                window.cancelAnimationFrame(rAF);\n                resizeObserver.unobserve(element);\n            };\n        }\n    }, [\n        element,\n        handleResize\n    ]);\n}\n/* -----------------------------------------------------------------------------------------------*/ const $57acba87d6e25586$export$be92b6f5f03c0fe9 = $57acba87d6e25586$export$ccf8d8d7bbf3c2cc;\nconst $57acba87d6e25586$export$d5c6c08dc2d3ca7 = $57acba87d6e25586$export$a21cbf9f11fca853;\nconst $57acba87d6e25586$export$9a4e88b92edfce6b = $57acba87d6e25586$export$2fabd85d0eba3c57;\nconst $57acba87d6e25586$export$6521433ed15a34db = $57acba87d6e25586$export$9fba1154677d7cd2;\nconst $57acba87d6e25586$export$ac61190d9fc311a9 = $57acba87d6e25586$export$56969d565df7cc4b;\n\n\n\n\nexport {$57acba87d6e25586$export$488468afe3a6f2b1 as createScrollAreaScope, $57acba87d6e25586$export$ccf8d8d7bbf3c2cc as ScrollArea, $57acba87d6e25586$export$a21cbf9f11fca853 as ScrollAreaViewport, $57acba87d6e25586$export$2fabd85d0eba3c57 as ScrollAreaScrollbar, $57acba87d6e25586$export$9fba1154677d7cd2 as ScrollAreaThumb, $57acba87d6e25586$export$56969d565df7cc4b as ScrollAreaCorner, $57acba87d6e25586$export$be92b6f5f03c0fe9 as Root, $57acba87d6e25586$export$d5c6c08dc2d3ca7 as Viewport, $57acba87d6e25586$export$9a4e88b92edfce6b as Scrollbar, $57acba87d6e25586$export$6521433ed15a34db as Thumb, $57acba87d6e25586$export$ac61190d9fc311a9 as Corner};\n//# sourceMappingURL=index.mjs.map\n","import * as React from 'react';\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';\nimport { cn } from '../../lib/utils';\n\ninterface ScrollAreaProps extends React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root> {\n  className?: string;\n  children: React.ReactNode;\n}\n\nexport function ScrollArea({ className, children, ...props }: ScrollAreaProps) {\n  return (\n    <ScrollAreaPrimitive.Root\n      className={cn('relative overflow-hidden', className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollAreaPrimitive.Scrollbar\n        className=\"flex select-none touch-none p-0.5 bg-secondary/50 transition-colors hover:bg-secondary/80\"\n        orientation=\"vertical\"\n      >\n        <ScrollAreaPrimitive.Thumb className=\"flex-1 bg-foreground/20 rounded-full relative\" />\n      </ScrollAreaPrimitive.Scrollbar>\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  );\n}","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","class Queue {\n    constructor() {\n        this.order = [];\n        this.scheduled = new Set();\n    }\n    add(process) {\n        if (!this.scheduled.has(process)) {\n            this.scheduled.add(process);\n            this.order.push(process);\n            return true;\n        }\n    }\n    remove(process) {\n        const index = this.order.indexOf(process);\n        if (index !== -1) {\n            this.order.splice(index, 1);\n            this.scheduled.delete(process);\n        }\n    }\n    clear() {\n        this.order.length = 0;\n        this.scheduled.clear();\n    }\n}\nfunction createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Queue();\n    let nextFrame = new Queue();\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (queue.add(callback) && addToCurrentFrame && isProcessing) {\n                // If we're adding it to the currently running queue, update its measured size\n                numToRun = thisFrame.order.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.remove(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            numToRun = thisFrame.order.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = thisFrame.order[i];\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                    callback(frameData);\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"prepare\",\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => {\n        steps[stepId].process(state);\n    };\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const wantsHandoff = useRef(Boolean(props[optimizedAppearDataAttribute] && !window.HandoffComplete));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        microtask.postRender(visualElement.render);\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            wantsHandoff.current = false;\n            // This ensures all future calls to animateChanges() will run in useEffect\n            window.HandoffComplete = true;\n        }\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst isCSSVariableToken = checkStringStartsWith(\"var(--\");\nconst cssVariableRegex = /var\\s*\\(\\s*--[\\w-]+(\\s*,\\s*(?:(?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)+)?\\s*\\)/g;\n\nexport { cssVariableRegex, isCSSVariableName, isCSSVariableToken };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = {\n            ...filteredProps,\n            ...visualProps,\n            ref,\n        };\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","const noop = (any) => any;\n\nexport { noop };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            frame.update(() => props[callbackName](event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            if (this.isPressing)\n                return;\n            this.removeEndListeners();\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel, globalTapTarget } = this.node.getProps();\n                frame.update(() => {\n                    /**\n                     * We only count this as a tap gesture if the event.target is the same\n                     * as, or a child of, this component's element\n                     */\n                    !globalTapTarget &&\n                        !isNodeOrChild(this.node.current, endEvent.target)\n                        ? onTapCancel && onTapCancel(endEvent, endInfo)\n                        : onTap && onTap(endEvent, endInfo);\n                });\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.update(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.update(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.update(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(props.globalTapTarget ? window : this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","function getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }) {\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : keyframes.length - 1;\n    return keyframes[index];\n}\n\nexport { getFinalKeyframe };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { invariant } from './errors.mjs';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\nimport { hex } from '../value/types/color/hex.mjs';\nimport { rgba } from '../value/types/color/rgba.mjs';\nimport { hsla } from '../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    return Math.sqrt(Math.max(0, v * (to * to - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mix(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { cssVariableRegex } from '../../../render/dom/utils/is-css-variable.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { colorRegex, floatRegex, isString, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst cssVarTokeniser = {\n    regex: cssVariableRegex,\n    countKey: \"Vars\",\n    token: \"${v}\",\n    parse: noop,\n};\nconst colorTokeniser = {\n    regex: colorRegex,\n    countKey: \"Colors\",\n    token: \"${c}\",\n    parse: color.parse,\n};\nconst numberTokeniser = {\n    regex: floatRegex,\n    countKey: \"Numbers\",\n    token: \"${n}\",\n    parse: number.parse,\n};\nfunction tokenise(info, { regex, countKey, token, parse }) {\n    const matches = info.tokenised.match(regex);\n    if (!matches)\n        return;\n    info[\"num\" + countKey] = matches.length;\n    info.tokenised = info.tokenised.replace(regex, token);\n    info.values.push(...matches.map(parse));\n}\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const info = {\n        value: originalValue,\n        tokenised: originalValue,\n        values: [],\n        numVars: 0,\n        numColors: 0,\n        numNumbers: 0,\n    };\n    if (info.value.includes(\"var(--\"))\n        tokenise(info, cssVarTokeniser);\n    tokenise(info, colorTokeniser);\n    tokenise(info, numberTokeniser);\n    return info;\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { values, numColors, numVars, tokenised } = analyseComplexValue(source);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            if (i < numVars) {\n                output = output.replace(cssVarTokeniser.token, v[i]);\n            }\n            else if (i < numVars + numColors) {\n                output = output.replace(colorTokeniser.token, color.transform(v[i]));\n            }\n            else {\n                output = output.replace(numberTokeniser.token, sanitize(v[i]));\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../value/types/complex/index.mjs';\n\nconst mixImmediate = (origin, target) => (p) => `${p > 0 ? target : origin}`;\nfunction getMixer(origin, target) {\n    if (typeof origin === \"number\") {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return origin.startsWith(\"var(\")\n            ? mixImmediate(origin, target)\n            : mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = { ...origin, ...target };\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.numVars === targetStats.numVars &&\n        originStats.numColors === targetStats.numColors &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.values, targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { invariant } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof v === \"string\") {\n        return color.test(v) ? mixColor : mixComplex;\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === \"object\") {\n        return mixObject;\n    }\n    return mixNumber;\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { mix } from '../mix.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t > timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { keyframes } from '../../generators/keyframes.mjs';\nimport { spring } from '../../generators/spring/index.mjs';\nimport { inertia } from '../../generators/inertia.mjs';\nimport { frameloopDriver } from './driver-frameloop.mjs';\nimport { interpolate } from '../../../utils/interpolate.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../generators/utils/calc-duration.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\n\nconst types = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\n/**\n * Animate a single value on the main thread.\n *\n * This function is written, where functionality overlaps,\n * to be largely spec-compliant with WAAPI to allow fungibility\n * between the two.\n */\nfunction animateValue({ autoplay = true, delay = 0, driver = frameloopDriver, keyframes: keyframes$1, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", onPlay, onStop, onComplete, onUpdate, ...options }) {\n    let speed = 1;\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let animationDriver;\n    const generatorFactory = types[type] || keyframes;\n    /**\n     * If this isn't the keyframes generator and we've been provided\n     * strings as keyframes, we need to interpolate these.\n     */\n    let mapNumbersToKeyframes;\n    if (generatorFactory !== keyframes &&\n        typeof keyframes$1[0] !== \"number\") {\n        if (process.env.NODE_ENV !== \"production\") {\n            invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n        }\n        mapNumbersToKeyframes = interpolate([0, 100], keyframes$1, {\n            clamp: false,\n        });\n        keyframes$1 = [0, 100];\n    }\n    const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n    let mirroredGenerator;\n    if (repeatType === \"mirror\") {\n        mirroredGenerator = generatorFactory({\n            ...options,\n            keyframes: [...keyframes$1].reverse(),\n            velocity: -(options.velocity || 0),\n        });\n    }\n    let playState = \"idle\";\n    let holdTime = null;\n    let startTime = null;\n    let cancelTime = null;\n    /**\n     * If duration is undefined and we have repeat options,\n     * we need to calculate a duration from the generator.\n     *\n     * We set it to the generator itself to cache the duration.\n     * Any timeline resolver will need to have already precalculated\n     * the duration by this step.\n     */\n    if (generator.calculatedDuration === null && repeat) {\n        generator.calculatedDuration = calcGeneratorDuration(generator);\n    }\n    const { calculatedDuration } = generator;\n    let resolvedDuration = Infinity;\n    let totalDuration = Infinity;\n    if (calculatedDuration !== null) {\n        resolvedDuration = calculatedDuration + repeatDelay;\n        totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n    }\n    let currentTime = 0;\n    const tick = (timestamp) => {\n        if (startTime === null)\n            return;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (speed > 0)\n            startTime = Math.min(startTime, timestamp);\n        if (speed < 0)\n            startTime = Math.min(timestamp - totalDuration / speed, startTime);\n        if (holdTime !== null) {\n            currentTime = holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            currentTime = Math.round(timestamp - startTime) * speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = currentTime - delay * (speed >= 0 ? 1 : -1);\n        const isInDelayPhase = speed >= 0 ? timeWithoutDelay < 0 : timeWithoutDelay > totalDuration;\n        currentTime = Math.max(timeWithoutDelay, 0);\n        /**\n         * If this animation has finished, set the current time\n         * to the total duration.\n         */\n        if (playState === \"finished\" && holdTime === null) {\n            currentTime = totalDuration;\n        }\n        let elapsed = currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes$1[0] }\n            : frameGenerator.next(elapsed);\n        if (mapNumbersToKeyframes) {\n            state.value = mapNumbersToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done = speed >= 0 ? currentTime >= totalDuration : currentTime <= 0;\n        }\n        const isAnimationFinished = holdTime === null &&\n            (playState === \"finished\" || (playState === \"running\" && done));\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            finish();\n        }\n        return state;\n    };\n    const stopAnimationDriver = () => {\n        animationDriver && animationDriver.stop();\n        animationDriver = undefined;\n    };\n    const cancel = () => {\n        playState = \"idle\";\n        stopAnimationDriver();\n        resolveFinishedPromise();\n        updateFinishedPromise();\n        startTime = cancelTime = null;\n    };\n    const finish = () => {\n        playState = \"finished\";\n        onComplete && onComplete();\n        stopAnimationDriver();\n        resolveFinishedPromise();\n    };\n    const play = () => {\n        if (hasStopped)\n            return;\n        if (!animationDriver)\n            animationDriver = driver(tick);\n        const now = animationDriver.now();\n        onPlay && onPlay();\n        if (holdTime !== null) {\n            startTime = now - holdTime;\n        }\n        else if (!startTime || playState === \"finished\") {\n            startTime = now;\n        }\n        if (playState === \"finished\") {\n            updateFinishedPromise();\n        }\n        cancelTime = startTime;\n        holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        playState = \"running\";\n        animationDriver.start();\n    };\n    if (autoplay) {\n        play();\n    }\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        get time() {\n            return millisecondsToSeconds(currentTime);\n        },\n        set time(newTime) {\n            newTime = secondsToMilliseconds(newTime);\n            currentTime = newTime;\n            if (holdTime !== null || !animationDriver || speed === 0) {\n                holdTime = newTime;\n            }\n            else {\n                startTime = animationDriver.now() - newTime / speed;\n            }\n        },\n        get duration() {\n            const duration = generator.calculatedDuration === null\n                ? calcGeneratorDuration(generator)\n                : generator.calculatedDuration;\n            return millisecondsToSeconds(duration);\n        },\n        get speed() {\n            return speed;\n        },\n        set speed(newSpeed) {\n            if (newSpeed === speed || !animationDriver)\n                return;\n            speed = newSpeed;\n            controls.time = millisecondsToSeconds(currentTime);\n        },\n        get state() {\n            return playState;\n        },\n        play,\n        pause: () => {\n            playState = \"paused\";\n            holdTime = currentTime;\n        },\n        stop: () => {\n            hasStopped = true;\n            if (playState === \"idle\")\n                return;\n            playState = \"idle\";\n            onStop && onStop();\n            cancel();\n        },\n        cancel: () => {\n            if (cancelTime !== null)\n                tick(cancelTime);\n            cancel();\n        },\n        complete: () => {\n            playState = \"finished\";\n        },\n        sample: (elapsed) => {\n            startTime = 0;\n            return tick(elapsed);\n        },\n    };\n    return controls;\n}\n\nexport { animateValue };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { animateStyle } from './index.mjs';\nimport { isWaapiSupportedEasing } from './easing.mjs';\nimport { getFinalKeyframe } from './utils/get-final-keyframe.mjs';\nimport { animateValue } from '../js/index.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { memo } from '../../../utils/memo.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    \"backgroundColor\",\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\nconst requiresPregeneratedKeyframes = (valueName, options) => options.type === \"spring\" ||\n    valueName === \"backgroundColor\" ||\n    !isWaapiSupportedEasing(options.ease);\nfunction createAcceleratedAnimation(value, valueName, { onUpdate, onComplete, ...options }) {\n    const canAccelerateAnimation = supportsWaapi() &&\n        acceleratedValues.has(valueName) &&\n        !options.repeatDelay &&\n        options.repeatType !== \"mirror\" &&\n        options.damping !== 0 &&\n        options.type !== \"inertia\";\n    if (!canAccelerateAnimation)\n        return false;\n    /**\n     * TODO: Unify with js/index\n     */\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Cancelling an animation will write to the DOM. For safety we want to defer\n     * this until the next `update` frame lifecycle. This flag tracks whether we\n     * have a pending cancel, if so we shouldn't allow animations to finish.\n     */\n    let pendingCancel = false;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let { keyframes, duration = 300, ease, times } = options;\n    /**\n     * If this animation needs pre-generated keyframes then generate.\n     */\n    if (requiresPregeneratedKeyframes(valueName, options)) {\n        const sampleAnimation = animateValue({\n            ...options,\n            repeat: 0,\n            delay: 0,\n        });\n        let state = { done: false, value: keyframes[0] };\n        const pregeneratedKeyframes = [];\n        /**\n         * Bail after 20 seconds of pre-generated keyframes as it's likely\n         * we're heading for an infinite loop.\n         */\n        let t = 0;\n        while (!state.done && t < maxDuration) {\n            state = sampleAnimation.sample(t);\n            pregeneratedKeyframes.push(state.value);\n            t += sampleDelta;\n        }\n        times = undefined;\n        keyframes = pregeneratedKeyframes;\n        duration = t - sampleDelta;\n        ease = \"linear\";\n    }\n    const animation = animateStyle(value.owner.current, valueName, keyframes, {\n        ...options,\n        duration,\n        /**\n         * This function is currently not called if ease is provided\n         * as a function so the cast is safe.\n         *\n         * However it would be possible for a future refinement to port\n         * in easing pregeneration from Motion One for browsers that\n         * support the upcoming `linear()` easing function.\n         */\n        ease: ease,\n        times,\n    });\n    const cancelAnimation = () => {\n        pendingCancel = false;\n        animation.cancel();\n    };\n    const safeCancel = () => {\n        pendingCancel = true;\n        frame.update(cancelAnimation);\n        resolveFinishedPromise();\n        updateFinishedPromise();\n    };\n    /**\n     * Prefer the `onfinish` prop as it's more widely supported than\n     * the `finished` promise.\n     *\n     * Here, we synchronously set the provided MotionValue to the end\n     * keyframe. If we didn't, when the WAAPI animation is finished it would\n     * be removed from the element which would then revert to its old styles.\n     */\n    animation.onfinish = () => {\n        if (pendingCancel)\n            return;\n        value.set(getFinalKeyframe(keyframes, options));\n        onComplete && onComplete();\n        safeCancel();\n    };\n    /**\n     * Animation interrupt callback.\n     */\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        attachTimeline(timeline) {\n            animation.timeline = timeline;\n            animation.onfinish = null;\n            return noop;\n        },\n        get time() {\n            return millisecondsToSeconds(animation.currentTime || 0);\n        },\n        set time(newTime) {\n            animation.currentTime = secondsToMilliseconds(newTime);\n        },\n        get speed() {\n            return animation.playbackRate;\n        },\n        set speed(newSpeed) {\n            animation.playbackRate = newSpeed;\n        },\n        get duration() {\n            return millisecondsToSeconds(duration);\n        },\n        play: () => {\n            if (hasStopped)\n                return;\n            animation.play();\n            /**\n             * Cancel any pending cancel tasks\n             */\n            cancelFrame(cancelAnimation);\n        },\n        pause: () => animation.pause(),\n        stop: () => {\n            hasStopped = true;\n            if (animation.playState === \"idle\")\n                return;\n            /**\n             * WAAPI doesn't natively have any interruption capabilities.\n             *\n             * Rather than read commited styles back out of the DOM, we can\n             * create a renderless JS animation and sample it twice to calculate\n             * its current value, \"previous\" value, and therefore allow\n             * Motion to calculate velocity for any subsequent animation.\n             */\n            const { currentTime } = animation;\n            if (currentTime) {\n                const sampleAnimation = animateValue({\n                    ...options,\n                    autoplay: false,\n                });\n                value.setWithVelocity(sampleAnimation.sample(currentTime - sampleDelta).value, sampleAnimation.sample(currentTime).value, sampleDelta);\n            }\n            safeCancel();\n        },\n        complete: () => {\n            if (pendingCancel)\n                return;\n            animation.finish();\n        },\n        cancel: safeCancel,\n    };\n    return controls;\n}\n\nexport { createAcceleratedAnimation };\n","import { animateValue } from './js/index.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nfunction createInstantAnimation({ keyframes, delay, onUpdate, onComplete, }) {\n    const setValue = () => {\n        onUpdate && onUpdate(keyframes[keyframes.length - 1]);\n        onComplete && onComplete();\n        /**\n         * TODO: As this API grows it could make sense to always return\n         * animateValue. This will be a bigger project as animateValue\n         * is frame-locked whereas this function resolves instantly.\n         * This is a behavioural change and also has ramifications regarding\n         * assumptions within tests.\n         */\n        return {\n            time: 0,\n            speed: 1,\n            duration: 0,\n            play: (noop),\n            pause: (noop),\n            stop: (noop),\n            then: (resolve) => {\n                resolve();\n                return Promise.resolve();\n            },\n            cancel: (noop),\n            complete: (noop),\n        };\n    };\n    return delay\n        ? animateValue({\n            keyframes: [0, 1],\n            duration: 0,\n            delay,\n            onComplete: setValue,\n        })\n        : setValue();\n}\n\nexport { createInstantAnimation };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/.test(v);\n\nexport { isZeroValueString };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n}\n\nexport { isNone };\n","import { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { isNone } from './is-none.mjs';\n\nfunction getKeyframes(value, valueName, target, transition) {\n    const isTargetAnimatable = isAnimatable(valueName, target);\n    let keyframes;\n    if (Array.isArray(target)) {\n        keyframes = [...target];\n    }\n    else {\n        keyframes = [null, target];\n    }\n    const defaultOrigin = transition.from !== undefined ? transition.from : value.get();\n    let animatableTemplateValue = undefined;\n    const noneKeyframeIndexes = [];\n    for (let i = 0; i < keyframes.length; i++) {\n        /**\n         * Fill null/wildcard keyframes\n         */\n        if (keyframes[i] === null) {\n            keyframes[i] = i === 0 ? defaultOrigin : keyframes[i - 1];\n        }\n        if (isNone(keyframes[i])) {\n            noneKeyframeIndexes.push(i);\n        }\n        // TODO: Clean this conditional, it works for now\n        if (typeof keyframes[i] === \"string\" &&\n            keyframes[i] !== \"none\" &&\n            keyframes[i] !== \"0\") {\n            animatableTemplateValue = keyframes[i];\n        }\n    }\n    if (isTargetAnimatable &&\n        noneKeyframeIndexes.length &&\n        animatableTemplateValue) {\n        for (let i = 0; i < noneKeyframeIndexes.length; i++) {\n            const index = noneKeyframeIndexes[i];\n            keyframes[index] = getAnimatableNone(valueName, animatableTemplateValue);\n        }\n    }\n    return keyframes;\n}\n\nexport { getKeyframes };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","import { warning } from '../../utils/errors.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { createAcceleratedAnimation } from '../animators/waapi/create-accelerated-animation.mjs';\nimport { createInstantAnimation } from '../animators/instant.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isAnimatable } from '../utils/is-animatable.mjs';\nimport { getKeyframes } from '../utils/keyframes.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { animateValue } from '../animators/js/index.mjs';\nimport { MotionGlobalConfig } from '../../utils/GlobalConfig.mjs';\n\nconst animateMotionValue = (valueName, value, target, transition = {}) => {\n    return (onComplete) => {\n        const valueTransition = getValueTransition(transition, valueName) || {};\n        /**\n         * Most transition values are currently completely overwritten by value-specific\n         * transitions. In the future it'd be nicer to blend these transitions. But for now\n         * delay actually does inherit from the root transition if not value-specific.\n         */\n        const delay = valueTransition.delay || transition.delay || 0;\n        /**\n         * Elapsed isn't a public transition option but can be passed through from\n         * optimized appear effects in milliseconds.\n         */\n        let { elapsed = 0 } = transition;\n        elapsed = elapsed - secondsToMilliseconds(delay);\n        const keyframes = getKeyframes(value, valueName, target, valueTransition);\n        /**\n         * Check if we're able to animate between the start and end keyframes,\n         * and throw a warning if we're attempting to animate between one that's\n         * animatable and another that isn't.\n         */\n        const originKeyframe = keyframes[0];\n        const targetKeyframe = keyframes[keyframes.length - 1];\n        const isOriginAnimatable = isAnimatable(valueName, originKeyframe);\n        const isTargetAnimatable = isAnimatable(valueName, targetKeyframe);\n        warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${valueName} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n        let options = {\n            keyframes,\n            velocity: value.getVelocity(),\n            ease: \"easeOut\",\n            ...valueTransition,\n            delay: -elapsed,\n            onUpdate: (v) => {\n                value.set(v);\n                valueTransition.onUpdate && valueTransition.onUpdate(v);\n            },\n            onComplete: () => {\n                onComplete();\n                valueTransition.onComplete && valueTransition.onComplete();\n            },\n        };\n        /**\n         * If there's no transition defined for this value, we can generate\n         * unqiue transition settings for this value.\n         */\n        if (!isTransitionDefined(valueTransition)) {\n            options = {\n                ...options,\n                ...getDefaultTransition(valueName, options),\n            };\n        }\n        /**\n         * Both WAAPI and our internal animation functions use durations\n         * as defined by milliseconds, while our external API defines them\n         * as seconds.\n         */\n        if (options.duration) {\n            options.duration = secondsToMilliseconds(options.duration);\n        }\n        if (options.repeatDelay) {\n            options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n        }\n        if (!isOriginAnimatable ||\n            !isTargetAnimatable ||\n            instantAnimationState.current ||\n            valueTransition.type === false ||\n            MotionGlobalConfig.skipAnimations) {\n            /**\n             * If we can't animate this value, or the global instant animation flag is set,\n             * or this is simply defined as an instant transition, return an instant transition.\n             */\n            return createInstantAnimation(instantAnimationState.current\n                ? { ...options, delay: 0 }\n                : options);\n        }\n        /**\n         * Animate via WAAPI if possible.\n         */\n        if (\n        /**\n         * If this is a handoff animation, the optimised animation will be running via\n         * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n         * optimised animation.\n         */\n        !transition.isHandoff &&\n            value.owner &&\n            value.owner.current instanceof HTMLElement &&\n            /**\n             * If we're outputting values to onUpdate then we can't use WAAPI as there's\n             * no way to read the value from WAAPI every frame.\n             */\n            !value.owner.getProps().onUpdate) {\n            const acceleratedAnimation = createAcceleratedAnimation(value, valueName, options);\n            if (acceleratedAnimation)\n                return acceleratedAnimation;\n        }\n        /**\n         * If we didn't create an accelerated animation, create a JS animation\n         */\n        return animateValue(options);\n    };\n};\n\nexport { animateMotionValue };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^\\-?\\d*\\.?\\d+$/.test(v);\n\nexport { isNumericalString };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"11.0.3\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b;\n    const newValueKeys = Object.keys(target).filter((key) => !visualElement.hasValue(key));\n    const numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (let i = 0; i < numNewValues; i++) {\n        const key = newValueKeys[i];\n        const targetValue = target[key];\n        let value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" &&\n            (isNumericalString(value) || isZeroValueString(value))) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value, { owner: visualElement }));\n        if (origin[key] === undefined) {\n            origin[key] = value;\n        }\n        if (value !== null)\n            visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    const valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    const origin = {};\n    for (const key in target) {\n        const transitionOrigin = getOriginFromTransition(key, transition);\n        if (transitionOrigin !== undefined) {\n            origin[key] = transitionOrigin;\n        }\n        else {\n            const value = visualElement.getValue(key);\n            if (value) {\n                origin[key] = value.get();\n            }\n        }\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { getValueTransition } from '../utils/transitions.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction hasKeyframesChanged(value, target) {\n    const current = value.get();\n    if (Array.isArray(target)) {\n        for (let i = 0; i < target.length; i++) {\n            if (target[i] !== current)\n                return true;\n        }\n    }\n    else {\n        return current !== target;\n    }\n}\nfunction animateTarget(visualElement, definition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = visualElement.makeTargetAnimatable(definition);\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key);\n        const valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            elapsed: 0,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        if (window.HandoffAppearAnimations) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                const elapsed = window.HandoffAppearAnimations(appearId, key, value, frame);\n                if (elapsed !== null) {\n                    valueTransition.elapsed = elapsed;\n                    valueTransition.isHandoff = true;\n                }\n            }\n        }\n        let canSkip = !valueTransition.isHandoff &&\n            !hasKeyframesChanged(value, valueTarget);\n        if (valueTransition.type === \"spring\" &&\n            (value.getVelocity() || valueTransition.velocity)) {\n            canSkip = false;\n        }\n        /**\n         * Temporarily disable skipping animations if there's an animation in\n         * progress. Better would be to track the current target of a value\n         * and compare that against valueTarget.\n         */\n        if (value.animation) {\n            canSkip = false;\n        }\n        if (canSkip)\n            continue;\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition));\n        const animation = value.animation;\n        if (isWillChangeMotionValue(willChange)) {\n            willChange.add(key);\n            animation.then(() => willChange.remove(key));\n        }\n        animations.push(animation);\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            transitionEnd && setTarget(visualElement, transitionEnd);\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.custom);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => visualElement.notify(\"AnimationComplete\", definition));\n}\n\nexport { animateVisualElement };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             */\n            if (shouldAnimateType && (!isInherited || handledRemovedValues)) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type, ...options },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(options, type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete, custom } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent, { custom: custom !== null && custom !== void 0 ? custom : this.node.getProps().custom });\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow, dragSnapToOrigin = false } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mix } from '../../utils/mix.mjs';\n\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target = 0, maxDistance = 0.01) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate) || isNaN(delta.translate))\n        delta.translate = 0;\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mix } from '../../../utils/mix.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mix } from '../../utils/mix.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","// Fixes https://github.com/framer/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, calcOrigin } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.update(() => onDragStart(event, info), false, true);\n            }\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        const resumeAnimation = () => eachAxis((axis) => {\n            var _a;\n            return this.getAnimationState(axis) === \"paused\" &&\n                ((_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.play());\n        });\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.update(() => onDragEnd(event, info));\n        }\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        var _a;\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : (_a = this.visualElement.projection) === null || _a === void 0 ? void 0 : _a.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => { var _a; return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.pause(); });\n    }\n    getAnimationState(axis) {\n        var _a;\n        return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = \"_drag\" + axis.toUpperCase();\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial ? props.initial[axis] : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mix(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mix(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints)) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        measureDragConstraints();\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.update(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.update(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","import { useContext, useId, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = () => onExitComplete && onExitComplete(id);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mix } from '../../utils/mix.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mix(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","import React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { microtask } from '../../../frameloop/microtask.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends React__default.Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (React__default.createElement(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mix(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mix(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mix(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mix(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mix(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = compress(0, 0.5, circOut);\nconst easeCrossfadeOut = compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };\n","import { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mix(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction boxEquals(a, b) {\n    return (a.x.min === b.x.min &&\n        a.x.max === b.x.max &&\n        a.y.min === b.y.min &&\n        a.y.max === b.y.max);\n}\nfunction boxEqualsRounded(a, b) {\n    return (Math.round(a.x.min) === Math.round(b.x.min) &&\n        Math.round(a.x.max) === Math.round(b.x.max) &&\n        Math.round(a.y.min) === Math.round(b.y.min) &&\n        Math.round(a.y.max) === Math.round(b.y.max));\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\n\nexport { aspectRatio, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    if (xTranslate || yTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, 0) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { rotate, rotateX, rotateY } = latestTransform;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { time } from '../frameloop/sync-time.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\n\nexport { delay };\n","function record(data) {\n    if (window.MotionDebug) {\n        window.MotionDebug.record(data);\n    }\n}\n\nexport { record };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { animateMotionValue } from './motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEqualsRounded, isDeltaZero, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { record } from '../../debug/record.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/interfaces/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, steps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { time } from '../../frameloop/sync-time.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\nconst hiddenVisibility = { visibility: \"hidden\" };\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\n/**\n * Use a mutable data object for debug data so as to not create a new\n * object every frame.\n */\nconst projectionFrameData = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                projectionFrameData.totalNodes =\n                    projectionFrameData.resolvedTargetDeltas =\n                        projectionFrameData.recalculatedProjection =\n                            0;\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                record(projectionFrameData);\n            };\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            steps.update.process(frameData);\n            steps.preRender.process(frameData);\n            steps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(() => this.update());\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot: checkIsScrollRoot(this.instance),\n                    offset: measureScroll(this.instance),\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            // Remove viewport scroll to give page-relative coordinates\n            const { scroll } = this.root;\n            if (scroll) {\n                translateAxis(box.x, scroll.offset.x);\n                translateAxis(box.y, scroll.offset.y);\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.isRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                        const { scroll: rootScroll } = this.root;\n                        /**\n                         * Undo the application of page scroll that was originally added\n                         * to the measured bounding box.\n                         */\n                        if (rootScroll) {\n                            translateAxis(boxWithoutScroll.x, -rootScroll.offset.x);\n                            translateAxis(boxWithoutScroll.y, -rootScroll.offset.y);\n                        }\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            projectionFrameData.resolvedTargetDeltas++;\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.projectionTransform) {\n                    this.projectionDelta = createDelta();\n                    this.projectionTransform = \"none\";\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta) {\n                this.projectionDelta = createDelta();\n                this.projectionDeltaWithTransform = createDelta();\n            }\n            const prevProjectionTransform = this.projectionTransform;\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n            if (this.projectionTransform !== prevProjectionTransform ||\n                this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            projectionFrameData.recalculatedProjection++;\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.scheduleRender && this.options.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected rotation values, we can early return without a forced render.\n            let hasRotate = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ) {\n                hasRotate = true;\n            }\n            // If there's no rotation values, we don't need to do any more.\n            if (!hasRotate)\n                return;\n            const resetValues = {};\n            // Check the rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                const key = \"rotate\" + transformAxes[i];\n                // Record the rotation and then temporarily set it to 0\n                if (latestValues[key]) {\n                    resetValues[key] = latestValues[key];\n                    visualElement.setStaticValue(key, 0);\n                }\n            }\n            // Force a render of this element to apply the transform with all rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp) {\n            var _a, _b;\n            if (!this.instance || this.isSVG)\n                return undefined;\n            if (!this.isVisible) {\n                return hiddenVisibility;\n            }\n            const styles = {\n                visibility: \"\",\n            };\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    projectionFrameData.totalNodes++;\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetRotation(node) {\n    node.resetRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mix(delta.translate, 0, p);\n    output.scale = mix(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mix(from.min, to.min, p);\n    output.max = mix(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token, fallback] = match;\n    return [token, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    else if (isCSSVariableToken(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, { ...target }, transitionEnd) {\n    const element = visualElement.current;\n    if (!(element instanceof Element))\n        return { target, transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = { ...transitionEnd };\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.values.forEach((value) => {\n        const current = value.get();\n        if (!isCSSVariableToken(current))\n            return;\n        const resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (const key in target) {\n        const current = target[key];\n        if (!isCSSVariableToken(current))\n            continue;\n        const resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        if (!transitionEnd)\n            transitionEnd = {};\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd[key] === undefined) {\n            transitionEnd[key] = current;\n        }\n    }\n    return { target, transitionEnd };\n}\n\nexport { parseCSSVariable, resolveCSSVariables };\n","import { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nimport { isBrowser } from '../../../utils/is-browser.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isPositionalKey = (key) => positionalKeys.has(key);\nconst hasPositionalKey = (target) => {\n    return Object.keys(target).some(isPositionalKey);\n};\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.render();\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nconst convertChangedValueTypes = (target, visualElement, changedKeys) => {\n    const originBbox = visualElement.measureViewportBox();\n    const element = visualElement.current;\n    const elementComputedStyle = getComputedStyle(element);\n    const { display } = elementComputedStyle;\n    const origin = {};\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    /**\n     * Record origins before we render and update styles\n     */\n    changedKeys.forEach((key) => {\n        origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n    });\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.render();\n    const targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach((key) => {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        const value = visualElement.getValue(key);\n        value && value.jump(origin[key]);\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nconst checkAndConvertChangedValueTypes = (visualElement, target, origin = {}, transitionEnd = {}) => {\n    target = { ...target };\n    transitionEnd = { ...transitionEnd };\n    const targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    let removedTransformValues = [];\n    let hasAttemptedToRemoveTransformValues = false;\n    const changedValueTypeKeys = [];\n    targetPositionalKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        let from = origin[key];\n        let fromType = findDimensionValueType(from);\n        const to = target[key];\n        let toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            const numKeyframes = to.length;\n            const fromIndex = to[0] === null ? 1 : 0;\n            from = to[fromIndex];\n            fromType = findDimensionValueType(from);\n            for (let i = fromIndex; i < numKeyframes; i++) {\n                /**\n                 * Don't allow wildcard keyframes to be used to detect\n                 * a difference in value types.\n                 */\n                if (to[i] === null)\n                    break;\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                const current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues =\n                        removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                value.jump(to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        const scrollY = changedValueTypeKeys.indexOf(\"height\") >= 0\n            ? window.pageYOffset\n            : null;\n        const convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(([key, value]) => {\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.render();\n        // Restore scroll position\n        if (isBrowser && scrollY !== null) {\n            window.scrollTo({ top: scrollY });\n        }\n        return { target: convertedTarget, transitionEnd };\n    }\n    else {\n        return { target, transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target, transitionEnd };\n}\n\nexport { positionalValues, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nconst parseDomVariant = (visualElement, target, origin, transitionEnd) => {\n    const resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"11.0.3\", `Attempting to mix Framer Motion versions ${nextValue.version} with 11.0.3 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate &&\n                frame.update(this.notifyUpdate, false, true);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if ((this.type === \"html\" || this.type === \"svg\") &&\n            !this.projection &&\n            ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Make a target animatable by Popmotion. For instance, if we're\n     * trying to animate width from 100px to 100vw we need to measure 100vw\n     * in pixels to determine what we really need to animate to. This is also\n     * pluggable to support Framer's custom value types like Color,\n     * and CSS variables.\n     */\n    makeTargetAnimatable(target, canMutate = true) {\n        return this.makeTargetAnimatableFromInstance(target, canMutate);\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key) {\n        var _a;\n        return this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_a = resolveVariantFromProps(this.props, initial)) === null || _a === void 0 ? void 0 : _a[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { parseDomVariant } from './utils/parse-dom-variant.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    makeTargetAnimatableFromInstance({ transition, transitionEnd, ...target }, isMounted) {\n        const origin = getOrigin(target, transition || {}, this);\n        if (isMounted) {\n            checkTargetForNewValues(this, target, origin);\n            const parsed = parseDomVariant(this, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return {\n            transition,\n            transitionEnd,\n            ...target,\n        };\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layout } from '../../motion/features/layout.mjs';\n\nconst preloadedFeatures = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nconst motion = /*@__PURE__*/ createMotionProxy((Component, config) => createDomMotionConfig(Component, config, preloadedFeatures, createDomVisualElement));\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, preloadedFeatures, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import * as React from 'react';\nimport { useId, useRef, useInsertionEffect } from 'react';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                // clean up the exiting children map\n                exitingChildren.delete(key);\n                // compute the keys of children that were rendered once but are no longer present\n                // this could happen in case of too many fast consequent renderings\n                // @link https://github.com/framer/motion/issues/2023\n                const leftOverKeys = Array.from(allChildren.keys()).filter((childKey) => !targetKeys.includes(childKey));\n                // clean up the all children map\n                leftOverKeys.forEach((leftOverKey) => allChildren.delete(leftOverKey));\n                // make sure to render only the children that are actually visible\n                presentChildren.current = filteredChildren.filter((presentChild) => {\n                    const presentChildKey = getChildKey(presentChild);\n                    return (\n                    // filter out the node exiting\n                    presentChildKey === key ||\n                        // filter out the leftover children\n                        leftOverKeys.includes(presentChildKey));\n                });\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","import {useEffect as $hPSQ5$useEffect} from \"react\";\nimport {useCallbackRef as $hPSQ5$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\n\n\n\n/**\n * Listens for when the escape key is down\n */ function $addc16e1bbe58fd0$export$3a72a57244d6e765(onEscapeKeyDownProp, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const onEscapeKeyDown = $hPSQ5$useCallbackRef(onEscapeKeyDownProp);\n    $hPSQ5$useEffect(()=>{\n        const handleKeyDown = (event)=>{\n            if (event.key === 'Escape') onEscapeKeyDown(event);\n        };\n        ownerDocument.addEventListener('keydown', handleKeyDown);\n        return ()=>ownerDocument.removeEventListener('keydown', handleKeyDown)\n        ;\n    }, [\n        onEscapeKeyDown,\n        ownerDocument\n    ]);\n}\n\n\n\n\nexport {$addc16e1bbe58fd0$export$3a72a57244d6e765 as useEscapeKeydown};\n//# sourceMappingURL=index.mjs.map\n","import $kqwpH$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {createContext as $kqwpH$createContext, forwardRef as $kqwpH$forwardRef, useContext as $kqwpH$useContext, useState as $kqwpH$useState, useEffect as $kqwpH$useEffect, createElement as $kqwpH$createElement, useRef as $kqwpH$useRef} from \"react\";\nimport {composeEventHandlers as $kqwpH$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {Primitive as $kqwpH$Primitive, dispatchDiscreteCustomEvent as $kqwpH$dispatchDiscreteCustomEvent} from \"@radix-ui/react-primitive\";\nimport {useComposedRefs as $kqwpH$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useCallbackRef as $kqwpH$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\nimport {useEscapeKeydown as $kqwpH$useEscapeKeydown} from \"@radix-ui/react-use-escape-keydown\";\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/ const $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst $5cb92bef7577960e$var$CONTEXT_UPDATE = 'dismissableLayer.update';\nconst $5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst $5cb92bef7577960e$var$FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\nlet $5cb92bef7577960e$var$originalBodyPointerEvents;\nconst $5cb92bef7577960e$var$DismissableLayerContext = /*#__PURE__*/ $kqwpH$createContext({\n    layers: new Set(),\n    layersWithOutsidePointerEventsDisabled: new Set(),\n    branches: new Set()\n});\nconst $5cb92bef7577960e$export$177fb62ff3ec1f22 = /*#__PURE__*/ $kqwpH$forwardRef((props, forwardedRef)=>{\n    var _node$ownerDocument;\n    const { disableOutsidePointerEvents: disableOutsidePointerEvents = false , onEscapeKeyDown: onEscapeKeyDown , onPointerDownOutside: onPointerDownOutside , onFocusOutside: onFocusOutside , onInteractOutside: onInteractOutside , onDismiss: onDismiss , ...layerProps } = props;\n    const context = $kqwpH$useContext($5cb92bef7577960e$var$DismissableLayerContext);\n    const [node1, setNode] = $kqwpH$useState(null);\n    const ownerDocument = (_node$ownerDocument = node1 === null || node1 === void 0 ? void 0 : node1.ownerDocument) !== null && _node$ownerDocument !== void 0 ? _node$ownerDocument : globalThis === null || globalThis === void 0 ? void 0 : globalThis.document;\n    const [, force] = $kqwpH$useState({});\n    const composedRefs = $kqwpH$useComposedRefs(forwardedRef, (node)=>setNode(node)\n    );\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [\n        ...context.layersWithOutsidePointerEventsDisabled\n    ].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled); // prettier-ignore\n    const index = node1 ? layers.indexOf(node1) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = $5cb92bef7577960e$var$usePointerDownOutside((event)=>{\n        const target = event.target;\n        const isPointerDownOnBranch = [\n            ...context.branches\n        ].some((branch)=>branch.contains(target)\n        );\n        if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n        onPointerDownOutside === null || onPointerDownOutside === void 0 || onPointerDownOutside(event);\n        onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event);\n        if (!event.defaultPrevented) onDismiss === null || onDismiss === void 0 || onDismiss();\n    }, ownerDocument);\n    const focusOutside = $5cb92bef7577960e$var$useFocusOutside((event)=>{\n        const target = event.target;\n        const isFocusInBranch = [\n            ...context.branches\n        ].some((branch)=>branch.contains(target)\n        );\n        if (isFocusInBranch) return;\n        onFocusOutside === null || onFocusOutside === void 0 || onFocusOutside(event);\n        onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event);\n        if (!event.defaultPrevented) onDismiss === null || onDismiss === void 0 || onDismiss();\n    }, ownerDocument);\n    $kqwpH$useEscapeKeydown((event)=>{\n        const isHighestLayer = index === context.layers.size - 1;\n        if (!isHighestLayer) return;\n        onEscapeKeyDown === null || onEscapeKeyDown === void 0 || onEscapeKeyDown(event);\n        if (!event.defaultPrevented && onDismiss) {\n            event.preventDefault();\n            onDismiss();\n        }\n    }, ownerDocument);\n    $kqwpH$useEffect(()=>{\n        if (!node1) return;\n        if (disableOutsidePointerEvents) {\n            if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n                $5cb92bef7577960e$var$originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n                ownerDocument.body.style.pointerEvents = 'none';\n            }\n            context.layersWithOutsidePointerEventsDisabled.add(node1);\n        }\n        context.layers.add(node1);\n        $5cb92bef7577960e$var$dispatchUpdate();\n        return ()=>{\n            if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) ownerDocument.body.style.pointerEvents = $5cb92bef7577960e$var$originalBodyPointerEvents;\n        };\n    }, [\n        node1,\n        ownerDocument,\n        disableOutsidePointerEvents,\n        context\n    ]);\n    /**\n   * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n   * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n   * and add it to the end again so the layering order wouldn't be _creation order_.\n   * We only want them to be removed from context stacks when unmounted.\n   */ $kqwpH$useEffect(()=>{\n        return ()=>{\n            if (!node1) return;\n            context.layers.delete(node1);\n            context.layersWithOutsidePointerEventsDisabled.delete(node1);\n            $5cb92bef7577960e$var$dispatchUpdate();\n        };\n    }, [\n        node1,\n        context\n    ]);\n    $kqwpH$useEffect(()=>{\n        const handleUpdate = ()=>force({})\n        ;\n        document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate);\n        return ()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate)\n        ;\n    }, []);\n    return /*#__PURE__*/ $kqwpH$createElement($kqwpH$Primitive.div, $kqwpH$babelruntimehelpersesmextends({}, layerProps, {\n        ref: composedRefs,\n        style: {\n            pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? 'auto' : 'none' : undefined,\n            ...props.style\n        },\n        onFocusCapture: $kqwpH$composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: $kqwpH$composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: $kqwpH$composeEventHandlers(props.onPointerDownCapture, pointerDownOutside.onPointerDownCapture)\n    }));\n});\n/*#__PURE__*/ Object.assign($5cb92bef7577960e$export$177fb62ff3ec1f22, {\n    displayName: $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/ const $5cb92bef7577960e$var$BRANCH_NAME = 'DismissableLayerBranch';\nconst $5cb92bef7577960e$export$4d5eb2109db14228 = /*#__PURE__*/ $kqwpH$forwardRef((props, forwardedRef)=>{\n    const context = $kqwpH$useContext($5cb92bef7577960e$var$DismissableLayerContext);\n    const ref = $kqwpH$useRef(null);\n    const composedRefs = $kqwpH$useComposedRefs(forwardedRef, ref);\n    $kqwpH$useEffect(()=>{\n        const node = ref.current;\n        if (node) {\n            context.branches.add(node);\n            return ()=>{\n                context.branches.delete(node);\n            };\n        }\n    }, [\n        context.branches\n    ]);\n    return /*#__PURE__*/ $kqwpH$createElement($kqwpH$Primitive.div, $kqwpH$babelruntimehelpersesmextends({}, props, {\n        ref: composedRefs\n    }));\n});\n/*#__PURE__*/ Object.assign($5cb92bef7577960e$export$4d5eb2109db14228, {\n    displayName: $5cb92bef7577960e$var$BRANCH_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ /**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */ function $5cb92bef7577960e$var$usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const handlePointerDownOutside = $kqwpH$useCallbackRef(onPointerDownOutside);\n    const isPointerInsideReactTreeRef = $kqwpH$useRef(false);\n    const handleClickRef = $kqwpH$useRef(()=>{});\n    $kqwpH$useEffect(()=>{\n        const handlePointerDown = (event)=>{\n            if (event.target && !isPointerInsideReactTreeRef.current) {\n                const eventDetail = {\n                    originalEvent: event\n                };\n                function handleAndDispatchPointerDownOutsideEvent() {\n                    $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE, handlePointerDownOutside, eventDetail, {\n                        discrete: true\n                    });\n                }\n                /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executres events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */ if (event.pointerType === 'touch') {\n                    ownerDocument.removeEventListener('click', handleClickRef.current);\n                    handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;\n                    ownerDocument.addEventListener('click', handleClickRef.current, {\n                        once: true\n                    });\n                } else handleAndDispatchPointerDownOutsideEvent();\n            } else // We need to remove the event listener in case the outside click has been canceled.\n            // See: https://github.com/radix-ui/primitives/issues/2171\n            ownerDocument.removeEventListener('click', handleClickRef.current);\n            isPointerInsideReactTreeRef.current = false;\n        };\n        /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */ const timerId = window.setTimeout(()=>{\n            ownerDocument.addEventListener('pointerdown', handlePointerDown);\n        }, 0);\n        return ()=>{\n            window.clearTimeout(timerId);\n            ownerDocument.removeEventListener('pointerdown', handlePointerDown);\n            ownerDocument.removeEventListener('click', handleClickRef.current);\n        };\n    }, [\n        ownerDocument,\n        handlePointerDownOutside\n    ]);\n    return {\n        // ensures we check React component tree (not just DOM tree)\n        onPointerDownCapture: ()=>isPointerInsideReactTreeRef.current = true\n    };\n}\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */ function $5cb92bef7577960e$var$useFocusOutside(onFocusOutside, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const handleFocusOutside = $kqwpH$useCallbackRef(onFocusOutside);\n    const isFocusInsideReactTreeRef = $kqwpH$useRef(false);\n    $kqwpH$useEffect(()=>{\n        const handleFocus = (event)=>{\n            if (event.target && !isFocusInsideReactTreeRef.current) {\n                const eventDetail = {\n                    originalEvent: event\n                };\n                $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n                    discrete: false\n                });\n            }\n        };\n        ownerDocument.addEventListener('focusin', handleFocus);\n        return ()=>ownerDocument.removeEventListener('focusin', handleFocus)\n        ;\n    }, [\n        ownerDocument,\n        handleFocusOutside\n    ]);\n    return {\n        onFocusCapture: ()=>isFocusInsideReactTreeRef.current = true\n        ,\n        onBlurCapture: ()=>isFocusInsideReactTreeRef.current = false\n    };\n}\nfunction $5cb92bef7577960e$var$dispatchUpdate() {\n    const event = new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);\n    document.dispatchEvent(event);\n}\nfunction $5cb92bef7577960e$var$handleAndDispatchCustomEvent(name, handler, detail, { discrete: discrete  }) {\n    const target = detail.originalEvent.target;\n    const event = new CustomEvent(name, {\n        bubbles: false,\n        cancelable: true,\n        detail: detail\n    });\n    if (handler) target.addEventListener(name, handler, {\n        once: true\n    });\n    if (discrete) $kqwpH$dispatchDiscreteCustomEvent(target, event);\n    else target.dispatchEvent(event);\n}\nconst $5cb92bef7577960e$export$be92b6f5f03c0fe9 = $5cb92bef7577960e$export$177fb62ff3ec1f22;\nconst $5cb92bef7577960e$export$aecb2ddcb55c95be = $5cb92bef7577960e$export$4d5eb2109db14228;\n\n\n\n\nexport {$5cb92bef7577960e$export$177fb62ff3ec1f22 as DismissableLayer, $5cb92bef7577960e$export$4d5eb2109db14228 as DismissableLayerBranch, $5cb92bef7577960e$export$be92b6f5f03c0fe9 as Root, $5cb92bef7577960e$export$aecb2ddcb55c95be as Branch};\n//# sourceMappingURL=index.mjs.map\n","import * as $2AODx$react from \"react\";\nimport {useLayoutEffect as $2AODx$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\nconst $1746a345f3d73bb7$var$useReactId = $2AODx$react['useId'.toString()] || (()=>undefined\n);\nlet $1746a345f3d73bb7$var$count = 0;\nfunction $1746a345f3d73bb7$export$f680877a34711e37(deterministicId) {\n    const [id, setId] = $2AODx$react.useState($1746a345f3d73bb7$var$useReactId()); // React versions older than 18 will have client-side ids only.\n    $2AODx$useLayoutEffect(()=>{\n        if (!deterministicId) setId((reactId)=>reactId !== null && reactId !== void 0 ? reactId : String($1746a345f3d73bb7$var$count++)\n        );\n    }, [\n        deterministicId\n    ]);\n    return deterministicId || (id ? `radix-${id}` : '');\n}\n\n\n\n\nexport {$1746a345f3d73bb7$export$f680877a34711e37 as useId};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [':popover-open', ':modal'].some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, detectOverflow as detectOverflow$1, offset as offset$1, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 :\n  // RTL <body> scrollbar.\n  getWindowScrollBarX(documentElement, htmlRect));\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n      // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","import { computePosition, arrow as arrow$2, offset as offset$1, shift as shift$1, limitShift as limitShift$1, flip as flip$1, size as size$1, autoPlacement as autoPlacement$1, hide as hide$1, inline as inline$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n","import $jbnEx$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $jbnEx$forwardRef, createElement as $jbnEx$createElement} from \"react\";\nimport {Primitive as $jbnEx$Primitive} from \"@radix-ui/react-primitive\";\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Arrow\n * -----------------------------------------------------------------------------------------------*/ const $7e8f5cd07187803e$var$NAME = 'Arrow';\nconst $7e8f5cd07187803e$export$21b07c8f274aebd5 = /*#__PURE__*/ $jbnEx$forwardRef((props, forwardedRef)=>{\n    const { children: children , width: width = 10 , height: height = 5 , ...arrowProps } = props;\n    return /*#__PURE__*/ $jbnEx$createElement($jbnEx$Primitive.svg, $jbnEx$babelruntimehelpersesmextends({}, arrowProps, {\n        ref: forwardedRef,\n        width: width,\n        height: height,\n        viewBox: \"0 0 30 10\",\n        preserveAspectRatio: \"none\"\n    }), props.asChild ? children : /*#__PURE__*/ $jbnEx$createElement(\"polygon\", {\n        points: \"0,0 30,0 15,10\"\n    }));\n});\n/*#__PURE__*/ Object.assign($7e8f5cd07187803e$export$21b07c8f274aebd5, {\n    displayName: $7e8f5cd07187803e$var$NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $7e8f5cd07187803e$export$be92b6f5f03c0fe9 = $7e8f5cd07187803e$export$21b07c8f274aebd5;\n\n\n\n\nexport {$7e8f5cd07187803e$export$21b07c8f274aebd5 as Arrow, $7e8f5cd07187803e$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import {useState as $9gyGR$useState} from \"react\";\nimport {useLayoutEffect as $9gyGR$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\nfunction $db6c3485150b8e66$export$1ab7ae714698c4b8(element) {\n    const [size, setSize] = $9gyGR$useState(undefined);\n    $9gyGR$useLayoutEffect(()=>{\n        if (element) {\n            // provide size as early as possible\n            setSize({\n                width: element.offsetWidth,\n                height: element.offsetHeight\n            });\n            const resizeObserver = new ResizeObserver((entries)=>{\n                if (!Array.isArray(entries)) return;\n                 // Since we only observe the one element, we don't need to loop over the\n                // array\n                if (!entries.length) return;\n                const entry = entries[0];\n                let width;\n                let height;\n                if ('borderBoxSize' in entry) {\n                    const borderSizeEntry = entry['borderBoxSize']; // iron out differences between browsers\n                    const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n                    width = borderSize['inlineSize'];\n                    height = borderSize['blockSize'];\n                } else {\n                    // for browsers that don't support `borderBoxSize`\n                    // we calculate it ourselves to get the correct border box.\n                    width = element.offsetWidth;\n                    height = element.offsetHeight;\n                }\n                setSize({\n                    width: width,\n                    height: height\n                });\n            });\n            resizeObserver.observe(element, {\n                box: 'border-box'\n            });\n            return ()=>resizeObserver.unobserve(element)\n            ;\n        } else // We only want to reset to `undefined` when the element becomes `null`,\n        // not if it changes to another element.\n        setSize(undefined);\n    }, [\n        element\n    ]);\n    return size;\n}\n\n\n\n\nexport {$db6c3485150b8e66$export$1ab7ae714698c4b8 as useSize};\n//# sourceMappingURL=index.mjs.map\n","import $kY93V$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {useState as $kY93V$useState, createElement as $kY93V$createElement, forwardRef as $kY93V$forwardRef, useRef as $kY93V$useRef, useEffect as $kY93V$useEffect} from \"react\";\nimport {useFloating as $kY93V$useFloating, autoUpdate as $kY93V$autoUpdate, offset as $kY93V$offset, shift as $kY93V$shift, limitShift as $kY93V$limitShift, flip as $kY93V$flip, size as $kY93V$size, arrow as $kY93V$arrow, hide as $kY93V$hide} from \"@floating-ui/react-dom\";\nimport {Root as $kY93V$Root} from \"@radix-ui/react-arrow\";\nimport {useComposedRefs as $kY93V$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {createContextScope as $kY93V$createContextScope} from \"@radix-ui/react-context\";\nimport {Primitive as $kY93V$Primitive} from \"@radix-ui/react-primitive\";\nimport {useCallbackRef as $kY93V$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\nimport {useLayoutEffect as $kY93V$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\nimport {useSize as $kY93V$useSize} from \"@radix-ui/react-use-size\";\n\n\n\n\n\n\n\n\n\n\n\nconst $cf1ac5d9fe0e8206$export$36f0086da09c4b9f = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nconst $cf1ac5d9fe0e8206$export$3671ffab7b302fc9 = [\n    'start',\n    'center',\n    'end'\n];\n/* -------------------------------------------------------------------------------------------------\n * Popper\n * -----------------------------------------------------------------------------------------------*/ const $cf1ac5d9fe0e8206$var$POPPER_NAME = 'Popper';\nconst [$cf1ac5d9fe0e8206$var$createPopperContext, $cf1ac5d9fe0e8206$export$722aac194ae923] = $kY93V$createContextScope($cf1ac5d9fe0e8206$var$POPPER_NAME);\nconst [$cf1ac5d9fe0e8206$var$PopperProvider, $cf1ac5d9fe0e8206$var$usePopperContext] = $cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME);\nconst $cf1ac5d9fe0e8206$export$badac9ada3a0bdf9 = (props)=>{\n    const { __scopePopper: __scopePopper , children: children  } = props;\n    const [anchor, setAnchor] = $kY93V$useState(null);\n    return /*#__PURE__*/ $kY93V$createElement($cf1ac5d9fe0e8206$var$PopperProvider, {\n        scope: __scopePopper,\n        anchor: anchor,\n        onAnchorChange: setAnchor\n    }, children);\n};\n/*#__PURE__*/ Object.assign($cf1ac5d9fe0e8206$export$badac9ada3a0bdf9, {\n    displayName: $cf1ac5d9fe0e8206$var$POPPER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopperAnchor\n * -----------------------------------------------------------------------------------------------*/ const $cf1ac5d9fe0e8206$var$ANCHOR_NAME = 'PopperAnchor';\nconst $cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d = /*#__PURE__*/ $kY93V$forwardRef((props, forwardedRef)=>{\n    const { __scopePopper: __scopePopper , virtualRef: virtualRef , ...anchorProps } = props;\n    const context = $cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME, __scopePopper);\n    const ref = $kY93V$useRef(null);\n    const composedRefs = $kY93V$useComposedRefs(forwardedRef, ref);\n    $kY93V$useEffect(()=>{\n        // Consumer can anchor the popper to something that isn't\n        // a DOM node e.g. pointer position, so we override the\n        // `anchorRef` with their virtual ref in this case.\n        context.onAnchorChange((virtualRef === null || virtualRef === void 0 ? void 0 : virtualRef.current) || ref.current);\n    });\n    return virtualRef ? null : /*#__PURE__*/ $kY93V$createElement($kY93V$Primitive.div, $kY93V$babelruntimehelpersesmextends({}, anchorProps, {\n        ref: composedRefs\n    }));\n});\n/*#__PURE__*/ Object.assign($cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d, {\n    displayName: $cf1ac5d9fe0e8206$var$ANCHOR_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopperContent\n * -----------------------------------------------------------------------------------------------*/ const $cf1ac5d9fe0e8206$var$CONTENT_NAME = 'PopperContent';\nconst [$cf1ac5d9fe0e8206$var$PopperContentProvider, $cf1ac5d9fe0e8206$var$useContentContext] = $cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME);\nconst $cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc = /*#__PURE__*/ $kY93V$forwardRef((props, forwardedRef)=>{\n    var _arrowSize$width, _arrowSize$height, _middlewareData$arrow, _middlewareData$arrow2, _middlewareData$arrow3, _middlewareData$trans, _middlewareData$trans2, _middlewareData$hide;\n    const { __scopePopper: __scopePopper , side: side = 'bottom' , sideOffset: sideOffset = 0 , align: align = 'center' , alignOffset: alignOffset = 0 , arrowPadding: arrowPadding = 0 , avoidCollisions: avoidCollisions = true , collisionBoundary: collisionBoundary = [] , collisionPadding: collisionPaddingProp = 0 , sticky: sticky = 'partial' , hideWhenDetached: hideWhenDetached = false , updatePositionStrategy: updatePositionStrategy = 'optimized' , onPlaced: onPlaced , ...contentProps } = props;\n    const context = $cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME, __scopePopper);\n    const [content, setContent] = $kY93V$useState(null);\n    const composedRefs = $kY93V$useComposedRefs(forwardedRef, (node)=>setContent(node)\n    );\n    const [arrow, setArrow] = $kY93V$useState(null);\n    const arrowSize = $kY93V$useSize(arrow);\n    const arrowWidth = (_arrowSize$width = arrowSize === null || arrowSize === void 0 ? void 0 : arrowSize.width) !== null && _arrowSize$width !== void 0 ? _arrowSize$width : 0;\n    const arrowHeight = (_arrowSize$height = arrowSize === null || arrowSize === void 0 ? void 0 : arrowSize.height) !== null && _arrowSize$height !== void 0 ? _arrowSize$height : 0;\n    const desiredPlacement = side + (align !== 'center' ? '-' + align : '');\n    const collisionPadding = typeof collisionPaddingProp === 'number' ? collisionPaddingProp : {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        ...collisionPaddingProp\n    };\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [\n        collisionBoundary\n    ];\n    const hasExplicitBoundaries = boundary.length > 0;\n    const detectOverflowOptions = {\n        padding: collisionPadding,\n        boundary: boundary.filter($cf1ac5d9fe0e8206$var$isNotNull),\n        // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n        altBoundary: hasExplicitBoundaries\n    };\n    const { refs: refs , floatingStyles: floatingStyles , placement: placement , isPositioned: isPositioned , middlewareData: middlewareData  } = $kY93V$useFloating({\n        // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n        strategy: 'fixed',\n        placement: desiredPlacement,\n        whileElementsMounted: (...args)=>{\n            const cleanup = $kY93V$autoUpdate(...args, {\n                animationFrame: updatePositionStrategy === 'always'\n            });\n            return cleanup;\n        },\n        elements: {\n            reference: context.anchor\n        },\n        middleware: [\n            $kY93V$offset({\n                mainAxis: sideOffset + arrowHeight,\n                alignmentAxis: alignOffset\n            }),\n            avoidCollisions && $kY93V$shift({\n                mainAxis: true,\n                crossAxis: false,\n                limiter: sticky === 'partial' ? $kY93V$limitShift() : undefined,\n                ...detectOverflowOptions\n            }),\n            avoidCollisions && $kY93V$flip({\n                ...detectOverflowOptions\n            }),\n            $kY93V$size({\n                ...detectOverflowOptions,\n                apply: ({ elements: elements , rects: rects , availableWidth: availableWidth , availableHeight: availableHeight  })=>{\n                    const { width: anchorWidth , height: anchorHeight  } = rects.reference;\n                    const contentStyle = elements.floating.style;\n                    contentStyle.setProperty('--radix-popper-available-width', `${availableWidth}px`);\n                    contentStyle.setProperty('--radix-popper-available-height', `${availableHeight}px`);\n                    contentStyle.setProperty('--radix-popper-anchor-width', `${anchorWidth}px`);\n                    contentStyle.setProperty('--radix-popper-anchor-height', `${anchorHeight}px`);\n                }\n            }),\n            arrow && $kY93V$arrow({\n                element: arrow,\n                padding: arrowPadding\n            }),\n            $cf1ac5d9fe0e8206$var$transformOrigin({\n                arrowWidth: arrowWidth,\n                arrowHeight: arrowHeight\n            }),\n            hideWhenDetached && $kY93V$hide({\n                strategy: 'referenceHidden',\n                ...detectOverflowOptions\n            })\n        ]\n    });\n    const [placedSide, placedAlign] = $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement);\n    const handlePlaced = $kY93V$useCallbackRef(onPlaced);\n    $kY93V$useLayoutEffect(()=>{\n        if (isPositioned) handlePlaced === null || handlePlaced === void 0 || handlePlaced();\n    }, [\n        isPositioned,\n        handlePlaced\n    ]);\n    const arrowX = (_middlewareData$arrow = middlewareData.arrow) === null || _middlewareData$arrow === void 0 ? void 0 : _middlewareData$arrow.x;\n    const arrowY = (_middlewareData$arrow2 = middlewareData.arrow) === null || _middlewareData$arrow2 === void 0 ? void 0 : _middlewareData$arrow2.y;\n    const cannotCenterArrow = ((_middlewareData$arrow3 = middlewareData.arrow) === null || _middlewareData$arrow3 === void 0 ? void 0 : _middlewareData$arrow3.centerOffset) !== 0;\n    const [contentZIndex, setContentZIndex] = $kY93V$useState();\n    $kY93V$useLayoutEffect(()=>{\n        if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [\n        content\n    ]);\n    return /*#__PURE__*/ $kY93V$createElement(\"div\", {\n        ref: refs.setFloating,\n        \"data-radix-popper-content-wrapper\": \"\",\n        style: {\n            ...floatingStyles,\n            transform: isPositioned ? floatingStyles.transform : 'translate(0, -200%)',\n            // keep off the page when measuring\n            minWidth: 'max-content',\n            zIndex: contentZIndex,\n            ['--radix-popper-transform-origin']: [\n                (_middlewareData$trans = middlewareData.transformOrigin) === null || _middlewareData$trans === void 0 ? void 0 : _middlewareData$trans.x,\n                (_middlewareData$trans2 = middlewareData.transformOrigin) === null || _middlewareData$trans2 === void 0 ? void 0 : _middlewareData$trans2.y\n            ].join(' ')\n        } // Floating UI interally calculates logical alignment based the `dir` attribute on\n        ,\n        dir: props.dir\n    }, /*#__PURE__*/ $kY93V$createElement($cf1ac5d9fe0e8206$var$PopperContentProvider, {\n        scope: __scopePopper,\n        placedSide: placedSide,\n        onArrowChange: setArrow,\n        arrowX: arrowX,\n        arrowY: arrowY,\n        shouldHideArrow: cannotCenterArrow\n    }, /*#__PURE__*/ $kY93V$createElement($kY93V$Primitive.div, $kY93V$babelruntimehelpersesmextends({\n        \"data-side\": placedSide,\n        \"data-align\": placedAlign\n    }, contentProps, {\n        ref: composedRefs,\n        style: {\n            ...contentProps.style,\n            // if the PopperContent hasn't been placed yet (not all measurements done)\n            // we prevent animations so that users's animation don't kick in too early referring wrong sides\n            animation: !isPositioned ? 'none' : undefined,\n            // hide the content if using the hide middleware and should be hidden\n            opacity: (_middlewareData$hide = middlewareData.hide) !== null && _middlewareData$hide !== void 0 && _middlewareData$hide.referenceHidden ? 0 : undefined\n        }\n    }))));\n});\n/*#__PURE__*/ Object.assign($cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc, {\n    displayName: $cf1ac5d9fe0e8206$var$CONTENT_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopperArrow\n * -----------------------------------------------------------------------------------------------*/ const $cf1ac5d9fe0e8206$var$ARROW_NAME = 'PopperArrow';\nconst $cf1ac5d9fe0e8206$var$OPPOSITE_SIDE = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right'\n};\nconst $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0 = /*#__PURE__*/ $kY93V$forwardRef(function $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0(props, forwardedRef) {\n    const { __scopePopper: __scopePopper , ...arrowProps } = props;\n    const contentContext = $cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME, __scopePopper);\n    const baseSide = $cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[contentContext.placedSide];\n    return(/*#__PURE__*/ // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    $kY93V$createElement(\"span\", {\n        ref: contentContext.onArrowChange,\n        style: {\n            position: 'absolute',\n            left: contentContext.arrowX,\n            top: contentContext.arrowY,\n            [baseSide]: 0,\n            transformOrigin: {\n                top: '',\n                right: '0 0',\n                bottom: 'center 0',\n                left: '100% 0'\n            }[contentContext.placedSide],\n            transform: {\n                top: 'translateY(100%)',\n                right: 'translateY(50%) rotate(90deg) translateX(-50%)',\n                bottom: `rotate(180deg)`,\n                left: 'translateY(50%) rotate(-90deg) translateX(50%)'\n            }[contentContext.placedSide],\n            visibility: contentContext.shouldHideArrow ? 'hidden' : undefined\n        }\n    }, /*#__PURE__*/ $kY93V$createElement($kY93V$Root, $kY93V$babelruntimehelpersesmextends({}, arrowProps, {\n        ref: forwardedRef,\n        style: {\n            ...arrowProps.style,\n            // ensures the element can be measured correctly (mostly for if SVG)\n            display: 'block'\n        }\n    }))));\n});\n/*#__PURE__*/ Object.assign($cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0, {\n    displayName: $cf1ac5d9fe0e8206$var$ARROW_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ function $cf1ac5d9fe0e8206$var$isNotNull(value) {\n    return value !== null;\n}\nconst $cf1ac5d9fe0e8206$var$transformOrigin = (options)=>({\n        name: 'transformOrigin',\n        options: options,\n        fn (data) {\n            var _middlewareData$arrow4, _middlewareData$arrow5, _middlewareData$arrow6, _middlewareData$arrow7, _middlewareData$arrow8;\n            const { placement: placement , rects: rects , middlewareData: middlewareData  } = data;\n            const cannotCenterArrow = ((_middlewareData$arrow4 = middlewareData.arrow) === null || _middlewareData$arrow4 === void 0 ? void 0 : _middlewareData$arrow4.centerOffset) !== 0;\n            const isArrowHidden = cannotCenterArrow;\n            const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n            const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n            const [placedSide, placedAlign] = $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement);\n            const noArrowAlign = {\n                start: '0%',\n                center: '50%',\n                end: '100%'\n            }[placedAlign];\n            const arrowXCenter = ((_middlewareData$arrow5 = (_middlewareData$arrow6 = middlewareData.arrow) === null || _middlewareData$arrow6 === void 0 ? void 0 : _middlewareData$arrow6.x) !== null && _middlewareData$arrow5 !== void 0 ? _middlewareData$arrow5 : 0) + arrowWidth / 2;\n            const arrowYCenter = ((_middlewareData$arrow7 = (_middlewareData$arrow8 = middlewareData.arrow) === null || _middlewareData$arrow8 === void 0 ? void 0 : _middlewareData$arrow8.y) !== null && _middlewareData$arrow7 !== void 0 ? _middlewareData$arrow7 : 0) + arrowHeight / 2;\n            let x = '';\n            let y = '';\n            if (placedSide === 'bottom') {\n                x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n                y = `${-arrowHeight}px`;\n            } else if (placedSide === 'top') {\n                x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n                y = `${rects.floating.height + arrowHeight}px`;\n            } else if (placedSide === 'right') {\n                x = `${-arrowHeight}px`;\n                y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n            } else if (placedSide === 'left') {\n                x = `${rects.floating.width + arrowHeight}px`;\n                y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n            }\n            return {\n                data: {\n                    x: x,\n                    y: y\n                }\n            };\n        }\n    })\n;\nfunction $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(placement) {\n    const [side, align = 'center'] = placement.split('-');\n    return [\n        side,\n        align\n    ];\n}\nconst $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9 = $cf1ac5d9fe0e8206$export$badac9ada3a0bdf9;\nconst $cf1ac5d9fe0e8206$export$b688253958b8dfe7 = $cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d;\nconst $cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2 = $cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc;\nconst $cf1ac5d9fe0e8206$export$21b07c8f274aebd5 = $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;\n\n\n\n\nexport {$cf1ac5d9fe0e8206$export$722aac194ae923 as createPopperScope, $cf1ac5d9fe0e8206$export$badac9ada3a0bdf9 as Popper, $cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d as PopperAnchor, $cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc as PopperContent, $cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0 as PopperArrow, $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9 as Root, $cf1ac5d9fe0e8206$export$b688253958b8dfe7 as Anchor, $cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2 as Content, $cf1ac5d9fe0e8206$export$21b07c8f274aebd5 as Arrow, $cf1ac5d9fe0e8206$export$36f0086da09c4b9f as SIDE_OPTIONS, $cf1ac5d9fe0e8206$export$3671ffab7b302fc9 as ALIGN_OPTIONS};\n//# sourceMappingURL=index.mjs.map\n","import $7SXl2$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $7SXl2$forwardRef, createElement as $7SXl2$createElement} from \"react\";\nimport $7SXl2$reactdom from \"react-dom\";\nimport {Primitive as $7SXl2$Primitive} from \"@radix-ui/react-primitive\";\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/ const $f1701beae083dbae$var$PORTAL_NAME = 'Portal';\nconst $f1701beae083dbae$export$602eac185826482c = /*#__PURE__*/ $7SXl2$forwardRef((props, forwardedRef)=>{\n    var _globalThis$document;\n    const { container: container = globalThis === null || globalThis === void 0 ? void 0 : (_globalThis$document = globalThis.document) === null || _globalThis$document === void 0 ? void 0 : _globalThis$document.body , ...portalProps } = props;\n    return container ? /*#__PURE__*/ $7SXl2$reactdom.createPortal(/*#__PURE__*/ $7SXl2$createElement($7SXl2$Primitive.div, $7SXl2$babelruntimehelpersesmextends({}, portalProps, {\n        ref: forwardedRef\n    })), container) : null;\n});\n/*#__PURE__*/ Object.assign($f1701beae083dbae$export$602eac185826482c, {\n    displayName: $f1701beae083dbae$var$PORTAL_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $f1701beae083dbae$export$be92b6f5f03c0fe9 = $f1701beae083dbae$export$602eac185826482c;\n\n\n\n\nexport {$f1701beae083dbae$export$602eac185826482c as Portal, $f1701beae083dbae$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import {useCallback as $bnPw9$useCallback, useState as $bnPw9$useState, useRef as $bnPw9$useRef, useEffect as $bnPw9$useEffect} from \"react\";\nimport {useCallbackRef as $bnPw9$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\n\n\n\nfunction $71cd76cc60e0454e$export$6f32135080cb4c3({ prop: prop , defaultProp: defaultProp , onChange: onChange = ()=>{}  }) {\n    const [uncontrolledProp, setUncontrolledProp] = $71cd76cc60e0454e$var$useUncontrolledState({\n        defaultProp: defaultProp,\n        onChange: onChange\n    });\n    const isControlled = prop !== undefined;\n    const value1 = isControlled ? prop : uncontrolledProp;\n    const handleChange = $bnPw9$useCallbackRef(onChange);\n    const setValue = $bnPw9$useCallback((nextValue)=>{\n        if (isControlled) {\n            const setter = nextValue;\n            const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n            if (value !== prop) handleChange(value);\n        } else setUncontrolledProp(nextValue);\n    }, [\n        isControlled,\n        prop,\n        setUncontrolledProp,\n        handleChange\n    ]);\n    return [\n        value1,\n        setValue\n    ];\n}\nfunction $71cd76cc60e0454e$var$useUncontrolledState({ defaultProp: defaultProp , onChange: onChange  }) {\n    const uncontrolledState = $bnPw9$useState(defaultProp);\n    const [value] = uncontrolledState;\n    const prevValueRef = $bnPw9$useRef(value);\n    const handleChange = $bnPw9$useCallbackRef(onChange);\n    $bnPw9$useEffect(()=>{\n        if (prevValueRef.current !== value) {\n            handleChange(value);\n            prevValueRef.current = value;\n        }\n    }, [\n        value,\n        prevValueRef,\n        handleChange\n    ]);\n    return uncontrolledState;\n}\n\n\n\n\nexport {$71cd76cc60e0454e$export$6f32135080cb4c3 as useControllableState};\n//# sourceMappingURL=index.mjs.map\n","import $kVwnw$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $kVwnw$forwardRef, createElement as $kVwnw$createElement} from \"react\";\nimport {Primitive as $kVwnw$Primitive} from \"@radix-ui/react-primitive\";\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * VisuallyHidden\n * -----------------------------------------------------------------------------------------------*/ const $ea1ef594cf570d83$var$NAME = 'VisuallyHidden';\nconst $ea1ef594cf570d83$export$439d29a4e110a164 = /*#__PURE__*/ $kVwnw$forwardRef((props, forwardedRef)=>{\n    return /*#__PURE__*/ $kVwnw$createElement($kVwnw$Primitive.span, $kVwnw$babelruntimehelpersesmextends({}, props, {\n        ref: forwardedRef,\n        style: {\n            // See: https://github.com/twbs/bootstrap/blob/master/scss/mixins/_screen-reader.scss\n            position: 'absolute',\n            border: 0,\n            width: 1,\n            height: 1,\n            padding: 0,\n            margin: -1,\n            overflow: 'hidden',\n            clip: 'rect(0, 0, 0, 0)',\n            whiteSpace: 'nowrap',\n            wordWrap: 'normal',\n            ...props.style\n        }\n    }));\n});\n/*#__PURE__*/ Object.assign($ea1ef594cf570d83$export$439d29a4e110a164, {\n    displayName: $ea1ef594cf570d83$var$NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $ea1ef594cf570d83$export$be92b6f5f03c0fe9 = $ea1ef594cf570d83$export$439d29a4e110a164;\n\n\n\n\nexport {$ea1ef594cf570d83$export$439d29a4e110a164 as VisuallyHidden, $ea1ef594cf570d83$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import $8wepK$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {useState as $8wepK$useState, useRef as $8wepK$useRef, useEffect as $8wepK$useEffect, createElement as $8wepK$createElement, useCallback as $8wepK$useCallback, useMemo as $8wepK$useMemo, forwardRef as $8wepK$forwardRef} from \"react\";\nimport {composeEventHandlers as $8wepK$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {useComposedRefs as $8wepK$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {createContextScope as $8wepK$createContextScope} from \"@radix-ui/react-context\";\nimport {DismissableLayer as $8wepK$DismissableLayer} from \"@radix-ui/react-dismissable-layer\";\nimport {useId as $8wepK$useId} from \"@radix-ui/react-id\";\nimport {createPopperScope as $8wepK$createPopperScope, Root as $8wepK$Root, Anchor as $8wepK$Anchor, Content as $8wepK$Content, Arrow as $8wepK$Arrow} from \"@radix-ui/react-popper\";\nimport {Portal as $8wepK$Portal} from \"@radix-ui/react-portal\";\nimport {Presence as $8wepK$Presence} from \"@radix-ui/react-presence\";\nimport {Primitive as $8wepK$Primitive} from \"@radix-ui/react-primitive\";\nimport {Slottable as $8wepK$Slottable} from \"@radix-ui/react-slot\";\nimport {useControllableState as $8wepK$useControllableState} from \"@radix-ui/react-use-controllable-state\";\nimport {Root as $8wepK$Root1} from \"@radix-ui/react-visually-hidden\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst [$a093c7e1ec25a057$var$createTooltipContext, $a093c7e1ec25a057$export$1c540a2224f0d865] = $8wepK$createContextScope('Tooltip', [\n    $8wepK$createPopperScope\n]);\nconst $a093c7e1ec25a057$var$usePopperScope = $8wepK$createPopperScope();\n/* -------------------------------------------------------------------------------------------------\n * TooltipProvider\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$PROVIDER_NAME = 'TooltipProvider';\nconst $a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION = 700;\nconst $a093c7e1ec25a057$var$TOOLTIP_OPEN = 'tooltip.open';\nconst [$a093c7e1ec25a057$var$TooltipProviderContextProvider, $a093c7e1ec25a057$var$useTooltipProviderContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME);\nconst $a093c7e1ec25a057$export$f78649fb9ca566b8 = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , delayDuration: delayDuration = $a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION , skipDelayDuration: skipDelayDuration = 300 , disableHoverableContent: disableHoverableContent = false , children: children  } = props;\n    const [isOpenDelayed, setIsOpenDelayed] = $8wepK$useState(true);\n    const isPointerInTransitRef = $8wepK$useRef(false);\n    const skipDelayTimerRef = $8wepK$useRef(0);\n    $8wepK$useEffect(()=>{\n        const skipDelayTimer = skipDelayTimerRef.current;\n        return ()=>window.clearTimeout(skipDelayTimer)\n        ;\n    }, []);\n    return /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$TooltipProviderContextProvider, {\n        scope: __scopeTooltip,\n        isOpenDelayed: isOpenDelayed,\n        delayDuration: delayDuration,\n        onOpen: $8wepK$useCallback(()=>{\n            window.clearTimeout(skipDelayTimerRef.current);\n            setIsOpenDelayed(false);\n        }, []),\n        onClose: $8wepK$useCallback(()=>{\n            window.clearTimeout(skipDelayTimerRef.current);\n            skipDelayTimerRef.current = window.setTimeout(()=>setIsOpenDelayed(true)\n            , skipDelayDuration);\n        }, [\n            skipDelayDuration\n        ]),\n        isPointerInTransitRef: isPointerInTransitRef,\n        onPointerInTransitChange: $8wepK$useCallback((inTransit)=>{\n            isPointerInTransitRef.current = inTransit;\n        }, []),\n        disableHoverableContent: disableHoverableContent\n    }, children);\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$f78649fb9ca566b8, {\n    displayName: $a093c7e1ec25a057$var$PROVIDER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$TOOLTIP_NAME = 'Tooltip';\nconst [$a093c7e1ec25a057$var$TooltipContextProvider, $a093c7e1ec25a057$var$useTooltipContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME);\nconst $a093c7e1ec25a057$export$28c660c63b792dea = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , children: children , open: openProp , defaultOpen: defaultOpen = false , onOpenChange: onOpenChange , disableHoverableContent: disableHoverableContentProp , delayDuration: delayDurationProp  } = props;\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME, props.__scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const [trigger, setTrigger] = $8wepK$useState(null);\n    const contentId = $8wepK$useId();\n    const openTimerRef = $8wepK$useRef(0);\n    const disableHoverableContent = disableHoverableContentProp !== null && disableHoverableContentProp !== void 0 ? disableHoverableContentProp : providerContext.disableHoverableContent;\n    const delayDuration = delayDurationProp !== null && delayDurationProp !== void 0 ? delayDurationProp : providerContext.delayDuration;\n    const wasOpenDelayedRef = $8wepK$useRef(false);\n    const [open1 = false, setOpen] = $8wepK$useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: (open)=>{\n            if (open) {\n                providerContext.onOpen(); // as `onChange` is called within a lifecycle method we\n                // avoid dispatching via `dispatchDiscreteCustomEvent`.\n                document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN));\n            } else providerContext.onClose();\n            onOpenChange === null || onOpenChange === void 0 || onOpenChange(open);\n        }\n    });\n    const stateAttribute = $8wepK$useMemo(()=>{\n        return open1 ? wasOpenDelayedRef.current ? 'delayed-open' : 'instant-open' : 'closed';\n    }, [\n        open1\n    ]);\n    const handleOpen = $8wepK$useCallback(()=>{\n        window.clearTimeout(openTimerRef.current);\n        wasOpenDelayedRef.current = false;\n        setOpen(true);\n    }, [\n        setOpen\n    ]);\n    const handleClose = $8wepK$useCallback(()=>{\n        window.clearTimeout(openTimerRef.current);\n        setOpen(false);\n    }, [\n        setOpen\n    ]);\n    const handleDelayedOpen = $8wepK$useCallback(()=>{\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = window.setTimeout(()=>{\n            wasOpenDelayedRef.current = true;\n            setOpen(true);\n        }, delayDuration);\n    }, [\n        delayDuration,\n        setOpen\n    ]);\n    $8wepK$useEffect(()=>{\n        return ()=>window.clearTimeout(openTimerRef.current)\n        ;\n    }, []);\n    return /*#__PURE__*/ $8wepK$createElement($8wepK$Root, popperScope, /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$TooltipContextProvider, {\n        scope: __scopeTooltip,\n        contentId: contentId,\n        open: open1,\n        stateAttribute: stateAttribute,\n        trigger: trigger,\n        onTriggerChange: setTrigger,\n        onTriggerEnter: $8wepK$useCallback(()=>{\n            if (providerContext.isOpenDelayed) handleDelayedOpen();\n            else handleOpen();\n        }, [\n            providerContext.isOpenDelayed,\n            handleDelayedOpen,\n            handleOpen\n        ]),\n        onTriggerLeave: $8wepK$useCallback(()=>{\n            if (disableHoverableContent) handleClose();\n            else // Clear the timer in case the pointer leaves the trigger before the tooltip is opened.\n            window.clearTimeout(openTimerRef.current);\n        }, [\n            handleClose,\n            disableHoverableContent\n        ]),\n        onOpen: handleOpen,\n        onClose: handleClose,\n        disableHoverableContent: disableHoverableContent\n    }, children));\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$28c660c63b792dea, {\n    displayName: $a093c7e1ec25a057$var$TOOLTIP_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipTrigger\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$TRIGGER_NAME = 'TooltipTrigger';\nconst $a093c7e1ec25a057$export$8c610744efcf8a1d = /*#__PURE__*/ $8wepK$forwardRef((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , ...triggerProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME, __scopeTooltip);\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME, __scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const ref = $8wepK$useRef(null);\n    const composedRefs = $8wepK$useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = $8wepK$useRef(false);\n    const hasPointerMoveOpenedRef = $8wepK$useRef(false);\n    const handlePointerUp = $8wepK$useCallback(()=>isPointerDownRef.current = false\n    , []);\n    $8wepK$useEffect(()=>{\n        return ()=>document.removeEventListener('pointerup', handlePointerUp)\n        ;\n    }, [\n        handlePointerUp\n    ]);\n    return /*#__PURE__*/ $8wepK$createElement($8wepK$Anchor, $8wepK$babelruntimehelpersesmextends({\n        asChild: true\n    }, popperScope), /*#__PURE__*/ $8wepK$createElement($8wepK$Primitive.button, $8wepK$babelruntimehelpersesmextends({\n        // We purposefully avoid adding `type=button` here because tooltip triggers are also\n        // commonly anchors and the anchor `type` attribute signifies MIME type.\n        \"aria-describedby\": context.open ? context.contentId : undefined,\n        \"data-state\": context.stateAttribute\n    }, triggerProps, {\n        ref: composedRefs,\n        onPointerMove: $8wepK$composeEventHandlers(props.onPointerMove, (event)=>{\n            if (event.pointerType === 'touch') return;\n            if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n                context.onTriggerEnter();\n                hasPointerMoveOpenedRef.current = true;\n            }\n        }),\n        onPointerLeave: $8wepK$composeEventHandlers(props.onPointerLeave, ()=>{\n            context.onTriggerLeave();\n            hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: $8wepK$composeEventHandlers(props.onPointerDown, ()=>{\n            isPointerDownRef.current = true;\n            document.addEventListener('pointerup', handlePointerUp, {\n                once: true\n            });\n        }),\n        onFocus: $8wepK$composeEventHandlers(props.onFocus, ()=>{\n            if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: $8wepK$composeEventHandlers(props.onBlur, context.onClose),\n        onClick: $8wepK$composeEventHandlers(props.onClick, context.onClose)\n    })));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$8c610744efcf8a1d, {\n    displayName: $a093c7e1ec25a057$var$TRIGGER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipPortal\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$PORTAL_NAME = 'TooltipPortal';\nconst [$a093c7e1ec25a057$var$PortalProvider, $a093c7e1ec25a057$var$usePortalContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME, {\n    forceMount: undefined\n});\nconst $a093c7e1ec25a057$export$7b36b8f925ab7497 = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , forceMount: forceMount , children: children , container: container  } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME, __scopeTooltip);\n    return /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$PortalProvider, {\n        scope: __scopeTooltip,\n        forceMount: forceMount\n    }, /*#__PURE__*/ $8wepK$createElement($8wepK$Presence, {\n        present: forceMount || context.open\n    }, /*#__PURE__*/ $8wepK$createElement($8wepK$Portal, {\n        asChild: true,\n        container: container\n    }, children)));\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$7b36b8f925ab7497, {\n    displayName: $a093c7e1ec25a057$var$PORTAL_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipContent\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$CONTENT_NAME = 'TooltipContent';\nconst $a093c7e1ec25a057$export$e9003e2be37ec060 = /*#__PURE__*/ $8wepK$forwardRef((props, forwardedRef)=>{\n    const portalContext = $a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount: forceMount = portalContext.forceMount , side: side = 'top' , ...contentProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    return /*#__PURE__*/ $8wepK$createElement($8wepK$Presence, {\n        present: forceMount || context.open\n    }, context.disableHoverableContent ? /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$TooltipContentImpl, $8wepK$babelruntimehelpersesmextends({\n        side: side\n    }, contentProps, {\n        ref: forwardedRef\n    })) : /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$TooltipContentHoverable, $8wepK$babelruntimehelpersesmextends({\n        side: side\n    }, contentProps, {\n        ref: forwardedRef\n    })));\n});\nconst $a093c7e1ec25a057$var$TooltipContentHoverable = /*#__PURE__*/ $8wepK$forwardRef((props, forwardedRef)=>{\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const ref = $8wepK$useRef(null);\n    const composedRefs = $8wepK$useComposedRefs(forwardedRef, ref);\n    const [pointerGraceArea, setPointerGraceArea] = $8wepK$useState(null);\n    const { trigger: trigger , onClose: onClose  } = context;\n    const content = ref.current;\n    const { onPointerInTransitChange: onPointerInTransitChange  } = providerContext;\n    const handleRemoveGraceArea = $8wepK$useCallback(()=>{\n        setPointerGraceArea(null);\n        onPointerInTransitChange(false);\n    }, [\n        onPointerInTransitChange\n    ]);\n    const handleCreateGraceArea = $8wepK$useCallback((event, hoverTarget)=>{\n        const currentTarget = event.currentTarget;\n        const exitPoint = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        const exitSide = $a093c7e1ec25a057$var$getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n        const paddedExitPoints = $a093c7e1ec25a057$var$getPaddedExitPoints(exitPoint, exitSide);\n        const hoverTargetPoints = $a093c7e1ec25a057$var$getPointsFromRect(hoverTarget.getBoundingClientRect());\n        const graceArea = $a093c7e1ec25a057$var$getHull([\n            ...paddedExitPoints,\n            ...hoverTargetPoints\n        ]);\n        setPointerGraceArea(graceArea);\n        onPointerInTransitChange(true);\n    }, [\n        onPointerInTransitChange\n    ]);\n    $8wepK$useEffect(()=>{\n        return ()=>handleRemoveGraceArea()\n        ;\n    }, [\n        handleRemoveGraceArea\n    ]);\n    $8wepK$useEffect(()=>{\n        if (trigger && content) {\n            const handleTriggerLeave = (event)=>handleCreateGraceArea(event, content)\n            ;\n            const handleContentLeave = (event)=>handleCreateGraceArea(event, trigger)\n            ;\n            trigger.addEventListener('pointerleave', handleTriggerLeave);\n            content.addEventListener('pointerleave', handleContentLeave);\n            return ()=>{\n                trigger.removeEventListener('pointerleave', handleTriggerLeave);\n                content.removeEventListener('pointerleave', handleContentLeave);\n            };\n        }\n    }, [\n        trigger,\n        content,\n        handleCreateGraceArea,\n        handleRemoveGraceArea\n    ]);\n    $8wepK$useEffect(()=>{\n        if (pointerGraceArea) {\n            const handleTrackPointerGrace = (event)=>{\n                const target = event.target;\n                const pointerPosition = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                const hasEnteredTarget = (trigger === null || trigger === void 0 ? void 0 : trigger.contains(target)) || (content === null || content === void 0 ? void 0 : content.contains(target));\n                const isPointerOutsideGraceArea = !$a093c7e1ec25a057$var$isPointInPolygon(pointerPosition, pointerGraceArea);\n                if (hasEnteredTarget) handleRemoveGraceArea();\n                else if (isPointerOutsideGraceArea) {\n                    handleRemoveGraceArea();\n                    onClose();\n                }\n            };\n            document.addEventListener('pointermove', handleTrackPointerGrace);\n            return ()=>document.removeEventListener('pointermove', handleTrackPointerGrace)\n            ;\n        }\n    }, [\n        trigger,\n        content,\n        pointerGraceArea,\n        onClose,\n        handleRemoveGraceArea\n    ]);\n    return /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$TooltipContentImpl, $8wepK$babelruntimehelpersesmextends({}, props, {\n        ref: composedRefs\n    }));\n});\nconst [$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider, $a093c7e1ec25a057$var$useVisuallyHiddenContentContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME, {\n    isInside: false\n});\nconst $a093c7e1ec25a057$var$TooltipContentImpl = /*#__PURE__*/ $8wepK$forwardRef((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , children: children , 'aria-label': ariaLabel , onEscapeKeyDown: onEscapeKeyDown , onPointerDownOutside: onPointerDownOutside , ...contentProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, __scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const { onClose: onClose  } = context; // Close this tooltip if another one opens\n    $8wepK$useEffect(()=>{\n        document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN, onClose);\n        return ()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN, onClose)\n        ;\n    }, [\n        onClose\n    ]); // Close the tooltip if the trigger is scrolled\n    $8wepK$useEffect(()=>{\n        if (context.trigger) {\n            const handleScroll = (event)=>{\n                const target = event.target;\n                if (target !== null && target !== void 0 && target.contains(context.trigger)) onClose();\n            };\n            window.addEventListener('scroll', handleScroll, {\n                capture: true\n            });\n            return ()=>window.removeEventListener('scroll', handleScroll, {\n                    capture: true\n                })\n            ;\n        }\n    }, [\n        context.trigger,\n        onClose\n    ]);\n    return /*#__PURE__*/ $8wepK$createElement($8wepK$DismissableLayer, {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown: onEscapeKeyDown,\n        onPointerDownOutside: onPointerDownOutside,\n        onFocusOutside: (event)=>event.preventDefault()\n        ,\n        onDismiss: onClose\n    }, /*#__PURE__*/ $8wepK$createElement($8wepK$Content, $8wepK$babelruntimehelpersesmextends({\n        \"data-state\": context.stateAttribute\n    }, popperScope, contentProps, {\n        ref: forwardedRef,\n        style: {\n            ...contentProps.style,\n            '--radix-tooltip-content-transform-origin': 'var(--radix-popper-transform-origin)',\n            '--radix-tooltip-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-tooltip-content-available-height': 'var(--radix-popper-available-height)',\n            '--radix-tooltip-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-tooltip-trigger-height': 'var(--radix-popper-anchor-height)'\n        }\n    }), /*#__PURE__*/ $8wepK$createElement($8wepK$Slottable, null, children), /*#__PURE__*/ $8wepK$createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider, {\n        scope: __scopeTooltip,\n        isInside: true\n    }, /*#__PURE__*/ $8wepK$createElement($8wepK$Root1, {\n        id: context.contentId,\n        role: \"tooltip\"\n    }, ariaLabel || children))));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$e9003e2be37ec060, {\n    displayName: $a093c7e1ec25a057$var$CONTENT_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipArrow\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$ARROW_NAME = 'TooltipArrow';\nconst $a093c7e1ec25a057$export$c27ee0ad710f7559 = /*#__PURE__*/ $8wepK$forwardRef((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , ...arrowProps } = props;\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME, __scopeTooltip); // if the arrow is inside the `VisuallyHidden`, we don't want to render it all to\n    // prevent issues in positioning the arrow due to the duplicate\n    return visuallyHiddenContentContext.isInside ? null : /*#__PURE__*/ $8wepK$createElement($8wepK$Arrow, $8wepK$babelruntimehelpersesmextends({}, popperScope, arrowProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$c27ee0ad710f7559, {\n    displayName: $a093c7e1ec25a057$var$ARROW_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ function $a093c7e1ec25a057$var$getExitSideFromRect(point, rect) {\n    const top = Math.abs(rect.top - point.y);\n    const bottom = Math.abs(rect.bottom - point.y);\n    const right = Math.abs(rect.right - point.x);\n    const left = Math.abs(rect.left - point.x);\n    switch(Math.min(top, bottom, right, left)){\n        case left:\n            return 'left';\n        case right:\n            return 'right';\n        case top:\n            return 'top';\n        case bottom:\n            return 'bottom';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction $a093c7e1ec25a057$var$getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n    const paddedExitPoints = [];\n    switch(exitSide){\n        case 'top':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case 'bottom':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            });\n            break;\n        case 'left':\n            paddedExitPoints.push({\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case 'right':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            });\n            break;\n    }\n    return paddedExitPoints;\n}\nfunction $a093c7e1ec25a057$var$getPointsFromRect(rect) {\n    const { top: top , right: right , bottom: bottom , left: left  } = rect;\n    return [\n        {\n            x: left,\n            y: top\n        },\n        {\n            x: right,\n            y: top\n        },\n        {\n            x: right,\n            y: bottom\n        },\n        {\n            x: left,\n            y: bottom\n        }\n    ];\n} // Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction $a093c7e1ec25a057$var$isPointInPolygon(point, polygon) {\n    const { x: x , y: y  } = point;\n    let inside = false;\n    for(let i = 0, j = polygon.length - 1; i < polygon.length; j = i++){\n        const xi = polygon[i].x;\n        const yi = polygon[i].y;\n        const xj = polygon[j].x;\n        const yj = polygon[j].y; // prettier-ignore\n        const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n        if (intersect) inside = !inside;\n    }\n    return inside;\n} // Returns a new array of points representing the convex hull of the given set of points.\n// https://www.nayuki.io/page/convex-hull-algorithm\nfunction $a093c7e1ec25a057$var$getHull(points) {\n    const newPoints = points.slice();\n    newPoints.sort((a, b)=>{\n        if (a.x < b.x) return -1;\n        else if (a.x > b.x) return 1;\n        else if (a.y < b.y) return -1;\n        else if (a.y > b.y) return 1;\n        else return 0;\n    });\n    return $a093c7e1ec25a057$var$getHullPresorted(newPoints);\n} // Returns the convex hull, assuming that each points[i] <= points[i + 1]. Runs in O(n) time.\nfunction $a093c7e1ec25a057$var$getHullPresorted(points) {\n    if (points.length <= 1) return points.slice();\n    const upperHull = [];\n    for(let i = 0; i < points.length; i++){\n        const p = points[i];\n        while(upperHull.length >= 2){\n            const q = upperHull[upperHull.length - 1];\n            const r = upperHull[upperHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n            else break;\n        }\n        upperHull.push(p);\n    }\n    upperHull.pop();\n    const lowerHull = [];\n    for(let i1 = points.length - 1; i1 >= 0; i1--){\n        const p = points[i1];\n        while(lowerHull.length >= 2){\n            const q = lowerHull[lowerHull.length - 1];\n            const r = lowerHull[lowerHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n            else break;\n        }\n        lowerHull.push(p);\n    }\n    lowerHull.pop();\n    if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) return upperHull;\n    else return upperHull.concat(lowerHull);\n}\nconst $a093c7e1ec25a057$export$2881499e37b75b9a = $a093c7e1ec25a057$export$f78649fb9ca566b8;\nconst $a093c7e1ec25a057$export$be92b6f5f03c0fe9 = $a093c7e1ec25a057$export$28c660c63b792dea;\nconst $a093c7e1ec25a057$export$41fb9f06171c75f4 = $a093c7e1ec25a057$export$8c610744efcf8a1d;\nconst $a093c7e1ec25a057$export$602eac185826482c = $a093c7e1ec25a057$export$7b36b8f925ab7497;\nconst $a093c7e1ec25a057$export$7c6e2c02157bb7d2 = $a093c7e1ec25a057$export$e9003e2be37ec060;\nconst $a093c7e1ec25a057$export$21b07c8f274aebd5 = $a093c7e1ec25a057$export$c27ee0ad710f7559;\n\n\n\n\nexport {$a093c7e1ec25a057$export$1c540a2224f0d865 as createTooltipScope, $a093c7e1ec25a057$export$f78649fb9ca566b8 as TooltipProvider, $a093c7e1ec25a057$export$28c660c63b792dea as Tooltip, $a093c7e1ec25a057$export$8c610744efcf8a1d as TooltipTrigger, $a093c7e1ec25a057$export$7b36b8f925ab7497 as TooltipPortal, $a093c7e1ec25a057$export$e9003e2be37ec060 as TooltipContent, $a093c7e1ec25a057$export$c27ee0ad710f7559 as TooltipArrow, $a093c7e1ec25a057$export$2881499e37b75b9a as Provider, $a093c7e1ec25a057$export$be92b6f5f03c0fe9 as Root, $a093c7e1ec25a057$export$41fb9f06171c75f4 as Trigger, $a093c7e1ec25a057$export$602eac185826482c as Portal, $a093c7e1ec25a057$export$7c6e2c02157bb7d2 as Content, $a093c7e1ec25a057$export$21b07c8f274aebd5 as Arrow};\n//# sourceMappingURL=index.mjs.map\n","import * as React from 'react';\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\nimport { cn } from '../../lib/utils';\n\ninterface TooltipProps {\n  children: React.ReactNode;\n  content: React.ReactNode;\n  side?: 'top' | 'right' | 'bottom' | 'left';\n  align?: 'start' | 'center' | 'end';\n}\n\nexport function Tooltip({ children, content, side = 'top', align = 'center' }: TooltipProps) {\n  return (\n    <TooltipPrimitive.Provider>\n      <TooltipPrimitive.Root>\n        <TooltipPrimitive.Trigger asChild>\n          {children}\n        </TooltipPrimitive.Trigger>\n        <TooltipPrimitive.Portal>\n          <TooltipPrimitive.Content\n            side={side}\n            align={align}\n            className={cn(\n              'z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95',\n              'data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95',\n              'data-[side=bottom]:slide-in-from-top-2',\n              'data-[side=left]:slide-in-from-right-2',\n              'data-[side=right]:slide-in-from-left-2',\n              'data-[side=top]:slide-in-from-bottom-2'\n            )}\n          >\n            {content}\n            <TooltipPrimitive.Arrow className=\"fill-primary\" />\n          </TooltipPrimitive.Content>\n        </TooltipPrimitive.Portal>\n      </TooltipPrimitive.Root>\n    </TooltipPrimitive.Provider>\n  );\n}","import React from 'react';\nimport { Brain, Search, Code, Calculator, Clock, Database, Sparkles, RefreshCw, Zap } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport type ProcessingState = \n  | 'thinking'\n  | 'searching'\n  | 'coding'\n  | 'analyzing'\n  | 'reasoning'\n  | 'retrieving'\n  | 'synthesizing'\n  | 'planning'\n  | undefined;\n\ninterface LoadingIndicatorProps {\n  state: ProcessingState;\n  subText?: string;\n}\n\nexport function LoadingIndicator({ state, subText }: LoadingIndicatorProps) {\n  if (!state) return null;\n\n  const getIcon = () => {\n    switch (state) {\n      case 'thinking':\n        return Brain;\n      case 'searching':\n        return Search;\n      case 'coding':\n        return Code;\n      case 'analyzing':\n        return Calculator;\n      case 'reasoning':\n        return Clock;\n      case 'retrieving':\n        return Database;\n      case 'synthesizing':\n        return Sparkles;\n      case 'planning':\n        return RefreshCw;\n      default:\n        return Zap;\n    }\n  };\n\n  const getMessage = () => {\n    switch (state) {\n      case 'thinking':\n        return 'Analyzing request...';\n      case 'searching':\n        return 'Searching for information...';\n      case 'coding':\n        return 'Generating code...';\n      case 'analyzing':\n        return 'Analyzing data...';\n      case 'reasoning':\n        return 'Reasoning about the problem...';\n      case 'retrieving':\n        return 'Retrieving from memory...';\n      case 'synthesizing':\n        return 'Synthesizing results...';\n      case 'planning':\n        return 'Planning next steps...';\n      default:\n        return 'Processing...';\n    }\n  };\n\n  const Icon = getIcon();\n\n  return (\n    <AnimatePresence mode=\"wait\">\n      <motion.div \n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -10 }}\n        className=\"flex flex-col items-center space-y-4 p-6 bg-gray-800/50 rounded-lg backdrop-blur-sm border border-gray-700/50\"\n      >\n        {/* Icon Animation */}\n        <motion.div\n          animate={{\n            scale: [1, 1.2, 1],\n            rotate: state === 'thinking' ? [0, 360] : 0\n          }}\n          transition={{\n            duration: 2,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n          className=\"relative\"\n        >\n          <Icon className=\"w-8 h-8 text-blue-400\" />\n          \n          {/* Orbital Particles */}\n          <motion.div\n            animate={{ rotate: 360 }}\n            transition={{ duration: 3, repeat: Infinity, ease: \"linear\" }}\n            className=\"absolute inset-0\"\n          >\n            {[0, 120, 240].map((degree, i) => (\n              <motion.div\n                key={i}\n                className=\"absolute w-2 h-2 bg-blue-400 rounded-full\"\n                style={{\n                  left: '50%',\n                  top: '50%',\n                  transform: `rotate(${degree}deg) translateX(20px)`\n                }}\n                animate={{\n                  scale: [1, 1.5, 1],\n                  opacity: [0.5, 1, 0.5]\n                }}\n                transition={{\n                  duration: 1.5,\n                  repeat: Infinity,\n                  delay: i * 0.5\n                }}\n              />\n            ))}\n          </motion.div>\n        </motion.div>\n\n        {/* Message */}\n        <div className=\"text-center space-y-2\">\n          <motion.div\n            animate={{ opacity: [0.5, 1, 0.5] }}\n            transition={{ duration: 2, repeat: Infinity }}\n            className=\"font-medium\"\n          >\n            {getMessage()}\n          </motion.div>\n          \n          {subText && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"text-sm text-gray-400\"\n            >\n              {subText}\n            </motion.div>\n          )}\n        </div>\n\n        {/* Progress Bar */}\n        <motion.div \n          className=\"w-48 h-1 bg-gray-700 rounded-full overflow-hidden\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.5 }}\n        >\n          <motion.div\n            className=\"h-full bg-blue-500\"\n            animate={{\n              x: [\"-100%\", \"100%\"]\n            }}\n            transition={{\n              duration: 1.5,\n              repeat: Infinity,\n              ease: \"linear\"\n            }}\n          />\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}","/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n/**\n * @typedef {Options} StringifyOptions\n *   Please use `StringifyOptions` instead.\n */\n\n/**\n * Parse comma-separated tokens to an array.\n *\n * @param {string} value\n *   Comma-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  /** @type {Array<string>} */\n  const tokens = []\n  const input = String(value || '')\n  let index = input.indexOf(',')\n  let start = 0\n  /** @type {boolean} */\n  let end = false\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    const token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nexport function stringify(values, options) {\n  const settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","/**\n * @typedef Options\n *   Configuration.\n * @property {boolean | null | undefined} [jsx=false]\n *   Support JSX identifiers (default: `false`).\n */\n\nconst startRe = /[$_\\p{ID_Start}]/u\nconst contRe = /[$_\\u{200C}\\u{200D}\\p{ID_Continue}]/u\nconst contReJsx = /[-$_\\u{200C}\\u{200D}\\p{ID_Continue}]/u\nconst nameRe = /^[$_\\p{ID_Start}][$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$/u\nconst nameReJsx = /^[$_\\p{ID_Start}][-$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$/u\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Checks if the given code point can start an identifier.\n *\n * @param {number | undefined} code\n *   Code point to check.\n * @returns {boolean}\n *   Whether `code` can start an identifier.\n */\n// Note: `undefined` is supported so you can pass the result from `''.codePointAt`.\nexport function start(code) {\n  return code ? startRe.test(String.fromCodePoint(code)) : false\n}\n\n/**\n * Checks if the given code point can continue an identifier.\n *\n * @param {number | undefined} code\n *   Code point to check.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {boolean}\n *   Whether `code` can continue an identifier.\n */\n// Note: `undefined` is supported so you can pass the result from `''.codePointAt`.\nexport function cont(code, options) {\n  const settings = options || emptyOptions\n  const re = settings.jsx ? contReJsx : contRe\n  return code ? re.test(String.fromCodePoint(code)) : false\n}\n\n/**\n * Checks if the given value is a valid identifier name.\n *\n * @param {string} name\n *   Identifier to check.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {boolean}\n *   Whether `name` can be an identifier.\n */\nexport function name(name, options) {\n  const settings = options || emptyOptions\n  const re = settings.jsx ? nameReJsx : nameRe\n  return re.test(name)\n}\n","/**\n * @typedef {import('hast').Nodes} Nodes\n */\n\n// HTML whitespace expression.\n// See <https://infra.spec.whatwg.org/#ascii-whitespace>.\nconst re = /[ \\t\\n\\f\\r]/g\n\n/**\n * Check if the given value is *inter-element whitespace*.\n *\n * @param {Nodes | string} thing\n *   Thing to check (`Node` or `string`).\n * @returns {boolean}\n *   Whether the `value` is inter-element whitespace (`boolean`): consisting of\n *   zero or more of space, tab (`\\t`), line feed (`\\n`), carriage return\n *   (`\\r`), or form feed (`\\f`); if a node is passed it must be a `Text` node,\n *   whose `value` field is checked.\n */\nexport function whitespace(thing) {\n  return typeof thing === 'object'\n    ? thing.type === 'text'\n      ? empty(thing.value)\n      : false\n    : empty(thing)\n}\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nfunction empty(value) {\n  return value.replace(re, '') === ''\n}\n","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    blocking: spaceSeparated,\n    capture: null,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    fetchPriority: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inert: boolean,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeToggle: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    popover: null,\n    popoverTarget: null,\n    popoverTargetAction: null,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shadowRootClonable: boolean,\n    shadowRootDelegatesFocus: boolean,\n    shadowRootMode: null,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n    writingSuggestions: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    transformOrigin: 'transform-origin',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    transformOrigin: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * `hast` is close to `React`, but differs in a couple of cases.\n *\n * To get a React property from a hast property, check if it is in\n * `hastToReact`, if it is, then use the corresponding value,\n * otherwise, use the hast property.\n *\n * @type {Record<string, string>}\n */\nexport const hastToReact = {\n  classId: 'classID',\n  dataType: 'datatype',\n  itemId: 'itemID',\n  strokeDashArray: 'strokeDasharray',\n  strokeDashOffset: 'strokeDashoffset',\n  strokeLineCap: 'strokeLinecap',\n  strokeLineJoin: 'strokeLinejoin',\n  strokeMiterLimit: 'strokeMiterlimit',\n  typeOf: 'typeof',\n  xLinkActuate: 'xlinkActuate',\n  xLinkArcRole: 'xlinkArcrole',\n  xLinkHref: 'xlinkHref',\n  xLinkRole: 'xlinkRole',\n  xLinkShow: 'xlinkShow',\n  xLinkTitle: 'xlinkTitle',\n  xLinkType: 'xlinkType',\n  xmlnsXLink: 'xmlnsXlink'\n}\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar COMMENT_REGEX = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nvar NEWLINE_REGEX = /\\n/g;\nvar WHITESPACE_REGEX = /^\\s*/;\n\n// declaration\nvar PROPERTY_REGEX = /^(\\*?[-#/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/;\nvar COLON_REGEX = /^:\\s*/;\nvar VALUE_REGEX = /^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};])+)/;\nvar SEMICOLON_REGEX = /^[;\\s]*/;\n\n// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\nvar TRIM_REGEX = /^\\s+|\\s+$/g;\n\n// strings\nvar NEWLINE = '\\n';\nvar FORWARD_SLASH = '/';\nvar ASTERISK = '*';\nvar EMPTY_STRING = '';\n\n// types\nvar TYPE_COMMENT = 'comment';\nvar TYPE_DECLARATION = 'declaration';\n\n/**\n * @param {String} style\n * @param {Object} [options]\n * @return {Object[]}\n * @throws {TypeError}\n * @throws {Error}\n */\nmodule.exports = function (style, options) {\n  if (typeof style !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!style) return [];\n\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   *\n   * @param {String} str\n   */\n  function updatePosition(str) {\n    var lines = str.match(NEWLINE_REGEX);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf(NEWLINE);\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   *\n   * @return {Function}\n   */\n  function position() {\n    var start = { line: lineno, column: column };\n    return function (node) {\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node.\n   *\n   * @constructor\n   * @property {Object} start\n   * @property {Object} end\n   * @property {undefined|String} source\n   */\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string.\n   */\n  Position.prototype.content = style;\n\n  var errorsList = [];\n\n  /**\n   * Error `msg`.\n   *\n   * @param {String} msg\n   * @throws {Error}\n   */\n  function error(msg) {\n    var err = new Error(\n      options.source + ':' + lineno + ':' + column + ': ' + msg\n    );\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = style;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Match `re` and return captures.\n   *\n   * @param {RegExp} re\n   * @return {undefined|Array}\n   */\n  function match(re) {\n    var m = re.exec(style);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    style = style.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n  function whitespace() {\n    match(WHITESPACE_REGEX);\n  }\n\n  /**\n   * Parse comments.\n   *\n   * @param {Object[]} [rules]\n   * @return {Object[]}\n   */\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while ((c = comment())) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function comment() {\n    var pos = position();\n    if (FORWARD_SLASH != style.charAt(0) || ASTERISK != style.charAt(1)) return;\n\n    var i = 2;\n    while (\n      EMPTY_STRING != style.charAt(i) &&\n      (ASTERISK != style.charAt(i) || FORWARD_SLASH != style.charAt(i + 1))\n    ) {\n      ++i;\n    }\n    i += 2;\n\n    if (EMPTY_STRING === style.charAt(i - 1)) {\n      return error('End of comment missing');\n    }\n\n    var str = style.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    style = style.slice(i);\n    column += 2;\n\n    return pos({\n      type: TYPE_COMMENT,\n      comment: str\n    });\n  }\n\n  /**\n   * Parse declaration.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(PROPERTY_REGEX);\n    if (!prop) return;\n    comment();\n\n    // :\n    if (!match(COLON_REGEX)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(VALUE_REGEX);\n\n    var ret = pos({\n      type: TYPE_DECLARATION,\n      property: trim(prop[0].replace(COMMENT_REGEX, EMPTY_STRING)),\n      value: val\n        ? trim(val[0].replace(COMMENT_REGEX, EMPTY_STRING))\n        : EMPTY_STRING\n    });\n\n    // ;\n    match(SEMICOLON_REGEX);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   *\n   * @return {Object[]}\n   */\n  function declarations() {\n    var decls = [];\n\n    comments(decls);\n\n    // declarations\n    var decl;\n    while ((decl = declaration())) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    return decls;\n  }\n\n  whitespace();\n  return declarations();\n};\n\n/**\n * Trim `str`.\n *\n * @param {String} str\n * @return {String}\n */\nfunction trim(str) {\n  return str ? str.replace(TRIM_REGEX, EMPTY_STRING) : EMPTY_STRING;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StyleToObject;\nvar inline_style_parser_1 = __importDefault(require(\"inline-style-parser\"));\n/**\n * Parses inline style to object.\n *\n * @param style - Inline style.\n * @param iterator - Iterator.\n * @returns - Style object or null.\n *\n * @example Parsing inline style to object:\n *\n * ```js\n * import parse from 'style-to-object';\n * parse('line-height: 42;'); // { 'line-height': '42' }\n * ```\n */\nfunction StyleToObject(style, iterator) {\n    var styleObject = null;\n    if (!style || typeof style !== 'string') {\n        return styleObject;\n    }\n    var declarations = (0, inline_style_parser_1.default)(style);\n    var hasIterator = typeof iterator === 'function';\n    declarations.forEach(function (declaration) {\n        if (declaration.type !== 'declaration') {\n            return;\n        }\n        var property = declaration.property, value = declaration.value;\n        if (hasIterator) {\n            iterator(property, value, declaration);\n        }\n        else if (value) {\n            styleObject = styleObject || {};\n            styleObject[property] = value;\n        }\n    });\n    return styleObject;\n}\n//# sourceMappingURL=index.js.map","import StyleToObject from '../cjs/index.js';\n\n// ensure compatibility with rollup umd build\nexport default StyleToObject.default || StyleToObject;\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n */\n\n/**\n * Get the ending point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointEnd = point('end')\n\n/**\n * Get the starting point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointStart = point('start')\n\n/**\n * Get the positional info of `node`.\n *\n * @param {'end' | 'start'} type\n *   Side.\n * @returns\n *   Getter.\n */\nfunction point(type) {\n  return point\n\n  /**\n   * Get the point info of `node` at a bound side.\n   *\n   * @param {Node | NodeLike | null | undefined} [node]\n   * @returns {Point | undefined}\n   */\n  function point(node) {\n    const point = (node && node.position && node.position[type]) || {}\n\n    if (\n      typeof point.line === 'number' &&\n      point.line > 0 &&\n      typeof point.column === 'number' &&\n      point.column > 0\n    ) {\n      return {\n        line: point.line,\n        column: point.column,\n        offset:\n          typeof point.offset === 'number' && point.offset > -1\n            ? point.offset\n            : undefined\n      }\n    }\n  }\n}\n\n/**\n * Get the positional info of `node`.\n *\n * @param {Node | NodeLike | null | undefined} [node]\n *   Node.\n * @returns {Position | undefined}\n *   Position.\n */\nexport function position(node) {\n  const start = pointStart(node)\n  const end = pointEnd(node)\n\n  if (start && end) {\n    return {start, end}\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n */\n\n/**\n * Serialize the positional info of a point, position (start and end points),\n * or node.\n *\n * @param {Node | NodeLike | Point | PointLike | Position | PositionLike | null | undefined} [value]\n *   Node, position, or point.\n * @returns {string}\n *   Pretty printed positional info of a node (`string`).\n *\n *   In the format of a range `ls:cs-le:ce` (when given `node` or `position`)\n *   or a point `l:c` (when given `point`), where `l` stands for line, `c` for\n *   column, `s` for `start`, and `e` for end.\n *   An empty string (`''`) is returned if the given value is neither `node`,\n *   `position`, nor `point`.\n */\nexport function stringifyPosition(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if ('position' in value || 'type' in value) {\n    return position(value.position)\n  }\n\n  // Position.\n  if ('start' in value || 'end' in value) {\n    return position(value)\n  }\n\n  // Point.\n  if ('line' in value || 'column' in value) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\n/**\n * @param {Point | PointLike | null | undefined} point\n * @returns {string}\n */\nfunction point(point) {\n  return index(point && point.line) + ':' + index(point && point.column)\n}\n\n/**\n * @param {Position | PositionLike | null | undefined} pos\n * @returns {string}\n */\nfunction position(pos) {\n  return point(pos && pos.start) + '-' + point(pos && pos.end)\n}\n\n/**\n * @param {number | null | undefined} value\n * @returns {number}\n */\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef Options\n *   Configuration.\n * @property {Array<Node> | null | undefined} [ancestors]\n *   Stack of (inclusive) ancestor nodes surrounding the message (optional).\n * @property {Error | null | undefined} [cause]\n *   Original error cause of the message (optional).\n * @property {Point | Position | null | undefined} [place]\n *   Place of message (optional).\n * @property {string | null | undefined} [ruleId]\n *   Category of message (optional, example: `'my-rule'`).\n * @property {string | null | undefined} [source]\n *   Namespace of who sent the message (optional, example: `'my-package'`).\n */\n\nimport {stringifyPosition} from 'unist-util-stringify-position'\n\n/**\n * Message.\n */\nexport class VFileMessage extends Error {\n  /**\n   * Create a message for `reason`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Options | null | undefined} [options]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // eslint-disable-next-line complexity\n  constructor(causeOrReason, optionsOrParentOrPlace, origin) {\n    super()\n\n    if (typeof optionsOrParentOrPlace === 'string') {\n      origin = optionsOrParentOrPlace\n      optionsOrParentOrPlace = undefined\n    }\n\n    /** @type {string} */\n    let reason = ''\n    /** @type {Options} */\n    let options = {}\n    let legacyCause = false\n\n    if (optionsOrParentOrPlace) {\n      // Point.\n      if (\n        'line' in optionsOrParentOrPlace &&\n        'column' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Position.\n      else if (\n        'start' in optionsOrParentOrPlace &&\n        'end' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Node.\n      else if ('type' in optionsOrParentOrPlace) {\n        options = {\n          ancestors: [optionsOrParentOrPlace],\n          place: optionsOrParentOrPlace.position\n        }\n      }\n      // Options.\n      else {\n        options = {...optionsOrParentOrPlace}\n      }\n    }\n\n    if (typeof causeOrReason === 'string') {\n      reason = causeOrReason\n    }\n    // Error.\n    else if (!options.cause && causeOrReason) {\n      legacyCause = true\n      reason = causeOrReason.message\n      options.cause = causeOrReason\n    }\n\n    if (!options.ruleId && !options.source && typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        options.ruleId = origin\n      } else {\n        options.source = origin.slice(0, index)\n        options.ruleId = origin.slice(index + 1)\n      }\n    }\n\n    if (!options.place && options.ancestors && options.ancestors) {\n      const parent = options.ancestors[options.ancestors.length - 1]\n\n      if (parent) {\n        options.place = parent.position\n      }\n    }\n\n    const start =\n      options.place && 'start' in options.place\n        ? options.place.start\n        : options.place\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * Stack of ancestor nodes surrounding the message.\n     *\n     * @type {Array<Node> | undefined}\n     */\n    this.ancestors = options.ancestors || undefined\n\n    /**\n     * Original error cause of the message.\n     *\n     * @type {Error | undefined}\n     */\n    this.cause = options.cause || undefined\n\n    /**\n     * Starting column of message.\n     *\n     * @type {number | undefined}\n     */\n    this.column = start ? start.column : undefined\n\n    /**\n     * State of problem.\n     *\n     * * `true`  error, file not usable\n     * * `false`  warning, change may be needed\n     * * `undefined`  change likely not needed\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal = undefined\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | undefined}\n     */\n    this.file\n\n    // Field from `Error`.\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = reason\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | undefined}\n     */\n    this.line = start ? start.line : undefined\n\n    // Field from `Error`.\n    /**\n     * Serialized positional info of message.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = stringifyPosition(options.place) || '1:1'\n\n    /**\n     * Place of message.\n     *\n     * @type {Point | Position | undefined}\n     */\n    this.place = options.place || undefined\n\n    /**\n     * Reason for message, should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | undefined}\n     */\n    this.ruleId = options.ruleId || undefined\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | undefined}\n     */\n    this.source = options.source || undefined\n\n    // Field from `Error`.\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack =\n      legacyCause && options.cause && typeof options.cause.stack === 'string'\n        ? options.cause.stack\n        : ''\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | undefined}\n     */\n    this.actual\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | undefined}\n     */\n    this.expected\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | undefined}\n     */\n    this.note\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | undefined}\n     */\n    this.url\n    /* eslint-enable no-unused-expressions */\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.column = undefined\nVFileMessage.prototype.line = undefined\nVFileMessage.prototype.ancestors = undefined\nVFileMessage.prototype.cause = undefined\nVFileMessage.prototype.fatal = undefined\nVFileMessage.prototype.place = undefined\nVFileMessage.prototype.ruleId = undefined\nVFileMessage.prototype.source = undefined\n","/**\n * @import {Identifier, Literal, MemberExpression} from 'estree'\n * @import {Jsx, JsxDev, Options, Props} from 'hast-util-to-jsx-runtime'\n * @import {Element, Nodes, Parents, Root, Text} from 'hast'\n * @import {MdxFlowExpressionHast, MdxTextExpressionHast} from 'mdast-util-mdx-expression'\n * @import {MdxJsxFlowElementHast, MdxJsxTextElementHast} from 'mdast-util-mdx-jsx'\n * @import {MdxjsEsmHast} from 'mdast-util-mdxjs-esm'\n * @import {Position} from 'unist'\n * @import {Child, Create, Field, State, Style} from './types.js'\n */\n\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {ok as assert} from 'devlop'\nimport {name as isIdentifierName} from 'estree-util-is-identifier-name'\nimport {whitespace} from 'hast-util-whitespace'\nimport {find, hastToReact, html, svg} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport styleToObject from 'style-to-object'\nimport {pointStart} from 'unist-util-position'\nimport {VFileMessage} from 'vfile-message'\n\n// To do: next major: `Object.hasOwn`.\nconst own = {}.hasOwnProperty\n\n/** @type {Map<string, number>} */\nconst emptyMap = new Map()\n\nconst cap = /[A-Z]/g\nconst dashSomething = /-([a-z])/g\n\n// `react-dom` triggers a warning for *any* white space in tables.\n// To follow GFM, `mdast-util-to-hast` injects line endings between elements.\n// Other tools might do so too, but they dont do here, so we remove all of\n// that.\n\n// See: <https://github.com/facebook/react/pull/7081>.\n// See: <https://github.com/facebook/react/pull/7515>.\n// See: <https://github.com/remarkjs/remark-react/issues/64>.\n// See: <https://github.com/rehypejs/rehype-react/pull/29>.\n// See: <https://github.com/rehypejs/rehype-react/pull/32>.\n// See: <https://github.com/rehypejs/rehype-react/pull/45>.\nconst tableElements = new Set(['table', 'tbody', 'thead', 'tfoot', 'tr'])\n\nconst tableCellElement = new Set(['td', 'th'])\n\nconst docs = 'https://github.com/syntax-tree/hast-util-to-jsx-runtime'\n\n/**\n * Transform a hast tree to preact, react, solid, svelte, vue, etc.,\n * with an automatic JSX runtime.\n *\n * @param {Nodes} tree\n *   Tree to transform.\n * @param {Options} options\n *   Configuration (required).\n * @returns {JSX.Element}\n *   JSX element.\n */\n\nexport function toJsxRuntime(tree, options) {\n  if (!options || options.Fragment === undefined) {\n    throw new TypeError('Expected `Fragment` in options')\n  }\n\n  const filePath = options.filePath || undefined\n  /** @type {Create} */\n  let create\n\n  if (options.development) {\n    if (typeof options.jsxDEV !== 'function') {\n      throw new TypeError(\n        'Expected `jsxDEV` in options when `development: true`'\n      )\n    }\n\n    create = developmentCreate(filePath, options.jsxDEV)\n  } else {\n    if (typeof options.jsx !== 'function') {\n      throw new TypeError('Expected `jsx` in production options')\n    }\n\n    if (typeof options.jsxs !== 'function') {\n      throw new TypeError('Expected `jsxs` in production options')\n    }\n\n    create = productionCreate(filePath, options.jsx, options.jsxs)\n  }\n\n  /** @type {State} */\n  const state = {\n    Fragment: options.Fragment,\n    ancestors: [],\n    components: options.components || {},\n    create,\n    elementAttributeNameCase: options.elementAttributeNameCase || 'react',\n    evaluater: options.createEvaluater ? options.createEvaluater() : undefined,\n    filePath,\n    ignoreInvalidStyle: options.ignoreInvalidStyle || false,\n    passKeys: options.passKeys !== false,\n    passNode: options.passNode || false,\n    schema: options.space === 'svg' ? svg : html,\n    stylePropertyNameCase: options.stylePropertyNameCase || 'dom',\n    tableCellAlignToStyle: options.tableCellAlignToStyle !== false\n  }\n\n  const result = one(state, tree, undefined)\n\n  // JSX element.\n  if (result && typeof result !== 'string') {\n    return result\n  }\n\n  // Text node or something that turned into nothing.\n  return state.create(\n    tree,\n    state.Fragment,\n    {children: result || undefined},\n    undefined\n  )\n}\n\n/**\n * Transform a node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Nodes} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction one(state, node, key) {\n  if (node.type === 'element') {\n    return element(state, node, key)\n  }\n\n  if (node.type === 'mdxFlowExpression' || node.type === 'mdxTextExpression') {\n    return mdxExpression(state, node)\n  }\n\n  if (node.type === 'mdxJsxFlowElement' || node.type === 'mdxJsxTextElement') {\n    return mdxJsxElement(state, node, key)\n  }\n\n  if (node.type === 'mdxjsEsm') {\n    return mdxEsm(state, node)\n  }\n\n  if (node.type === 'root') {\n    return root(state, node, key)\n  }\n\n  if (node.type === 'text') {\n    return text(state, node)\n  }\n}\n\n/**\n * Handle element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Element} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction element(state, node, key) {\n  const parentSchema = state.schema\n  let schema = parentSchema\n\n  if (node.tagName.toLowerCase() === 'svg' && parentSchema.space === 'html') {\n    schema = svg\n    state.schema = schema\n  }\n\n  state.ancestors.push(node)\n\n  const type = findComponentFromName(state, node.tagName, false)\n  const props = createElementProps(state, node)\n  let children = createChildren(state, node)\n\n  if (tableElements.has(node.tagName)) {\n    children = children.filter(function (child) {\n      return typeof child === 'string' ? !whitespace(child) : true\n    })\n  }\n\n  addNode(state, props, type, node)\n  addChildren(props, children)\n\n  // Restore.\n  state.ancestors.pop()\n  state.schema = parentSchema\n\n  return state.create(node, type, props, key)\n}\n\n/**\n * Handle MDX expression.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxFlowExpressionHast | MdxTextExpressionHast} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxExpression(state, node) {\n  if (node.data && node.data.estree && state.evaluater) {\n    const program = node.data.estree\n    const expression = program.body[0]\n    assert(expression.type === 'ExpressionStatement')\n\n    // Assume result is a child.\n    return /** @type {Child | undefined} */ (\n      state.evaluater.evaluateExpression(expression.expression)\n    )\n  }\n\n  crashEstree(state, node.position)\n}\n\n/**\n * Handle MDX ESM.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxjsEsmHast} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxEsm(state, node) {\n  if (node.data && node.data.estree && state.evaluater) {\n    // Assume result is a child.\n    return /** @type {Child | undefined} */ (\n      state.evaluater.evaluateProgram(node.data.estree)\n    )\n  }\n\n  crashEstree(state, node.position)\n}\n\n/**\n * Handle MDX JSX.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxJsxElement(state, node, key) {\n  const parentSchema = state.schema\n  let schema = parentSchema\n\n  if (node.name === 'svg' && parentSchema.space === 'html') {\n    schema = svg\n    state.schema = schema\n  }\n\n  state.ancestors.push(node)\n\n  const type =\n    node.name === null\n      ? state.Fragment\n      : findComponentFromName(state, node.name, true)\n  const props = createJsxElementProps(state, node)\n  const children = createChildren(state, node)\n\n  addNode(state, props, type, node)\n  addChildren(props, children)\n\n  // Restore.\n  state.ancestors.pop()\n  state.schema = parentSchema\n\n  return state.create(node, type, props, key)\n}\n\n/**\n * Handle root.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Root} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction root(state, node, key) {\n  /** @type {Props} */\n  const props = {}\n\n  addChildren(props, createChildren(state, node))\n\n  return state.create(node, state.Fragment, props, key)\n}\n\n/**\n * Handle text.\n *\n * @param {State} _\n *   Info passed around.\n * @param {Text} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction text(_, node) {\n  return node.value\n}\n\n/**\n * Add `node` to props.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Props} props\n *   Props.\n * @param {unknown} type\n *   Type.\n * @param {Element | MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Node.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addNode(state, props, type, node) {\n  // If this is swapped out for a component:\n  if (typeof type !== 'string' && type !== state.Fragment && state.passNode) {\n    props.node = node\n  }\n}\n\n/**\n * Add children to props.\n *\n * @param {Props} props\n *   Props.\n * @param {Array<Child>} children\n *   Children.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addChildren(props, children) {\n  if (children.length > 0) {\n    const value = children.length > 1 ? children : children[0]\n\n    if (value) {\n      props.children = value\n    }\n  }\n}\n\n/**\n * @param {string | undefined} _\n *   Path to file.\n * @param {Jsx} jsx\n *   Dynamic.\n * @param {Jsx} jsxs\n *   Static.\n * @returns {Create}\n *   Create a production element.\n */\nfunction productionCreate(_, jsx, jsxs) {\n  return create\n  /** @type {Create} */\n  function create(_, type, props, key) {\n    // Only an array when there are 2 or more children.\n    const isStaticChildren = Array.isArray(props.children)\n    const fn = isStaticChildren ? jsxs : jsx\n    return key ? fn(type, props, key) : fn(type, props)\n  }\n}\n\n/**\n * @param {string | undefined} filePath\n *   Path to file.\n * @param {JsxDev} jsxDEV\n *   Development.\n * @returns {Create}\n *   Create a development element.\n */\nfunction developmentCreate(filePath, jsxDEV) {\n  return create\n  /** @type {Create} */\n  function create(node, type, props, key) {\n    // Only an array when there are 2 or more children.\n    const isStaticChildren = Array.isArray(props.children)\n    const point = pointStart(node)\n    return jsxDEV(\n      type,\n      props,\n      key,\n      isStaticChildren,\n      {\n        columnNumber: point ? point.column - 1 : undefined,\n        fileName: filePath,\n        lineNumber: point ? point.line : undefined\n      },\n      undefined\n    )\n  }\n}\n\n/**\n * Create props from an element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Element} node\n *   Current element.\n * @returns {Props}\n *   Props.\n */\nfunction createElementProps(state, node) {\n  /** @type {Props} */\n  const props = {}\n  /** @type {string | undefined} */\n  let alignValue\n  /** @type {string} */\n  let prop\n\n  for (prop in node.properties) {\n    if (prop !== 'children' && own.call(node.properties, prop)) {\n      const result = createProperty(state, prop, node.properties[prop])\n\n      if (result) {\n        const [key, value] = result\n\n        if (\n          state.tableCellAlignToStyle &&\n          key === 'align' &&\n          typeof value === 'string' &&\n          tableCellElement.has(node.tagName)\n        ) {\n          alignValue = value\n        } else {\n          props[key] = value\n        }\n      }\n    }\n  }\n\n  if (alignValue) {\n    // Assume style is an object.\n    const style = /** @type {Style} */ (props.style || (props.style = {}))\n    style[state.stylePropertyNameCase === 'css' ? 'text-align' : 'textAlign'] =\n      alignValue\n  }\n\n  return props\n}\n\n/**\n * Create props from a JSX element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Current JSX element.\n * @returns {Props}\n *   Props.\n */\nfunction createJsxElementProps(state, node) {\n  /** @type {Props} */\n  const props = {}\n\n  for (const attribute of node.attributes) {\n    if (attribute.type === 'mdxJsxExpressionAttribute') {\n      if (attribute.data && attribute.data.estree && state.evaluater) {\n        const program = attribute.data.estree\n        const expression = program.body[0]\n        assert(expression.type === 'ExpressionStatement')\n        const objectExpression = expression.expression\n        assert(objectExpression.type === 'ObjectExpression')\n        const property = objectExpression.properties[0]\n        assert(property.type === 'SpreadElement')\n\n        Object.assign(\n          props,\n          state.evaluater.evaluateExpression(property.argument)\n        )\n      } else {\n        crashEstree(state, node.position)\n      }\n    } else {\n      // For JSX, the author is responsible of passing in the correct values.\n      const name = attribute.name\n      /** @type {unknown} */\n      let value\n\n      if (attribute.value && typeof attribute.value === 'object') {\n        if (\n          attribute.value.data &&\n          attribute.value.data.estree &&\n          state.evaluater\n        ) {\n          const program = attribute.value.data.estree\n          const expression = program.body[0]\n          assert(expression.type === 'ExpressionStatement')\n          value = state.evaluater.evaluateExpression(expression.expression)\n        } else {\n          crashEstree(state, node.position)\n        }\n      } else {\n        value = attribute.value === null ? true : attribute.value\n      }\n\n      // Assume a prop.\n      props[name] = /** @type {Props[keyof Props]} */ (value)\n    }\n  }\n\n  return props\n}\n\n/**\n * Create children.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Parents} node\n *   Current element.\n * @returns {Array<Child>}\n *   Children.\n */\nfunction createChildren(state, node) {\n  /** @type {Array<Child>} */\n  const children = []\n  let index = -1\n  /** @type {Map<string, number>} */\n  // Note: test this when Solid doesnt want to merge my upcoming PR.\n  /* c8 ignore next */\n  const countsByName = state.passKeys ? new Map() : emptyMap\n\n  while (++index < node.children.length) {\n    const child = node.children[index]\n    /** @type {string | undefined} */\n    let key\n\n    if (state.passKeys) {\n      const name =\n        child.type === 'element'\n          ? child.tagName\n          : child.type === 'mdxJsxFlowElement' ||\n              child.type === 'mdxJsxTextElement'\n            ? child.name\n            : undefined\n\n      if (name) {\n        const count = countsByName.get(name) || 0\n        key = name + '-' + count\n        countsByName.set(name, count + 1)\n      }\n    }\n\n    const result = one(state, child, key)\n    if (result !== undefined) children.push(result)\n  }\n\n  return children\n}\n\n/**\n * Handle a property.\n *\n * @param {State} state\n *   Info passed around.\n * @param {string} prop\n *   Key.\n * @param {Array<number | string> | boolean | number | string | null | undefined} value\n *   hast property value.\n * @returns {Field | undefined}\n *   Field for runtime, optional.\n */\nfunction createProperty(state, prop, value) {\n  const info = find(state.schema, prop)\n\n  // Ignore nullish and `NaN` values.\n  if (\n    value === null ||\n    value === undefined ||\n    (typeof value === 'number' && Number.isNaN(value))\n  ) {\n    return\n  }\n\n  if (Array.isArray(value)) {\n    // Accept `array`.\n    // Most props are space-separated.\n    value = info.commaSeparated ? commas(value) : spaces(value)\n  }\n\n  // React only accepts `style` as object.\n  if (info.property === 'style') {\n    let styleObject =\n      typeof value === 'object' ? value : parseStyle(state, String(value))\n\n    if (state.stylePropertyNameCase === 'css') {\n      styleObject = transformStylesToCssCasing(styleObject)\n    }\n\n    return ['style', styleObject]\n  }\n\n  return [\n    state.elementAttributeNameCase === 'react' && info.space\n      ? hastToReact[info.property] || info.property\n      : info.attribute,\n    value\n  ]\n}\n\n/**\n * Parse a CSS declaration to an object.\n *\n * @param {State} state\n *   Info passed around.\n * @param {string} value\n *   CSS declarations.\n * @returns {Style}\n *   Properties.\n * @throws\n *   Throws `VFileMessage` when CSS cannot be parsed.\n */\nfunction parseStyle(state, value) {\n  /** @type {Style} */\n  const result = {}\n\n  try {\n    styleToObject(value, replacer)\n  } catch (error) {\n    if (!state.ignoreInvalidStyle) {\n      const cause = /** @type {Error} */ (error)\n      const message = new VFileMessage('Cannot parse `style` attribute', {\n        ancestors: state.ancestors,\n        cause,\n        ruleId: 'style',\n        source: 'hast-util-to-jsx-runtime'\n      })\n      message.file = state.filePath || undefined\n      message.url = docs + '#cannot-parse-style-attribute'\n\n      throw message\n    }\n  }\n\n  return result\n\n  /**\n   * Add a CSS property (normal, so with dashes) to `result` as a DOM CSS\n   * property.\n   *\n   * @param {string} name\n   *   Key.\n   * @param {string} value\n   *   Value\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function replacer(name, value) {\n    let key = name\n\n    if (key.slice(0, 2) !== '--') {\n      if (key.slice(0, 4) === '-ms-') key = 'ms-' + key.slice(4)\n      key = key.replace(dashSomething, toCamel)\n    }\n\n    result[key] = value\n  }\n}\n\n/**\n * Create a JSX name from a string.\n *\n * @param {State} state\n *   To do.\n * @param {string} name\n *   Name.\n * @param {boolean} allowExpression\n *   Allow member expressions and identifiers.\n * @returns {unknown}\n *   To do.\n */\nfunction findComponentFromName(state, name, allowExpression) {\n  /** @type {Identifier | Literal | MemberExpression} */\n  let result\n\n  if (!allowExpression) {\n    result = {type: 'Literal', value: name}\n  } else if (name.includes('.')) {\n    const identifiers = name.split('.')\n    let index = -1\n    /** @type {Identifier | Literal | MemberExpression | undefined} */\n    let node\n\n    while (++index < identifiers.length) {\n      /** @type {Identifier | Literal} */\n      const prop = isIdentifierName(identifiers[index])\n        ? {type: 'Identifier', name: identifiers[index]}\n        : {type: 'Literal', value: identifiers[index]}\n      node = node\n        ? {\n            type: 'MemberExpression',\n            object: node,\n            property: prop,\n            computed: Boolean(index && prop.type === 'Literal'),\n            optional: false\n          }\n        : prop\n    }\n\n    assert(node, 'always a result')\n    result = node\n  } else {\n    result =\n      isIdentifierName(name) && !/^[a-z]/.test(name)\n        ? {type: 'Identifier', name}\n        : {type: 'Literal', value: name}\n  }\n\n  // Only literals can be passed in `components` currently.\n  // No identifiers / member expressions.\n  if (result.type === 'Literal') {\n    const name = /** @type {keyof JSX.IntrinsicElements} */ (result.value)\n\n    return own.call(state.components, name) ? state.components[name] : name\n  }\n\n  // Assume component.\n  if (state.evaluater) {\n    return state.evaluater.evaluateExpression(result)\n  }\n\n  crashEstree(state)\n}\n\n/**\n * @param {State} state\n * @param {Position | undefined} [place]\n * @returns {never}\n */\nfunction crashEstree(state, place) {\n  const message = new VFileMessage(\n    'Cannot handle MDX estrees without `createEvaluater`',\n    {\n      ancestors: state.ancestors,\n      place,\n      ruleId: 'mdx-estree',\n      source: 'hast-util-to-jsx-runtime'\n    }\n  )\n  message.file = state.filePath || undefined\n  message.url = docs + '#cannot-handle-mdx-estrees-without-createevaluater'\n\n  throw message\n}\n\n/**\n * Transform a DOM casing style object to a CSS casing style object.\n *\n * @param {Style} domCasing\n * @returns {Style}\n */\nfunction transformStylesToCssCasing(domCasing) {\n  /** @type {Style} */\n  const cssCasing = {}\n  /** @type {string} */\n  let from\n\n  for (from in domCasing) {\n    if (own.call(domCasing, from)) {\n      cssCasing[transformStyleToCssCasing(from)] = domCasing[from]\n    }\n  }\n\n  return cssCasing\n}\n\n/**\n * Transform a DOM casing style field to a CSS casing style field.\n *\n * @param {string} from\n * @returns {string}\n */\nfunction transformStyleToCssCasing(from) {\n  let to = from.replace(cap, toDash)\n  // Handle `ms-xxx` -> `-ms-xxx`.\n  if (to.slice(0, 3) === 'ms-') to = '-' + to\n  return to\n}\n\n/**\n * Make `$1` capitalized.\n *\n * @param {string} _\n *   Whatever.\n * @param {string} $1\n *   Single ASCII alphabetical.\n * @returns {string}\n *   Capitalized `$1`.\n */\nfunction toCamel(_, $1) {\n  return $1.toUpperCase()\n}\n\n/**\n * Make `$0` dash cased.\n *\n * @param {string} $0\n *   Capitalized ASCII leter.\n * @returns {string}\n *   Dash and lower letter.\n */\nfunction toDash($0) {\n  return '-' + $0.toLowerCase()\n}\n","/**\n * HTML URL properties.\n *\n * Each key is a property name and each value is a list of tag names it applies\n * to or `null` if it applies to all elements.\n *\n * @type {Record<string, Array<string> | null>}\n */\nexport const urlAttributes = {\n  action: ['form'],\n  cite: ['blockquote', 'del', 'ins', 'q'],\n  data: ['object'],\n  formAction: ['button', 'input'],\n  href: ['a', 'area', 'base', 'link'],\n  icon: ['menuitem'],\n  itemId: null,\n  manifest: ['html'],\n  ping: ['a', 'area'],\n  poster: ['video'],\n  src: [\n    'audio',\n    'embed',\n    'iframe',\n    'img',\n    'input',\n    'script',\n    'source',\n    'track',\n    'video'\n  ]\n}\n","/**\n * @typedef {import('mdast').Nodes} Nodes\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [includeImageAlt=true]\n *   Whether to use `alt` for `image`s (default: `true`).\n * @property {boolean | null | undefined} [includeHtml=true]\n *   Whether to use `value` of HTML (default: `true`).\n */\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Get the text content of a node or list of nodes.\n *\n * Prefers the nodes plain-text fields, otherwise serializes its children,\n * and if the given value is an array, serialize the nodes in it.\n *\n * @param {unknown} [value]\n *   Thing to serialize, typically `Node`.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized `value`.\n */\nexport function toString(value, options) {\n  const settings = options || emptyOptions\n  const includeImageAlt =\n    typeof settings.includeImageAlt === 'boolean'\n      ? settings.includeImageAlt\n      : true\n  const includeHtml =\n    typeof settings.includeHtml === 'boolean' ? settings.includeHtml : true\n\n  return one(value, includeImageAlt, includeHtml)\n}\n\n/**\n * One node or several nodes.\n *\n * @param {unknown} value\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized node.\n */\nfunction one(value, includeImageAlt, includeHtml) {\n  if (node(value)) {\n    if ('value' in value) {\n      return value.type === 'html' && !includeHtml ? '' : value.value\n    }\n\n    if (includeImageAlt && 'alt' in value && value.alt) {\n      return value.alt\n    }\n\n    if ('children' in value) {\n      return all(value.children, includeImageAlt, includeHtml)\n    }\n  }\n\n  if (Array.isArray(value)) {\n    return all(value, includeImageAlt, includeHtml)\n  }\n\n  return ''\n}\n\n/**\n * Serialize a list of nodes.\n *\n * @param {Array<unknown>} values\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized nodes.\n */\nfunction all(values, includeImageAlt, includeHtml) {\n  /** @type {Array<string>} */\n  const result = []\n  let index = -1\n\n  while (++index < values.length) {\n    result[index] = one(values[index], includeImageAlt, includeHtml)\n  }\n\n  return result.join('')\n}\n\n/**\n * Check if `value` looks like a node.\n *\n * @param {unknown} value\n *   Thing.\n * @returns {value is Nodes}\n *   Whether `value` is a node.\n */\nfunction node(value) {\n  return Boolean(value && typeof value === 'object')\n}\n","/// <reference lib=\"dom\" />\n\n/* eslint-env browser */\n\nconst element = document.createElement('i')\n\n/**\n * @param {string} value\n * @returns {string|false}\n */\nexport function decodeNamedCharacterReference(value) {\n  const characterReference = '&' + value + ';'\n  element.innerHTML = characterReference\n  const char = element.textContent\n\n  // Some named character references do not require the closing semicolon\n  // (`&not`, for instance), which leads to situations where parsing the assumed\n  // named reference of `&notit;` will result in the string `it;`.\n  // When we encounter a trailing semicolon after parsing, and the character\n  // reference to decode was not a semicolon (`&semi;`), we can assume that the\n  // matching was not complete.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  if (char.charCodeAt(char.length - 1) === 59 /* `;` */ && value !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the character reference was\n  // not valid.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  return char === characterReference ? false : char\n}\n","/**\n * Like `Array#splice`, but smarter for giant arrays.\n *\n * `Array#splice` takes all items to be inserted as individual argument which\n * causes a stack overflow in V8 when trying to insert 100k items for instance.\n *\n * Otherwise, this does not return the removed items, and takes `items` as an\n * array instead of rest parameters.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {number} start\n *   Index to remove/insert at (can be negative).\n * @param {number} remove\n *   Number of items to remove.\n * @param {Array<T>} items\n *   Items to inject into `list`.\n * @returns {undefined}\n *   Nothing.\n */\nexport function splice(list, start, remove, items) {\n  const end = list.length;\n  let chunkStart = 0;\n  /** @type {Array<unknown>} */\n  let parameters;\n\n  // Make start between zero and `end` (included).\n  if (start < 0) {\n    start = -start > end ? 0 : end + start;\n  } else {\n    start = start > end ? end : start;\n  }\n  remove = remove > 0 ? remove : 0;\n\n  // No need to chunk the items if theres only a couple (10k) items.\n  if (items.length < 10000) {\n    parameters = Array.from(items);\n    parameters.unshift(start, remove);\n    // @ts-expect-error Hush, its fine.\n    list.splice(...parameters);\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) list.splice(start, remove);\n\n    // Insert the items in chunks to not cause stack overflows.\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000);\n      parameters.unshift(start, 0);\n      // @ts-expect-error Hush, its fine.\n      list.splice(...parameters);\n      chunkStart += 10000;\n      start += 10000;\n    }\n  }\n}\n\n/**\n * Append `items` (an array) at the end of `list` (another array).\n * When `list` was empty, returns `items` instead.\n *\n * This prevents a potentially expensive operation when `list` is empty,\n * and adds items in batches to prevent V8 from hanging.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {Array<T>} items\n *   Items to add to `list`.\n * @returns {Array<T>}\n *   Either `list` or `items`.\n */\nexport function push(list, items) {\n  if (list.length > 0) {\n    splice(list, list.length, 0, items);\n    return list;\n  }\n  return items;\n}","/**\n * @import {\n *   Extension,\n *   Handles,\n *   HtmlExtension,\n *   NormalizedExtension\n * } from 'micromark-util-types'\n */\n\nimport {splice} from 'micromark-util-chunked'\n\nconst hasOwnProperty = {}.hasOwnProperty\n\n/**\n * Combine multiple syntax extensions into one.\n *\n * @param {ReadonlyArray<Extension>} extensions\n *   List of syntax extensions.\n * @returns {NormalizedExtension}\n *   A single combined extension.\n */\nexport function combineExtensions(extensions) {\n  /** @type {NormalizedExtension} */\n  const all = {}\n  let index = -1\n\n  while (++index < extensions.length) {\n    syntaxExtension(all, extensions[index])\n  }\n\n  return all\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {NormalizedExtension} all\n *   Extension to merge into.\n * @param {Extension} extension\n *   Extension to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction syntaxExtension(all, extension) {\n  /** @type {keyof Extension} */\n  let hook\n\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined\n    /** @type {Record<string, unknown>} */\n    const left = maybe || (all[hook] = {})\n    /** @type {Record<string, unknown> | undefined} */\n    const right = extension[hook]\n    /** @type {string} */\n    let code\n\n    if (right) {\n      for (code in right) {\n        if (!hasOwnProperty.call(left, code)) left[code] = []\n        const value = right[code]\n        constructs(\n          // @ts-expect-error Looks like a list.\n          left[code],\n          Array.isArray(value) ? value : value ? [value] : []\n        )\n      }\n    }\n  }\n}\n\n/**\n * Merge `list` into `existing` (both lists of constructs).\n * Mutates `existing`.\n *\n * @param {Array<unknown>} existing\n *   List of constructs to merge into.\n * @param {Array<unknown>} list\n *   List of constructs to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction constructs(existing, list) {\n  let index = -1\n  /** @type {Array<unknown>} */\n  const before = []\n\n  while (++index < list.length) {\n    // @ts-expect-error Looks like an object.\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  splice(existing, 0, 0, before)\n}\n\n/**\n * Combine multiple HTML extensions into one.\n *\n * @param {ReadonlyArray<HtmlExtension>} htmlExtensions\n *   List of HTML extensions.\n * @returns {HtmlExtension}\n *   Single combined HTML extension.\n */\nexport function combineHtmlExtensions(htmlExtensions) {\n  /** @type {HtmlExtension} */\n  const handlers = {}\n  let index = -1\n\n  while (++index < htmlExtensions.length) {\n    htmlExtension(handlers, htmlExtensions[index])\n  }\n\n  return handlers\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {HtmlExtension} all\n *   Extension to merge into.\n * @param {HtmlExtension} extension\n *   Extension to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction htmlExtension(all, extension) {\n  /** @type {keyof HtmlExtension} */\n  let hook\n\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined\n    const left = maybe || (all[hook] = {})\n    const right = extension[hook]\n    /** @type {keyof Handles} */\n    let type\n\n    if (right) {\n      for (type in right) {\n        // @ts-expect-error assume document vs regular handler are managed correctly.\n        left[type] = right[type]\n      }\n    }\n  }\n}\n","/**\n * Turn the number (in string form as either hexa- or plain decimal) coming from\n * a numeric character reference into a character.\n *\n * Sort of like `String.fromCodePoint(Number.parseInt(value, base))`, but makes\n * non-characters and control characters safe.\n *\n * @param {string} value\n *   Value to decode.\n * @param {number} base\n *   Numeric base.\n * @returns {string}\n *   Character.\n */\nexport function decodeNumericCharacterReference(value, base) {\n  const code = Number.parseInt(value, base);\n  if (\n  // C0 except for HT, LF, FF, CR, space.\n  code < 9 || code === 11 || code > 13 && code < 32 ||\n  // Control character (DEL) of C0, and C1 controls.\n  code > 126 && code < 160 ||\n  // Lone high surrogates and low surrogates.\n  code > 55_295 && code < 57_344 ||\n  // Noncharacters.\n  code > 64_975 && code < 65_008 || /* eslint-disable no-bitwise */\n  (code & 65_535) === 65_535 || (code & 65_535) === 65_534 || /* eslint-enable no-bitwise */\n  // Out of range\n  code > 1_114_111) {\n    return \"\\uFFFD\";\n  }\n  return String.fromCodePoint(code);\n}","/**\n * Normalize an identifier (as found in references, definitions).\n *\n * Collapses markdown whitespace, trim, and then lower- and uppercase.\n *\n * Some characters are considered uppercase, such as U+03F4 (``), but if their\n * lowercase counterpart (U+03B8 (``)) is uppercased will result in a different\n * uppercase character (U+0398 (``)).\n * So, to get a canonical form, we perform both lower- and uppercase.\n *\n * Using uppercase last makes sure keys will never interact with default\n * prototypal values (such as `constructor`): nothing in the prototype of\n * `Object` is uppercase.\n *\n * @param {string} value\n *   Identifier to normalize.\n * @returns {string}\n *   Normalized identifier.\n */\nexport function normalizeIdentifier(value) {\n  return value\n  // Collapse markdown whitespace.\n  .replace(/[\\t\\n\\r ]+/g, \" \")\n  // Trim.\n  .replace(/^ | $/g, '')\n  // Some characters are considered uppercase, but if their lowercase\n  // counterpart is uppercased will result in a different uppercase\n  // character.\n  // Hence, to get that form, we perform both lower- and uppercase.\n  // Upper case makes sure keys will not interact with default prototypal\n  // methods: no method is uppercase.\n  .toLowerCase().toUpperCase();\n}","/**\n * @import {Code} from 'micromark-util-types'\n */\n\n/**\n * Check whether the character code represents an ASCII alpha (`a` through `z`,\n * case insensitive).\n *\n * An **ASCII alpha** is an ASCII upper alpha or ASCII lower alpha.\n *\n * An **ASCII upper alpha** is a character in the inclusive range U+0041 (`A`)\n * to U+005A (`Z`).\n *\n * An **ASCII lower alpha** is a character in the inclusive range U+0061 (`a`)\n * to U+007A (`z`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAlpha = regexCheck(/[A-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII alphanumeric (`a`\n * through `z`, case insensitive, or `0` through `9`).\n *\n * An **ASCII alphanumeric** is an ASCII digit (see `asciiDigit`) or ASCII alpha\n * (see `asciiAlpha`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII atext.\n *\n * atext is an ASCII alphanumeric (see `asciiAlphanumeric`), or a character in\n * the inclusive ranges U+0023 NUMBER SIGN (`#`) to U+0027 APOSTROPHE (`'`),\n * U+002A ASTERISK (`*`), U+002B PLUS SIGN (`+`), U+002D DASH (`-`), U+002F\n * SLASH (`/`), U+003D EQUALS TO (`=`), U+003F QUESTION MARK (`?`), U+005E\n * CARET (`^`) to U+0060 GRAVE ACCENT (`` ` ``), or U+007B LEFT CURLY BRACE\n * (`{`) to U+007E TILDE (`~`).\n *\n * See:\n * **\\[RFC5322]**:\n * [Internet Message Format](https://tools.ietf.org/html/rfc5322).\n * P. Resnick.\n * IETF.\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/);\n\n/**\n * Check whether a character code is an ASCII control character.\n *\n * An **ASCII control** is a character in the inclusive range U+0000 NULL (NUL)\n * to U+001F (US), or U+007F (DEL).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code !== null && (code < 32 || code === 127)\n  );\n}\n\n/**\n * Check whether the character code represents an ASCII digit (`0` through `9`).\n *\n * An **ASCII digit** is a character in the inclusive range U+0030 (`0`) to\n * U+0039 (`9`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiDigit = regexCheck(/\\d/);\n\n/**\n * Check whether the character code represents an ASCII hex digit (`a` through\n * `f`, case insensitive, or `0` through `9`).\n *\n * An **ASCII hex digit** is an ASCII digit (see `asciiDigit`), ASCII upper hex\n * digit, or an ASCII lower hex digit.\n *\n * An **ASCII upper hex digit** is a character in the inclusive range U+0041\n * (`A`) to U+0046 (`F`).\n *\n * An **ASCII lower hex digit** is a character in the inclusive range U+0061\n * (`a`) to U+0066 (`f`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiHexDigit = regexCheck(/[\\dA-Fa-f]/);\n\n/**\n * Check whether the character code represents ASCII punctuation.\n *\n * An **ASCII punctuation** is a character in the inclusive ranges U+0021\n * EXCLAMATION MARK (`!`) to U+002F SLASH (`/`), U+003A COLON (`:`) to U+0040 AT\n * SIGN (`@`), U+005B LEFT SQUARE BRACKET (`[`) to U+0060 GRAVE ACCENT\n * (`` ` ``), or U+007B LEFT CURLY BRACE (`{`) to U+007E TILDE (`~`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/);\n\n/**\n * Check whether a character code is a markdown line ending.\n *\n * A **markdown line ending** is the virtual characters M-0003 CARRIAGE RETURN\n * LINE FEED (CRLF), M-0004 LINE FEED (LF) and M-0005 CARRIAGE RETURN (CR).\n *\n * In micromark, the actual character U+000A LINE FEED (LF) and U+000D CARRIAGE\n * RETURN (CR) are replaced by these virtual characters depending on whether\n * they occurred together.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEnding(code) {\n  return code !== null && code < -2;\n}\n\n/**\n * Check whether a character code is a markdown line ending (see\n * `markdownLineEnding`) or markdown space (see `markdownSpace`).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEndingOrSpace(code) {\n  return code !== null && (code < 0 || code === 32);\n}\n\n/**\n * Check whether a character code is a markdown space.\n *\n * A **markdown space** is the concrete character U+0020 SPACE (SP) and the\n * virtual characters M-0001 VIRTUAL SPACE (VS) and M-0002 HORIZONTAL TAB (HT).\n *\n * In micromark, the actual character U+0009 CHARACTER TABULATION (HT) is\n * replaced by one M-0002 HORIZONTAL TAB (HT) and between 0 and 3 M-0001 VIRTUAL\n * SPACE (VS) characters, depending on the column at which the tab occurred.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32;\n}\n\n// Size note: removing ASCII from the regex and using `asciiPunctuation` here\n// In fact adds to the bundle size.\n/**\n * Check whether the character code represents Unicode punctuation.\n *\n * A **Unicode punctuation** is a character in the Unicode `Pc` (Punctuation,\n * Connector), `Pd` (Punctuation, Dash), `Pe` (Punctuation, Close), `Pf`\n * (Punctuation, Final quote), `Pi` (Punctuation, Initial quote), `Po`\n * (Punctuation, Other), or `Ps` (Punctuation, Open) categories, or an ASCII\n * punctuation (see `asciiPunctuation`).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodePunctuation = regexCheck(/\\p{P}|\\p{S}/u);\n\n/**\n * Check whether the character code represents Unicode whitespace.\n *\n * Note that this does handle micromark specific markdown whitespace characters.\n * See `markdownLineEndingOrSpace` to check that.\n *\n * A **Unicode whitespace** is a character in the Unicode `Zs` (Separator,\n * Space) category, or U+0009 CHARACTER TABULATION (HT), U+000A LINE FEED (LF),\n * U+000C (FF), or U+000D CARRIAGE RETURN (CR) (**\\[UNICODE]**).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodeWhitespace = regexCheck(/\\s/);\n\n/**\n * Create a code check from a regex.\n *\n * @param {RegExp} regex\n *   Expression.\n * @returns {(code: Code) => boolean}\n *   Check.\n */\nfunction regexCheck(regex) {\n  return check;\n\n  /**\n   * Check whether a code matches the bound regex.\n   *\n   * @param {Code} code\n   *   Character code.\n   * @returns {boolean}\n   *   Whether the character code matches the bound regex.\n   */\n  function check(code) {\n    return code !== null && code > -1 && regex.test(String.fromCharCode(code));\n  }\n}","import { asciiAlphanumeric } from 'micromark-util-character';\nimport { encode } from 'micromark-util-encode';\n/**\n * Make a value safe for injection as a URL.\n *\n * This encodes unsafe characters with percent-encoding and skips already\n * encoded sequences (see `normalizeUri`).\n * Further unsafe characters are encoded as character references (see\n * `micromark-util-encode`).\n *\n * A regex of allowed protocols can be given, in which case the URL is\n * sanitized.\n * For example, `/^(https?|ircs?|mailto|xmpp)$/i` can be used for `a[href]`, or\n * `/^https?$/i` for `img[src]` (this is what `github.com` allows).\n * If the URL includes an unknown protocol (one not matched by `protocol`, such\n * as a dangerous example, `javascript:`), the value is ignored.\n *\n * @param {string | null | undefined} url\n *   URI to sanitize.\n * @param {RegExp | null | undefined} [protocol]\n *   Allowed protocols.\n * @returns {string}\n *   Sanitized URI.\n */\nexport function sanitizeUri(url, protocol) {\n  const value = encode(normalizeUri(url || ''));\n  if (!protocol) {\n    return value;\n  }\n  const colon = value.indexOf(':');\n  const questionMark = value.indexOf('?');\n  const numberSign = value.indexOf('#');\n  const slash = value.indexOf('/');\n  if (\n  // If there is no protocol, its relative.\n  colon < 0 ||\n  // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n  slash > -1 && colon > slash || questionMark > -1 && colon > questionMark || numberSign > -1 && colon > numberSign ||\n  // It is a protocol, it should be allowed.\n  protocol.test(value.slice(0, colon))) {\n    return value;\n  }\n  return '';\n}\n\n/**\n * Normalize a URL.\n *\n * Encode unsafe characters with percent-encoding, skipping already encoded\n * sequences.\n *\n * @param {string} value\n *   URI to normalize.\n * @returns {string}\n *   Normalized URI.\n */\nexport function normalizeUri(value) {\n  /** @type {Array<string>} */\n  const result = [];\n  let index = -1;\n  let start = 0;\n  let skip = 0;\n  while (++index < value.length) {\n    const code = value.charCodeAt(index);\n    /** @type {string} */\n    let replace = '';\n\n    // A correct percent encoded value.\n    if (code === 37 && asciiAlphanumeric(value.charCodeAt(index + 1)) && asciiAlphanumeric(value.charCodeAt(index + 2))) {\n      skip = 2;\n    }\n    // ASCII.\n    else if (code < 128) {\n      if (!/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(code))) {\n        replace = String.fromCharCode(code);\n      }\n    }\n    // Astral.\n    else if (code > 55_295 && code < 57_344) {\n      const next = value.charCodeAt(index + 1);\n\n      // A correct surrogate pair.\n      if (code < 56_320 && next > 56_319 && next < 57_344) {\n        replace = String.fromCharCode(code, next);\n        skip = 1;\n      }\n      // Lone surrogate.\n      else {\n        replace = \"\\uFFFD\";\n      }\n    }\n    // Unicode.\n    else {\n      replace = String.fromCharCode(code);\n    }\n    if (replace) {\n      result.push(value.slice(start, index), encodeURIComponent(replace));\n      start = index + skip + 1;\n      replace = '';\n    }\n    if (skip) {\n      index += skip;\n      skip = 0;\n    }\n  }\n  return result.join('') + value.slice(start);\n}","/**\n * @import {Effects, State, TokenType} from 'micromark-util-types'\n */\n\nimport { markdownSpace } from 'micromark-util-character';\n\n// To do: implement `spaceOrTab`, `spaceOrTabMinMax`, `spaceOrTabWithOptions`.\n\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   spaces in markdown are often optional, in which case this factory can be\n *     used and `ok` will be switched to whether spaces were found or not\n * *   one line ending or space can be detected with `markdownSpace(code)` right\n *     before using `factorySpace`\n *\n * ###### Examples\n *\n * Where `` represents a tab (plus how much it expands) and `` represents a\n * single space.\n *\n * ```markdown\n * \n * \n * \n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {TokenType} type\n *   Type (`' \\t'`).\n * @param {number | undefined} [max=Infinity]\n *   Max (exclusive).\n * @returns {State}\n *   Start state.\n */\nexport function factorySpace(effects, ok, type, max) {\n  const limit = max ? max - 1 : Number.POSITIVE_INFINITY;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type);\n      return prefix(code);\n    }\n    return ok(code);\n  }\n\n  /** @type {State} */\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code);\n      return prefix;\n    }\n    effects.exit(type);\n    return ok(code);\n  }\n}","/**\n * @import {\n *   InitialConstruct,\n *   Initializer,\n *   State,\n *   TokenizeContext,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const content = {\n  tokenize: initializeContent\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Initializer}\n *   Content.\n */\nfunction initializeContent(effects) {\n  const contentStart = effects.attempt(this.parser.constructs.contentInitial, afterContentStartConstruct, paragraphInitial);\n  /** @type {Token} */\n  let previous;\n  return contentStart;\n\n  /** @type {State} */\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, contentStart, \"linePrefix\");\n  }\n\n  /** @type {State} */\n  function paragraphInitial(code) {\n    effects.enter(\"paragraph\");\n    return lineStart(code);\n  }\n\n  /** @type {State} */\n  function lineStart(code) {\n    const token = effects.enter(\"chunkText\", {\n      contentType: \"text\",\n      previous\n    });\n    if (previous) {\n      previous.next = token;\n    }\n    previous = token;\n    return data(code);\n  }\n\n  /** @type {State} */\n  function data(code) {\n    if (code === null) {\n      effects.exit(\"chunkText\");\n      effects.exit(\"paragraph\");\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      effects.exit(\"chunkText\");\n      return lineStart;\n    }\n\n    // Data.\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * @import {\n *   Construct,\n *   ContainerState,\n *   InitialConstruct,\n *   Initializer,\n *   Point,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\n/**\n * @typedef {[Construct, ContainerState]} StackItem\n *   Construct and its state.\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {InitialConstruct} */\nexport const document = {\n  tokenize: initializeDocument\n};\n\n/** @type {Construct} */\nconst containerConstruct = {\n  tokenize: tokenizeContainer\n};\n\n/**\n * @this {TokenizeContext}\n *   Self.\n * @type {Initializer}\n *   Initializer.\n */\nfunction initializeDocument(effects) {\n  const self = this;\n  /** @type {Array<StackItem>} */\n  const stack = [];\n  let continued = 0;\n  /** @type {TokenizeContext | undefined} */\n  let childFlow;\n  /** @type {Token | undefined} */\n  let childToken;\n  /** @type {number} */\n  let lineStartOffset;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    // First we iterate through the open blocks, starting with the root\n    // document, and descending through last children down to the last open\n    // block.\n    // Each block imposes a condition that the line must satisfy if the block is\n    // to remain open.\n    // For example, a block quote requires a `>` character.\n    // A paragraph requires a non-blank line.\n    // In this phase we may match all or just some of the open blocks.\n    // But we cannot close unmatched blocks yet, because we may have a lazy\n    // continuation line.\n    if (continued < stack.length) {\n      const item = stack[continued];\n      self.containerState = item[1];\n      return effects.attempt(item[0].continuation, documentContinue, checkNewContainers)(code);\n    }\n\n    // Done.\n    return checkNewContainers(code);\n  }\n\n  /** @type {State} */\n  function documentContinue(code) {\n    continued++;\n\n    // Note: this field is called `_closeFlow` but it also closes containers.\n    // Perhaps a good idea to rename it but its already used in the wild by\n    // extensions.\n    if (self.containerState._closeFlow) {\n      self.containerState._closeFlow = undefined;\n      if (childFlow) {\n        closeFlow();\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when dealing with lazy lines in `writeToChild`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the flow chunk.\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === \"chunkFlow\") {\n          point = self.events[indexBeforeFlow][1].end;\n          break;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      let index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = {\n          ...point\n        };\n        index++;\n      }\n\n      // Inject the exits earlier (theyre still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n      return checkNewContainers(code);\n    }\n    return start(code);\n  }\n\n  /** @type {State} */\n  function checkNewContainers(code) {\n    // Next, after consuming the continuation markers for existing blocks, we\n    // look for new block starts (e.g. `>` for a block quote).\n    // If we encounter a new block start, we close any blocks unmatched in\n    // step 1 before creating the new block as a child of the last matched\n    // block.\n    if (continued === stack.length) {\n      // No need to `check` whether theres a container, of `exitContainers`\n      // would be moot.\n      // We can instead immediately `attempt` to parse one.\n      if (!childFlow) {\n        return documentContinued(code);\n      }\n\n      // If we have concrete content, such as block HTML or fenced code,\n      // we cant have containers pierce into them, so we can immediately\n      // start.\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        return flowStart(code);\n      }\n\n      // If we do have flow, it could still be a blank line,\n      // but wed be interrupting it w/ a new container if theres a current\n      // construct.\n      // To do: next major: remove `_gfmTableDynamicInterruptHack` (no longer\n      // needed in micromark-extension-gfm-table@1.0.6).\n      self.interrupt = Boolean(childFlow.currentConstruct && !childFlow._gfmTableDynamicInterruptHack);\n    }\n\n    // Check if there is a new container.\n    self.containerState = {};\n    return effects.check(containerConstruct, thereIsANewContainer, thereIsNoNewContainer)(code);\n  }\n\n  /** @type {State} */\n  function thereIsANewContainer(code) {\n    if (childFlow) closeFlow();\n    exitContainers(continued);\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function thereIsNoNewContainer(code) {\n    self.parser.lazy[self.now().line] = continued !== stack.length;\n    lineStartOffset = self.now().offset;\n    return flowStart(code);\n  }\n\n  /** @type {State} */\n  function documentContinued(code) {\n    // Try new containers.\n    self.containerState = {};\n    return effects.attempt(containerConstruct, containerContinue, flowStart)(code);\n  }\n\n  /** @type {State} */\n  function containerContinue(code) {\n    continued++;\n    stack.push([self.currentConstruct, self.containerState]);\n    // Try another.\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function flowStart(code) {\n    if (code === null) {\n      if (childFlow) closeFlow();\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    childFlow = childFlow || self.parser.flow(self.now());\n    effects.enter(\"chunkFlow\", {\n      _tokenizer: childFlow,\n      contentType: \"flow\",\n      previous: childToken\n    });\n    return flowContinue(code);\n  }\n\n  /** @type {State} */\n  function flowContinue(code) {\n    if (code === null) {\n      writeToChild(effects.exit(\"chunkFlow\"), true);\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      writeToChild(effects.exit(\"chunkFlow\"));\n      // Get ready for the next line.\n      continued = 0;\n      self.interrupt = undefined;\n      return start;\n    }\n    effects.consume(code);\n    return flowContinue;\n  }\n\n  /**\n   * @param {Token} token\n   *   Token.\n   * @param {boolean | undefined} [endOfFile]\n   *   Whether the token is at the end of the file (default: `false`).\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function writeToChild(token, endOfFile) {\n    const stream = self.sliceStream(token);\n    if (endOfFile) stream.push(null);\n    token.previous = childToken;\n    if (childToken) childToken.next = token;\n    childToken = token;\n    childFlow.defineSkip(token.start);\n    childFlow.write(stream);\n\n    // Alright, so we just added a lazy line:\n    //\n    // ```markdown\n    // > a\n    // b.\n    //\n    // Or:\n    //\n    // > ~~~c\n    // d\n    //\n    // Or:\n    //\n    // > | e |\n    // f\n    // ```\n    //\n    // The construct in the second example (fenced code) does not accept lazy\n    // lines, so it marked itself as done at the end of its first line, and\n    // then the content construct parses `d`.\n    // Most constructs in markdown match on the first line: if the first line\n    // forms a construct, a non-lazy line cant unmake it.\n    //\n    // The construct in the third example is potentially a GFM table, and\n    // those are *weird*.\n    // It *could* be a table, from the first line, if the following line\n    // matches a condition.\n    // In this case, that second line is lazy, which unmakes the first line\n    // and turns the whole into one content block.\n    //\n    // Weve now parsed the non-lazy and the lazy line, and can figure out\n    // whether the lazy line started a new flow block.\n    // If it did, we exit the current containers between the two flow blocks.\n    if (self.parser.lazy[token.start.line]) {\n      let index = childFlow.events.length;\n      while (index--) {\n        if (\n        // The token starts before the line ending\n        childFlow.events[index][1].start.offset < lineStartOffset && (\n        // and either is not ended yet\n        !childFlow.events[index][1].end ||\n        // or ends after it.\n        childFlow.events[index][1].end.offset > lineStartOffset)) {\n          // Exit: theres still something open, which means its a lazy line\n          // part of something.\n          return;\n        }\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when closing flow in `documentContinue`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {boolean | undefined} */\n      let seen;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the previous chunk (the one before the lazy line).\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === \"chunkFlow\") {\n          if (seen) {\n            point = self.events[indexBeforeFlow][1].end;\n            break;\n          }\n          seen = true;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = {\n          ...point\n        };\n        index++;\n      }\n\n      // Inject the exits earlier (theyre still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n    }\n  }\n\n  /**\n   * @param {number} size\n   *   Size.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function exitContainers(size) {\n    let index = stack.length;\n\n    // Exit open containers.\n    while (index-- > size) {\n      const entry = stack[index];\n      self.containerState = entry[1];\n      entry[0].exit.call(self, effects);\n    }\n    stack.length = size;\n  }\n  function closeFlow() {\n    childFlow.write([null]);\n    childToken = undefined;\n    childFlow = undefined;\n    self.containerState._closeFlow = undefined;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n *   Tokenizer.\n */\nfunction tokenizeContainer(effects, ok, nok) {\n  // Always populated by defaults.\n\n  return factorySpace(effects, effects.attempt(this.parser.constructs.document, ok, nok), \"linePrefix\", this.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4);\n}","/**\n * @import {Code} from 'micromark-util-types'\n */\n\nimport { markdownLineEndingOrSpace, unicodePunctuation, unicodeWhitespace } from 'micromark-util-character';\n/**\n * Classify whether a code represents whitespace, punctuation, or something\n * else.\n *\n * Used for attention (emphasis, strong), whose sequences can open or close\n * based on the class of surrounding characters.\n *\n * >  **Note**: eof (`null`) is seen as whitespace.\n *\n * @param {Code} code\n *   Code.\n * @returns {typeof constants.characterGroupWhitespace | typeof constants.characterGroupPunctuation | undefined}\n *   Group.\n */\nexport function classifyCharacter(code) {\n  if (code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n    return 1;\n  }\n  if (unicodePunctuation(code)) {\n    return 2;\n  }\n}","/**\n * @import {Event, Resolver, TokenizeContext} from 'micromark-util-types'\n */\n\n/**\n * Call all `resolveAll`s.\n *\n * @param {ReadonlyArray<{resolveAll?: Resolver | undefined}>} constructs\n *   List of constructs, optionally with `resolveAll`s.\n * @param {Array<Event>} events\n *   List of events.\n * @param {TokenizeContext} context\n *   Context used by `tokenize`.\n * @returns {Array<Event>}\n *   Changed events.\n */\nexport function resolveAll(constructs, events, context) {\n  /** @type {Array<Resolver>} */\n  const called = []\n  let index = -1\n\n  while (++index < constructs.length) {\n    const resolve = constructs[index].resolveAll\n\n    if (resolve && !called.includes(resolve)) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n","/**\n * @import {\n *   Code,\n *   Construct,\n *   Event,\n *   Point,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { push, splice } from 'micromark-util-chunked';\nimport { classifyCharacter } from 'micromark-util-classify-character';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const attention = {\n  name: 'attention',\n  resolveAll: resolveAllAttention,\n  tokenize: tokenizeAttention\n};\n\n/**\n * Take all events and resolve attention to emphasis or strong.\n *\n * @type {Resolver}\n */\n// eslint-disable-next-line complexity\nfunction resolveAllAttention(events, context) {\n  let index = -1;\n  /** @type {number} */\n  let open;\n  /** @type {Token} */\n  let group;\n  /** @type {Token} */\n  let text;\n  /** @type {Token} */\n  let openingSequence;\n  /** @type {Token} */\n  let closingSequence;\n  /** @type {number} */\n  let use;\n  /** @type {Array<Event>} */\n  let nextEvents;\n  /** @type {number} */\n  let offset;\n\n  // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (events[index][0] === 'enter' && events[index][1].type === 'attentionSequence' && events[index][1]._close) {\n      open = index;\n\n      // Now walk back to find an opener.\n      while (open--) {\n        // Find a token that can open the closer.\n        if (events[open][0] === 'exit' && events[open][1].type === 'attentionSequence' && events[open][1]._open &&\n        // If the markers are the same:\n        context.sliceSerialize(events[open][1]).charCodeAt(0) === context.sliceSerialize(events[index][1]).charCodeAt(0)) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if ((events[open][1]._close || events[index][1]._open) && (events[index][1].end.offset - events[index][1].start.offset) % 3 && !((events[open][1].end.offset - events[open][1].start.offset + events[index][1].end.offset - events[index][1].start.offset) % 3)) {\n            continue;\n          }\n\n          // Number of markers to use from the sequence.\n          use = events[open][1].end.offset - events[open][1].start.offset > 1 && events[index][1].end.offset - events[index][1].start.offset > 1 ? 2 : 1;\n          const start = {\n            ...events[open][1].end\n          };\n          const end = {\n            ...events[index][1].start\n          };\n          movePoint(start, -use);\n          movePoint(end, use);\n          openingSequence = {\n            type: use > 1 ? \"strongSequence\" : \"emphasisSequence\",\n            start,\n            end: {\n              ...events[open][1].end\n            }\n          };\n          closingSequence = {\n            type: use > 1 ? \"strongSequence\" : \"emphasisSequence\",\n            start: {\n              ...events[index][1].start\n            },\n            end\n          };\n          text = {\n            type: use > 1 ? \"strongText\" : \"emphasisText\",\n            start: {\n              ...events[open][1].end\n            },\n            end: {\n              ...events[index][1].start\n            }\n          };\n          group = {\n            type: use > 1 ? \"strong\" : \"emphasis\",\n            start: {\n              ...openingSequence.start\n            },\n            end: {\n              ...closingSequence.end\n            }\n          };\n          events[open][1].end = {\n            ...openingSequence.start\n          };\n          events[index][1].start = {\n            ...closingSequence.end\n          };\n          nextEvents = [];\n\n          // If there are more markers in the opening, add them before.\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = push(nextEvents, [['enter', events[open][1], context], ['exit', events[open][1], context]]);\n          }\n\n          // Opening.\n          nextEvents = push(nextEvents, [['enter', group, context], ['enter', openingSequence, context], ['exit', openingSequence, context], ['enter', text, context]]);\n\n          // Always populated by defaults.\n\n          // Between.\n          nextEvents = push(nextEvents, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + 1, index), context));\n\n          // Closing.\n          nextEvents = push(nextEvents, [['exit', text, context], ['enter', closingSequence, context], ['exit', closingSequence, context], ['exit', group, context]]);\n\n          // If there are more markers in the closing, add them after.\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2;\n            nextEvents = push(nextEvents, [['enter', events[index][1], context], ['exit', events[index][1], context]]);\n          } else {\n            offset = 0;\n          }\n          splice(events, open - 1, index - open + 3, nextEvents);\n          index = open + nextEvents.length - offset - 2;\n          break;\n        }\n      }\n    }\n  }\n\n  // Remove remaining sequences.\n  index = -1;\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data';\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeAttention(effects, ok) {\n  const attentionMarkers = this.parser.constructs.attentionMarkers.null;\n  const previous = this.previous;\n  const before = classifyCharacter(previous);\n\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Before a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    marker = code;\n    effects.enter('attentionSequence');\n    return inside(code);\n  }\n\n  /**\n   * In a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    const token = effects.exit('attentionSequence');\n\n    // To do: next major: move this to resolver, just like `markdown-rs`.\n    const after = classifyCharacter(code);\n\n    // Always populated by defaults.\n\n    const open = !after || after === 2 && before || attentionMarkers.includes(code);\n    const close = !before || before === 2 && after || attentionMarkers.includes(previous);\n    token._open = Boolean(marker === 42 ? open : open && (before || !close));\n    token._close = Boolean(marker === 42 ? close : close && (after || !open));\n    return ok(code);\n  }\n}\n\n/**\n * Move a point a bit.\n *\n * Note: `move` only works inside lines! Its not possible to move past other\n * chunks (replacement characters, tabs, or line endings).\n *\n * @param {Point} point\n *   Point.\n * @param {number} offset\n *   Amount to move.\n * @returns {undefined}\n *   Nothing.\n */\nfunction movePoint(point, offset) {\n  point.column += offset;\n  point.offset += offset;\n  point._bufferIndex += offset;\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiAlphanumeric, asciiAlpha, asciiAtext, asciiControl } from 'micromark-util-character';\n/** @type {Construct} */\nexport const autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeAutolink(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of an autolink.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *      ^\n   * > | a<user@example.com>b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"autolink\");\n    effects.enter(\"autolinkMarker\");\n    effects.consume(code);\n    effects.exit(\"autolinkMarker\");\n    effects.enter(\"autolinkProtocol\");\n    return open;\n  }\n\n  /**\n   * After `<`, at protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *       ^\n   * > | a<user@example.com>b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return schemeOrEmailAtext;\n    }\n    if (code === 64) {\n      return nok(code);\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * At second byte of protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeOrEmailAtext(code) {\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) {\n      // Count the previous alphabetical from `open` too.\n      size = 1;\n      return schemeInsideOrEmailAtext(code);\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * In ambiguous protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code);\n      size = 0;\n      return urlInside;\n    }\n\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if ((code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) && size++ < 32) {\n      effects.consume(code);\n      return schemeInsideOrEmailAtext;\n    }\n    size = 0;\n    return emailAtext(code);\n  }\n\n  /**\n   * After protocol, in URL.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit(\"autolinkProtocol\");\n      effects.enter(\"autolinkMarker\");\n      effects.consume(code);\n      effects.exit(\"autolinkMarker\");\n      effects.exit(\"autolink\");\n      return ok;\n    }\n\n    // ASCII control, space, or `<`.\n    if (code === null || code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return urlInside;\n  }\n\n  /**\n   * In email atext.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code);\n      return emailAtSignOrDot;\n    }\n    if (asciiAtext(code)) {\n      effects.consume(code);\n      return emailAtext;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In label, after at-sign or dot.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                 ^       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are allowed.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code);\n      size = 0;\n      return emailAtSignOrDot;\n    }\n    if (code === 62) {\n      // Exit, then change the token type.\n      effects.exit(\"autolinkProtocol\").type = \"autolinkEmail\";\n      effects.enter(\"autolinkMarker\");\n      effects.consume(code);\n      effects.exit(\"autolinkMarker\");\n      effects.exit(\"autolink\");\n      return ok;\n    }\n    return emailValue(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are *not* allowed.\n   *\n   * Though, this is also used in `emailLabel` to parse other values.\n   *\n   * ```markdown\n   * > | a<user.name@ex-ample.com>b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailValue(code) {\n    // ASCII alphanumeric or `-`.\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      const next = code === 45 ? emailValue : emailLabel;\n      effects.consume(code);\n      return next;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blankLine = {\n  partial: true,\n  tokenize: tokenizeBlankLine\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLine(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of blank line.\n   *\n   * >  **Note**: `` represents a space character.\n   *\n   * ```markdown\n   * > | \n   *     ^\n   * > | \n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    return markdownSpace(code) ? factorySpace(effects, after, \"linePrefix\")(code) : after(code);\n  }\n\n  /**\n   * At eof/eol, after optional whitespace.\n   *\n   * >  **Note**: `` represents a space character.\n   *\n   * ```markdown\n   * > | \n   *       ^\n   * > | \n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Exiter,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blockQuote = {\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit,\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of block quote.\n   *\n   * ```markdown\n   * > | > a\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 62) {\n      const state = self.containerState;\n      if (!state.open) {\n        effects.enter(\"blockQuote\", {\n          _container: true\n        });\n        state.open = true;\n      }\n      effects.enter(\"blockQuotePrefix\");\n      effects.enter(\"blockQuoteMarker\");\n      effects.consume(code);\n      effects.exit(\"blockQuoteMarker\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>`, before optional whitespace.\n   *\n   * ```markdown\n   * > | > a\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter(\"blockQuotePrefixWhitespace\");\n      effects.consume(code);\n      effects.exit(\"blockQuotePrefixWhitespace\");\n      effects.exit(\"blockQuotePrefix\");\n      return ok;\n    }\n    effects.exit(\"blockQuotePrefix\");\n    return ok(code);\n  }\n}\n\n/**\n * Start of block quote continuation.\n *\n * ```markdown\n *   | > a\n * > | > b\n *     ^\n * ```\n *\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  const self = this;\n  return contStart;\n\n  /**\n   * Start of block quote continuation.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contStart(code) {\n    if (markdownSpace(code)) {\n      // Always populated by defaults.\n\n      return factorySpace(effects, contBefore, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n    }\n    return contBefore(code);\n  }\n\n  /**\n   * At `>`, after optional whitespace.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contBefore(code) {\n    return effects.attempt(blockQuote, ok, nok)(code);\n  }\n}\n\n/** @type {Exiter} */\nfunction exit(effects) {\n  effects.exit(\"blockQuote\");\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiPunctuation } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of character escape.\n   *\n   * ```markdown\n   * > | a\\*b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"characterEscape\");\n    effects.enter(\"escapeMarker\");\n    effects.consume(code);\n    effects.exit(\"escapeMarker\");\n    return inside;\n  }\n\n  /**\n   * After `\\`, at punctuation.\n   *\n   * ```markdown\n   * > | a\\*b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    // ASCII punctuation.\n    if (asciiPunctuation(code)) {\n      effects.enter(\"characterEscapeValue\");\n      effects.consume(code);\n      effects.exit(\"characterEscapeValue\");\n      effects.exit(\"characterEscape\");\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { asciiAlphanumeric, asciiDigit, asciiHexDigit } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  const self = this;\n  let size = 0;\n  /** @type {number} */\n  let max;\n  /** @type {(code: Code) => boolean} */\n  let test;\n  return start;\n\n  /**\n   * Start of character reference.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *      ^\n   * > | a&#123;b\n   *      ^\n   * > | a&#x9;b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"characterReference\");\n    effects.enter(\"characterReferenceMarker\");\n    effects.consume(code);\n    effects.exit(\"characterReferenceMarker\");\n    return open;\n  }\n\n  /**\n   * After `&`, at `#` for numeric references or alphanumeric for named\n   * references.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^\n   * > | a&#123;b\n   *       ^\n   * > | a&#x9;b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 35) {\n      effects.enter(\"characterReferenceMarkerNumeric\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarkerNumeric\");\n      return numeric;\n    }\n    effects.enter(\"characterReferenceValue\");\n    max = 31;\n    test = asciiAlphanumeric;\n    return value(code);\n  }\n\n  /**\n   * After `#`, at `x` for hexadecimals or digit for decimals.\n   *\n   * ```markdown\n   * > | a&#123;b\n   *        ^\n   * > | a&#x9;b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter(\"characterReferenceMarkerHexadecimal\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarkerHexadecimal\");\n      effects.enter(\"characterReferenceValue\");\n      max = 6;\n      test = asciiHexDigit;\n      return value;\n    }\n    effects.enter(\"characterReferenceValue\");\n    max = 7;\n    test = asciiDigit;\n    return value(code);\n  }\n\n  /**\n   * After markers (`&#x`, `&#`, or `&`), in value, before `;`.\n   *\n   * The character reference kind defines what and how many characters are\n   * allowed.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^^^\n   * > | a&#123;b\n   *        ^^^\n   * > | a&#x9;b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function value(code) {\n    if (code === 59 && size) {\n      const token = effects.exit(\"characterReferenceValue\");\n      if (test === asciiAlphanumeric && !decodeNamedCharacterReference(self.sliceSerialize(token))) {\n        return nok(code);\n      }\n\n      // To do: `markdown-rs` uses a different name:\n      // `CharacterReferenceMarkerSemi`.\n      effects.enter(\"characterReferenceMarker\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarker\");\n      effects.exit(\"characterReference\");\n      return ok;\n    }\n    if (test(code) && size++ < max) {\n      effects.consume(code);\n      return value;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nconst nonLazyContinuation = {\n  partial: true,\n  tokenize: tokenizeNonLazyContinuation\n};\n\n/** @type {Construct} */\nexport const codeFenced = {\n  concrete: true,\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  const self = this;\n  /** @type {Construct} */\n  const closeStart = {\n    partial: true,\n    tokenize: tokenizeCloseStart\n  };\n  let initialPrefix = 0;\n  let sizeOpen = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of code.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse whitespace like `markdown-rs`.\n    return beforeSequenceOpen(code);\n  }\n\n  /**\n   * In opening fence, after prefix, at sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeSequenceOpen(code) {\n    const tail = self.events[self.events.length - 1];\n    initialPrefix = tail && tail[1].type === \"linePrefix\" ? tail[2].sliceSerialize(tail[1], true).length : 0;\n    marker = code;\n    effects.enter(\"codeFenced\");\n    effects.enter(\"codeFencedFence\");\n    effects.enter(\"codeFencedFenceSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening fence sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *      ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === marker) {\n      sizeOpen++;\n      effects.consume(code);\n      return sequenceOpen;\n    }\n    if (sizeOpen < 3) {\n      return nok(code);\n    }\n    effects.exit(\"codeFencedFenceSequence\");\n    return markdownSpace(code) ? factorySpace(effects, infoBefore, \"whitespace\")(code) : infoBefore(code);\n  }\n\n  /**\n   * In opening fence, after the sequence (and optional whitespace), before info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function infoBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFencedFence\");\n      return self.interrupt ? ok(code) : effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter(\"codeFencedFenceInfo\");\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return info(code);\n  }\n\n  /**\n   * In info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function info(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceInfo\");\n      return infoBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceInfo\");\n      return factorySpace(effects, metaBefore, \"whitespace\")(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return info;\n  }\n\n  /**\n   * In opening fence, after info and whitespace, before meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function metaBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return infoBefore(code);\n    }\n    effects.enter(\"codeFencedFenceMeta\");\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return meta(code);\n  }\n\n  /**\n   * In meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceMeta\");\n      return infoBefore(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return meta;\n  }\n\n  /**\n   * At eol/eof in code, before a non-lazy closing fence or content.\n   *\n   * ```markdown\n   * > | ~~~js\n   *          ^\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function atNonLazyBreak(code) {\n    return effects.attempt(closeStart, after, contentBefore)(code);\n  }\n\n  /**\n   * Before code content, not a closing fence, at eol.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentBefore(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return contentStart;\n  }\n\n  /**\n   * Before code content, not a closing fence.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentStart(code) {\n    return initialPrefix > 0 && markdownSpace(code) ? factorySpace(effects, beforeContentChunk, \"linePrefix\", initialPrefix + 1)(code) : beforeContentChunk(code);\n  }\n\n  /**\n   * Before code content, after optional prefix.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeContentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter(\"codeFlowValue\");\n    return contentChunk(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^^^^^^^^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFlowValue\");\n      return beforeContentChunk(code);\n    }\n    effects.consume(code);\n    return contentChunk;\n  }\n\n  /**\n   * After code.\n   *\n   * ```markdown\n   *   | ~~~js\n   *   | alert(1)\n   * > | ~~~\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    effects.exit(\"codeFenced\");\n    return ok(code);\n  }\n\n  /**\n   * @this {TokenizeContext}\n   *   Context.\n   * @type {Tokenizer}\n   */\n  function tokenizeCloseStart(effects, ok, nok) {\n    let size = 0;\n    return startBefore;\n\n    /**\n     *\n     *\n     * @type {State}\n     */\n    function startBefore(code) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return start;\n    }\n\n    /**\n     * Before closing fence, at optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function start(code) {\n      // Always populated by defaults.\n\n      // To do: `enter` here or in next state?\n      effects.enter(\"codeFencedFence\");\n      return markdownSpace(code) ? factorySpace(effects, beforeSequenceClose, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : beforeSequenceClose(code);\n    }\n\n    /**\n     * In closing fence, after optional whitespace, at sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function beforeSequenceClose(code) {\n      if (code === marker) {\n        effects.enter(\"codeFencedFenceSequence\");\n        return sequenceClose(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * In closing fence sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceClose(code) {\n      if (code === marker) {\n        size++;\n        effects.consume(code);\n        return sequenceClose;\n      }\n      if (size >= sizeOpen) {\n        effects.exit(\"codeFencedFenceSequence\");\n        return markdownSpace(code) ? factorySpace(effects, sequenceCloseAfter, \"whitespace\")(code) : sequenceCloseAfter(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * After closing fence sequence, after optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *        ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceCloseAfter(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit(\"codeFencedFence\");\n        return ok(code);\n      }\n      return nok(code);\n    }\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuation(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return lineStart;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function lineStart(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented\n};\n\n/** @type {Construct} */\nconst furtherStart = {\n  partial: true,\n  tokenize: tokenizeFurtherStart\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of code (indented).\n   *\n   * > **Parsing note**: it is not needed to check if this first line is a\n   * > filled line (that it has a non-whitespace character), because blank lines\n   * > are parsed already, so we never run into that.\n   *\n   * ```markdown\n   * > |     aaa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: manually check if interrupting like `markdown-rs`.\n\n    effects.enter(\"codeIndented\");\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, \"linePrefix\", 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4 ? atBreak(code) : nok(code);\n  }\n\n  /**\n   * At a break.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === null) {\n      return after(code);\n    }\n    if (markdownLineEnding(code)) {\n      return effects.attempt(furtherStart, atBreak, after)(code);\n    }\n    effects.enter(\"codeFlowValue\");\n    return inside(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFlowValue\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return inside;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    effects.exit(\"codeIndented\");\n    // To do: allow interrupting like `markdown-rs`.\n    // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeFurtherStart(effects, ok, nok) {\n  const self = this;\n  return furtherStart;\n\n  /**\n   * At eol, trying to parse another indent.\n   *\n   * ```markdown\n   * > |     aaa\n   *            ^\n   *   |     bbb\n   * ```\n   *\n   * @type {State}\n   */\n  function furtherStart(code) {\n    // To do: improve `lazy` / `pierce` handling.\n    // If this is a lazy line, it cant be code.\n    if (self.parser.lazy[self.now().line]) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return furtherStart;\n    }\n\n    // To do: the code here in `micromark-js` is a bit different from\n    // `markdown-rs` because there it can attempt spaces.\n    // We cant yet.\n    //\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, \"linePrefix\", 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4 ? ok(code) : markdownLineEnding(code) ? furtherStart(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Previous,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeText = {\n  name: 'codeText',\n  previous,\n  resolve: resolveCodeText,\n  tokenize: tokenizeCodeText\n};\n\n// To do: next major: dont resolve, like `markdown-rs`.\n/** @type {Resolver} */\nfunction resolveCodeText(events) {\n  let tailExitIndex = events.length - 4;\n  let headEnterIndex = 3;\n  /** @type {number} */\n  let index;\n  /** @type {number | undefined} */\n  let enter;\n\n  // If we start and end with an EOL or a space.\n  if ((events[headEnterIndex][1].type === \"lineEnding\" || events[headEnterIndex][1].type === 'space') && (events[tailExitIndex][1].type === \"lineEnding\" || events[tailExitIndex][1].type === 'space')) {\n    index = headEnterIndex;\n\n    // And we have data.\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === \"codeTextData\") {\n        // Then we have padding.\n        events[headEnterIndex][1].type = \"codeTextPadding\";\n        events[tailExitIndex][1].type = \"codeTextPadding\";\n        headEnterIndex += 2;\n        tailExitIndex -= 2;\n        break;\n      }\n    }\n  }\n\n  // Merge adjacent spaces and data.\n  index = headEnterIndex - 1;\n  tailExitIndex++;\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== \"lineEnding\") {\n        enter = index;\n      }\n    } else if (index === tailExitIndex || events[index][1].type === \"lineEnding\") {\n      events[enter][1].type = \"codeTextData\";\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end;\n        events.splice(enter + 2, index - enter - 2);\n        tailExitIndex -= index - enter - 2;\n        index = enter + 2;\n      }\n      enter = undefined;\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Previous}\n */\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return code !== 96 || this.events[this.events.length - 1][1].type === \"characterEscape\";\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeText(effects, ok, nok) {\n  const self = this;\n  let sizeOpen = 0;\n  /** @type {number} */\n  let size;\n  /** @type {Token} */\n  let token;\n  return start;\n\n  /**\n   * Start of code (text).\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * > | \\`a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"codeText\");\n    effects.enter(\"codeTextSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 96) {\n      effects.consume(code);\n      sizeOpen++;\n      return sequenceOpen;\n    }\n    effects.exit(\"codeTextSequence\");\n    return between(code);\n  }\n\n  /**\n   * Between something and something else.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function between(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code);\n    }\n\n    // To do: next major: dont do spaces in resolve, but when compiling,\n    // like `markdown-rs`.\n    // Tabs dont work, and virtual spaces dont make sense.\n    if (code === 32) {\n      effects.enter('space');\n      effects.consume(code);\n      effects.exit('space');\n      return between;\n    }\n\n    // Closing fence? Could also be data.\n    if (code === 96) {\n      token = effects.enter(\"codeTextSequence\");\n      size = 0;\n      return sequenceClose(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return between;\n    }\n\n    // Data.\n    effects.enter(\"codeTextData\");\n    return data(code);\n  }\n\n  /**\n   * In data.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 32 || code === 96 || markdownLineEnding(code)) {\n      effects.exit(\"codeTextData\");\n      return between(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n\n  /**\n   * In closing sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceClose(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code);\n      size++;\n      return sequenceClose;\n    }\n\n    // Done!\n    if (size === sizeOpen) {\n      effects.exit(\"codeTextSequence\");\n      effects.exit(\"codeText\");\n      return ok(code);\n    }\n\n    // More or less accents: mark as data.\n    token.type = \"codeTextData\";\n    return data(code);\n  }\n}","/**\n * Some of the internal operations of micromark do lots of editing\n * operations on very large arrays. This runs into problems with two\n * properties of most circa-2020 JavaScript interpreters:\n *\n *  - Array-length modifications at the high end of an array (push/pop) are\n *    expected to be common and are implemented in (amortized) time\n *    proportional to the number of elements added or removed, whereas\n *    other operations (shift/unshift and splice) are much less efficient.\n *  - Function arguments are passed on the stack, so adding tens of thousands\n *    of elements to an array with `arr.push(...newElements)` will frequently\n *    cause stack overflows. (see <https://stackoverflow.com/questions/22123769/rangeerror-maximum-call-stack-size-exceeded-why>)\n *\n * SpliceBuffers are an implementation of gap buffers, which are a\n * generalization of the \"queue made of two stacks\" idea. The splice buffer\n * maintains a cursor, and moving the cursor has cost proportional to the\n * distance the cursor moves, but inserting, deleting, or splicing in\n * new information at the cursor is as efficient as the push/pop operation.\n * This allows for an efficient sequence of splices (or pushes, pops, shifts,\n * or unshifts) as long such edits happen at the same part of the array or\n * generally sweep through the array from the beginning to the end.\n *\n * The interface for splice buffers also supports large numbers of inputs by\n * passing a single array argument rather passing multiple arguments on the\n * function call stack.\n *\n * @template T\n *   Item type.\n */\nexport class SpliceBuffer {\n  /**\n   * @param {ReadonlyArray<T> | null | undefined} [initial]\n   *   Initial items (optional).\n   * @returns\n   *   Splice buffer.\n   */\n  constructor(initial) {\n    /** @type {Array<T>} */\n    this.left = initial ? [...initial] : [];\n    /** @type {Array<T>} */\n    this.right = [];\n  }\n\n  /**\n   * Array access;\n   * does not move the cursor.\n   *\n   * @param {number} index\n   *   Index.\n   * @return {T}\n   *   Item.\n   */\n  get(index) {\n    if (index < 0 || index >= this.left.length + this.right.length) {\n      throw new RangeError('Cannot access index `' + index + '` in a splice buffer of size `' + (this.left.length + this.right.length) + '`');\n    }\n    if (index < this.left.length) return this.left[index];\n    return this.right[this.right.length - index + this.left.length - 1];\n  }\n\n  /**\n   * The length of the splice buffer, one greater than the largest index in the\n   * array.\n   */\n  get length() {\n    return this.left.length + this.right.length;\n  }\n\n  /**\n   * Remove and return `list[0]`;\n   * moves the cursor to `0`.\n   *\n   * @returns {T | undefined}\n   *   Item, optional.\n   */\n  shift() {\n    this.setCursor(0);\n    return this.right.pop();\n  }\n\n  /**\n   * Slice the buffer to get an array;\n   * does not move the cursor.\n   *\n   * @param {number} start\n   *   Start.\n   * @param {number | null | undefined} [end]\n   *   End (optional).\n   * @returns {Array<T>}\n   *   Array of items.\n   */\n  slice(start, end) {\n    /** @type {number} */\n    const stop = end === null || end === undefined ? Number.POSITIVE_INFINITY : end;\n    if (stop < this.left.length) {\n      return this.left.slice(start, stop);\n    }\n    if (start > this.left.length) {\n      return this.right.slice(this.right.length - stop + this.left.length, this.right.length - start + this.left.length).reverse();\n    }\n    return this.left.slice(start).concat(this.right.slice(this.right.length - stop + this.left.length).reverse());\n  }\n\n  /**\n   * Mimics the behavior of Array.prototype.splice() except for the change of\n   * interface necessary to avoid segfaults when patching in very large arrays.\n   *\n   * This operation moves cursor is moved to `start` and results in the cursor\n   * placed after any inserted items.\n   *\n   * @param {number} start\n   *   Start;\n   *   zero-based index at which to start changing the array;\n   *   negative numbers count backwards from the end of the array and values\n   *   that are out-of bounds are clamped to the appropriate end of the array.\n   * @param {number | null | undefined} [deleteCount=0]\n   *   Delete count (default: `0`);\n   *   maximum number of elements to delete, starting from start.\n   * @param {Array<T> | null | undefined} [items=[]]\n   *   Items to include in place of the deleted items (default: `[]`).\n   * @return {Array<T>}\n   *   Any removed items.\n   */\n  splice(start, deleteCount, items) {\n    /** @type {number} */\n    const count = deleteCount || 0;\n    this.setCursor(Math.trunc(start));\n    const removed = this.right.splice(this.right.length - count, Number.POSITIVE_INFINITY);\n    if (items) chunkedPush(this.left, items);\n    return removed.reverse();\n  }\n\n  /**\n   * Remove and return the highest-numbered item in the array, so\n   * `list[list.length - 1]`;\n   * Moves the cursor to `length`.\n   *\n   * @returns {T | undefined}\n   *   Item, optional.\n   */\n  pop() {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    return this.left.pop();\n  }\n\n  /**\n   * Inserts a single item to the high-numbered side of the array;\n   * moves the cursor to `length`.\n   *\n   * @param {T} item\n   *   Item.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  push(item) {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    this.left.push(item);\n  }\n\n  /**\n   * Inserts many items to the high-numbered side of the array.\n   * Moves the cursor to `length`.\n   *\n   * @param {Array<T>} items\n   *   Items.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  pushMany(items) {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    chunkedPush(this.left, items);\n  }\n\n  /**\n   * Inserts a single item to the low-numbered side of the array;\n   * Moves the cursor to `0`.\n   *\n   * @param {T} item\n   *   Item.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  unshift(item) {\n    this.setCursor(0);\n    this.right.push(item);\n  }\n\n  /**\n   * Inserts many items to the low-numbered side of the array;\n   * moves the cursor to `0`.\n   *\n   * @param {Array<T>} items\n   *   Items.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  unshiftMany(items) {\n    this.setCursor(0);\n    chunkedPush(this.right, items.reverse());\n  }\n\n  /**\n   * Move the cursor to a specific position in the array. Requires\n   * time proportional to the distance moved.\n   *\n   * If `n < 0`, the cursor will end up at the beginning.\n   * If `n > length`, the cursor will end up at the end.\n   *\n   * @param {number} n\n   *   Position.\n   * @return {undefined}\n   *   Nothing.\n   */\n  setCursor(n) {\n    if (n === this.left.length || n > this.left.length && this.right.length === 0 || n < 0 && this.left.length === 0) return;\n    if (n < this.left.length) {\n      // Move cursor to the this.left\n      const removed = this.left.splice(n, Number.POSITIVE_INFINITY);\n      chunkedPush(this.right, removed.reverse());\n    } else {\n      // Move cursor to the this.right\n      const removed = this.right.splice(this.left.length + this.right.length - n, Number.POSITIVE_INFINITY);\n      chunkedPush(this.left, removed.reverse());\n    }\n  }\n}\n\n/**\n * Avoid stack overflow by pushing items onto the stack in segments\n *\n * @template T\n *   Item type.\n * @param {Array<T>} list\n *   List to inject into.\n * @param {ReadonlyArray<T>} right\n *   Items to inject.\n * @return {undefined}\n *   Nothing.\n */\nfunction chunkedPush(list, right) {\n  /** @type {number} */\n  let chunkStart = 0;\n  if (right.length < 10000) {\n    list.push(...right);\n  } else {\n    while (chunkStart < right.length) {\n      list.push(...right.slice(chunkStart, chunkStart + 10000));\n      chunkStart += 10000;\n    }\n  }\n}","/**\n * @import {Chunk, Event, Token} from 'micromark-util-types'\n */\n\nimport { splice } from 'micromark-util-chunked';\nimport { SpliceBuffer } from './lib/splice-buffer.js';\n\n// Hidden API exposed for testing.\nexport { SpliceBuffer } from './lib/splice-buffer.js';\n\n/**\n * Tokenize subcontent.\n *\n * @param {Array<Event>} eventsArray\n *   List of events.\n * @returns {boolean}\n *   Whether subtokens were found.\n */\n// eslint-disable-next-line complexity\nexport function subtokenize(eventsArray) {\n  /** @type {Record<string, number>} */\n  const jumps = {};\n  let index = -1;\n  /** @type {Event} */\n  let event;\n  /** @type {number | undefined} */\n  let lineIndex;\n  /** @type {number} */\n  let otherIndex;\n  /** @type {Event} */\n  let otherEvent;\n  /** @type {Array<Event>} */\n  let parameters;\n  /** @type {Array<Event>} */\n  let subevents;\n  /** @type {boolean | undefined} */\n  let more;\n  const events = new SpliceBuffer(eventsArray);\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index];\n    }\n    event = events.get(index);\n\n    // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n    if (index && event[1].type === \"chunkFlow\" && events.get(index - 1)[1].type === \"listItemPrefix\") {\n      subevents = event[1]._tokenizer.events;\n      otherIndex = 0;\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === \"lineEndingBlank\") {\n        otherIndex += 2;\n      }\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === \"content\") {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === \"content\") {\n            break;\n          }\n          if (subevents[otherIndex][1].type === \"chunkText\") {\n            subevents[otherIndex][1]._isInFirstContentOfListItem = true;\n            otherIndex++;\n          }\n        }\n      }\n    }\n\n    // Enter.\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        Object.assign(jumps, subcontent(events, index));\n        index = jumps[index];\n        more = true;\n      }\n    }\n    // Exit.\n    else if (event[1]._container) {\n      otherIndex = index;\n      lineIndex = undefined;\n      while (otherIndex--) {\n        otherEvent = events.get(otherIndex);\n        if (otherEvent[1].type === \"lineEnding\" || otherEvent[1].type === \"lineEndingBlank\") {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events.get(lineIndex)[1].type = \"lineEndingBlank\";\n            }\n            otherEvent[1].type = \"lineEnding\";\n            lineIndex = otherIndex;\n          }\n        } else {\n          break;\n        }\n      }\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = {\n          ...events.get(lineIndex)[1].start\n        };\n\n        // Switch container exit w/ line endings.\n        parameters = events.slice(lineIndex, index);\n        parameters.unshift(event);\n        events.splice(lineIndex, index - lineIndex + 1, parameters);\n      }\n    }\n  }\n\n  // The changes to the `events` buffer must be copied back into the eventsArray\n  splice(eventsArray, 0, Number.POSITIVE_INFINITY, events.slice(0));\n  return !more;\n}\n\n/**\n * Tokenize embedded tokens.\n *\n * @param {SpliceBuffer<Event>} events\n *   Events.\n * @param {number} eventIndex\n *   Index.\n * @returns {Record<string, number>}\n *   Gaps.\n */\nfunction subcontent(events, eventIndex) {\n  const token = events.get(eventIndex)[1];\n  const context = events.get(eventIndex)[2];\n  let startPosition = eventIndex - 1;\n  /** @type {Array<number>} */\n  const startPositions = [];\n  const tokenizer = token._tokenizer || context.parser[token.contentType](token.start);\n  const childEvents = tokenizer.events;\n  /** @type {Array<[number, number]>} */\n  const jumps = [];\n  /** @type {Record<string, number>} */\n  const gaps = {};\n  /** @type {Array<Chunk>} */\n  let stream;\n  /** @type {Token | undefined} */\n  let previous;\n  let index = -1;\n  /** @type {Token | undefined} */\n  let current = token;\n  let adjust = 0;\n  let start = 0;\n  const breaks = [start];\n\n  // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n  while (current) {\n    // Find the position of the event for this token.\n    while (events.get(++startPosition)[1] !== current) {\n      // Empty.\n    }\n    startPositions.push(startPosition);\n    if (!current._tokenizer) {\n      stream = context.sliceStream(current);\n      if (!current.next) {\n        stream.push(null);\n      }\n      if (previous) {\n        tokenizer.defineSkip(current.start);\n      }\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true;\n      }\n      tokenizer.write(stream);\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined;\n      }\n    }\n\n    // Unravel the next token.\n    previous = current;\n    current = current.next;\n  }\n\n  // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n  current = token;\n  while (++index < childEvents.length) {\n    if (\n    // Find a void token that includes a break.\n    childEvents[index][0] === 'exit' && childEvents[index - 1][0] === 'enter' && childEvents[index][1].type === childEvents[index - 1][1].type && childEvents[index][1].start.line !== childEvents[index][1].end.line) {\n      start = index + 1;\n      breaks.push(start);\n      // Help GC.\n      current._tokenizer = undefined;\n      current.previous = undefined;\n      current = current.next;\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = [];\n\n  // If theres one more token (which is the cases for lines that end in an\n  // EOF), thats perfect: the last point we found starts it.\n  // If there isnt then make sure any remaining content is added to it.\n  if (current) {\n    // Help GC.\n    current._tokenizer = undefined;\n    current.previous = undefined;\n  } else {\n    breaks.pop();\n  }\n\n  // Now splice the events from the subtokenizer into the current events,\n  // moving back to front so that splice indices arent affected.\n  index = breaks.length;\n  while (index--) {\n    const slice = childEvents.slice(breaks[index], breaks[index + 1]);\n    const start = startPositions.pop();\n    jumps.push([start, start + slice.length - 1]);\n    events.splice(start, 2, slice);\n  }\n  jumps.reverse();\n  index = -1;\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1];\n    adjust += jumps[index][1] - jumps[index][0] - 1;\n  }\n  return gaps;\n}","/**\n * @import {\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { subtokenize } from 'micromark-util-subtokenize';\n/**\n * No name because it must not be turned off.\n * @type {Construct}\n */\nexport const content = {\n  resolve: resolveContent,\n  tokenize: tokenizeContent\n};\n\n/** @type {Construct} */\nconst continuationConstruct = {\n  partial: true,\n  tokenize: tokenizeContinuation\n};\n\n/**\n * Content is transparent: its parsed right now. That way, definitions are also\n * parsed right now: before text in paragraphs (specifically, media) are parsed.\n *\n * @type {Resolver}\n */\nfunction resolveContent(events) {\n  subtokenize(events);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeContent(effects, ok) {\n  /** @type {Token | undefined} */\n  let previous;\n  return chunkStart;\n\n  /**\n   * Before a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkStart(code) {\n    effects.enter(\"content\");\n    previous = effects.enter(\"chunkContent\", {\n      contentType: \"content\"\n    });\n    return chunkInside(code);\n  }\n\n  /**\n   * In a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkInside(code) {\n    if (code === null) {\n      return contentEnd(code);\n    }\n\n    // To do: in `markdown-rs`, each line is parsed on its own, and everything\n    // is stitched together resolving.\n    if (markdownLineEnding(code)) {\n      return effects.check(continuationConstruct, contentContinue, contentEnd)(code);\n    }\n\n    // Data.\n    effects.consume(code);\n    return chunkInside;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentEnd(code) {\n    effects.exit(\"chunkContent\");\n    effects.exit(\"content\");\n    return ok(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentContinue(code) {\n    effects.consume(code);\n    effects.exit(\"chunkContent\");\n    previous.next = effects.enter(\"chunkContent\", {\n      contentType: \"content\",\n      previous\n    });\n    previous = previous.next;\n    return chunkInside;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeContinuation(effects, ok, nok) {\n  const self = this;\n  return startLookahead;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function startLookahead(code) {\n    effects.exit(\"chunkContent\");\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, prefixed, \"linePrefix\");\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n\n    // Always populated by defaults.\n\n    const tail = self.events[self.events.length - 1];\n    if (!self.parser.constructs.disable.null.includes('codeIndented') && tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4) {\n      return ok(code);\n    }\n    return effects.interrupt(self.parser.constructs.flow, nok, ok)(code);\n  }\n}","/**\n * @import {Effects, State, TokenType} from 'micromark-util-types'\n */\n\nimport { asciiControl, markdownLineEndingOrSpace, markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse destinations.\n *\n * ###### Examples\n *\n * ```markdown\n * <a>\n * <a\\>b>\n * <a b>\n * <a)>\n * a\n * a\\)b\n * a(b)c\n * a(b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type for whole (`<a>` or `b`).\n * @param {TokenType} literalType\n *   Type when enclosed (`<a>`).\n * @param {TokenType} literalMarkerType\n *   Type for enclosing (`<` and `>`).\n * @param {TokenType} rawType\n *   Type when not enclosed (`b`).\n * @param {TokenType} stringType\n *   Type for the value (`a` or `b`).\n * @param {number | undefined} [max=Infinity]\n *   Depth of nested parens (inclusive).\n * @returns {State}\n *   Start state.\n */\nexport function factoryDestination(effects, ok, nok, type, literalType, literalMarkerType, rawType, stringType, max) {\n  const limit = max || Number.POSITIVE_INFINITY;\n  let balance = 0;\n  return start;\n\n  /**\n   * Start of destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *     ^\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type);\n      effects.enter(literalType);\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      return enclosedBefore;\n    }\n\n    // ASCII control, space, closing paren.\n    if (code === null || code === 32 || code === 41 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.enter(type);\n    effects.enter(rawType);\n    effects.enter(stringType);\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return raw(code);\n  }\n\n  /**\n   * After `<`, at an enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      effects.exit(literalType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return enclosed(code);\n  }\n\n  /**\n   * In enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosed(code) {\n    if (code === 62) {\n      effects.exit(\"chunkString\");\n      effects.exit(stringType);\n      return enclosedBefore(code);\n    }\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? enclosedEscape : enclosed;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | <a\\*a>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code);\n      return enclosed;\n    }\n    return enclosed(code);\n  }\n\n  /**\n   * In raw destination.\n   *\n   * ```markdown\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function raw(code) {\n    if (!balance && (code === null || code === 41 || markdownLineEndingOrSpace(code))) {\n      effects.exit(\"chunkString\");\n      effects.exit(stringType);\n      effects.exit(rawType);\n      effects.exit(type);\n      return ok(code);\n    }\n    if (balance < limit && code === 40) {\n      effects.consume(code);\n      balance++;\n      return raw;\n    }\n    if (code === 41) {\n      effects.consume(code);\n      balance--;\n      return raw;\n    }\n\n    // ASCII control (but *not* `\\0`) and space and `(`.\n    // Note: in `markdown-rs`, `\\0` exists in codes, in `micromark-js` it\n    // doesnt.\n    if (code === null || code === 32 || code === 40 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? rawEscape : raw;\n  }\n\n  /**\n   * After `\\`, at special character.\n   *\n   * ```markdown\n   * > | a\\*a\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function rawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code);\n      return raw;\n    }\n    return raw(code);\n  }\n}","/**\n * @import {\n *   Effects,\n *   State,\n *   TokenizeContext,\n *   TokenType\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse labels.\n *\n * >  **Note**: labels in markdown are capped at 999 characters in the string.\n *\n * ###### Examples\n *\n * ```markdown\n * [a]\n * [a\n * b]\n * [a\\]b]\n * ```\n *\n * @this {TokenizeContext}\n *   Tokenize context.\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole label (`[a]`).\n * @param {TokenType} markerType\n *   Type for the markers (`[` and `]`).\n * @param {TokenType} stringType\n *   Type for the identifier (`a`).\n * @returns {State}\n *   Start state.\n */\nexport function factoryLabel(effects, ok, nok, type, markerType, stringType) {\n  const self = this;\n  let size = 0;\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /**\n   * Start of label.\n   *\n   * ```markdown\n   * > | [a]\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(type);\n    effects.enter(markerType);\n    effects.consume(code);\n    effects.exit(markerType);\n    effects.enter(stringType);\n    return atBreak;\n  }\n\n  /**\n   * In label, at something, before something else.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (size > 999 || code === null || code === 91 || code === 93 && !seen ||\n    // To do: remove in the future once weve switched from\n    // `micromark-extension-footnote` to `micromark-extension-gfm-footnote`,\n    // which doesnt need this.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    code === 94 && !size && '_hiddenFootnoteSupport' in self.parser.constructs) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.exit(stringType);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n\n    // To do: indent? Link chunks and EOLs together?\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return atBreak;\n    }\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return labelInside(code);\n  }\n\n  /**\n   * In label, in text.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelInside(code) {\n    if (code === null || code === 91 || code === 93 || markdownLineEnding(code) || size++ > 999) {\n      effects.exit(\"chunkString\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    if (!seen) seen = !markdownSpace(code);\n    return code === 92 ? labelEscape : labelInside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | [a\\*a]\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return labelInside;\n    }\n    return labelInside(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Effects,\n *   State,\n *   TokenType\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse titles.\n *\n * ###### Examples\n *\n * ```markdown\n * \"a\"\n * 'b'\n * (c)\n * \"a\n * b\"\n * 'a\n *     b'\n * (a\\)b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole title (`\"a\"`, `'b'`, `(c)`).\n * @param {TokenType} markerType\n *   Type for the markers (`\"`, `'`, `(`, and `)`).\n * @param {TokenType} stringType\n *   Type for the value (`a`).\n * @returns {State}\n *   Start state.\n */\nexport function factoryTitle(effects, ok, nok, type, markerType, stringType) {\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of title.\n   *\n   * ```markdown\n   * > | \"a\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      effects.enter(type);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      marker = code === 40 ? 41 : code;\n      return begin;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After opening marker.\n   *\n   * This is also used at the closing marker.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function begin(code) {\n    if (code === marker) {\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    return atBreak(code);\n  }\n\n  /**\n   * At something, before something else.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType);\n      return begin(marker);\n    }\n    if (code === null) {\n      return nok(code);\n    }\n\n    // Note: blank lines cant exist in content.\n    if (markdownLineEnding(code)) {\n      // To do: use `space_or_tab_eol_with_options`, connect.\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return factorySpace(effects, atBreak, \"linePrefix\");\n    }\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return inside(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return code === 92 ? escape : inside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | \"a\\*b\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function escape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code);\n      return inside;\n    }\n    return inside(code);\n  }\n}","/**\n * @import {Effects, State} from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   line endings or spaces in markdown are often optional, in which case this\n *     factory can be used and `ok` will be switched to whether spaces were found\n *     or not\n * *   one line ending or space can be detected with\n *     `markdownLineEndingOrSpace(code)` right before using `factoryWhitespace`\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @returns {State}\n *   Start state.\n */\nexport function factoryWhitespace(effects, ok) {\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      seen = true;\n      return start;\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, start, seen ? \"linePrefix\" : \"lineSuffix\")(code);\n    }\n    return ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factorySpace } from 'micromark-factory-space';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\n/** @type {Construct} */\nexport const definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n};\n\n/** @type {Construct} */\nconst titleBefore = {\n  partial: true,\n  tokenize: tokenizeTitleBefore\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeDefinition(effects, ok, nok) {\n  const self = this;\n  /** @type {string} */\n  let identifier;\n  return start;\n\n  /**\n   * At start of a definition.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // Do not interrupt paragraphs (but do follow definitions).\n    // To do: do `interrupt` the way `markdown-rs` does.\n    // To do: parse whitespace the way `markdown-rs` does.\n    effects.enter(\"definition\");\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `[`.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    // To do: parse whitespace the way `markdown-rs` does.\n\n    return factoryLabel.call(self, effects, labelAfter,\n    // Note: we dont need to reset the way `markdown-rs` does.\n    nok, \"definitionLabel\", \"definitionLabelMarker\", \"definitionLabelString\")(code);\n  }\n\n  /**\n   * After label.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1));\n    if (code === 58) {\n      effects.enter(\"definitionMarker\");\n      effects.consume(code);\n      effects.exit(\"definitionMarker\");\n      return markerAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After marker.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function markerAfter(code) {\n    // Note: whitespace is optional.\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, destinationBefore)(code) : destinationBefore(code);\n  }\n\n  /**\n   * Before destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationBefore(code) {\n    return factoryDestination(effects, destinationAfter,\n    // Note: we dont need to reset the way `markdown-rs` does.\n    nok, \"definitionDestination\", \"definitionDestinationLiteral\", \"definitionDestinationLiteralMarker\", \"definitionDestinationRaw\", \"definitionDestinationString\")(code);\n  }\n\n  /**\n   * After destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationAfter(code) {\n    return effects.attempt(titleBefore, after, after)(code);\n  }\n\n  /**\n   * After definition.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return markdownSpace(code) ? factorySpace(effects, afterWhitespace, \"whitespace\")(code) : afterWhitespace(code);\n  }\n\n  /**\n   * After definition, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterWhitespace(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"definition\");\n\n      // Note: we dont care about uniqueness.\n      // Its likely that that doesnt happen very frequently.\n      // It is more likely that it wastes precious time.\n      self.parser.defined.push(identifier);\n\n      // To do: `markdown-rs` interrupt.\n      // // Youd be interrupting.\n      // tokenizer.interrupt = true\n      return ok(code);\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeTitleBefore(effects, ok, nok) {\n  return titleBefore;\n\n  /**\n   * After destination, at whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, beforeMarker)(code) : nok(code);\n  }\n\n  /**\n   * At title.\n   *\n   * ```markdown\n   *   | [a]: b\n   * > | \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeMarker(code) {\n    return factoryTitle(effects, titleAfter, nok, \"definitionTitle\", \"definitionTitleMarker\", \"definitionTitleString\")(code);\n  }\n\n  /**\n   * After title.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfter(code) {\n    return markdownSpace(code) ? factorySpace(effects, titleAfterOptionalWhitespace, \"whitespace\")(code) : titleAfterOptionalWhitespace(code);\n  }\n\n  /**\n   * After title, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfterOptionalWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of a hard break (escape).\n   *\n   * ```markdown\n   * > | a\\\n   *      ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"hardBreakEscape\");\n    effects.consume(code);\n    return after;\n  }\n\n  /**\n   * After `\\`, at eol.\n   *\n   * ```markdown\n   * > | a\\\n   *       ^\n   *   | b\n   * ```\n   *\n   *  @type {State}\n   */\n  function after(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit(\"hardBreakEscape\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {Construct} */\nexport const headingAtx = {\n  name: 'headingAtx',\n  resolve: resolveHeadingAtx,\n  tokenize: tokenizeHeadingAtx\n};\n\n/** @type {Resolver} */\nfunction resolveHeadingAtx(events, context) {\n  let contentEnd = events.length - 2;\n  let contentStart = 3;\n  /** @type {Token} */\n  let content;\n  /** @type {Token} */\n  let text;\n\n  // Prefix whitespace, part of the opening.\n  if (events[contentStart][1].type === \"whitespace\") {\n    contentStart += 2;\n  }\n\n  // Suffix whitespace, part of the closing.\n  if (contentEnd - 2 > contentStart && events[contentEnd][1].type === \"whitespace\") {\n    contentEnd -= 2;\n  }\n  if (events[contentEnd][1].type === \"atxHeadingSequence\" && (contentStart === contentEnd - 1 || contentEnd - 4 > contentStart && events[contentEnd - 2][1].type === \"whitespace\")) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4;\n  }\n  if (contentEnd > contentStart) {\n    content = {\n      type: \"atxHeadingText\",\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    };\n    text = {\n      type: \"chunkText\",\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: \"text\"\n    };\n    splice(events, contentStart, contentEnd - contentStart + 1, [['enter', content, context], ['enter', text, context], ['exit', text, context], ['exit', content, context]]);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of a heading (atx).\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    effects.enter(\"atxHeading\");\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `#`.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"atxHeadingSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code);\n      return sequenceOpen;\n    }\n\n    // Always at least one `#`.\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"atxHeadingSequence\");\n      return atBreak(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ## aa\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === 35) {\n      effects.enter(\"atxHeadingSequence\");\n      return sequenceFurther(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"atxHeading\");\n      // To do: interrupt like `markdown-rs`.\n      // // Feel free to interrupt.\n      // tokenizer.interrupt = false\n      return ok(code);\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, \"whitespace\")(code);\n    }\n\n    // To do: generate `data` tokens, add the `text` token later.\n    // Needs edit map, see: `markdown.rs`.\n    effects.enter(\"atxHeadingText\");\n    return data(code);\n  }\n\n  /**\n   * In further sequence (after whitespace).\n   *\n   * Could be normal visible hashes in the heading or a final sequence.\n   *\n   * ```markdown\n   * > | ## aa ##\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceFurther(code) {\n    if (code === 35) {\n      effects.consume(code);\n      return sequenceFurther;\n    }\n    effects.exit(\"atxHeadingSequence\");\n    return atBreak(code);\n  }\n\n  /**\n   * In text.\n   *\n   * ```markdown\n   * > | ## aa\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"atxHeadingText\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * List of lowercase HTML block tag names.\n *\n * The list, when parsing HTML (flow), results in more relaxed rules (condition\n * 6).\n * Because they are known blocks, the HTML-like syntax doesnt have to be\n * strictly parsed.\n * For tag names not in this list, a more strict algorithm (condition 7) is used\n * to detect whether the HTML-like syntax is seen as HTML (flow) or not.\n *\n * This is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * >  **Note**: `search` was added in `CommonMark@0.31`.\n */\nexport const htmlBlockNames = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'search',\n  'section',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\n/**\n * List of lowercase HTML raw tag names.\n *\n * The list, when parsing HTML (flow), results in HTML that can include lines\n * without exiting, until a closing tag also in this list is found (condition\n * 1).\n *\n * This module is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * >  **Note**: `textarea` was added in `CommonMark@0.30`.\n */\nexport const htmlRawNames = ['pre', 'script', 'style', 'textarea']\n","/**\n * @import {\n *   Code,\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiAlphanumeric, asciiAlpha, markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { htmlBlockNames, htmlRawNames } from 'micromark-util-html-tag-name';\nimport { blankLine } from './blank-line.js';\n\n/** @type {Construct} */\nexport const htmlFlow = {\n  concrete: true,\n  name: 'htmlFlow',\n  resolveTo: resolveToHtmlFlow,\n  tokenize: tokenizeHtmlFlow\n};\n\n/** @type {Construct} */\nconst blankLineBefore = {\n  partial: true,\n  tokenize: tokenizeBlankLineBefore\n};\nconst nonLazyContinuationStart = {\n  partial: true,\n  tokenize: tokenizeNonLazyContinuationStart\n};\n\n/** @type {Resolver} */\nfunction resolveToHtmlFlow(events) {\n  let index = events.length;\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === \"htmlFlow\") {\n      break;\n    }\n  }\n  if (index > 1 && events[index - 2][1].type === \"linePrefix\") {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start;\n    // Add the prefix start to the HTML line token.\n    events[index + 1][1].start = events[index - 2][1].start;\n    // Remove the line prefix.\n    events.splice(index - 2, 2);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  const self = this;\n  /** @type {number} */\n  let marker;\n  /** @type {boolean} */\n  let closingTag;\n  /** @type {string} */\n  let buffer;\n  /** @type {number} */\n  let index;\n  /** @type {Code} */\n  let markerB;\n  return start;\n\n  /**\n   * Start of HTML (flow).\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * At `<`, after optional whitespace.\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"htmlFlow\");\n    effects.enter(\"htmlFlowData\");\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | <x />\n   *      ^\n   * > | <!doctype>\n   *      ^\n   * > | <!--xxx-->\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      closingTag = true;\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      marker = 3;\n      // To do:\n      // tokenizer.concrete = true\n      // To do: use `markdown-rs` style interrupt.\n      // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      // Always the case.\n      effects.consume(code);\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *       ^\n   * > | <!--xxx-->\n   *       ^\n   * > | <![CDATA[>&<]]>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      marker = 2;\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      marker = 5;\n      index = 0;\n      return cdataOpenInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      marker = 4;\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!-`, inside a comment, at another `-`.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<![`, inside CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *        ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = \"CDATA[\";\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      if (index === value.length) {\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok : continuation;\n      }\n      return cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | </x>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      // Always the case.\n      effects.consume(code);\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In tag name.\n   *\n   * ```markdown\n   * > | <ab>\n   *      ^^\n   * > | </ab>\n   *       ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagName(code) {\n    if (code === null || code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      const slash = code === 47;\n      const name = buffer.toLowerCase();\n      if (!slash && !closingTag && htmlRawNames.includes(name)) {\n        marker = 1;\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      if (htmlBlockNames.includes(buffer.toLowerCase())) {\n        marker = 6;\n        if (slash) {\n          effects.consume(code);\n          return basicSelfClosing;\n        }\n\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      marker = 7;\n      // Do not support complete HTML when interrupting.\n      return self.interrupt && !self.parser.lazy[self.now().line] ? nok(code) : closingTag ? completeClosingTagAfter(code) : completeAttributeNameBefore(code);\n    }\n\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      buffer += String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a basic tag name.\n   *\n   * ```markdown\n   * > | <div/>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuation;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a complete tag name.\n   *\n   * ```markdown\n   * > | <x/>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeClosingTagAfter;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * At an attribute name.\n   *\n   * At first, this state is used after a complete tag name, after whitespace,\n   * where it expects optional attributes or the end of the tag.\n   * It is also reused after attributes, when expecting more optional\n   * attributes.\n   *\n   * ```markdown\n   * > | <a />\n   *        ^\n   * > | <a :b>\n   *        ^\n   * > | <a _b>\n   *        ^\n   * > | <a b>\n   *        ^\n   * > | <a >\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return completeEnd;\n    }\n\n    // ASCII alphanumerical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameBefore;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | <a :b>\n   *         ^\n   * > | <a _b>\n   *         ^\n   * > | <a b>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeName(code) {\n    // ASCII alphanumerical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    return completeAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, at an optional initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b>\n   *         ^\n   * > | <a b=c>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameAfter;\n    }\n    return completeAttributeNameBefore(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * > | <a b=\"c\">\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      markerB = code;\n      return completeAttributeValueQuoted;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    return completeAttributeValueUnquoted(code);\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *           ^\n   * > | <a b='c'>\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuoted(code) {\n    if (code === markerB) {\n      effects.consume(code);\n      markerB = null;\n      return completeAttributeValueQuotedAfter;\n    }\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 47 || code === 60 || code === 61 || code === 62 || code === 96 || markdownLineEndingOrSpace(code)) {\n      return completeAttributeNameAfter(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the\n   * end of the tag.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a complete tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>` in a complete tag.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return continuation(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In continuation of any HTML kind.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuation(code) {\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationCommentInside;\n    }\n    if (code === 60 && marker === 1) {\n      effects.consume(code);\n      return continuationRawTagOpen;\n    }\n    if (code === 62 && marker === 4) {\n      effects.consume(code);\n      return continuationClose;\n    }\n    if (code === 63 && marker === 3) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    if (code === 93 && marker === 5) {\n      effects.consume(code);\n      return continuationCdataInside;\n    }\n    if (markdownLineEnding(code) && (marker === 6 || marker === 7)) {\n      effects.exit(\"htmlFlowData\");\n      return effects.check(blankLineBefore, continuationAfter, continuationStart)(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"htmlFlowData\");\n      return continuationStart(code);\n    }\n    effects.consume(code);\n    return continuation;\n  }\n\n  /**\n   * In continuation, at eol.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStart(code) {\n    return effects.check(nonLazyContinuationStart, continuationStartNonLazy, continuationAfter)(code);\n  }\n\n  /**\n   * In continuation, at eol, before non-lazy content.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStartNonLazy(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return continuationBefore;\n  }\n\n  /**\n   * In continuation, before non-lazy content.\n   *\n   * ```markdown\n   *   | <x>\n   * > | asd\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return continuationStart(code);\n    }\n    effects.enter(\"htmlFlowData\");\n    return continuation(code);\n  }\n\n  /**\n   * In comment continuation, after one `-`, expecting another.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `<`, at `/`.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code);\n      buffer = '';\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `</`, in a raw tag name.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                             ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawEndTag(code) {\n    if (code === 62) {\n      const name = buffer.toLowerCase();\n      if (htmlRawNames.includes(name)) {\n        effects.consume(code);\n        return continuationClose;\n      }\n      return continuation(code);\n    }\n    if (asciiAlpha(code) && buffer.length < 8) {\n      // Always the case.\n      effects.consume(code);\n      buffer += String.fromCharCode(code);\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In cdata continuation, after `]`, expecting `]>`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *                  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCdataInside(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In declaration or instruction continuation, at `>`.\n   *\n   * ```markdown\n   * > | <!-->\n   *         ^\n   * > | <?>\n   *       ^\n   * > | <!q>\n   *        ^\n   * > | <!--ab-->\n   *             ^\n   * > | <![CDATA[>&<]]>\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return continuationClose;\n    }\n\n    // More dashes.\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In closed continuation: everything we get until the eol/eof is part of it.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"htmlFlowData\");\n      return continuationAfter(code);\n    }\n    effects.consume(code);\n    return continuationClose;\n  }\n\n  /**\n   * Done.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationAfter(code) {\n    effects.exit(\"htmlFlow\");\n    // // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    // // No longer concrete.\n    // tokenizer.concrete = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuationStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * At eol, before continuation.\n   *\n   * ```markdown\n   * > | * ```js\n   *            ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * A continuation.\n   *\n   * ```markdown\n   *   | * ```js\n   * > | b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLineBefore(effects, ok, nok) {\n  return start;\n\n  /**\n   * Before eol, expecting blank line.\n   *\n   * ```markdown\n   * > | <div>\n   *          ^\n   *   |\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return effects.attempt(blankLine, ok, nok);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiAlphanumeric, asciiAlpha, markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlText(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code> | undefined} */\n  let marker;\n  /** @type {number} */\n  let index;\n  /** @type {State} */\n  let returnState;\n  return start;\n\n  /**\n   * Start of HTML (text).\n   *\n   * ```markdown\n   * > | a <b> c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"htmlText\");\n    effects.enter(\"htmlTextData\");\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | a <b> c\n   *        ^\n   * > | a <!doctype> c\n   *        ^\n   * > | a <!--b--> c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instruction;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | a <!doctype> c\n   *         ^\n   * > | a <!--b--> c\n   *         ^\n   * > | a <![CDATA[>&<]]> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      index = 0;\n      return cdataOpenInside;\n    }\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return declaration;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In a comment, after `<!-`, at another `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In comment.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function comment(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 45) {\n      effects.consume(code);\n      return commentClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = comment;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return comment;\n  }\n\n  /**\n   * In comment, after `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return comment(code);\n  }\n\n  /**\n   * In comment, after `--`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentEnd(code) {\n    return code === 62 ? end(code) : code === 45 ? commentClose(code) : comment(code);\n  }\n\n  /**\n   * After `<![`, in CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *          ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = \"CDATA[\";\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      return index === value.length ? cdata : cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In CDATA.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdata(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = cdata;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return cdata;\n  }\n\n  /**\n   * In CDATA, after `]`, at another `]`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In CDATA, after `]]`, at `>`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In declaration.\n   *\n   * ```markdown\n   * > | a <!b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = declaration;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return declaration;\n  }\n\n  /**\n   * In instruction.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instruction(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instructionClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = instruction;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return instruction;\n  }\n\n  /**\n   * In instruction, after `?`, at `>`.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</x`, in a tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagClose(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return tagCloseBetween(code);\n  }\n\n  /**\n   * In closing tag, after tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagCloseBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * After `<x`, in opening tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpen(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In opening tag, after tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return end;\n    }\n\n    // ASCII alphabetical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeName(code) {\n    // ASCII alphabetical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    return tagOpenAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, before initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeNameAfter;\n    }\n    return tagOpenBetween(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      marker = code;\n      return tagOpenAttributeValueQuoted;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code);\n      marker = undefined;\n      return tagOpenAttributeValueQuotedAfter;\n    }\n    if (code === null) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 60 || code === 61 || code === 96) {\n      return nok(code);\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the end\n   * of the tag.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code);\n      effects.exit(\"htmlTextData\");\n      effects.exit(\"htmlText\");\n      return ok;\n    }\n    return nok(code);\n  }\n\n  /**\n   * At eol.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   * > | a <!--a\n   *            ^\n   *   | b-->\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingBefore(code) {\n    effects.exit(\"htmlTextData\");\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return lineEndingAfter;\n  }\n\n  /**\n   * After eol, at optional whitespace.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfter(code) {\n    // Always populated by defaults.\n\n    return markdownSpace(code) ? factorySpace(effects, lineEndingAfterPrefix, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : lineEndingAfterPrefix(code);\n  }\n\n  /**\n   * After eol, after optional whitespace.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfterPrefix(code) {\n    effects.enter(\"htmlTextData\");\n    return returnState(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Event,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEndingOrSpace } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const labelEnd = {\n  name: 'labelEnd',\n  resolveAll: resolveAllLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  tokenize: tokenizeLabelEnd\n};\n\n/** @type {Construct} */\nconst resourceConstruct = {\n  tokenize: tokenizeResource\n};\n/** @type {Construct} */\nconst referenceFullConstruct = {\n  tokenize: tokenizeReferenceFull\n};\n/** @type {Construct} */\nconst referenceCollapsedConstruct = {\n  tokenize: tokenizeReferenceCollapsed\n};\n\n/** @type {Resolver} */\nfunction resolveAllLabelEnd(events) {\n  let index = -1;\n  /** @type {Array<Event>} */\n  const newEvents = [];\n  while (++index < events.length) {\n    const token = events[index][1];\n    newEvents.push(events[index]);\n    if (token.type === \"labelImage\" || token.type === \"labelLink\" || token.type === \"labelEnd\") {\n      // Remove the marker.\n      const offset = token.type === \"labelImage\" ? 4 : 2;\n      token.type = \"data\";\n      index += offset;\n    }\n  }\n\n  // If the events are equal, we don't have to copy newEvents to events\n  if (events.length !== newEvents.length) {\n    splice(events, 0, events.length, newEvents);\n  }\n  return events;\n}\n\n/** @type {Resolver} */\nfunction resolveToLabelEnd(events, context) {\n  let index = events.length;\n  let offset = 0;\n  /** @type {Token} */\n  let token;\n  /** @type {number | undefined} */\n  let open;\n  /** @type {number | undefined} */\n  let close;\n  /** @type {Array<Event>} */\n  let media;\n\n  // Find an opening.\n  while (index--) {\n    token = events[index][1];\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (token.type === \"link\" || token.type === \"labelLink\" && token._inactive) {\n        break;\n      }\n\n      // Mark other link openings as inactive, as we cant have links in\n      // links.\n      if (events[index][0] === 'enter' && token.type === \"labelLink\") {\n        token._inactive = true;\n      }\n    } else if (close) {\n      if (events[index][0] === 'enter' && (token.type === \"labelImage\" || token.type === \"labelLink\") && !token._balanced) {\n        open = index;\n        if (token.type !== \"labelLink\") {\n          offset = 2;\n          break;\n        }\n      }\n    } else if (token.type === \"labelEnd\") {\n      close = index;\n    }\n  }\n  const group = {\n    type: events[open][1].type === \"labelLink\" ? \"link\" : \"image\",\n    start: {\n      ...events[open][1].start\n    },\n    end: {\n      ...events[events.length - 1][1].end\n    }\n  };\n  const label = {\n    type: \"label\",\n    start: {\n      ...events[open][1].start\n    },\n    end: {\n      ...events[close][1].end\n    }\n  };\n  const text = {\n    type: \"labelText\",\n    start: {\n      ...events[open + offset + 2][1].end\n    },\n    end: {\n      ...events[close - 2][1].start\n    }\n  };\n  media = [['enter', group, context], ['enter', label, context]];\n\n  // Opening marker.\n  media = push(media, events.slice(open + 1, open + offset + 3));\n\n  // Text open.\n  media = push(media, [['enter', text, context]]);\n\n  // Always populated by defaults.\n\n  // Between.\n  media = push(media, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + offset + 4, close - 3), context));\n\n  // Text close, marker close, label close.\n  media = push(media, [['exit', text, context], events[close - 2], events[close - 1], ['exit', label, context]]);\n\n  // Reference, resource, or so.\n  media = push(media, events.slice(close + 1));\n\n  // Media close.\n  media = push(media, [['exit', group, context]]);\n  splice(events, open, events.length, media);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  const self = this;\n  let index = self.events.length;\n  /** @type {Token} */\n  let labelStart;\n  /** @type {boolean} */\n  let defined;\n\n  // Find an opening.\n  while (index--) {\n    if ((self.events[index][1].type === \"labelImage\" || self.events[index][1].type === \"labelLink\") && !self.events[index][1]._balanced) {\n      labelStart = self.events[index][1];\n      break;\n    }\n  }\n  return start;\n\n  /**\n   * Start of label end.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // If there is not an okay opening.\n    if (!labelStart) {\n      return nok(code);\n    }\n\n    // If the corresponding label (link) start is marked as inactive,\n    // it means wed be wrapping a link, like this:\n    //\n    // ```markdown\n    // > | a [b [c](d) e](f) g.\n    //                  ^\n    // ```\n    //\n    // We cant have that, so its just balanced brackets.\n    if (labelStart._inactive) {\n      return labelEndNok(code);\n    }\n    defined = self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize({\n      start: labelStart.end,\n      end: self.now()\n    })));\n    effects.enter(\"labelEnd\");\n    effects.enter(\"labelMarker\");\n    effects.consume(code);\n    effects.exit(\"labelMarker\");\n    effects.exit(\"labelEnd\");\n    return after;\n  }\n\n  /**\n   * After `]`.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // Note: `markdown-rs` also parses GFM footnotes here, which for us is in\n    // an extension.\n\n    // Resource (`[asd](fgh)`)?\n    if (code === 40) {\n      return effects.attempt(resourceConstruct, labelEndOk, defined ? labelEndOk : labelEndNok)(code);\n    }\n\n    // Full (`[asd][fgh]`) or collapsed (`[asd][]`) reference?\n    if (code === 91) {\n      return effects.attempt(referenceFullConstruct, labelEndOk, defined ? referenceNotFull : labelEndNok)(code);\n    }\n\n    // Shortcut (`[asd]`) reference?\n    return defined ? labelEndOk(code) : labelEndNok(code);\n  }\n\n  /**\n   * After `]`, at `[`, but not at a full reference.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] b\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceNotFull(code) {\n    return effects.attempt(referenceCollapsedConstruct, labelEndOk, labelEndNok)(code);\n  }\n\n  /**\n   * Done, we found something.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *           ^\n   * > | [a][b] c\n   *           ^\n   * > | [a][] b\n   *          ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndOk(code) {\n    // Note: `markdown-rs` does a bunch of stuff here.\n    return ok(code);\n  }\n\n  /**\n   * Done, its nothing.\n   *\n   * There was an okay opening, but we didnt match anything.\n   *\n   * ```markdown\n   * > | [a](b c\n   *        ^\n   * > | [a][b c\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndNok(code) {\n    labelStart._balanced = true;\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeResource(effects, ok, nok) {\n  return resourceStart;\n\n  /**\n   * At a resource.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceStart(code) {\n    effects.enter(\"resource\");\n    effects.enter(\"resourceMarker\");\n    effects.consume(code);\n    effects.exit(\"resourceMarker\");\n    return resourceBefore;\n  }\n\n  /**\n   * In resource, after `(`, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceOpen)(code) : resourceOpen(code);\n  }\n\n  /**\n   * In resource, after optional whitespace, at `)` or a destination.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceOpen(code) {\n    if (code === 41) {\n      return resourceEnd(code);\n    }\n    return factoryDestination(effects, resourceDestinationAfter, resourceDestinationMissing, \"resourceDestination\", \"resourceDestinationLiteral\", \"resourceDestinationLiteralMarker\", \"resourceDestinationRaw\", \"resourceDestinationString\", 32)(code);\n  }\n\n  /**\n   * In resource, after destination, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceBetween)(code) : resourceEnd(code);\n  }\n\n  /**\n   * At invalid destination.\n   *\n   * ```markdown\n   * > | [a](<<) b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationMissing(code) {\n    return nok(code);\n  }\n\n  /**\n   * In resource, after destination and whitespace, at `(` or title.\n   *\n   * ```markdown\n   * > | [a](b ) c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBetween(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(effects, resourceTitleAfter, nok, \"resourceTitle\", \"resourceTitleMarker\", \"resourceTitleString\")(code);\n    }\n    return resourceEnd(code);\n  }\n\n  /**\n   * In resource, after title, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b \"c\") d\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceTitleAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceEnd)(code) : resourceEnd(code);\n  }\n\n  /**\n   * In resource, at `)`.\n   *\n   * ```markdown\n   * > | [a](b) d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceEnd(code) {\n    if (code === 41) {\n      effects.enter(\"resourceMarker\");\n      effects.consume(code);\n      effects.exit(\"resourceMarker\");\n      effects.exit(\"resource\");\n      return ok;\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceFull(effects, ok, nok) {\n  const self = this;\n  return referenceFull;\n\n  /**\n   * In a reference (full), at the `[`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFull(code) {\n    return factoryLabel.call(self, effects, referenceFullAfter, referenceFullMissing, \"reference\", \"referenceMarker\", \"referenceString\")(code);\n  }\n\n  /**\n   * In a reference (full), after `]`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullAfter(code) {\n    return self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1))) ? ok(code) : nok(code);\n  }\n\n  /**\n   * In reference (full) that was missing.\n   *\n   * ```markdown\n   * > | [a][b d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullMissing(code) {\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceCollapsed(effects, ok, nok) {\n  return referenceCollapsedStart;\n\n  /**\n   * In reference (collapsed), at `[`.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceCollapsedStart(code) {\n    // We only attempt a collapsed label if theres a `[`.\n\n    effects.enter(\"reference\");\n    effects.enter(\"referenceMarker\");\n    effects.consume(code);\n    effects.exit(\"referenceMarker\");\n    return referenceCollapsedOpen;\n  }\n\n  /**\n   * In reference (collapsed), at `]`.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *         ^\n   * ```\n   *\n   *  @type {State}\n   */\n  function referenceCollapsedOpen(code) {\n    if (code === 93) {\n      effects.enter(\"referenceMarker\");\n      effects.consume(code);\n      effects.exit(\"referenceMarker\");\n      effects.exit(\"reference\");\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartImage = {\n  name: 'labelStartImage',\n  resolveAll: labelEnd.resolveAll,\n  tokenize: tokenizeLabelStartImage\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (image) start.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"labelImage\");\n    effects.enter(\"labelImageMarker\");\n    effects.consume(code);\n    effects.exit(\"labelImageMarker\");\n    return open;\n  }\n\n  /**\n   * After `!`, at `[`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 91) {\n      effects.enter(\"labelMarker\");\n      effects.consume(code);\n      effects.exit(\"labelMarker\");\n      effects.exit(\"labelImage\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `![`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *         ^\n   * ```\n   *\n   * This is needed in because, when GFM footnotes are enabled, images never\n   * form when started with a `^`.\n   * Instead, links form:\n   *\n   * ```markdown\n   * ![^a](b)\n   *\n   * ![^a][b]\n   *\n   * [b]: c\n   * ```\n   *\n   * ```html\n   * <p>!<a href=\\\"b\\\">^a</a></p>\n   * <p>!<a href=\\\"c\\\">^a</a></p>\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // To do: use a new field to do this, this is still needed for\n    // `micromark-extension-gfm-footnote`, but the `label-start-link`\n    // behavior isnt.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartLink = {\n  name: 'labelStartLink',\n  resolveAll: labelEnd.resolveAll,\n  tokenize: tokenizeLabelStartLink\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (link) start.\n   *\n   * ```markdown\n   * > | a [b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"labelLink\");\n    effects.enter(\"labelMarker\");\n    effects.consume(code);\n    effects.exit(\"labelMarker\");\n    effects.exit(\"labelLink\");\n    return after;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    // To do: this isnt needed in `micromark-extension-gfm-footnote`,\n    // remove.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLineEnding(effects, ok) {\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, ok, \"linePrefix\");\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  let size = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of thematic break.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"thematicBreak\");\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at marker.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    marker = code;\n    return atBreak(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter(\"thematicBreakSequence\");\n      return sequence(code);\n    }\n    if (size >= 3 && (code === null || markdownLineEnding(code))) {\n      effects.exit(\"thematicBreak\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code);\n      size++;\n      return sequence;\n    }\n    effects.exit(\"thematicBreakSequence\");\n    return markdownSpace(code) ? factorySpace(effects, atBreak, \"whitespace\")(code) : atBreak(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   Exiter,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiDigit, markdownSpace } from 'micromark-util-character';\nimport { blankLine } from './blank-line.js';\nimport { thematicBreak } from './thematic-break.js';\n\n/** @type {Construct} */\nexport const list = {\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd,\n  name: 'list',\n  tokenize: tokenizeListStart\n};\n\n/** @type {Construct} */\nconst listItemPrefixWhitespaceConstruct = {\n  partial: true,\n  tokenize: tokenizeListItemPrefixWhitespace\n};\n\n/** @type {Construct} */\nconst indentConstruct = {\n  partial: true,\n  tokenize: tokenizeIndent\n};\n\n// To do: `markdown-rs` parses list items on their own and later stitches them\n// together.\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListStart(effects, ok, nok) {\n  const self = this;\n  const tail = self.events[self.events.length - 1];\n  let initialSize = tail && tail[1].type === \"linePrefix\" ? tail[2].sliceSerialize(tail[1], true).length : 0;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    const kind = self.containerState.type || (code === 42 || code === 43 || code === 45 ? \"listUnordered\" : \"listOrdered\");\n    if (kind === \"listUnordered\" ? !self.containerState.marker || code === self.containerState.marker : asciiDigit(code)) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind;\n        effects.enter(kind, {\n          _container: true\n        });\n      }\n      if (kind === \"listUnordered\") {\n        effects.enter(\"listItemPrefix\");\n        return code === 42 || code === 45 ? effects.check(thematicBreak, nok, atMarker)(code) : atMarker(code);\n      }\n      if (!self.interrupt || code === 49) {\n        effects.enter(\"listItemPrefix\");\n        effects.enter(\"listItemValue\");\n        return inside(code);\n      }\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code);\n      return inside;\n    }\n    if ((!self.interrupt || size < 2) && (self.containerState.marker ? code === self.containerState.marker : code === 41 || code === 46)) {\n      effects.exit(\"listItemValue\");\n      return atMarker(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * @type {State}\n   **/\n  function atMarker(code) {\n    effects.enter(\"listItemMarker\");\n    effects.consume(code);\n    effects.exit(\"listItemMarker\");\n    self.containerState.marker = self.containerState.marker || code;\n    return effects.check(blankLine,\n    // Cant be empty when interrupting.\n    self.interrupt ? nok : onBlank, effects.attempt(listItemPrefixWhitespaceConstruct, endOfPrefix, otherPrefix));\n  }\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true;\n    initialSize++;\n    return endOfPrefix(code);\n  }\n\n  /** @type {State} */\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter(\"listItemPrefixWhitespace\");\n      effects.consume(code);\n      effects.exit(\"listItemPrefixWhitespace\");\n      return endOfPrefix;\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function endOfPrefix(code) {\n    self.containerState.size = initialSize + self.sliceSerialize(effects.exit(\"listItemPrefix\"), true).length;\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListContinuation(effects, ok, nok) {\n  const self = this;\n  self.containerState._closeFlow = undefined;\n  return effects.check(blankLine, onBlank, notBlank);\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.furtherBlankLines = self.containerState.furtherBlankLines || self.containerState.initialBlankLine;\n\n    // We have a blank line.\n    // Still, try to consume at most the items size.\n    return factorySpace(effects, ok, \"listItemIndent\", self.containerState.size + 1)(code);\n  }\n\n  /** @type {State} */\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = undefined;\n      self.containerState.initialBlankLine = undefined;\n      return notInCurrentItem(code);\n    }\n    self.containerState.furtherBlankLines = undefined;\n    self.containerState.initialBlankLine = undefined;\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code);\n  }\n\n  /** @type {State} */\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true;\n    // As were closing flow, were no longer interrupting.\n    self.interrupt = undefined;\n    // Always populated by defaults.\n\n    return factorySpace(effects, effects.attempt(list, ok, nok), \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeIndent(effects, ok, nok) {\n  const self = this;\n  return factorySpace(effects, afterPrefix, \"listItemIndent\", self.containerState.size + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"listItemIndent\" && tail[2].sliceSerialize(tail[1], true).length === self.containerState.size ? ok(code) : nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Exiter}\n */\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type);\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  const self = this;\n\n  // Always populated by defaults.\n\n  return factorySpace(effects, afterPrefix, \"listItemPrefixWhitespace\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4 + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return !markdownSpace(code) && tail && tail[1].type === \"listItemPrefixWhitespace\" ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const setextUnderline = {\n  name: 'setextUnderline',\n  resolveTo: resolveToSetextUnderline,\n  tokenize: tokenizeSetextUnderline\n};\n\n/** @type {Resolver} */\nfunction resolveToSetextUnderline(events, context) {\n  // To do: resolve like `markdown-rs`.\n  let index = events.length;\n  /** @type {number | undefined} */\n  let content;\n  /** @type {number | undefined} */\n  let text;\n  /** @type {number | undefined} */\n  let definition;\n\n  // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === \"content\") {\n        content = index;\n        break;\n      }\n      if (events[index][1].type === \"paragraph\") {\n        text = index;\n      }\n    }\n    // Exit\n    else {\n      if (events[index][1].type === \"content\") {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1);\n      }\n      if (!definition && events[index][1].type === \"definition\") {\n        definition = index;\n      }\n    }\n  }\n  const heading = {\n    type: \"setextHeading\",\n    start: {\n      ...events[text][1].start\n    },\n    end: {\n      ...events[events.length - 1][1].end\n    }\n  };\n\n  // Change the paragraph to setext heading text.\n  events[text][1].type = \"setextHeadingText\";\n\n  // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context]);\n    events.splice(definition + 1, 0, ['exit', events[content][1], context]);\n    events[content][1].end = {\n      ...events[definition][1].end\n    };\n  } else {\n    events[content][1] = heading;\n  }\n\n  // Add the heading exit at the end.\n  events.push(['exit', heading, context]);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * At start of heading (setext) underline.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    let index = self.events.length;\n    /** @type {boolean | undefined} */\n    let paragraph;\n    // Find an opening.\n    while (index--) {\n      // Skip enter/exit of line ending, line prefix, and content.\n      // We can now either have a definition or a paragraph.\n      if (self.events[index][1].type !== \"lineEnding\" && self.events[index][1].type !== \"linePrefix\" && self.events[index][1].type !== \"content\") {\n        paragraph = self.events[index][1].type === \"paragraph\";\n        break;\n      }\n    }\n\n    // To do: handle lazy/pierce like `markdown-rs`.\n    // To do: parse indent like `markdown-rs`.\n    if (!self.parser.lazy[self.now().line] && (self.interrupt || paragraph)) {\n      effects.enter(\"setextHeadingLine\");\n      marker = code;\n      return before(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After optional whitespace, at `-` or `=`.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"setextHeadingLineSequence\");\n    return inside(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    effects.exit(\"setextHeadingLineSequence\");\n    return markdownSpace(code) ? factorySpace(effects, after, \"lineSuffix\")(code) : after(code);\n  }\n\n  /**\n   * After sequence, after optional whitespace.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"setextHeadingLine\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   InitialConstruct,\n *   Initializer,\n *   State,\n *   TokenizeContext\n * } from 'micromark-util-types'\n */\n\nimport { blankLine, content } from 'micromark-core-commonmark';\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const flow = {\n  tokenize: initializeFlow\n};\n\n/**\n * @this {TokenizeContext}\n *   Self.\n * @type {Initializer}\n *   Initializer.\n */\nfunction initializeFlow(effects) {\n  const self = this;\n  const initial = effects.attempt(\n  // Try to parse a blank line.\n  blankLine, atBlankEnding,\n  // Try to parse initial flow (essentially, only code).\n  effects.attempt(this.parser.constructs.flowInitial, afterConstruct, factorySpace(effects, effects.attempt(this.parser.constructs.flow, afterConstruct, effects.attempt(content, afterConstruct)), \"linePrefix\")));\n  return initial;\n\n  /** @type {State} */\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEndingBlank\");\n    effects.consume(code);\n    effects.exit(\"lineEndingBlank\");\n    self.currentConstruct = undefined;\n    return initial;\n  }\n\n  /** @type {State} */\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    self.currentConstruct = undefined;\n    return initial;\n  }\n}","/**\n * @import {\n *   Code,\n *   InitialConstruct,\n *   Initializer,\n *   Resolver,\n *   State,\n *   TokenizeContext\n * } from 'micromark-util-types'\n */\n\nexport const resolver = {\n  resolveAll: createResolver()\n};\nexport const string = initializeFactory('string');\nexport const text = initializeFactory('text');\n\n/**\n * @param {'string' | 'text'} field\n *   Field.\n * @returns {InitialConstruct}\n *   Construct.\n */\nfunction initializeFactory(field) {\n  return {\n    resolveAll: createResolver(field === 'text' ? resolveAllLineSuffixes : undefined),\n    tokenize: initializeText\n  };\n\n  /**\n   * @this {TokenizeContext}\n   *   Context.\n   * @type {Initializer}\n   */\n  function initializeText(effects) {\n    const self = this;\n    const constructs = this.parser.constructs[field];\n    const text = effects.attempt(constructs, start, notText);\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code);\n    }\n\n    /** @type {State} */\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code);\n        return;\n      }\n      effects.enter(\"data\");\n      effects.consume(code);\n      return data;\n    }\n\n    /** @type {State} */\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit(\"data\");\n        return text(code);\n      }\n\n      // Data.\n      effects.consume(code);\n      return data;\n    }\n\n    /**\n     * @param {Code} code\n     *   Code.\n     * @returns {boolean}\n     *   Whether the code is a break.\n     */\n    function atBreak(code) {\n      if (code === null) {\n        return true;\n      }\n      const list = constructs[code];\n      let index = -1;\n      if (list) {\n        // Always populated by defaults.\n\n        while (++index < list.length) {\n          const item = list[index];\n          if (!item.previous || item.previous.call(self, self.previous)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Resolver | undefined} [extraResolver]\n *   Resolver.\n * @returns {Resolver}\n *   Resolver.\n */\nfunction createResolver(extraResolver) {\n  return resolveAllText;\n\n  /** @type {Resolver} */\n  function resolveAllText(events, context) {\n    let index = -1;\n    /** @type {number | undefined} */\n    let enter;\n\n    // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === \"data\") {\n          enter = index;\n          index++;\n        }\n      } else if (!events[index] || events[index][1].type !== \"data\") {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end;\n          events.splice(enter + 2, index - enter - 2);\n          index = enter + 2;\n        }\n        enter = undefined;\n      }\n    }\n    return extraResolver ? extraResolver(events, context) : events;\n  }\n}\n\n/**\n * A rather ugly set of instructions which again looks at chunks in the input\n * stream.\n * The reason to do this here is that it is *much* faster to parse in reverse.\n * And that we cant hook into `null` to split the line suffix before an EOF.\n * To do: figure out if we can make this into a clean utility, or even in core.\n * As it will be useful for GFMs literal autolink extension (and maybe even\n * tables?)\n *\n * @type {Resolver}\n */\nfunction resolveAllLineSuffixes(events, context) {\n  let eventIndex = 0; // Skip first.\n\n  while (++eventIndex <= events.length) {\n    if ((eventIndex === events.length || events[eventIndex][1].type === \"lineEnding\") && events[eventIndex - 1][1].type === \"data\") {\n      const data = events[eventIndex - 1][1];\n      const chunks = context.sliceStream(data);\n      let index = chunks.length;\n      let bufferIndex = -1;\n      let size = 0;\n      /** @type {boolean | undefined} */\n      let tabs;\n      while (index--) {\n        const chunk = chunks[index];\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length;\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++;\n            bufferIndex--;\n          }\n          if (bufferIndex) break;\n          bufferIndex = -1;\n        }\n        // Number\n        else if (chunk === -2) {\n          tabs = true;\n          size++;\n        } else if (chunk === -1) {\n          // Empty\n        } else {\n          // Replacement character, exit.\n          index++;\n          break;\n        }\n      }\n      if (size) {\n        const token = {\n          type: eventIndex === events.length || tabs || size < 2 ? \"lineSuffix\" : \"hardBreakTrailing\",\n          start: {\n            _bufferIndex: index ? bufferIndex : data.start._bufferIndex + bufferIndex,\n            _index: data.start._index + index,\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size\n          },\n          end: {\n            ...data.end\n          }\n        };\n        data.end = {\n          ...token.start\n        };\n        if (data.start.offset === data.end.offset) {\n          Object.assign(data, token);\n        } else {\n          events.splice(eventIndex, 0, ['enter', token, context], ['exit', token, context]);\n          eventIndex += 2;\n        }\n      }\n      eventIndex++;\n    }\n  }\n  return events;\n}","/**\n * @import {Extension} from 'micromark-util-types'\n */\n\nimport { attention, autolink, blockQuote, characterEscape, characterReference, codeFenced, codeIndented, codeText, definition, hardBreakEscape, headingAtx, htmlFlow, htmlText, labelEnd, labelStartImage, labelStartLink, lineEnding, list, setextUnderline, thematicBreak } from 'micromark-core-commonmark';\nimport { resolver as resolveText } from './initialize/text.js';\n\n/** @satisfies {Extension['document']} */\nexport const document = {\n  [42]: list,\n  [43]: list,\n  [45]: list,\n  [48]: list,\n  [49]: list,\n  [50]: list,\n  [51]: list,\n  [52]: list,\n  [53]: list,\n  [54]: list,\n  [55]: list,\n  [56]: list,\n  [57]: list,\n  [62]: blockQuote\n};\n\n/** @satisfies {Extension['contentInitial']} */\nexport const contentInitial = {\n  [91]: definition\n};\n\n/** @satisfies {Extension['flowInitial']} */\nexport const flowInitial = {\n  [-2]: codeIndented,\n  [-1]: codeIndented,\n  [32]: codeIndented\n};\n\n/** @satisfies {Extension['flow']} */\nexport const flow = {\n  [35]: headingAtx,\n  [42]: thematicBreak,\n  [45]: [setextUnderline, thematicBreak],\n  [60]: htmlFlow,\n  [61]: setextUnderline,\n  [95]: thematicBreak,\n  [96]: codeFenced,\n  [126]: codeFenced\n};\n\n/** @satisfies {Extension['string']} */\nexport const string = {\n  [38]: characterReference,\n  [92]: characterEscape\n};\n\n/** @satisfies {Extension['text']} */\nexport const text = {\n  [-5]: lineEnding,\n  [-4]: lineEnding,\n  [-3]: lineEnding,\n  [33]: labelStartImage,\n  [38]: characterReference,\n  [42]: attention,\n  [60]: [autolink, htmlText],\n  [91]: labelStartLink,\n  [92]: [hardBreakEscape, characterEscape],\n  [93]: labelEnd,\n  [95]: attention,\n  [96]: codeText\n};\n\n/** @satisfies {Extension['insideSpan']} */\nexport const insideSpan = {\n  null: [attention, resolveText]\n};\n\n/** @satisfies {Extension['attentionMarkers']} */\nexport const attentionMarkers = {\n  null: [42, 95]\n};\n\n/** @satisfies {Extension['disable']} */\nexport const disable = {\n  null: []\n};","/**\n * @import {\n *   Chunk,\n *   Code,\n *   ConstructRecord,\n *   Construct,\n *   Effects,\n *   InitialConstruct,\n *   ParseContext,\n *   Point,\n *   State,\n *   TokenizeContext,\n *   Token\n * } from 'micromark-util-types'\n */\n\n/**\n * @callback Restore\n *   Restore the state.\n * @returns {undefined}\n *   Nothing.\n *\n * @typedef Info\n *   Info.\n * @property {Restore} restore\n *   Restore.\n * @property {number} from\n *   From.\n *\n * @callback ReturnHandle\n *   Handle a successful run.\n * @param {Construct} construct\n *   Construct.\n * @param {Info} info\n *   Info.\n * @returns {undefined}\n *   Nothing.\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/**\n * Create a tokenizer.\n * Tokenizers deal with one type of data (e.g., containers, flow, text).\n * The parser is the object dealing with it all.\n * `initialize` works like other constructs, except that only its `tokenize`\n * function is used, in which case it doesnt receive an `ok` or `nok`.\n * `from` can be given to set the point before the first character, although\n * when further lines are indented, they must be set with `defineSkip`.\n *\n * @param {ParseContext} parser\n *   Parser.\n * @param {InitialConstruct} initialize\n *   Construct.\n * @param {Omit<Point, '_bufferIndex' | '_index'> | undefined} [from]\n *   Point (optional).\n * @returns {TokenizeContext}\n *   Context.\n */\nexport function createTokenizer(parser, initialize, from) {\n  /** @type {Point} */\n  let point = {\n    _bufferIndex: -1,\n    _index: 0,\n    line: from && from.line || 1,\n    column: from && from.column || 1,\n    offset: from && from.offset || 0\n  };\n  /** @type {Record<string, number>} */\n  const columnStart = {};\n  /** @type {Array<Construct>} */\n  const resolveAllConstructs = [];\n  /** @type {Array<Chunk>} */\n  let chunks = [];\n  /** @type {Array<Token>} */\n  let stack = [];\n  /** @type {boolean | undefined} */\n  let consumed = true;\n\n  /**\n   * Tools used for tokenizing.\n   *\n   * @type {Effects}\n   */\n  const effects = {\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    consume,\n    enter,\n    exit,\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    })\n  };\n\n  /**\n   * State and tools for resolving and serializing.\n   *\n   * @type {TokenizeContext}\n   */\n  const context = {\n    code: null,\n    containerState: {},\n    defineSkip,\n    events: [],\n    now,\n    parser,\n    previous: null,\n    sliceSerialize,\n    sliceStream,\n    write\n  };\n\n  /**\n   * The state function.\n   *\n   * @type {State | undefined}\n   */\n  let state = initialize.tokenize.call(context, effects);\n\n  /**\n   * Track which character we expect to be consumed, to catch bugs.\n   *\n   * @type {Code}\n   */\n  let expectedCode;\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize);\n  }\n  return context;\n\n  /** @type {TokenizeContext['write']} */\n  function write(slice) {\n    chunks = push(chunks, slice);\n    main();\n\n    // Exit if were not done, resolve might change stuff.\n    if (chunks[chunks.length - 1] !== null) {\n      return [];\n    }\n    addResult(initialize, 0);\n\n    // Otherwise, resolve, and exit.\n    context.events = resolveAll(resolveAllConstructs, context.events, context);\n    return context.events;\n  }\n\n  //\n  // Tools.\n  //\n\n  /** @type {TokenizeContext['sliceSerialize']} */\n  function sliceSerialize(token, expandTabs) {\n    return serializeChunks(sliceStream(token), expandTabs);\n  }\n\n  /** @type {TokenizeContext['sliceStream']} */\n  function sliceStream(token) {\n    return sliceChunks(chunks, token);\n  }\n\n  /** @type {TokenizeContext['now']} */\n  function now() {\n    // This is a hot path, so we clone manually instead of `Object.assign({}, point)`\n    const {\n      _bufferIndex,\n      _index,\n      line,\n      column,\n      offset\n    } = point;\n    return {\n      _bufferIndex,\n      _index,\n      line,\n      column,\n      offset\n    };\n  }\n\n  /** @type {TokenizeContext['defineSkip']} */\n  function defineSkip(value) {\n    columnStart[value.line] = value.column;\n    accountForPotentialSkip();\n  }\n\n  //\n  // State management.\n  //\n\n  /**\n   * Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n   * `consume`).\n   * Here is where we walk through the chunks, which either include strings of\n   * several characters, or numerical character codes.\n   * The reason to do this in a loop instead of a call is so the stack can\n   * drain.\n   *\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function main() {\n    /** @type {number} */\n    let chunkIndex;\n    while (point._index < chunks.length) {\n      const chunk = chunks[point._index];\n\n      // If were in a buffer chunk, loop through it.\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index;\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0;\n        }\n        while (point._index === chunkIndex && point._bufferIndex < chunk.length) {\n          go(chunk.charCodeAt(point._bufferIndex));\n        }\n      } else {\n        go(chunk);\n      }\n    }\n  }\n\n  /**\n   * Deal with one code.\n   *\n   * @param {Code} code\n   *   Code.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function go(code) {\n    consumed = undefined;\n    expectedCode = code;\n    state = state(code);\n  }\n\n  /** @type {Effects['consume']} */\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++;\n      point.column = 1;\n      point.offset += code === -3 ? 2 : 1;\n      accountForPotentialSkip();\n    } else if (code !== -1) {\n      point.column++;\n      point.offset++;\n    }\n\n    // Not in a string chunk.\n    if (point._bufferIndex < 0) {\n      point._index++;\n    } else {\n      point._bufferIndex++;\n\n      // At end of string chunk.\n      if (point._bufferIndex ===\n      // Points w/ non-negative `_bufferIndex` reference\n      // strings.\n      /** @type {string} */\n      chunks[point._index].length) {\n        point._bufferIndex = -1;\n        point._index++;\n      }\n    }\n\n    // Expose the previous character.\n    context.previous = code;\n\n    // Mark as consumed.\n    consumed = true;\n  }\n\n  /** @type {Effects['enter']} */\n  function enter(type, fields) {\n    /** @type {Token} */\n    // @ts-expect-error Patch instead of assign required fields to help GC.\n    const token = fields || {};\n    token.type = type;\n    token.start = now();\n    context.events.push(['enter', token, context]);\n    stack.push(token);\n    return token;\n  }\n\n  /** @type {Effects['exit']} */\n  function exit(type) {\n    const token = stack.pop();\n    token.end = now();\n    context.events.push(['exit', token, context]);\n    return token;\n  }\n\n  /**\n   * Use results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from);\n  }\n\n  /**\n   * Discard results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulcheck(_, info) {\n    info.restore();\n  }\n\n  /**\n   * Factory to attempt/check/interrupt.\n   *\n   * @param {ReturnHandle} onreturn\n   *   Callback.\n   * @param {{interrupt?: boolean | undefined} | undefined} [fields]\n   *   Fields.\n   */\n  function constructFactory(onreturn, fields) {\n    return hook;\n\n    /**\n     * Handle either an object mapping codes to constructs, a list of\n     * constructs, or a single construct.\n     *\n     * @param {Array<Construct> | ConstructRecord | Construct} constructs\n     *   Constructs.\n     * @param {State} returnState\n     *   State.\n     * @param {State | undefined} [bogusState]\n     *   State.\n     * @returns {State}\n     *   State.\n     */\n    function hook(constructs, returnState, bogusState) {\n      /** @type {ReadonlyArray<Construct>} */\n      let listOfConstructs;\n      /** @type {number} */\n      let constructIndex;\n      /** @type {Construct} */\n      let currentConstruct;\n      /** @type {Info} */\n      let info;\n      return Array.isArray(constructs) ? /* c8 ignore next 1 */\n      handleListOfConstructs(constructs) : 'tokenize' in constructs ?\n      // Looks like a construct.\n      handleListOfConstructs([(/** @type {Construct} */constructs)]) : handleMapOfConstructs(constructs);\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {ConstructRecord} map\n       *   Constructs.\n       * @returns {State}\n       *   State.\n       */\n      function handleMapOfConstructs(map) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          const left = code !== null && map[code];\n          const all = code !== null && map.null;\n          const list = [\n          // To do: add more extension tests.\n          /* c8 ignore next 2 */\n          ...(Array.isArray(left) ? left : left ? [left] : []), ...(Array.isArray(all) ? all : all ? [all] : [])];\n          return handleListOfConstructs(list)(code);\n        }\n      }\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {ReadonlyArray<Construct>} list\n       *   Constructs.\n       * @returns {State}\n       *   State.\n       */\n      function handleListOfConstructs(list) {\n        listOfConstructs = list;\n        constructIndex = 0;\n        if (list.length === 0) {\n          return bogusState;\n        }\n        return handleConstruct(list[constructIndex]);\n      }\n\n      /**\n       * Handle a single construct.\n       *\n       * @param {Construct} construct\n       *   Construct.\n       * @returns {State}\n       *   State.\n       */\n      function handleConstruct(construct) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          // To do: not needed to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store();\n          currentConstruct = construct;\n          if (!construct.partial) {\n            context.currentConstruct = construct;\n          }\n\n          // Always populated by defaults.\n\n          if (construct.name && context.parser.constructs.disable.null.includes(construct.name)) {\n            return nok(code);\n          }\n          return construct.tokenize.call(\n          // If we do have fields, create an object w/ `context` as its\n          // prototype.\n          // This allows a live binding, which is needed for `interrupt`.\n          fields ? Object.assign(Object.create(context), fields) : context, effects, ok, nok)(code);\n        }\n      }\n\n      /** @type {State} */\n      function ok(code) {\n        consumed = true;\n        onreturn(currentConstruct, info);\n        return returnState;\n      }\n\n      /** @type {State} */\n      function nok(code) {\n        consumed = true;\n        info.restore();\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex]);\n        }\n        return bogusState;\n      }\n    }\n  }\n\n  /**\n   * @param {Construct} construct\n   *   Construct.\n   * @param {number} from\n   *   From.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function addResult(construct, from) {\n    if (construct.resolveAll && !resolveAllConstructs.includes(construct)) {\n      resolveAllConstructs.push(construct);\n    }\n    if (construct.resolve) {\n      splice(context.events, from, context.events.length - from, construct.resolve(context.events.slice(from), context));\n    }\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context);\n    }\n  }\n\n  /**\n   * Store state.\n   *\n   * @returns {Info}\n   *   Info.\n   */\n  function store() {\n    const startPoint = now();\n    const startPrevious = context.previous;\n    const startCurrentConstruct = context.currentConstruct;\n    const startEventsIndex = context.events.length;\n    const startStack = Array.from(stack);\n    return {\n      from: startEventsIndex,\n      restore\n    };\n\n    /**\n     * Restore state.\n     *\n     * @returns {undefined}\n     *   Nothing.\n     */\n    function restore() {\n      point = startPoint;\n      context.previous = startPrevious;\n      context.currentConstruct = startCurrentConstruct;\n      context.events.length = startEventsIndex;\n      stack = startStack;\n      accountForPotentialSkip();\n    }\n  }\n\n  /**\n   * Move the current point a bit forward in the line when its on a column\n   * skip.\n   *\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line];\n      point.offset += columnStart[point.line] - 1;\n    }\n  }\n}\n\n/**\n * Get the chunks from a slice of chunks in the range of a token.\n *\n * @param {ReadonlyArray<Chunk>} chunks\n *   Chunks.\n * @param {Pick<Token, 'end' | 'start'>} token\n *   Token.\n * @returns {Array<Chunk>}\n *   Chunks.\n */\nfunction sliceChunks(chunks, token) {\n  const startIndex = token.start._index;\n  const startBufferIndex = token.start._bufferIndex;\n  const endIndex = token.end._index;\n  const endBufferIndex = token.end._bufferIndex;\n  /** @type {Array<Chunk>} */\n  let view;\n  if (startIndex === endIndex) {\n    // @ts-expect-error `_bufferIndex` is used on string chunks.\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)];\n  } else {\n    view = chunks.slice(startIndex, endIndex);\n    if (startBufferIndex > -1) {\n      const head = view[0];\n      if (typeof head === 'string') {\n        view[0] = head.slice(startBufferIndex);\n      } else {\n        view.shift();\n      }\n    }\n    if (endBufferIndex > 0) {\n      // @ts-expect-error `_bufferIndex` is used on string chunks.\n      view.push(chunks[endIndex].slice(0, endBufferIndex));\n    }\n  }\n  return view;\n}\n\n/**\n * Get the string value of a slice of chunks.\n *\n * @param {ReadonlyArray<Chunk>} chunks\n *   Chunks.\n * @param {boolean | undefined} [expandTabs=false]\n *   Whether to expand tabs (default: `false`).\n * @returns {string}\n *   Result.\n */\nfunction serializeChunks(chunks, expandTabs) {\n  let index = -1;\n  /** @type {Array<string>} */\n  const result = [];\n  /** @type {boolean | undefined} */\n  let atTab;\n  while (++index < chunks.length) {\n    const chunk = chunks[index];\n    /** @type {string} */\n    let value;\n    if (typeof chunk === 'string') {\n      value = chunk;\n    } else switch (chunk) {\n      case -5:\n        {\n          value = \"\\r\";\n          break;\n        }\n      case -4:\n        {\n          value = \"\\n\";\n          break;\n        }\n      case -3:\n        {\n          value = \"\\r\" + \"\\n\";\n          break;\n        }\n      case -2:\n        {\n          value = expandTabs ? \" \" : \"\\t\";\n          break;\n        }\n      case -1:\n        {\n          if (!expandTabs && atTab) continue;\n          value = \" \";\n          break;\n        }\n      default:\n        {\n          // Currently only replacement character.\n          value = String.fromCharCode(chunk);\n        }\n    }\n    atTab = chunk === -2;\n    result.push(value);\n  }\n  return result.join('');\n}","/**\n * @import {\n *   Create,\n *   FullNormalizedExtension,\n *   InitialConstruct,\n *   ParseContext,\n *   ParseOptions\n * } from 'micromark-util-types'\n */\n\nimport { combineExtensions } from 'micromark-util-combine-extensions';\nimport { content } from './initialize/content.js';\nimport { document } from './initialize/document.js';\nimport { flow } from './initialize/flow.js';\nimport { string, text } from './initialize/text.js';\nimport * as defaultConstructs from './constructs.js';\nimport { createTokenizer } from './create-tokenizer.js';\n\n/**\n * @param {ParseOptions | null | undefined} [options]\n *   Configuration (optional).\n * @returns {ParseContext}\n *   Parser.\n */\nexport function parse(options) {\n  const settings = options || {};\n  const constructs = /** @type {FullNormalizedExtension} */\n  combineExtensions([defaultConstructs, ...(settings.extensions || [])]);\n\n  /** @type {ParseContext} */\n  const parser = {\n    constructs,\n    content: create(content),\n    defined: [],\n    document: create(document),\n    flow: create(flow),\n    lazy: {},\n    string: create(string),\n    text: create(text)\n  };\n  return parser;\n\n  /**\n   * @param {InitialConstruct} initial\n   *   Construct to start with.\n   * @returns {Create}\n   *   Create a tokenizer.\n   */\n  function create(initial) {\n    return creator;\n    /** @type {Create} */\n    function creator(from) {\n      return createTokenizer(parser, initial, from);\n    }\n  }\n}","/**\n * @import {Event} from 'micromark-util-types'\n */\n\nimport { subtokenize } from 'micromark-util-subtokenize';\n\n/**\n * @param {Array<Event>} events\n *   Events.\n * @returns {Array<Event>}\n *   Events.\n */\nexport function postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n  return events;\n}","/**\n * @import {Chunk, Code, Encoding, Value} from 'micromark-util-types'\n */\n\n/**\n * @callback Preprocessor\n *   Preprocess a value.\n * @param {Value} value\n *   Value.\n * @param {Encoding | null | undefined} [encoding]\n *   Encoding when `value` is a typed array (optional).\n * @param {boolean | null | undefined} [end=false]\n *   Whether this is the last chunk (default: `false`).\n * @returns {Array<Chunk>}\n *   Chunks.\n */\n\nconst search = /[\\0\\t\\n\\r]/g;\n\n/**\n * @returns {Preprocessor}\n *   Preprocess a value.\n */\nexport function preprocess() {\n  let column = 1;\n  let buffer = '';\n  /** @type {boolean | undefined} */\n  let start = true;\n  /** @type {boolean | undefined} */\n  let atCarriageReturn;\n  return preprocessor;\n\n  /** @type {Preprocessor} */\n  // eslint-disable-next-line complexity\n  function preprocessor(value, encoding, end) {\n    /** @type {Array<Chunk>} */\n    const chunks = [];\n    /** @type {RegExpMatchArray | null} */\n    let match;\n    /** @type {number} */\n    let next;\n    /** @type {number} */\n    let startPosition;\n    /** @type {number} */\n    let endPosition;\n    /** @type {Code} */\n    let code;\n    value = buffer + (typeof value === 'string' ? value.toString() : new TextDecoder(encoding || undefined).decode(value));\n    startPosition = 0;\n    buffer = '';\n    if (start) {\n      // To do: `markdown-rs` actually parses BOMs (byte order mark).\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++;\n      }\n      start = undefined;\n    }\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition;\n      match = search.exec(value);\n      endPosition = match && match.index !== undefined ? match.index : value.length;\n      code = value.charCodeAt(endPosition);\n      if (!match) {\n        buffer = value.slice(startPosition);\n        break;\n      }\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3);\n        atCarriageReturn = undefined;\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5);\n          atCarriageReturn = undefined;\n        }\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition));\n          column += endPosition - startPosition;\n        }\n        switch (code) {\n          case 0:\n            {\n              chunks.push(65533);\n              column++;\n              break;\n            }\n          case 9:\n            {\n              next = Math.ceil(column / 4) * 4;\n              chunks.push(-2);\n              while (column++ < next) chunks.push(-1);\n              break;\n            }\n          case 10:\n            {\n              chunks.push(-4);\n              column = 1;\n              break;\n            }\n          default:\n            {\n              atCarriageReturn = true;\n              column = 1;\n            }\n        }\n      }\n      startPosition = endPosition + 1;\n    }\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5);\n      if (buffer) chunks.push(buffer);\n      chunks.push(null);\n    }\n    return chunks;\n  }\n}","import { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nconst characterEscapeOrReference = /\\\\([!-/:-@[-`{-~])|&(#(?:\\d{1,7}|x[\\da-f]{1,6})|[\\da-z]{1,31});/gi;\n\n/**\n * Decode markdown strings (which occur in places such as fenced code info\n * strings, destinations, labels, and titles).\n *\n * The string content type allows character escapes and -references.\n * This decodes those.\n *\n * @param {string} value\n *   Value to decode.\n * @returns {string}\n *   Decoded value.\n */\nexport function decodeString(value) {\n  return value.replace(characterEscapeOrReference, decode);\n}\n\n/**\n * @param {string} $0\n *   Match.\n * @param {string} $1\n *   Character escape.\n * @param {string} $2\n *   Character reference.\n * @returns {string}\n *   Decoded value\n */\nfunction decode($0, $1, $2) {\n  if ($1) {\n    // Escape.\n    return $1;\n  }\n\n  // Reference.\n  const head = $2.charCodeAt(0);\n  if (head === 35) {\n    const head = $2.charCodeAt(1);\n    const hex = head === 120 || head === 88;\n    return decodeNumericCharacterReference($2.slice(hex ? 2 : 1), hex ? 16 : 10);\n  }\n  return decodeNamedCharacterReference($2) || $0;\n}","/**\n * @import {\n *   Break,\n *   Blockquote,\n *   Code,\n *   Definition,\n *   Emphasis,\n *   Heading,\n *   Html,\n *   Image,\n *   InlineCode,\n *   Link,\n *   ListItem,\n *   List,\n *   Nodes,\n *   Paragraph,\n *   PhrasingContent,\n *   ReferenceType,\n *   Root,\n *   Strong,\n *   Text,\n *   ThematicBreak\n * } from 'mdast'\n * @import {\n *   Encoding,\n *   Event,\n *   Token,\n *   Value\n * } from 'micromark-util-types'\n * @import {Point} from 'unist'\n * @import {\n *   CompileContext,\n *   CompileData,\n *   Config,\n *   Extension,\n *   Handle,\n *   OnEnterError,\n *   Options\n * } from './types.js'\n */\n\nimport { toString } from 'mdast-util-to-string';\nimport { parse, postprocess, preprocess } from 'micromark';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nimport { decodeString } from 'micromark-util-decode-string';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { stringifyPosition } from 'unist-util-stringify-position';\nconst own = {}.hasOwnProperty;\n\n/**\n * Turn markdown into a syntax tree.\n *\n * @overload\n * @param {Value} value\n * @param {Encoding | null | undefined} [encoding]\n * @param {Options | null | undefined} [options]\n * @returns {Root}\n *\n * @overload\n * @param {Value} value\n * @param {Options | null | undefined} [options]\n * @returns {Root}\n *\n * @param {Value} value\n *   Markdown to parse.\n * @param {Encoding | Options | null | undefined} [encoding]\n *   Character encoding for when `value` is `Buffer`.\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {Root}\n *   mdast tree.\n */\nexport function fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding;\n    encoding = undefined;\n  }\n  return compiler(options)(postprocess(parse(options).document().write(preprocess()(value, encoding, true))));\n}\n\n/**\n * Note this compiler only understand complete buffering, not streaming.\n *\n * @param {Options | null | undefined} [options]\n */\nfunction compiler(options) {\n  /** @type {Config} */\n  const config = {\n    transforms: [],\n    canContainEols: ['emphasis', 'fragment', 'heading', 'paragraph', 'strong'],\n    enter: {\n      autolink: opener(link),\n      autolinkProtocol: onenterdata,\n      autolinkEmail: onenterdata,\n      atxHeading: opener(heading),\n      blockQuote: opener(blockQuote),\n      characterEscape: onenterdata,\n      characterReference: onenterdata,\n      codeFenced: opener(codeFlow),\n      codeFencedFenceInfo: buffer,\n      codeFencedFenceMeta: buffer,\n      codeIndented: opener(codeFlow, buffer),\n      codeText: opener(codeText, buffer),\n      codeTextData: onenterdata,\n      data: onenterdata,\n      codeFlowValue: onenterdata,\n      definition: opener(definition),\n      definitionDestinationString: buffer,\n      definitionLabelString: buffer,\n      definitionTitleString: buffer,\n      emphasis: opener(emphasis),\n      hardBreakEscape: opener(hardBreak),\n      hardBreakTrailing: opener(hardBreak),\n      htmlFlow: opener(html, buffer),\n      htmlFlowData: onenterdata,\n      htmlText: opener(html, buffer),\n      htmlTextData: onenterdata,\n      image: opener(image),\n      label: buffer,\n      link: opener(link),\n      listItem: opener(listItem),\n      listItemValue: onenterlistitemvalue,\n      listOrdered: opener(list, onenterlistordered),\n      listUnordered: opener(list),\n      paragraph: opener(paragraph),\n      reference: onenterreference,\n      referenceString: buffer,\n      resourceDestinationString: buffer,\n      resourceTitleString: buffer,\n      setextHeading: opener(heading),\n      strong: opener(strong),\n      thematicBreak: opener(thematicBreak)\n    },\n    exit: {\n      atxHeading: closer(),\n      atxHeadingSequence: onexitatxheadingsequence,\n      autolink: closer(),\n      autolinkEmail: onexitautolinkemail,\n      autolinkProtocol: onexitautolinkprotocol,\n      blockQuote: closer(),\n      characterEscapeValue: onexitdata,\n      characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n      characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n      characterReferenceValue: onexitcharacterreferencevalue,\n      characterReference: onexitcharacterreference,\n      codeFenced: closer(onexitcodefenced),\n      codeFencedFence: onexitcodefencedfence,\n      codeFencedFenceInfo: onexitcodefencedfenceinfo,\n      codeFencedFenceMeta: onexitcodefencedfencemeta,\n      codeFlowValue: onexitdata,\n      codeIndented: closer(onexitcodeindented),\n      codeText: closer(onexitcodetext),\n      codeTextData: onexitdata,\n      data: onexitdata,\n      definition: closer(),\n      definitionDestinationString: onexitdefinitiondestinationstring,\n      definitionLabelString: onexitdefinitionlabelstring,\n      definitionTitleString: onexitdefinitiontitlestring,\n      emphasis: closer(),\n      hardBreakEscape: closer(onexithardbreak),\n      hardBreakTrailing: closer(onexithardbreak),\n      htmlFlow: closer(onexithtmlflow),\n      htmlFlowData: onexitdata,\n      htmlText: closer(onexithtmltext),\n      htmlTextData: onexitdata,\n      image: closer(onexitimage),\n      label: onexitlabel,\n      labelText: onexitlabeltext,\n      lineEnding: onexitlineending,\n      link: closer(onexitlink),\n      listItem: closer(),\n      listOrdered: closer(),\n      listUnordered: closer(),\n      paragraph: closer(),\n      referenceString: onexitreferencestring,\n      resourceDestinationString: onexitresourcedestinationstring,\n      resourceTitleString: onexitresourcetitlestring,\n      resource: onexitresource,\n      setextHeading: closer(onexitsetextheading),\n      setextHeadingLineSequence: onexitsetextheadinglinesequence,\n      setextHeadingText: onexitsetextheadingtext,\n      strong: closer(),\n      thematicBreak: closer()\n    }\n  };\n  configure(config, (options || {}).mdastExtensions || []);\n\n  /** @type {CompileData} */\n  const data = {};\n  return compile;\n\n  /**\n   * Turn micromark events into an mdast tree.\n   *\n   * @param {Array<Event>} events\n   *   Events.\n   * @returns {Root}\n   *   mdast tree.\n   */\n  function compile(events) {\n    /** @type {Root} */\n    let tree = {\n      type: 'root',\n      children: []\n    };\n    /** @type {Omit<CompileContext, 'sliceSerialize'>} */\n    const context = {\n      stack: [tree],\n      tokenStack: [],\n      config,\n      enter,\n      exit,\n      buffer,\n      resume,\n      data\n    };\n    /** @type {Array<number>} */\n    const listStack = [];\n    let index = -1;\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (events[index][1].type === \"listOrdered\" || events[index][1].type === \"listUnordered\") {\n        if (events[index][0] === 'enter') {\n          listStack.push(index);\n        } else {\n          const tail = listStack.pop();\n          index = prepareList(events, tail, index);\n        }\n      }\n    }\n    index = -1;\n    while (++index < events.length) {\n      const handler = config[events[index][0]];\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(Object.assign({\n          sliceSerialize: events[index][2].sliceSerialize\n        }, context), events[index][1]);\n      }\n    }\n\n    // Handle tokens still being open.\n    if (context.tokenStack.length > 0) {\n      const tail = context.tokenStack[context.tokenStack.length - 1];\n      const handler = tail[1] || defaultOnError;\n      handler.call(context, undefined, tail[0]);\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(events.length > 0 ? events[0][1].start : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }),\n      end: point(events.length > 0 ? events[events.length - 2][1].end : {\n        line: 1,\n        column: 1,\n        offset: 0\n      })\n    };\n\n    // Call transforms.\n    index = -1;\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree;\n    }\n    return tree;\n  }\n\n  /**\n   * @param {Array<Event>} events\n   * @param {number} start\n   * @param {number} length\n   * @returns {number}\n   */\n  function prepareList(events, start, length) {\n    let index = start - 1;\n    let containerBalance = -1;\n    let listSpread = false;\n    /** @type {Token | undefined} */\n    let listItem;\n    /** @type {number | undefined} */\n    let lineIndex;\n    /** @type {number | undefined} */\n    let firstBlankLineIndex;\n    /** @type {boolean | undefined} */\n    let atMarker;\n    while (++index <= length) {\n      const event = events[index];\n      switch (event[1].type) {\n        case \"listUnordered\":\n        case \"listOrdered\":\n        case \"blockQuote\":\n          {\n            if (event[0] === 'enter') {\n              containerBalance++;\n            } else {\n              containerBalance--;\n            }\n            atMarker = undefined;\n            break;\n          }\n        case \"lineEndingBlank\":\n          {\n            if (event[0] === 'enter') {\n              if (listItem && !atMarker && !containerBalance && !firstBlankLineIndex) {\n                firstBlankLineIndex = index;\n              }\n              atMarker = undefined;\n            }\n            break;\n          }\n        case \"linePrefix\":\n        case \"listItemValue\":\n        case \"listItemMarker\":\n        case \"listItemPrefix\":\n        case \"listItemPrefixWhitespace\":\n          {\n            // Empty.\n\n            break;\n          }\n        default:\n          {\n            atMarker = undefined;\n          }\n      }\n      if (!containerBalance && event[0] === 'enter' && event[1].type === \"listItemPrefix\" || containerBalance === -1 && event[0] === 'exit' && (event[1].type === \"listUnordered\" || event[1].type === \"listOrdered\")) {\n        if (listItem) {\n          let tailIndex = index;\n          lineIndex = undefined;\n          while (tailIndex--) {\n            const tailEvent = events[tailIndex];\n            if (tailEvent[1].type === \"lineEnding\" || tailEvent[1].type === \"lineEndingBlank\") {\n              if (tailEvent[0] === 'exit') continue;\n              if (lineIndex) {\n                events[lineIndex][1].type = \"lineEndingBlank\";\n                listSpread = true;\n              }\n              tailEvent[1].type = \"lineEnding\";\n              lineIndex = tailIndex;\n            } else if (tailEvent[1].type === \"linePrefix\" || tailEvent[1].type === \"blockQuotePrefix\" || tailEvent[1].type === \"blockQuotePrefixWhitespace\" || tailEvent[1].type === \"blockQuoteMarker\" || tailEvent[1].type === \"listItemIndent\") {\n              // Empty\n            } else {\n              break;\n            }\n          }\n          if (firstBlankLineIndex && (!lineIndex || firstBlankLineIndex < lineIndex)) {\n            listItem._spread = true;\n          }\n\n          // Fix position.\n          listItem.end = Object.assign({}, lineIndex ? events[lineIndex][1].start : event[1].end);\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]]);\n          index++;\n          length++;\n        }\n\n        // Create a new list item.\n        if (event[1].type === \"listItemPrefix\") {\n          /** @type {Token} */\n          const item = {\n            type: 'listItem',\n            _spread: false,\n            start: Object.assign({}, event[1].start),\n            // @ts-expect-error: well add `end` in a second.\n            end: undefined\n          };\n          listItem = item;\n          events.splice(index, 0, ['enter', item, event[2]]);\n          index++;\n          length++;\n          firstBlankLineIndex = undefined;\n          atMarker = true;\n        }\n      }\n    }\n    events[start][1]._spread = listSpread;\n    return length;\n  }\n\n  /**\n   * Create an opener handle.\n   *\n   * @param {(token: Token) => Nodes} create\n   *   Create a node.\n   * @param {Handle | undefined} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function opener(create, and) {\n    return open;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {undefined}\n     */\n    function open(token) {\n      enter.call(this, create(token), token);\n      if (and) and.call(this, token);\n    }\n  }\n\n  /**\n   * @type {CompileContext['buffer']}\n   */\n  function buffer() {\n    this.stack.push({\n      type: 'fragment',\n      children: []\n    });\n  }\n\n  /**\n   * @type {CompileContext['enter']}\n   */\n  function enter(node, token, errorHandler) {\n    const parent = this.stack[this.stack.length - 1];\n    /** @type {Array<Nodes>} */\n    const siblings = parent.children;\n    siblings.push(node);\n    this.stack.push(node);\n    this.tokenStack.push([token, errorHandler || undefined]);\n    node.position = {\n      start: point(token.start),\n      // @ts-expect-error: `end` will be patched later.\n      end: undefined\n    };\n  }\n\n  /**\n   * Create a closer handle.\n   *\n   * @param {Handle | undefined} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function closer(and) {\n    return close;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {undefined}\n     */\n    function close(token) {\n      if (and) and.call(this, token);\n      exit.call(this, token);\n    }\n  }\n\n  /**\n   * @type {CompileContext['exit']}\n   */\n  function exit(token, onExitError) {\n    const node = this.stack.pop();\n    const open = this.tokenStack.pop();\n    if (!open) {\n      throw new Error('Cannot close `' + token.type + '` (' + stringifyPosition({\n        start: token.start,\n        end: token.end\n      }) + '): its not open');\n    } else if (open[0].type !== token.type) {\n      if (onExitError) {\n        onExitError.call(this, token, open[0]);\n      } else {\n        const handler = open[1] || defaultOnError;\n        handler.call(this, token, open[0]);\n      }\n    }\n    node.position.end = point(token.end);\n  }\n\n  /**\n   * @type {CompileContext['resume']}\n   */\n  function resume() {\n    return toString(this.stack.pop());\n  }\n\n  //\n  // Handlers.\n  //\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistordered() {\n    this.data.expectingFirstListItemValue = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistitemvalue(token) {\n    if (this.data.expectingFirstListItemValue) {\n      const ancestor = this.stack[this.stack.length - 2];\n      ancestor.start = Number.parseInt(this.sliceSerialize(token), 10);\n      this.data.expectingFirstListItemValue = undefined;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfenceinfo() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.lang = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfencemeta() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.meta = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (this.data.flowCodeInside) return;\n    this.buffer();\n    this.data.flowCodeInside = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefenced() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g, '');\n    this.data.flowCodeInside = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodeindented() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/(\\r?\\n|\\r)$/g, '');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitionlabelstring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.label = label;\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiontitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiondestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitatxheadingsequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    if (!node.depth) {\n      const depth = this.sliceSerialize(token).length;\n      node.depth = depth;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadingtext() {\n    this.data.setextHeadingSlurpLineEnding = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadinglinesequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    node.depth = this.sliceSerialize(token).codePointAt(0) === 61 ? 1 : 2;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheading() {\n    this.data.setextHeadingSlurpLineEnding = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterdata(token) {\n    const node = this.stack[this.stack.length - 1];\n    /** @type {Array<Nodes>} */\n    const siblings = node.children;\n    let tail = siblings[siblings.length - 1];\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text();\n      tail.position = {\n        start: point(token.start),\n        // @ts-expect-error: well add `end` later.\n        end: undefined\n      };\n      siblings.push(tail);\n    }\n    this.stack.push(tail);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitdata(token) {\n    const tail = this.stack.pop();\n    tail.value += this.sliceSerialize(token);\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlineending(token) {\n    const context = this.stack[this.stack.length - 1];\n    // If were at a hard break, include the line ending in there.\n    if (this.data.atHardBreak) {\n      const tail = context.children[context.children.length - 1];\n      tail.position.end = point(token.end);\n      this.data.atHardBreak = undefined;\n      return;\n    }\n    if (!this.data.setextHeadingSlurpLineEnding && config.canContainEols.includes(context.type)) {\n      onenterdata.call(this, token);\n      onexitdata.call(this, token);\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithardbreak() {\n    this.data.atHardBreak = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmlflow() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmltext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcodetext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlink() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n\n    // To do: clean.\n    if (this.data.inReference) {\n      /** @type {ReferenceType} */\n      const referenceType = this.data.referenceType || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    this.data.referenceType = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitimage() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n\n    // To do: clean.\n    if (this.data.inReference) {\n      /** @type {ReferenceType} */\n      const referenceType = this.data.referenceType || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    this.data.referenceType = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabeltext(token) {\n    const string = this.sliceSerialize(token);\n    const ancestor = this.stack[this.stack.length - 2];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    ancestor.label = decodeString(string);\n    // @ts-expect-error: same as above.\n    ancestor.identifier = normalizeIdentifier(string).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabel() {\n    const fragment = this.stack[this.stack.length - 1];\n    const value = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // Assume a reference.\n    this.data.inReference = true;\n    if (node.type === 'link') {\n      /** @type {Array<PhrasingContent>} */\n      const children = fragment.children;\n      node.children = children;\n    } else {\n      node.alt = value;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcedestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcetitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresource() {\n    this.data.inReference = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterreference() {\n    this.data.referenceType = 'collapsed';\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitreferencestring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    node.label = label;\n    // @ts-expect-error: same as above.\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n    this.data.referenceType = 'full';\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcharacterreferencemarker(token) {\n    this.data.characterReferenceType = token.type;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcharacterreferencevalue(token) {\n    const data = this.sliceSerialize(token);\n    const type = this.data.characterReferenceType;\n    /** @type {string} */\n    let value;\n    if (type) {\n      value = decodeNumericCharacterReference(data, type === \"characterReferenceMarkerNumeric\" ? 10 : 16);\n      this.data.characterReferenceType = undefined;\n    } else {\n      const result = decodeNamedCharacterReference(data);\n      value = result;\n    }\n    const tail = this.stack[this.stack.length - 1];\n    tail.value += value;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcharacterreference(token) {\n    const tail = this.stack.pop();\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = this.sliceSerialize(token);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = 'mailto:' + this.sliceSerialize(token);\n  }\n\n  //\n  // Creaters.\n  //\n\n  /** @returns {Blockquote} */\n  function blockQuote() {\n    return {\n      type: 'blockquote',\n      children: []\n    };\n  }\n\n  /** @returns {Code} */\n  function codeFlow() {\n    return {\n      type: 'code',\n      lang: null,\n      meta: null,\n      value: ''\n    };\n  }\n\n  /** @returns {InlineCode} */\n  function codeText() {\n    return {\n      type: 'inlineCode',\n      value: ''\n    };\n  }\n\n  /** @returns {Definition} */\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    };\n  }\n\n  /** @returns {Emphasis} */\n  function emphasis() {\n    return {\n      type: 'emphasis',\n      children: []\n    };\n  }\n\n  /** @returns {Heading} */\n  function heading() {\n    return {\n      type: 'heading',\n      // @ts-expect-error `depth` will be set later.\n      depth: 0,\n      children: []\n    };\n  }\n\n  /** @returns {Break} */\n  function hardBreak() {\n    return {\n      type: 'break'\n    };\n  }\n\n  /** @returns {Html} */\n  function html() {\n    return {\n      type: 'html',\n      value: ''\n    };\n  }\n\n  /** @returns {Image} */\n  function image() {\n    return {\n      type: 'image',\n      title: null,\n      url: '',\n      alt: null\n    };\n  }\n\n  /** @returns {Link} */\n  function link() {\n    return {\n      type: 'link',\n      title: null,\n      url: '',\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {List}\n   */\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {ListItem}\n   */\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    };\n  }\n\n  /** @returns {Paragraph} */\n  function paragraph() {\n    return {\n      type: 'paragraph',\n      children: []\n    };\n  }\n\n  /** @returns {Strong} */\n  function strong() {\n    return {\n      type: 'strong',\n      children: []\n    };\n  }\n\n  /** @returns {Text} */\n  function text() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /** @returns {ThematicBreak} */\n  function thematicBreak() {\n    return {\n      type: 'thematicBreak'\n    };\n  }\n}\n\n/**\n * Copy a point-like value.\n *\n * @param {Point} d\n *   Point-like value.\n * @returns {Point}\n *   unist point.\n */\nfunction point(d) {\n  return {\n    line: d.line,\n    column: d.column,\n    offset: d.offset\n  };\n}\n\n/**\n * @param {Config} combined\n * @param {Array<Array<Extension> | Extension>} extensions\n * @returns {undefined}\n */\nfunction configure(combined, extensions) {\n  let index = -1;\n  while (++index < extensions.length) {\n    const value = extensions[index];\n    if (Array.isArray(value)) {\n      configure(combined, value);\n    } else {\n      extension(combined, value);\n    }\n  }\n}\n\n/**\n * @param {Config} combined\n * @param {Extension} extension\n * @returns {undefined}\n */\nfunction extension(combined, extension) {\n  /** @type {keyof Extension} */\n  let key;\n  for (key in extension) {\n    if (own.call(extension, key)) {\n      switch (key) {\n        case 'canContainEols':\n          {\n            const right = extension[key];\n            if (right) {\n              combined[key].push(...right);\n            }\n            break;\n          }\n        case 'transforms':\n          {\n            const right = extension[key];\n            if (right) {\n              combined[key].push(...right);\n            }\n            break;\n          }\n        case 'enter':\n        case 'exit':\n          {\n            const right = extension[key];\n            if (right) {\n              Object.assign(combined[key], right);\n            }\n            break;\n          }\n        // No default\n      }\n    }\n  }\n}\n\n/** @type {OnEnterError} */\nfunction defaultOnError(left, right) {\n  if (left) {\n    throw new Error('Cannot close `' + left.type + '` (' + stringifyPosition({\n      start: left.start,\n      end: left.end\n    }) + '): a different token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is open');\n  } else {\n    throw new Error('Cannot close document, a token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is still open');\n  }\n}","/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast-util-from-markdown').Options} FromMarkdownOptions\n * @typedef {import('unified').Parser<Root>} Parser\n * @typedef {import('unified').Processor<Root>} Processor\n */\n\n/**\n * @typedef {Omit<FromMarkdownOptions, 'extensions' | 'mdastExtensions'>} Options\n */\n\nimport {fromMarkdown} from 'mdast-util-from-markdown'\n\n/**\n * Aadd support for parsing from markdown.\n *\n * @param {Readonly<Options> | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nexport default function remarkParse(options) {\n  /** @type {Processor} */\n  // @ts-expect-error: TS in JSDoc generates wrong types if `this` is typed regularly.\n  const self = this\n\n  self.parser = parser\n\n  /**\n   * @type {Parser}\n   */\n  function parser(doc) {\n    return fromMarkdown(doc, {\n      ...self.data('settings'),\n      ...options,\n      // Note: these options are not in the readme.\n      // The goal is for them to be set by plugins on `data` instead of being\n      // passed by users.\n      extensions: self.data('micromarkExtensions') || [],\n      mdastExtensions: self.data('fromMarkdownExtensions') || []\n    })\n  }\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Blockquote} Blockquote\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `blockquote` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Blockquote} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function blockquote(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'blockquote',\n    properties: {},\n    children: state.wrap(state.all(node), true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').Break} Break\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `break` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Break} node\n *   mdast node.\n * @returns {Array<Element | Text>}\n *   hast element content.\n */\nexport function hardBreak(state, node) {\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'br', properties: {}, children: []}\n  state.patch(node, result)\n  return [state.applyData(node, result), {type: 'text', value: '\\n'}]\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Code} Code\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `code` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Code} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function code(state, node) {\n  const value = node.value ? node.value + '\\n' : ''\n  /** @type {Properties} */\n  const properties = {}\n\n  if (node.lang) {\n    properties.className = ['language-' + node.lang]\n  }\n\n  // Create `<code>`.\n  /** @type {Element} */\n  let result = {\n    type: 'element',\n    tagName: 'code',\n    properties,\n    children: [{type: 'text', value}]\n  }\n\n  if (node.meta) {\n    result.data = {meta: node.meta}\n  }\n\n  state.patch(node, result)\n  result = state.applyData(node, result)\n\n  // Create `<pre>`.\n  result = {type: 'element', tagName: 'pre', properties: {}, children: [result]}\n  state.patch(node, result)\n  return result\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Delete} Delete\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `delete` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Delete} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strikethrough(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'del',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Emphasis} Emphasis\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `emphasis` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Emphasis} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function emphasis(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'em',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').FootnoteReference} FootnoteReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `footnoteReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {FootnoteReference} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function footnoteReference(state, node) {\n  const clobberPrefix =\n    typeof state.options.clobberPrefix === 'string'\n      ? state.options.clobberPrefix\n      : 'user-content-'\n  const id = String(node.identifier).toUpperCase()\n  const safeId = normalizeUri(id.toLowerCase())\n  const index = state.footnoteOrder.indexOf(id)\n  /** @type {number} */\n  let counter\n\n  let reuseCounter = state.footnoteCounts.get(id)\n\n  if (reuseCounter === undefined) {\n    reuseCounter = 0\n    state.footnoteOrder.push(id)\n    counter = state.footnoteOrder.length\n  } else {\n    counter = index + 1\n  }\n\n  reuseCounter += 1\n  state.footnoteCounts.set(id, reuseCounter)\n\n  /** @type {Element} */\n  const link = {\n    type: 'element',\n    tagName: 'a',\n    properties: {\n      href: '#' + clobberPrefix + 'fn-' + safeId,\n      id:\n        clobberPrefix +\n        'fnref-' +\n        safeId +\n        (reuseCounter > 1 ? '-' + reuseCounter : ''),\n      dataFootnoteRef: true,\n      ariaDescribedBy: ['footnote-label']\n    },\n    children: [{type: 'text', value: String(counter)}]\n  }\n  state.patch(node, link)\n\n  /** @type {Element} */\n  const sup = {\n    type: 'element',\n    tagName: 'sup',\n    properties: {},\n    children: [link]\n  }\n  state.patch(node, sup)\n  return state.applyData(node, sup)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `heading` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Heading} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function heading(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'h' + node.depth,\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Html} Html\n * @typedef {import('../state.js').State} State\n * @typedef {import('../../index.js').Raw} Raw\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `html` node into hast (`raw` node in dangerous mode, otherwise\n * nothing).\n *\n * @param {State} state\n *   Info passed around.\n * @param {Html} node\n *   mdast node.\n * @returns {Element | Raw | undefined}\n *   hast node.\n */\nexport function html(state, node) {\n  if (state.options.allowDangerousHtml) {\n    /** @type {Raw} */\n    const result = {type: 'raw', value: node.value}\n    state.patch(node, result)\n    return state.applyData(node, result)\n  }\n\n  return undefined\n}\n","/**\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('mdast').Nodes} Nodes\n * @typedef {import('mdast').Reference} Reference\n *\n * @typedef {import('./state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Return the content of a reference without definition as plain text.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Extract<Nodes, Reference>} node\n *   Reference node (image, link).\n * @returns {Array<ElementContent>}\n *   hast content.\n */\nexport function revert(state, node) {\n  const subtype = node.referenceType\n  let suffix = ']'\n\n  if (subtype === 'collapsed') {\n    suffix += '[]'\n  } else if (subtype === 'full') {\n    suffix += '[' + (node.label || node.identifier) + ']'\n  }\n\n  if (node.type === 'imageReference') {\n    return [{type: 'text', value: '![' + node.alt + suffix}]\n  }\n\n  const contents = state.all(node)\n  const head = contents[0]\n\n  if (head && head.type === 'text') {\n    head.value = '[' + head.value\n  } else {\n    contents.unshift({type: 'text', value: '['})\n  }\n\n  const tail = contents[contents.length - 1]\n\n  if (tail && tail.type === 'text') {\n    tail.value += suffix\n  } else {\n    contents.push({type: 'text', value: suffix})\n  }\n\n  return contents\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ImageReference} ImageReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `imageReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ImageReference} node\n *   mdast node.\n * @returns {Array<ElementContent> | ElementContent}\n *   hast node.\n */\nexport function imageReference(state, node) {\n  const id = String(node.identifier).toUpperCase()\n  const definition = state.definitionById.get(id)\n\n  if (!definition) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(definition.url || ''), alt: node.alt}\n\n  if (definition.title !== null && definition.title !== undefined) {\n    properties.title = definition.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Image} Image\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `image` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Image} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function image(state, node) {\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(node.url)}\n\n  if (node.alt !== null && node.alt !== undefined) {\n    properties.alt = node.alt\n  }\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').InlineCode} InlineCode\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `inlineCode` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {InlineCode} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function inlineCode(state, node) {\n  /** @type {Text} */\n  const text = {type: 'text', value: node.value.replace(/\\r?\\n|\\r/g, ' ')}\n  state.patch(node, text)\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'code',\n    properties: {},\n    children: [text]\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').LinkReference} LinkReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `linkReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {LinkReference} node\n *   mdast node.\n * @returns {Array<ElementContent> | ElementContent}\n *   hast node.\n */\nexport function linkReference(state, node) {\n  const id = String(node.identifier).toUpperCase()\n  const definition = state.definitionById.get(id)\n\n  if (!definition) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(definition.url || '')}\n\n  if (definition.title !== null && definition.title !== undefined) {\n    properties.title = definition.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Link} Link\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `link` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Link} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function link(state, node) {\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(node.url)}\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `listItem` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ListItem} node\n *   mdast node.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function listItem(state, node, parent) {\n  const results = state.all(node)\n  const loose = parent ? listLoose(parent) : listItemLoose(node)\n  /** @type {Properties} */\n  const properties = {}\n  /** @type {Array<ElementContent>} */\n  const children = []\n\n  if (typeof node.checked === 'boolean') {\n    const head = results[0]\n    /** @type {Element} */\n    let paragraph\n\n    if (head && head.type === 'element' && head.tagName === 'p') {\n      paragraph = head\n    } else {\n      paragraph = {type: 'element', tagName: 'p', properties: {}, children: []}\n      results.unshift(paragraph)\n    }\n\n    if (paragraph.children.length > 0) {\n      paragraph.children.unshift({type: 'text', value: ' '})\n    }\n\n    paragraph.children.unshift({\n      type: 'element',\n      tagName: 'input',\n      properties: {type: 'checkbox', checked: node.checked, disabled: true},\n      children: []\n    })\n\n    // According to github-markdown-css, this class hides bullet.\n    // See: <https://github.com/sindresorhus/github-markdown-css>.\n    properties.className = ['task-list-item']\n  }\n\n  let index = -1\n\n  while (++index < results.length) {\n    const child = results[index]\n\n    // Add eols before nodes, except if this is a loose, first paragraph.\n    if (\n      loose ||\n      index !== 0 ||\n      child.type !== 'element' ||\n      child.tagName !== 'p'\n    ) {\n      children.push({type: 'text', value: '\\n'})\n    }\n\n    if (child.type === 'element' && child.tagName === 'p' && !loose) {\n      children.push(...child.children)\n    } else {\n      children.push(child)\n    }\n  }\n\n  const tail = results[results.length - 1]\n\n  // Add a final eol.\n  if (tail && (loose || tail.type !== 'element' || tail.tagName !== 'p')) {\n    children.push({type: 'text', value: '\\n'})\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'li', properties, children}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * @param {Parents} node\n * @return {Boolean}\n */\nfunction listLoose(node) {\n  let loose = false\n  if (node.type === 'list') {\n    loose = node.spread || false\n    const children = node.children\n    let index = -1\n\n    while (!loose && ++index < children.length) {\n      loose = listItemLoose(children[index])\n    }\n  }\n\n  return loose\n}\n\n/**\n * @param {ListItem} node\n * @return {Boolean}\n */\nfunction listItemLoose(node) {\n  const spread = node.spread\n\n  return spread === null || spread === undefined\n    ? node.children.length > 1\n    : spread\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').List} List\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `list` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {List} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function list(state, node) {\n  /** @type {Properties} */\n  const properties = {}\n  const results = state.all(node)\n  let index = -1\n\n  if (typeof node.start === 'number' && node.start !== 1) {\n    properties.start = node.start\n  }\n\n  // Like GitHub, add a class for custom styling.\n  while (++index < results.length) {\n    const child = results[index]\n\n    if (\n      child.type === 'element' &&\n      child.tagName === 'li' &&\n      child.properties &&\n      Array.isArray(child.properties.className) &&\n      child.properties.className.includes('task-list-item')\n    ) {\n      properties.className = ['contains-task-list']\n      break\n    }\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: node.ordered ? 'ol' : 'ul',\n    properties,\n    children: state.wrap(results, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `paragraph` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Paragraph} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function paragraph(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'p',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Parents} HastParents\n * @typedef {import('hast').Root} HastRoot\n * @typedef {import('mdast').Root} MdastRoot\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `root` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastRoot} node\n *   mdast node.\n * @returns {HastParents}\n *   hast node.\n */\nexport function root(state, node) {\n  /** @type {HastRoot} */\n  const result = {type: 'root', children: state.wrap(state.all(node))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Strong} Strong\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `strong` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Strong} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strong(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'strong',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Table} Table\n * @typedef {import('../state.js').State} State\n */\n\nimport {pointEnd, pointStart} from 'unist-util-position'\n\n/**\n * Turn an mdast `table` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Table} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function table(state, node) {\n  const rows = state.all(node)\n  const firstRow = rows.shift()\n  /** @type {Array<Element>} */\n  const tableContent = []\n\n  if (firstRow) {\n    /** @type {Element} */\n    const head = {\n      type: 'element',\n      tagName: 'thead',\n      properties: {},\n      children: state.wrap([firstRow], true)\n    }\n    state.patch(node.children[0], head)\n    tableContent.push(head)\n  }\n\n  if (rows.length > 0) {\n    /** @type {Element} */\n    const body = {\n      type: 'element',\n      tagName: 'tbody',\n      properties: {},\n      children: state.wrap(rows, true)\n    }\n\n    const start = pointStart(node.children[1])\n    const end = pointEnd(node.children[node.children.length - 1])\n    if (start && end) body.position = {start, end}\n    tableContent.push(body)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'table',\n    properties: {},\n    children: state.wrap(tableContent, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('mdast').TableRow} TableRow\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `tableRow` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableRow} node\n *   mdast node.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function tableRow(state, node, parent) {\n  const siblings = parent ? parent.children : undefined\n  // Generate a body row when without parent.\n  const rowIndex = siblings ? siblings.indexOf(node) : 1\n  const tagName = rowIndex === 0 ? 'th' : 'td'\n  // To do: option to use `style`?\n  const align = parent && parent.type === 'table' ? parent.align : undefined\n  const length = align ? align.length : node.children.length\n  let cellIndex = -1\n  /** @type {Array<ElementContent>} */\n  const cells = []\n\n  while (++cellIndex < length) {\n    // Note: can also be undefined.\n    const cell = node.children[cellIndex]\n    /** @type {Properties} */\n    const properties = {}\n    const alignValue = align ? align[cellIndex] : undefined\n\n    if (alignValue) {\n      properties.align = alignValue\n    }\n\n    /** @type {Element} */\n    let result = {type: 'element', tagName, properties, children: []}\n\n    if (cell) {\n      result.children = state.all(cell)\n      state.patch(cell, result)\n      result = state.applyData(cell, result)\n    }\n\n    cells.push(result)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'tr',\n    properties: {},\n    children: state.wrap(cells, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `tableCell` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableCell} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function tableCell(state, node) {\n  // Note: this function is normally not called: see `table-row` for how rows\n  // and their cells are compiled.\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'td', // Assume body cell.\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","const tab = 9 /* `\\t` */\nconst space = 32 /* ` ` */\n\n/**\n * Remove initial and final spaces and tabs at the line breaks in `value`.\n * Does not trim initial and final spaces and tabs of the value itself.\n *\n * @param {string} value\n *   Value to trim.\n * @returns {string}\n *   Trimmed value.\n */\nexport function trimLines(value) {\n  const source = String(value)\n  const search = /\\r?\\n|\\r/g\n  let match = search.exec(source)\n  let last = 0\n  /** @type {Array<string>} */\n  const lines = []\n\n  while (match) {\n    lines.push(\n      trimLine(source.slice(last, match.index), last > 0, true),\n      match[0]\n    )\n\n    last = match.index + match[0].length\n    match = search.exec(source)\n  }\n\n  lines.push(trimLine(source.slice(last), last > 0, false))\n\n  return lines.join('')\n}\n\n/**\n * @param {string} value\n *   Line to trim.\n * @param {boolean} start\n *   Whether to trim the start of the line.\n * @param {boolean} end\n *   Whether to trim the end of the line.\n * @returns {string}\n *   Trimmed line.\n */\nfunction trimLine(value, start, end) {\n  let startIndex = 0\n  let endIndex = value.length\n\n  if (start) {\n    let code = value.codePointAt(startIndex)\n\n    while (code === tab || code === space) {\n      startIndex++\n      code = value.codePointAt(startIndex)\n    }\n  }\n\n  if (end) {\n    let code = value.codePointAt(endIndex - 1)\n\n    while (code === tab || code === space) {\n      endIndex--\n      code = value.codePointAt(endIndex - 1)\n    }\n  }\n\n  return endIndex > startIndex ? value.slice(startIndex, endIndex) : ''\n}\n","/**\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').Text} HastText\n * @typedef {import('mdast').Text} MdastText\n * @typedef {import('../state.js').State} State\n */\n\nimport {trimLines} from 'trim-lines'\n\n/**\n * Turn an mdast `text` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastText} node\n *   mdast node.\n * @returns {HastElement | HastText}\n *   hast node.\n */\nexport function text(state, node) {\n  /** @type {HastText} */\n  const result = {type: 'text', value: trimLines(String(node.value))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').ThematicBreak} ThematicBreak\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `thematicBreak` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ThematicBreak} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function thematicBreak(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'hr',\n    properties: {},\n    children: []\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","import {blockquote} from './blockquote.js'\nimport {hardBreak} from './break.js'\nimport {code} from './code.js'\nimport {strikethrough} from './delete.js'\nimport {emphasis} from './emphasis.js'\nimport {footnoteReference} from './footnote-reference.js'\nimport {heading} from './heading.js'\nimport {html} from './html.js'\nimport {imageReference} from './image-reference.js'\nimport {image} from './image.js'\nimport {inlineCode} from './inline-code.js'\nimport {linkReference} from './link-reference.js'\nimport {link} from './link.js'\nimport {listItem} from './list-item.js'\nimport {list} from './list.js'\nimport {paragraph} from './paragraph.js'\nimport {root} from './root.js'\nimport {strong} from './strong.js'\nimport {table} from './table.js'\nimport {tableRow} from './table-row.js'\nimport {tableCell} from './table-cell.js'\nimport {text} from './text.js'\nimport {thematicBreak} from './thematic-break.js'\n\n/**\n * Default handlers for nodes.\n *\n * @satisfies {import('../state.js').Handlers}\n */\nexport const handlers = {\n  blockquote,\n  break: hardBreak,\n  code,\n  delete: strikethrough,\n  emphasis,\n  footnoteReference,\n  heading,\n  html,\n  imageReference,\n  image,\n  inlineCode,\n  linkReference,\n  link,\n  listItem,\n  list,\n  paragraph,\n  // @ts-expect-error: root is different, but hard to type.\n  root,\n  strong,\n  table,\n  tableCell,\n  tableRow,\n  text,\n  thematicBreak,\n  toml: ignore,\n  yaml: ignore,\n  definition: ignore,\n  footnoteDefinition: ignore\n}\n\n// Return nothing for nodes that are ignored.\nfunction ignore() {\n  return undefined\n}\n","export const VOID       = -1;\nexport const PRIMITIVE  = 0;\nexport const ARRAY      = 1;\nexport const OBJECT     = 2;\nexport const DATE       = 3;\nexport const REGEXP     = 4;\nexport const MAP        = 5;\nexport const SET        = 6;\nexport const ERROR      = 7;\nexport const BIGINT     = 8;\n// export const SYMBOL = 9;\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst EMPTY = '';\n\nconst {toString} = {};\nconst {keys} = Object;\n\nconst typeOf = value => {\n  const type = typeof value;\n  if (type !== 'object' || !value)\n    return [PRIMITIVE, type];\n\n  const asString = toString.call(value).slice(8, -1);\n  switch (asString) {\n    case 'Array':\n      return [ARRAY, EMPTY];\n    case 'Object':\n      return [OBJECT, EMPTY];\n    case 'Date':\n      return [DATE, EMPTY];\n    case 'RegExp':\n      return [REGEXP, EMPTY];\n    case 'Map':\n      return [MAP, EMPTY];\n    case 'Set':\n      return [SET, EMPTY];\n  }\n\n  if (asString.includes('Array'))\n    return [ARRAY, asString];\n\n  if (asString.includes('Error'))\n    return [ERROR, asString];\n\n  return [OBJECT, asString];\n};\n\nconst shouldSkip = ([TYPE, type]) => (\n  TYPE === PRIMITIVE &&\n  (type === 'function' || type === 'symbol')\n);\n\nconst serializer = (strict, json, $, _) => {\n\n  const as = (out, value) => {\n    const index = _.push(out) - 1;\n    $.set(value, index);\n    return index;\n  };\n\n  const pair = value => {\n    if ($.has(value))\n      return $.get(value);\n\n    let [TYPE, type] = typeOf(value);\n    switch (TYPE) {\n      case PRIMITIVE: {\n        let entry = value;\n        switch (type) {\n          case 'bigint':\n            TYPE = BIGINT;\n            entry = value.toString();\n            break;\n          case 'function':\n          case 'symbol':\n            if (strict)\n              throw new TypeError('unable to serialize ' + type);\n            entry = null;\n            break;\n          case 'undefined':\n            return as([VOID], value);\n        }\n        return as([TYPE, entry], value);\n      }\n      case ARRAY: {\n        if (type)\n          return as([type, [...value]], value);\n  \n        const arr = [];\n        const index = as([TYPE, arr], value);\n        for (const entry of value)\n          arr.push(pair(entry));\n        return index;\n      }\n      case OBJECT: {\n        if (type) {\n          switch (type) {\n            case 'BigInt':\n              return as([type, value.toString()], value);\n            case 'Boolean':\n            case 'Number':\n            case 'String':\n              return as([type, value.valueOf()], value);\n          }\n        }\n\n        if (json && ('toJSON' in value))\n          return pair(value.toJSON());\n\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const key of keys(value)) {\n          if (strict || !shouldSkip(typeOf(value[key])))\n            entries.push([pair(key), pair(value[key])]);\n        }\n        return index;\n      }\n      case DATE:\n        return as([TYPE, value.toISOString()], value);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as([TYPE, {source, flags}], value);\n      }\n      case MAP: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const [key, entry] of value) {\n          if (strict || !(shouldSkip(typeOf(key)) || shouldSkip(typeOf(entry))))\n            entries.push([pair(key), pair(entry)]);\n        }\n        return index;\n      }\n      case SET: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const entry of value) {\n          if (strict || !shouldSkip(typeOf(entry)))\n            entries.push(pair(entry));\n        }\n        return index;\n      }\n    }\n\n    const {message} = value;\n    return as([TYPE, {name: type, message}], value);\n  };\n\n  return pair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} value a serializable value.\n * @param {{json?: boolean, lossy?: boolean}?} options an object with a `lossy` or `json` property that,\n *  if `true`, will not throw errors on incompatible types, and behave more\n *  like JSON stringify would behave. Symbol and Function will be discarded.\n * @returns {Record[]}\n */\n export const serialize = (value, {json, lossy} = {}) => {\n  const _ = [];\n  return serializer(!(json || lossy), !!json, new Map, _)(value), _;\n};\n","import {deserialize} from './deserialize.js';\nimport {serialize} from './serialize.js';\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} any a serializable value.\n * @param {{transfer?: any[], json?: boolean, lossy?: boolean}?} options an object with\n * a transfer option (ignored when polyfilled) and/or non standard fields that\n * fallback to the polyfill if present.\n * @returns {Record[]}\n */\nexport default typeof structuredClone === \"function\" ?\n  /* c8 ignore start */\n  (any, options) => (\n    options && ('json' in options || 'lossy' in options) ?\n      deserialize(serialize(any, options)) : structuredClone(any)\n  ) :\n  (any, options) => deserialize(serialize(any, options));\n  /* c8 ignore stop */\n\nexport {deserialize, serialize};\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('./state.js').State} State\n */\n\n/**\n * @callback FootnoteBackContentTemplate\n *   Generate content for the backreference dynamically.\n *\n *   For the following markdown:\n *\n *   ```markdown\n *   Alpha[^micromark], bravo[^micromark], and charlie[^remark].\n *\n *   [^remark]: things about remark\n *   [^micromark]: things about micromark\n *   ```\n *\n *   This function will be called with:\n *\n *   *  `0` and `0` for the backreference from `things about micromark` to\n *      `alpha`, as it is the first used definition, and the first call to it\n *   *  `0` and `1` for the backreference from `things about micromark` to\n *      `bravo`, as it is the first used definition, and the second call to it\n *   *  `1` and `0` for the backreference from `things about remark` to\n *      `charlie`, as it is the second used definition\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {Array<ElementContent> | ElementContent | string}\n *   Content for the backreference when linking back from definitions to their\n *   reference.\n *\n * @callback FootnoteBackLabelTemplate\n *   Generate a back label dynamically.\n *\n *   For the following markdown:\n *\n *   ```markdown\n *   Alpha[^micromark], bravo[^micromark], and charlie[^remark].\n *\n *   [^remark]: things about remark\n *   [^micromark]: things about micromark\n *   ```\n *\n *   This function will be called with:\n *\n *   *  `0` and `0` for the backreference from `things about micromark` to\n *      `alpha`, as it is the first used definition, and the first call to it\n *   *  `0` and `1` for the backreference from `things about micromark` to\n *      `bravo`, as it is the first used definition, and the second call to it\n *   *  `1` and `0` for the backreference from `things about remark` to\n *      `charlie`, as it is the second used definition\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {string}\n *   Back label to use when linking back from definitions to their reference.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Generate the default content that GitHub uses on backreferences.\n *\n * @param {number} _\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {Array<ElementContent>}\n *   Content.\n */\nexport function defaultFootnoteBackContent(_, rereferenceIndex) {\n  /** @type {Array<ElementContent>} */\n  const result = [{type: 'text', value: ''}]\n\n  if (rereferenceIndex > 1) {\n    result.push({\n      type: 'element',\n      tagName: 'sup',\n      properties: {},\n      children: [{type: 'text', value: String(rereferenceIndex)}]\n    })\n  }\n\n  return result\n}\n\n/**\n * Generate the default label that GitHub uses on backreferences.\n *\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {string}\n *   Label.\n */\nexport function defaultFootnoteBackLabel(referenceIndex, rereferenceIndex) {\n  return (\n    'Back to reference ' +\n    (referenceIndex + 1) +\n    (rereferenceIndex > 1 ? '-' + rereferenceIndex : '')\n  )\n}\n\n/**\n * Generate a hast footer for called footnote definitions.\n *\n * @param {State} state\n *   Info passed around.\n * @returns {Element | undefined}\n *   `section` element or `undefined`.\n */\n// eslint-disable-next-line complexity\nexport function footer(state) {\n  const clobberPrefix =\n    typeof state.options.clobberPrefix === 'string'\n      ? state.options.clobberPrefix\n      : 'user-content-'\n  const footnoteBackContent =\n    state.options.footnoteBackContent || defaultFootnoteBackContent\n  const footnoteBackLabel =\n    state.options.footnoteBackLabel || defaultFootnoteBackLabel\n  const footnoteLabel = state.options.footnoteLabel || 'Footnotes'\n  const footnoteLabelTagName = state.options.footnoteLabelTagName || 'h2'\n  const footnoteLabelProperties = state.options.footnoteLabelProperties || {\n    className: ['sr-only']\n  }\n  /** @type {Array<ElementContent>} */\n  const listItems = []\n  let referenceIndex = -1\n\n  while (++referenceIndex < state.footnoteOrder.length) {\n    const definition = state.footnoteById.get(\n      state.footnoteOrder[referenceIndex]\n    )\n\n    if (!definition) {\n      continue\n    }\n\n    const content = state.all(definition)\n    const id = String(definition.identifier).toUpperCase()\n    const safeId = normalizeUri(id.toLowerCase())\n    let rereferenceIndex = 0\n    /** @type {Array<ElementContent>} */\n    const backReferences = []\n    const counts = state.footnoteCounts.get(id)\n\n    // eslint-disable-next-line no-unmodified-loop-condition\n    while (counts !== undefined && ++rereferenceIndex <= counts) {\n      if (backReferences.length > 0) {\n        backReferences.push({type: 'text', value: ' '})\n      }\n\n      let children =\n        typeof footnoteBackContent === 'string'\n          ? footnoteBackContent\n          : footnoteBackContent(referenceIndex, rereferenceIndex)\n\n      if (typeof children === 'string') {\n        children = {type: 'text', value: children}\n      }\n\n      backReferences.push({\n        type: 'element',\n        tagName: 'a',\n        properties: {\n          href:\n            '#' +\n            clobberPrefix +\n            'fnref-' +\n            safeId +\n            (rereferenceIndex > 1 ? '-' + rereferenceIndex : ''),\n          dataFootnoteBackref: '',\n          ariaLabel:\n            typeof footnoteBackLabel === 'string'\n              ? footnoteBackLabel\n              : footnoteBackLabel(referenceIndex, rereferenceIndex),\n          className: ['data-footnote-backref']\n        },\n        children: Array.isArray(children) ? children : [children]\n      })\n    }\n\n    const tail = content[content.length - 1]\n\n    if (tail && tail.type === 'element' && tail.tagName === 'p') {\n      const tailTail = tail.children[tail.children.length - 1]\n      if (tailTail && tailTail.type === 'text') {\n        tailTail.value += ' '\n      } else {\n        tail.children.push({type: 'text', value: ' '})\n      }\n\n      tail.children.push(...backReferences)\n    } else {\n      content.push(...backReferences)\n    }\n\n    /** @type {Element} */\n    const listItem = {\n      type: 'element',\n      tagName: 'li',\n      properties: {id: clobberPrefix + 'fn-' + safeId},\n      children: state.wrap(content, true)\n    }\n\n    state.patch(definition, listItem)\n\n    listItems.push(listItem)\n  }\n\n  if (listItems.length === 0) {\n    return\n  }\n\n  return {\n    type: 'element',\n    tagName: 'section',\n    properties: {dataFootnotes: true, className: ['footnotes']},\n    children: [\n      {\n        type: 'element',\n        tagName: footnoteLabelTagName,\n        properties: {\n          ...structuredClone(footnoteLabelProperties),\n          id: 'footnote-label'\n        },\n        children: [{type: 'text', value: footnoteLabel}]\n      },\n      {type: 'text', value: '\\n'},\n      {\n        type: 'element',\n        tagName: 'ol',\n        properties: {},\n        children: state.wrap(listItems, true)\n      },\n      {type: 'text', value: '\\n'}\n    ]\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n */\n\n/**\n * @template Fn\n * @template Fallback\n * @typedef {Fn extends (value: any) => value is infer Thing ? Thing : Fallback} Predicate\n */\n\n/**\n * @callback Check\n *   Check that an arbitrary value is a node.\n * @param {unknown} this\n *   The given context.\n * @param {unknown} [node]\n *   Anything (typically a node).\n * @param {number | null | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean}\n *   Whether this is a node and passes a test.\n *\n * @typedef {Record<string, unknown> | Node} Props\n *   Object to check for equivalence.\n *\n *   Note: `Node` is included as it is common but is not indexable.\n *\n * @typedef {Array<Props | TestFunction | string> | Props | TestFunction | string | null | undefined} Test\n *   Check for an arbitrary node.\n *\n * @callback TestFunction\n *   Check if a node passes a test.\n * @param {unknown} this\n *   The given context.\n * @param {Node} node\n *   A node.\n * @param {number | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean | undefined | void}\n *   Whether this node passes the test.\n *\n *   Note: `void` is included until TS sees no return as `undefined`.\n */\n\n/**\n * Check if `node` is a `Node` and whether it passes the given test.\n *\n * @param {unknown} node\n *   Thing to check, typically `Node`.\n * @param {Test} test\n *   A check for a specific node.\n * @param {number | null | undefined} index\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} parent\n *   The nodes parent.\n * @param {unknown} context\n *   Context object (`this`) to pass to `test` functions.\n * @returns {boolean}\n *   Whether `node` is a node and passes a test.\n */\nexport const is =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((node?: null | undefined) => false) &\n   *   ((node: unknown, test?: null | undefined, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((node: unknown, test?: Test, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => boolean)\n   * )}\n   */\n  (\n    /**\n     * @param {unknown} [node]\n     * @param {Test} [test]\n     * @param {number | null | undefined} [index]\n     * @param {Parent | null | undefined} [parent]\n     * @param {unknown} [context]\n     * @returns {boolean}\n     */\n    // eslint-disable-next-line max-params\n    function (node, test, index, parent, context) {\n      const check = convert(test)\n\n      if (\n        index !== undefined &&\n        index !== null &&\n        (typeof index !== 'number' ||\n          index < 0 ||\n          index === Number.POSITIVE_INFINITY)\n      ) {\n        throw new Error('Expected positive finite index')\n      }\n\n      if (\n        parent !== undefined &&\n        parent !== null &&\n        (!is(parent) || !parent.children)\n      ) {\n        throw new Error('Expected parent node')\n      }\n\n      if (\n        (parent === undefined || parent === null) !==\n        (index === undefined || index === null)\n      ) {\n        throw new Error('Expected both parent and index')\n      }\n\n      return looksLikeANode(node)\n        ? check.call(context, node, index, parent)\n        : false\n    }\n  )\n\n/**\n * Generate an assertion from a test.\n *\n * Useful if youre going to test many nodes, for example when creating a\n * utility where something else passes a compatible test.\n *\n * The created function is a bit faster because it expects valid input only:\n * a `node`, `index`, and `parent`.\n *\n * @param {Test} test\n *   *   when nullish, checks if `node` is a `Node`.\n *   *   when `string`, works like passing `(node) => node.type === test`.\n *   *   when `function` checks if function passed the node is true.\n *   *   when `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n *   *   when `array`, checks if any one of the subtests pass.\n * @returns {Check}\n *   An assertion.\n */\nexport const convert =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((test?: null | undefined) => (node?: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((test?: Test) => Check)\n   * )}\n   */\n  (\n    /**\n     * @param {Test} [test]\n     * @returns {Check}\n     */\n    function (test) {\n      if (test === null || test === undefined) {\n        return ok\n      }\n\n      if (typeof test === 'function') {\n        return castFactory(test)\n      }\n\n      if (typeof test === 'object') {\n        return Array.isArray(test) ? anyFactory(test) : propsFactory(test)\n      }\n\n      if (typeof test === 'string') {\n        return typeFactory(test)\n      }\n\n      throw new Error('Expected function, string, or object as test')\n    }\n  )\n\n/**\n * @param {Array<Props | TestFunction | string>} tests\n * @returns {Check}\n */\nfunction anyFactory(tests) {\n  /** @type {Array<Check>} */\n  const checks = []\n  let index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return castFactory(any)\n\n  /**\n   * @this {unknown}\n   * @type {TestFunction}\n   */\n  function any(...parameters) {\n    let index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, parameters)) return true\n    }\n\n    return false\n  }\n}\n\n/**\n * Turn an object into a test for a node with a certain fields.\n *\n * @param {Props} check\n * @returns {Check}\n */\nfunction propsFactory(check) {\n  const checkAsRecord = /** @type {Record<string, unknown>} */ (check)\n\n  return castFactory(all)\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function all(node) {\n    const nodeAsRecord = /** @type {Record<string, unknown>} */ (\n      /** @type {unknown} */ (node)\n    )\n\n    /** @type {string} */\n    let key\n\n    for (key in check) {\n      if (nodeAsRecord[key] !== checkAsRecord[key]) return false\n    }\n\n    return true\n  }\n}\n\n/**\n * Turn a string into a test for a node with a certain type.\n *\n * @param {string} check\n * @returns {Check}\n */\nfunction typeFactory(check) {\n  return castFactory(type)\n\n  /**\n   * @param {Node} node\n   */\n  function type(node) {\n    return node && node.type === check\n  }\n}\n\n/**\n * Turn a custom test into a test for a node that passes that test.\n *\n * @param {TestFunction} testFunction\n * @returns {Check}\n */\nfunction castFactory(testFunction) {\n  return check\n\n  /**\n   * @this {unknown}\n   * @type {Check}\n   */\n  function check(value, index, parent) {\n    return Boolean(\n      looksLikeANode(value) &&\n        testFunction.call(\n          this,\n          value,\n          typeof index === 'number' ? index : undefined,\n          parent || undefined\n        )\n    )\n  }\n}\n\nfunction ok() {\n  return true\n}\n\n/**\n * @param {unknown} value\n * @returns {value is Node}\n */\nfunction looksLikeANode(value) {\n  return value !== null && typeof value === 'object' && 'type' in value\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {InternalAncestor<InclusiveDescendant<Tree>, Child>} Ancestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {'skip' | boolean} Action\n *   Union of the action types.\n *\n * @typedef {number} Index\n *   Move to the sibling at `index` next (after node itself is completely\n *   traversed).\n *\n *   Useful if mutating the tree, such as removing the node the visitor is\n *   currently on, or any of its previous siblings.\n *   Results less than 0 or greater than or equal to `children.length` stop\n *   traversing the parent.\n *\n * @typedef {[(Action | null | undefined | void)?, (Index | null | undefined)?]} ActionTuple\n *   List with one or two values, the first an action, the second an index.\n *\n * @typedef {Action | ActionTuple | Index | null | undefined | void} VisitorResult\n *   Any value that can be returned from a visitor.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform the parent of node (the last of `ancestors`).\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of an ancestor still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Array<VisitedParents>} ancestors\n *   Ancestors of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [VisitedParents=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Matches<InclusiveDescendant<Tree>, Check>, Ancestor<Tree, Matches<InclusiveDescendant<Tree>, Check>>>} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parents`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Tree type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {convert} from 'unist-util-is'\nimport {color} from 'unist-util-visit-parents/do-not-use-color'\n\n/** @type {Readonly<ActionTuple>} */\nconst empty = []\n\n/**\n * Continue traversing as normal.\n */\nexport const CONTINUE = true\n\n/**\n * Stop traversing immediately.\n */\nexport const EXIT = false\n\n/**\n * Do not traverse this nodes children.\n */\nexport const SKIP = 'skip'\n\n/**\n * Visit nodes, with ancestral information.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} test\n *   `unist-util-is`-compatible test\n * @param {Visitor | boolean | null | undefined} [visitor]\n *   Handle each node.\n * @param {boolean | null | undefined} [reverse]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visitParents(tree, test, visitor, reverse) {\n  /** @type {Test} */\n  let check\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    // @ts-expect-error no visitor given, so `visitor` is test.\n    visitor = test\n  } else {\n    // @ts-expect-error visitor given, so `test` isnt a visitor.\n    check = test\n  }\n\n  const is = convert(check)\n  const step = reverse ? -1 : 1\n\n  factory(tree, undefined, [])()\n\n  /**\n   * @param {UnistNode} node\n   * @param {number | undefined} index\n   * @param {Array<UnistParent>} parents\n   */\n  function factory(node, index, parents) {\n    const value = /** @type {Record<string, unknown>} */ (\n      node && typeof node === 'object' ? node : {}\n    )\n\n    if (typeof value.type === 'string') {\n      const name =\n        // `hast`\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : // `xast`\n          typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      Object.defineProperty(visit, 'name', {\n        value:\n          'node (' + color(node.type + (name ? '<' + name + '>' : '')) + ')'\n      })\n    }\n\n    return visit\n\n    function visit() {\n      /** @type {Readonly<ActionTuple>} */\n      let result = empty\n      /** @type {Readonly<ActionTuple>} */\n      let subresult\n      /** @type {number} */\n      let offset\n      /** @type {Array<UnistParent>} */\n      let grandparents\n\n      if (!test || is(node, index, parents[parents.length - 1] || undefined)) {\n        // @ts-expect-error: `visitor` is now a visitor.\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if ('children' in node && node.children) {\n        const nodeAsParent = /** @type {UnistParent} */ (node)\n\n        if (nodeAsParent.children && result[0] !== SKIP) {\n          offset = (reverse ? nodeAsParent.children.length : -1) + step\n          grandparents = parents.concat(nodeAsParent)\n\n          while (offset > -1 && offset < nodeAsParent.children.length) {\n            const child = nodeAsParent.children[offset]\n\n            subresult = factory(child, offset, grandparents)()\n\n            if (subresult[0] === EXIT) {\n              return subresult\n            }\n\n            offset =\n              typeof subresult[1] === 'number' ? subresult[1] : offset + step\n          }\n        }\n      }\n\n      return result\n    }\n  }\n}\n\n/**\n * Turn a return value into a clean result.\n *\n * @param {VisitorResult} value\n *   Valid return values from visitors.\n * @returns {Readonly<ActionTuple>}\n *   Clean result.\n */\nfunction toResult(value) {\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return value === null || value === undefined ? empty : [value]\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n// To do: use types from `unist-util-visit-parents` when its released.\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform `parent`.\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of `parent` still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Visited extends UnistNode ? number | undefined : never} index\n *   Index of `node` in `parent`.\n * @param {Ancestor extends UnistParent ? Ancestor | undefined : never} parent\n *   Parent of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [Ancestor=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Visited, Parent<Ancestor, Visited>>} BuildVisitorFromMatch\n *   Build a typed `Visitor` function from a node and all possible parents.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Visited\n *   Node type.\n * @template {UnistParent} Ancestor\n *   Parent type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromMatch<\n *     Matches<Descendant, Check>,\n *     Extract<Descendant, UnistParent>\n *   >\n * )} BuildVisitorFromDescendants\n *   Build a typed `Visitor` function from a list of descendants and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Descendant\n *   Node type.\n * @template {Test} Check\n *   Test type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromDescendants<\n *     InclusiveDescendant<Tree>,\n *     Check\n *   >\n * )} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Node type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {visitParents} from 'unist-util-visit-parents'\n\nexport {CONTINUE, EXIT, SKIP} from 'unist-util-visit-parents'\n\n/**\n * Visit nodes.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} testOrVisitor\n *   `unist-util-is`-compatible test (optional, omit to pass a visitor).\n * @param {Visitor | boolean | null | undefined} [visitorOrReverse]\n *   Handle each node (when test is omitted, pass `reverse`).\n * @param {boolean | null | undefined} [maybeReverse=false]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visit(tree, testOrVisitor, visitorOrReverse, maybeReverse) {\n  /** @type {boolean | null | undefined} */\n  let reverse\n  /** @type {Test} */\n  let test\n  /** @type {Visitor} */\n  let visitor\n\n  if (\n    typeof testOrVisitor === 'function' &&\n    typeof visitorOrReverse !== 'function'\n  ) {\n    test = undefined\n    visitor = testOrVisitor\n    reverse = visitorOrReverse\n  } else {\n    // @ts-expect-error: assume the overload with test was given.\n    test = testOrVisitor\n    // @ts-expect-error: assume the overload with test was given.\n    visitor = visitorOrReverse\n    reverse = maybeReverse\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  /**\n   * @param {UnistNode} node\n   * @param {Array<UnistParent>} parents\n   */\n  function overload(node, parents) {\n    const parent = parents[parents.length - 1]\n    const index = parent ? parent.children.indexOf(node) : undefined\n    return visitor(node, index, parent)\n  }\n}\n","/**\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').ElementContent} HastElementContent\n * @typedef {import('hast').Nodes} HastNodes\n * @typedef {import('hast').Properties} HastProperties\n * @typedef {import('hast').RootContent} HastRootContent\n * @typedef {import('hast').Text} HastText\n *\n * @typedef {import('mdast').Definition} MdastDefinition\n * @typedef {import('mdast').FootnoteDefinition} MdastFootnoteDefinition\n * @typedef {import('mdast').Nodes} MdastNodes\n * @typedef {import('mdast').Parents} MdastParents\n *\n * @typedef {import('vfile').VFile} VFile\n *\n * @typedef {import('./footer.js').FootnoteBackContentTemplate} FootnoteBackContentTemplate\n * @typedef {import('./footer.js').FootnoteBackLabelTemplate} FootnoteBackLabelTemplate\n */\n\n/**\n * @callback Handler\n *   Handle a node.\n * @param {State} state\n *   Info passed around.\n * @param {any} node\n *   mdast node to handle.\n * @param {MdastParents | undefined} parent\n *   Parent of `node`.\n * @returns {Array<HastElementContent> | HastElementContent | undefined}\n *   hast node.\n *\n * @typedef {Partial<Record<MdastNodes['type'], Handler>>} Handlers\n *   Handle nodes.\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [allowDangerousHtml=false]\n *   Whether to persist raw HTML in markdown in the hast tree (default:\n *   `false`).\n * @property {string | null | undefined} [clobberPrefix='user-content-']\n *   Prefix to use before the `id` property on footnotes to prevent them from\n *   *clobbering* (default: `'user-content-'`).\n *\n *   Pass `''` for trusted markdown and when you are careful with\n *   polyfilling.\n *   You could pass a different prefix.\n *\n *   DOM clobbering is this:\n *\n *   ```html\n *   <p id=\"x\"></p>\n *   <script>alert(x) // `x` now refers to the `p#x` DOM element</script>\n *   ```\n *\n *   The above example shows that elements are made available by browsers, by\n *   their ID, on the `window` object.\n *   This is a security risk because you might be expecting some other variable\n *   at that place.\n *   It can also break polyfills.\n *   Using a prefix solves these problems.\n * @property {VFile | null | undefined} [file]\n *   Corresponding virtual file representing the input document (optional).\n * @property {FootnoteBackContentTemplate | string | null | undefined} [footnoteBackContent]\n *   Content of the backreference back to references (default: `defaultFootnoteBackContent`).\n *\n *   The default value is:\n *\n *   ```js\n *   function defaultFootnoteBackContent(_, rereferenceIndex) {\n *     const result = [{type: 'text', value: ''}]\n *\n *     if (rereferenceIndex > 1) {\n *       result.push({\n *         type: 'element',\n *         tagName: 'sup',\n *         properties: {},\n *         children: [{type: 'text', value: String(rereferenceIndex)}]\n *       })\n *     }\n *\n *     return result\n *   }\n *   ```\n *\n *   This content is used in the `a` element of each backreference (the ``\n *   links).\n * @property {FootnoteBackLabelTemplate | string | null | undefined} [footnoteBackLabel]\n *   Label to describe the backreference back to references (default:\n *   `defaultFootnoteBackLabel`).\n *\n *   The default value is:\n *\n *   ```js\n *   function defaultFootnoteBackLabel(referenceIndex, rereferenceIndex) {\n *    return (\n *      'Back to reference ' +\n *      (referenceIndex + 1) +\n *      (rereferenceIndex > 1 ? '-' + rereferenceIndex : '')\n *    )\n *   }\n *   ```\n *\n *   Change it when the markdown is not in English.\n *\n *   This label is used in the `ariaLabel` property on each backreference\n *   (the `` links).\n *   It affects users of assistive technology.\n * @property {string | null | undefined} [footnoteLabel='Footnotes']\n *   Textual label to use for the footnotes section (default: `'Footnotes'`).\n *\n *   Change it when the markdown is not in English.\n *\n *   This label is typically hidden visually (assuming a `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass different properties with the `footnoteLabelProperties` option.\n * @property {HastProperties | null | undefined} [footnoteLabelProperties={className: ['sr-only']}]\n *   Properties to use on the footnote label (default: `{className:\n *   ['sr-only']}`).\n *\n *   Change it to show the label and add other properties.\n *\n *   This label is typically hidden visually (assuming an `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass an empty string.\n *   You can also add different properties.\n *\n *   > **Note**: `id: 'footnote-label'` is always added, because footnote\n *   > calls use it with `aria-describedby` to provide an accessible label.\n * @property {string | null | undefined} [footnoteLabelTagName='h2']\n *   HTML tag name to use for the footnote label element (default: `'h2'`).\n *\n *   Change it to match your document structure.\n *\n *   This label is typically hidden visually (assuming a `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass different properties with the `footnoteLabelProperties` option.\n * @property {Handlers | null | undefined} [handlers]\n *   Extra handlers for nodes (optional).\n * @property {Array<MdastNodes['type']> | null | undefined} [passThrough]\n *   List of custom mdast node types to pass through (keep) in hast (note that\n *   the node itself is passed, but eventual children are transformed)\n *   (optional).\n * @property {Handler | null | undefined} [unknownHandler]\n *   Handler for all unknown nodes (optional).\n *\n * @typedef State\n *   Info passed around.\n * @property {(node: MdastNodes) => Array<HastElementContent>} all\n *   Transform the children of an mdast parent to hast.\n * @property {<Type extends HastNodes>(from: MdastNodes, to: Type) => HastElement | Type} applyData\n *   Honor the `data` of `from`, and generate an element instead of `node`.\n * @property {Map<string, MdastDefinition>} definitionById\n *   Definitions by their identifier.\n * @property {Map<string, MdastFootnoteDefinition>} footnoteById\n *   Footnote definitions by their identifier.\n * @property {Map<string, number>} footnoteCounts\n *   Counts for how often the same footnote was called.\n * @property {Array<string>} footnoteOrder\n *   Identifiers of order when footnote calls first appear in tree order.\n * @property {Handlers} handlers\n *   Applied handlers.\n * @property {(node: MdastNodes, parent: MdastParents | undefined) => Array<HastElementContent> | HastElementContent | undefined} one\n *   Transform an mdast node to hast.\n * @property {Options} options\n *   Configuration.\n * @property {(from: MdastNodes, node: HastNodes) => undefined} patch\n *   Copy a nodes positional info.\n * @property {<Type extends HastRootContent>(nodes: Array<Type>, loose?: boolean | undefined) => Array<HastText | Type>} wrap\n *   Wrap `nodes` with line endings between each node, adds initial/final line endings when `loose`.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {visit} from 'unist-util-visit'\nimport {position} from 'unist-util-position'\nimport {handlers as defaultHandlers} from './handlers/index.js'\n\nconst own = {}.hasOwnProperty\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Create `state` from an mdast tree.\n *\n * @param {MdastNodes} tree\n *   mdast node to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {State}\n *   `state` function.\n */\nexport function createState(tree, options) {\n  const settings = options || emptyOptions\n  /** @type {Map<string, MdastDefinition>} */\n  const definitionById = new Map()\n  /** @type {Map<string, MdastFootnoteDefinition>} */\n  const footnoteById = new Map()\n  /** @type {Map<string, number>} */\n  const footnoteCounts = new Map()\n  /** @type {Handlers} */\n  // @ts-expect-error: the root handler returns a root.\n  // Hard to type.\n  const handlers = {...defaultHandlers, ...settings.handlers}\n\n  /** @type {State} */\n  const state = {\n    all,\n    applyData,\n    definitionById,\n    footnoteById,\n    footnoteCounts,\n    footnoteOrder: [],\n    handlers,\n    one,\n    options: settings,\n    patch,\n    wrap\n  }\n\n  visit(tree, function (node) {\n    if (node.type === 'definition' || node.type === 'footnoteDefinition') {\n      const map = node.type === 'definition' ? definitionById : footnoteById\n      const id = String(node.identifier).toUpperCase()\n\n      // Mimick CM behavior of link definitions.\n      // See: <https://github.com/syntax-tree/mdast-util-definitions/blob/9032189/lib/index.js#L20-L21>.\n      if (!map.has(id)) {\n        // @ts-expect-error: node type matches map.\n        map.set(id, node)\n      }\n    }\n  })\n\n  return state\n\n  /**\n   * Transform an mdast node into a hast node.\n   *\n   * @param {MdastNodes} node\n   *   mdast node.\n   * @param {MdastParents | undefined} [parent]\n   *   Parent of `node`.\n   * @returns {Array<HastElementContent> | HastElementContent | undefined}\n   *   Resulting hast node.\n   */\n  function one(node, parent) {\n    const type = node.type\n    const handle = state.handlers[type]\n\n    if (own.call(state.handlers, type) && handle) {\n      return handle(state, node, parent)\n    }\n\n    if (state.options.passThrough && state.options.passThrough.includes(type)) {\n      if ('children' in node) {\n        const {children, ...shallow} = node\n        const result = structuredClone(shallow)\n        // @ts-expect-error: TS doesnt understand\n        result.children = state.all(node)\n        // @ts-expect-error: TS doesnt understand\n        return result\n      }\n\n      // @ts-expect-error: its custom.\n      return structuredClone(node)\n    }\n\n    const unknown = state.options.unknownHandler || defaultUnknownHandler\n\n    return unknown(state, node, parent)\n  }\n\n  /**\n   * Transform the children of an mdast node into hast nodes.\n   *\n   * @param {MdastNodes} parent\n   *   mdast node to compile\n   * @returns {Array<HastElementContent>}\n   *   Resulting hast nodes.\n   */\n  function all(parent) {\n    /** @type {Array<HastElementContent>} */\n    const values = []\n\n    if ('children' in parent) {\n      const nodes = parent.children\n      let index = -1\n      while (++index < nodes.length) {\n        const result = state.one(nodes[index], parent)\n\n        // To do: see if we van clean this? Can we merge texts?\n        if (result) {\n          if (index && nodes[index - 1].type === 'break') {\n            if (!Array.isArray(result) && result.type === 'text') {\n              result.value = trimMarkdownSpaceStart(result.value)\n            }\n\n            if (!Array.isArray(result) && result.type === 'element') {\n              const head = result.children[0]\n\n              if (head && head.type === 'text') {\n                head.value = trimMarkdownSpaceStart(head.value)\n              }\n            }\n          }\n\n          if (Array.isArray(result)) {\n            values.push(...result)\n          } else {\n            values.push(result)\n          }\n        }\n      }\n    }\n\n    return values\n  }\n}\n\n/**\n * Copy a nodes positional info.\n *\n * @param {MdastNodes} from\n *   mdast node to copy from.\n * @param {HastNodes} to\n *   hast node to copy into.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(from, to) {\n  if (from.position) to.position = position(from)\n}\n\n/**\n * Honor the `data` of `from` and maybe generate an element instead of `to`.\n *\n * @template {HastNodes} Type\n *   Node type.\n * @param {MdastNodes} from\n *   mdast node to use data from.\n * @param {Type} to\n *   hast node to change.\n * @returns {HastElement | Type}\n *   Nothing.\n */\nfunction applyData(from, to) {\n  /** @type {HastElement | Type} */\n  let result = to\n\n  // Handle `data.hName`, `data.hProperties, `data.hChildren`.\n  if (from && from.data) {\n    const hName = from.data.hName\n    const hChildren = from.data.hChildren\n    const hProperties = from.data.hProperties\n\n    if (typeof hName === 'string') {\n      // Transforming the node resulted in an element with a different name\n      // than wanted:\n      if (result.type === 'element') {\n        result.tagName = hName\n      }\n      // Transforming the node resulted in a non-element, which happens for\n      // raw, text, and root nodes (unless custom handlers are passed).\n      // The intent of `hName` is to create an element, but likely also to keep\n      // the content around (otherwise: pass `hChildren`).\n      else {\n        /** @type {Array<HastElementContent>} */\n        // @ts-expect-error: assume no doctypes in `root`.\n        const children = 'children' in result ? result.children : [result]\n        result = {type: 'element', tagName: hName, properties: {}, children}\n      }\n    }\n\n    if (result.type === 'element' && hProperties) {\n      Object.assign(result.properties, structuredClone(hProperties))\n    }\n\n    if (\n      'children' in result &&\n      result.children &&\n      hChildren !== null &&\n      hChildren !== undefined\n    ) {\n      result.children = hChildren\n    }\n  }\n\n  return result\n}\n\n/**\n * Transform an unknown node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastNodes} node\n *   Unknown mdast node.\n * @returns {HastElement | HastText}\n *   Resulting hast node.\n */\nfunction defaultUnknownHandler(state, node) {\n  const data = node.data || {}\n  /** @type {HastElement | HastText} */\n  const result =\n    'value' in node &&\n    !(own.call(data, 'hProperties') || own.call(data, 'hChildren'))\n      ? {type: 'text', value: node.value}\n      : {\n          type: 'element',\n          tagName: 'div',\n          properties: {},\n          children: state.all(node)\n        }\n\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * Wrap `nodes` with line endings between each node.\n *\n * @template {HastRootContent} Type\n *   Node type.\n * @param {Array<Type>} nodes\n *   List of nodes to wrap.\n * @param {boolean | undefined} [loose=false]\n *   Whether to add line endings at start and end (default: `false`).\n * @returns {Array<HastText | Type>}\n *   Wrapped nodes.\n */\nexport function wrap(nodes, loose) {\n  /** @type {Array<HastText | Type>} */\n  const result = []\n  let index = -1\n\n  if (loose) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  while (++index < nodes.length) {\n    if (index) result.push({type: 'text', value: '\\n'})\n    result.push(nodes[index])\n  }\n\n  if (loose && nodes.length > 0) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  return result\n}\n\n/**\n * Trim spaces and tabs at the start of `value`.\n *\n * @param {string} value\n *   Value to trim.\n * @returns {string}\n *   Result.\n */\nfunction trimMarkdownSpaceStart(value) {\n  let index = 0\n  let code = value.charCodeAt(index)\n\n  while (code === 9 || code === 32) {\n    index++\n    code = value.charCodeAt(index)\n  }\n\n  return value.slice(index)\n}\n","/**\n * @typedef {import('hast').Nodes} HastNodes\n * @typedef {import('mdast').Nodes} MdastNodes\n * @typedef {import('./state.js').Options} Options\n */\n\nimport {ok as assert} from 'devlop'\nimport {footer} from './footer.js'\nimport {createState} from './state.js'\n\n/**\n * Transform mdast to hast.\n *\n * ##### Notes\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most utilities ignore `raw` nodes but two notable ones dont:\n *\n * *   `hast-util-to-html` also has an option `allowDangerousHtml` which will\n *     output the raw HTML.\n *     This is typically discouraged as noted by the option name but is useful\n *     if you completely trust authors\n * *   `hast-util-raw` can handle the raw embedded HTML strings by parsing them\n *     into standard hast nodes (`element`, `text`, etc).\n *     This is a heavy task as it needs a full HTML parser, but it is the only\n *     way to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark, which we follow by default.\n * They are supported by GitHub, so footnotes can be enabled in markdown with\n * `mdast-util-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes, which is hidden for sighted users but shown to\n * assistive technology.\n * When your page is not in English, you must define translated values.\n *\n * Back references use ARIA attributes, but the section label itself uses a\n * heading that is hidden with an `sr-only` class.\n * To show it to sighted users, define different attributes in\n * `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem, as it links footnote calls to footnote\n * definitions on the page through `id` attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * Example: headings (DOM clobbering) in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * *   when the node has a `value` (and doesnt have `data.hName`,\n *     `data.hProperties`, or `data.hChildren`, see later), create a hast `text`\n *     node\n * *   otherwise, create a `<div>` element (which could be changed with\n *     `data.hName`), with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @param {MdastNodes} tree\n *   mdast tree.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {HastNodes}\n *   hast tree.\n */\nexport function toHast(tree, options) {\n  const state = createState(tree, options)\n  const node = state.one(tree, undefined)\n  const foot = footer(state)\n  /** @type {HastNodes} */\n  const result = Array.isArray(node)\n    ? {type: 'root', children: node}\n    : node || {type: 'root', children: []}\n\n  if (foot) {\n    // If theres a footer, there were definitions, meaning block\n    // content.\n    // So `result` is a parent node.\n    assert('children' in result)\n    result.children.push({type: 'text', value: '\\n'}, foot)\n  }\n\n  return result\n}\n","// Include `data` fields in mdast and `raw` nodes in hast.\n/// <reference types=\"mdast-util-to-hast\" />\n\n/**\n * @import {Root as HastRoot} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {Options as ToHastOptions} from 'mdast-util-to-hast'\n * @import {Processor} from 'unified'\n * @import {VFile} from 'vfile'\n */\n\n/**\n * @typedef {Omit<ToHastOptions, 'file'>} Options\n *\n * @callback TransformBridge\n *   Bridge-mode.\n *\n *   Runs the destination with the new hast tree.\n *   Discards result.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {Promise<undefined>}\n *   Nothing.\n *\n * @callback TransformMutate\n *  Mutate-mode.\n *\n *  Further transformers run on the hast tree.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {HastRoot}\n *   Tree (hast).\n */\n\nimport {toHast} from 'mdast-util-to-hast'\n\n/**\n * Turn markdown into HTML.\n *\n * ##### Notes\n *\n * ###### Signature\n *\n * *   if a processor is given, runs the (rehype) plugins used on it with a\n *     hast tree, then discards the result (*bridge mode*)\n * *   otherwise, returns a hast tree, the plugins used after `remarkRehype`\n *     are rehype plugins (*mutate mode*)\n *\n * >  **Note**: Its highly unlikely that you want to pass a `processor`.\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most plugins ignore `raw` nodes but two notable ones dont:\n *\n * *   `rehype-stringify` also has an option `allowDangerousHtml` which will\n *     output the raw HTML.\n *     This is typically discouraged as noted by the option name but is useful if\n *     you completely trust authors\n * *   `rehype-raw` can handle the raw embedded HTML strings by parsing them\n *     into standard hast nodes (`element`, `text`, etc).\n *     This is a heavy task as it needs a full HTML parser, but it is the only way\n *     to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark, which we follow by default.\n * They are supported by GitHub, so footnotes can be enabled in markdown with\n * `remark-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes, which is hidden for sighted users but shown to\n * assistive technology.\n * When your page is not in English, you must define translated values.\n *\n * Back references use ARIA attributes, but the section label itself uses a\n * heading that is hidden with an `sr-only` class.\n * To show it to sighted users, define different attributes in\n * `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem, as it links footnote calls to footnote\n * definitions on the page through `id` attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * *Example: headings (DOM clobbering)* in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * *   when the node has a `value` (and doesnt have `data.hName`,\n *     `data.hProperties`, or `data.hChildren`, see later), create a hast `text`\n *     node\n * *   otherwise, create a `<div>` element (which could be changed with\n *     `data.hName`), with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @overload\n * @param {Processor} processor\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformBridge}\n *\n * @overload\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformMutate}\n *\n * @param {Readonly<Options> | Processor | null | undefined} [destination]\n *   Processor or configuration (optional).\n * @param {Readonly<Options> | null | undefined} [options]\n *   When a processor was given, configuration (optional).\n * @returns {TransformBridge | TransformMutate}\n *   Transform.\n */\nexport default function remarkRehype(destination, options) {\n  if (destination && 'run' in destination) {\n    /**\n     * @type {TransformBridge}\n     */\n    return async function (tree, file) {\n      // Cast because root in -> root out.\n      const hastTree = /** @type {HastRoot} */ (\n        toHast(tree, {file, ...options})\n      )\n      await destination.run(hastTree, file)\n    }\n  }\n\n  /**\n   * @type {TransformMutate}\n   */\n  return function (tree, file) {\n    // Cast because root in -> root out.\n    // To do: in the future, disallow ` || options` fallback.\n    // With `unified-engine`, `destination` can be `undefined` but\n    // `options` will be the file set.\n    // We should not pass that as `options`.\n    return /** @type {HastRoot} */ (\n      toHast(tree, {file, ...(destination || options)})\n    )\n  }\n}\n","/**\n * Throw a given error.\n *\n * @param {Error|null|undefined} [error]\n *   Maybe error.\n * @returns {asserts error is null|undefined}\n */\nexport function bail(error) {\n  if (error) {\n    throw error\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n","// To do: remove `void`s\n// To do: remove `null` from output of our APIs, allow it as user APIs.\n\n/**\n * @typedef {(error?: Error | null | undefined, ...output: Array<any>) => void} Callback\n *   Callback.\n *\n * @typedef {(...input: Array<any>) => any} Middleware\n *   Ware.\n *\n * @typedef Pipeline\n *   Pipeline.\n * @property {Run} run\n *   Run the pipeline.\n * @property {Use} use\n *   Add middleware.\n *\n * @typedef {(...input: Array<any>) => void} Run\n *   Call all middleware.\n *\n *   Calls `done` on completion with either an error or the output of the\n *   last middleware.\n *\n *   >  **Note**: as the length of input defines whether async functions get a\n *   > `next` function,\n *   > its recommended to keep `input` at one value normally.\n\n *\n * @typedef {(fn: Middleware) => Pipeline} Use\n *   Add middleware.\n */\n\n/**\n * Create new middleware.\n *\n * @returns {Pipeline}\n *   Pipeline.\n */\nexport function trough() {\n  /** @type {Array<Middleware>} */\n  const fns = []\n  /** @type {Pipeline} */\n  const pipeline = {run, use}\n\n  return pipeline\n\n  /** @type {Run} */\n  function run(...values) {\n    let middlewareIndex = -1\n    /** @type {Callback} */\n    const callback = values.pop()\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('Expected function as last argument, not ' + callback)\n    }\n\n    next(null, ...values)\n\n    /**\n     * Run the next `fn`, or were done.\n     *\n     * @param {Error | null | undefined} error\n     * @param {Array<any>} output\n     */\n    function next(error, ...output) {\n      const fn = fns[++middlewareIndex]\n      let index = -1\n\n      if (error) {\n        callback(error)\n        return\n      }\n\n      // Copy non-nullish input into values.\n      while (++index < values.length) {\n        if (output[index] === null || output[index] === undefined) {\n          output[index] = values[index]\n        }\n      }\n\n      // Save the newly created `output` for the next call.\n      values = output\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next)(...output)\n      } else {\n        callback(null, ...output)\n      }\n    }\n  }\n\n  /** @type {Use} */\n  function use(middelware) {\n    if (typeof middelware !== 'function') {\n      throw new TypeError(\n        'Expected `middelware` to be a function, not ' + middelware\n      )\n    }\n\n    fns.push(middelware)\n    return pipeline\n  }\n}\n\n/**\n * Wrap `middleware` into a uniform interface.\n *\n * You can pass all input to the resulting function.\n * `callback` is then called with the output of `middleware`.\n *\n * If `middleware` accepts more arguments than the later given in input,\n * an extra `done` function is passed to it after that input,\n * which must be called by `middleware`.\n *\n * The first value in `input` is the main input value.\n * All other input values are the rest input values.\n * The values given to `callback` are the input values,\n * merged with every non-nullish output value.\n *\n * * if `middleware` throws an error,\n *   returns a promise that is rejected,\n *   or calls the given `done` function with an error,\n *   `callback` is called with that error\n * * if `middleware` returns a value or returns a promise that is resolved,\n *   that value is the main output value\n * * if `middleware` calls `done`,\n *   all non-nullish values except for the first one (the error) overwrite the\n *   output values\n *\n * @param {Middleware} middleware\n *   Function to wrap.\n * @param {Callback} callback\n *   Callback called with the output of `middleware`.\n * @returns {Run}\n *   Wrapped middleware.\n */\nexport function wrap(middleware, callback) {\n  /** @type {boolean} */\n  let called\n\n  return wrapped\n\n  /**\n   * Call `middleware`.\n   * @this {any}\n   * @param {Array<any>} parameters\n   * @returns {void}\n   */\n  function wrapped(...parameters) {\n    const fnExpectsCallback = middleware.length > parameters.length\n    /** @type {any} */\n    let result\n\n    if (fnExpectsCallback) {\n      parameters.push(done)\n    }\n\n    try {\n      result = middleware.apply(this, parameters)\n    } catch (error) {\n      const exception = /** @type {Error} */ (error)\n\n      // Well, this is quite the pickle.\n      // `middleware` received a callback and called it synchronously, but that\n      // threw an error.\n      // The only thing left to do is to throw the thing instead.\n      if (fnExpectsCallback && called) {\n        throw exception\n      }\n\n      return done(exception)\n    }\n\n    if (!fnExpectsCallback) {\n      if (result && result.then && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  /**\n   * Call `callback`, only once.\n   *\n   * @type {Callback}\n   */\n  function done(error, ...output) {\n    if (!called) {\n      called = true\n      callback(error, ...output)\n    }\n  }\n\n  /**\n   * Call `done` with one value.\n   *\n   * @param {any} [value]\n   */\n  function then(value) {\n    done(null, value)\n  }\n}\n","// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const minpath = {basename, dirname, extname, join, sep: '/'}\n\n/* eslint-disable max-depth, complexity */\n\n/**\n * Get the basename from a path.\n *\n * @param {string} path\n *   File path.\n * @param {string | null | undefined} [extname]\n *   Extension to strip.\n * @returns {string}\n *   Stem or basename.\n */\nfunction basename(path, extname) {\n  if (extname !== undefined && typeof extname !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  let start = 0\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let seenNonSlash\n\n  if (\n    extname === undefined ||\n    extname.length === 0 ||\n    extname.length > path.length\n  ) {\n    while (index--) {\n      if (path.codePointAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (extname === path) {\n    return ''\n  }\n\n  let firstNonSlashEnd = -1\n  let extnameIndex = extname.length - 1\n\n  while (index--) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extnameIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.codePointAt(index) === extname.codePointAt(extnameIndex--)) {\n          if (extnameIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extnameIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\n/**\n * Get the dirname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\nfunction dirname(path) {\n  assertPath(path)\n\n  if (path.length === 0) {\n    return '.'\n  }\n\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.codePointAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.codePointAt(0) === 47 /* `/` */\n      ? '//'\n      : path.slice(0, end)\n}\n\n/**\n * Get an extname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   Extname.\n */\nfunction extname(path) {\n  assertPath(path)\n\n  let index = path.length\n\n  let end = -1\n  let startPart = 0\n  let startDot = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  let preDotState = 0\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  while (index--) {\n    const code = path.codePointAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\n/**\n * Join segments from a path.\n *\n * @param {Array<string>} segments\n *   Path segments.\n * @returns {string}\n *   File path.\n */\nfunction join(...segments) {\n  let index = -1\n  /** @type {string | undefined} */\n  let joined\n\n  while (++index < segments.length) {\n    assertPath(segments[index])\n\n    if (segments[index]) {\n      joined =\n        joined === undefined ? segments[index] : joined + '/' + segments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n/**\n * Normalize a basic file path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  assertPath(path)\n\n  const absolute = path.codePointAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  let value = normalizeString(path, !absolute)\n\n  if (value.length === 0 && !absolute) {\n    value = '.'\n  }\n\n  if (value.length > 0 && path.codePointAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n/**\n * Resolve `.` and `..` elements in a path with directory names.\n *\n * @param {string} path\n *   File path.\n * @param {boolean} allowAboveRoot\n *   Whether `..` can move above root.\n * @returns {string}\n *   File path.\n */\nfunction normalizeString(path, allowAboveRoot) {\n  let result = ''\n  let lastSegmentLength = 0\n  let lastSlash = -1\n  let dots = 0\n  let index = -1\n  /** @type {number | undefined} */\n  let code\n  /** @type {number} */\n  let lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.codePointAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.codePointAt(result.length - 1) !== 46 /* `.` */ ||\n          result.codePointAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length > 0) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length > 0 ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length > 0) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\n/**\n * Make sure `path` is a string.\n *\n * @param {string} path\n *   File path.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n\n/* eslint-enable max-depth, complexity */\n","// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexport const minproc = {cwd}\n\nfunction cwd() {\n  return '/'\n}\n","/**\n * Checks if a value has the shape of a WHATWG URL object.\n *\n * Using a symbol or instanceof would not be able to recognize URL objects\n * coming from other implementations (e.g. in Electron), so instead we are\n * checking some well known properties for a lack of a better test.\n *\n * We use `href` and `protocol` as they are the only properties that are\n * easy to retrieve and calculate due to the lazy nature of the getters.\n *\n * We check for auth attribute to distinguish legacy url instance with\n * WHATWG URL instance.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js#L720>\nexport function isUrl(fileUrlOrPath) {\n  return Boolean(\n    fileUrlOrPath !== null &&\n      typeof fileUrlOrPath === 'object' &&\n      'href' in fileUrlOrPath &&\n      fileUrlOrPath.href &&\n      'protocol' in fileUrlOrPath &&\n      fileUrlOrPath.protocol &&\n      // @ts-expect-error: indexing is fine.\n      fileUrlOrPath.auth === undefined\n  )\n}\n","import {isUrl} from './minurl.shared.js'\n\nexport {isUrl} from './minurl.shared.js'\n\n// See: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js>\n\n/**\n * @param {URL | string} path\n *   File URL.\n * @returns {string}\n *   File URL.\n */\nexport function urlToPath(path) {\n  if (typeof path === 'string') {\n    path = new URL(path)\n  } else if (!isUrl(path)) {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'The \"path\" argument must be of type string or an instance of URL. Received `' +\n        path +\n        '`'\n    )\n    error.code = 'ERR_INVALID_ARG_TYPE'\n    throw error\n  }\n\n  if (path.protocol !== 'file:') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError('The URL must be of scheme file')\n    error.code = 'ERR_INVALID_URL_SCHEME'\n    throw error\n  }\n\n  return getPathFromURLPosix(path)\n}\n\n/**\n * Get a path from a POSIX URL.\n *\n * @param {URL} url\n *   URL.\n * @returns {string}\n *   File path.\n */\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'File URL host must be \"localhost\" or empty on darwin'\n    )\n    error.code = 'ERR_INVALID_FILE_URL_HOST'\n    throw error\n  }\n\n  const pathname = url.pathname\n  let index = -1\n\n  while (++index < pathname.length) {\n    if (\n      pathname.codePointAt(index) === 37 /* `%` */ &&\n      pathname.codePointAt(index + 1) === 50 /* `2` */\n    ) {\n      const third = pathname.codePointAt(index + 2)\n      if (third === 70 /* `F` */ || third === 102 /* `f` */) {\n        /** @type {NodeJS.ErrnoException} */\n        const error = new TypeError(\n          'File URL path must not include encoded / characters'\n        )\n        error.code = 'ERR_INVALID_FILE_URL_PATH'\n        throw error\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname)\n}\n","/**\n * @import {Node, Point, Position} from 'unist'\n * @import {Options as MessageOptions} from 'vfile-message'\n * @import {Compatible, Data, Map, Options, Value} from 'vfile'\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n */\n\nimport {VFileMessage} from 'vfile-message'\nimport {minpath} from '#minpath'\nimport {minproc} from '#minproc'\nimport {urlToPath, isUrl} from '#minurl'\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n */\nconst order = /** @type {const} */ ([\n  'history',\n  'path',\n  'basename',\n  'stem',\n  'extname',\n  'dirname'\n])\n\nexport class VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Uint8Array`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if (isUrl(value)) {\n      options = {path: value}\n    } else if (typeof value === 'string' || isUint8Array(value)) {\n      options = {value}\n    } else {\n      options = value\n    }\n\n    /* eslint-disable no-unused-expressions */\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    // Prevent calling `cwd` (which could be expensive) if its not needed;\n    // the empty string will be overridden in the next block.\n    this.cwd = 'cwd' in options ? '' : minproc.cwd()\n\n    /**\n     * Place to store custom info (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of file paths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const field = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        field in options &&\n        options[field] !== undefined &&\n        options[field] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[field] = field === 'history' ? [...options[field]] : options[field]\n      }\n    }\n\n    /** @type {string} */\n    let field\n\n    // Set non-path related properties.\n    for (field in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(field)) {\n        // @ts-expect-error: fine to set other things.\n        this[field] = options[field]\n      }\n    }\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   *\n   * @returns {string | undefined}\n   *   Basename.\n   */\n  get basename() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path)\n      : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} basename\n   *   Basename.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = minpath.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   *\n   * @returns {string | undefined}\n   *   Dirname.\n   */\n  get dirname() {\n    return typeof this.path === 'string'\n      ? minpath.dirname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} dirname\n   *   Dirname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = minpath.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   *\n   * @returns {string | undefined}\n   *   Extname.\n   */\n  get extname() {\n    return typeof this.path === 'string'\n      ? minpath.extname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} extname\n   *   Extname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.codePointAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = minpath.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   *   Path.\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {URL | string} path\n   *   Path.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set path(path) {\n    if (isUrl(path)) {\n      path = urlToPath(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * @returns {string | undefined}\n   *   Stem.\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} stem\n   *   Stem.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = minpath.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  // Normal prototypal methods.\n  /**\n   * Create a fatal message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `true` (error; file not usable)\n   * and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Never.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n\n  /**\n   * Create an info message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `undefined` (info; change\n   * likely not needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = undefined\n\n    return message\n  }\n\n  /**\n   * Create a message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `false` (warning; change may be\n   * needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(causeOrReason, optionsOrParentOrPlace, origin) {\n    const message = new VFileMessage(\n      // @ts-expect-error: the overloads are fine.\n      causeOrReason,\n      optionsOrParentOrPlace,\n      origin\n    )\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * > **Note**: which encodings are supported depends on the engine.\n   * > For info on Node.js, see:\n   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.\n   *\n   * @param {string | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Uint8Array`\n   *   (default: `'utf-8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    if (this.value === undefined) {\n      return ''\n    }\n\n    if (typeof this.value === 'string') {\n      return this.value\n    }\n\n    const decoder = new TextDecoder(encoding || undefined)\n    return decoder.decode(this.value)\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {undefined}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(minpath.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + minpath.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","export const CallableInstance =\n  /**\n   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}\n   */\n  (\n    /** @type {unknown} */\n    (\n      /**\n       * @this {Function}\n       * @param {string | symbol} property\n       * @returns {(...parameters: Array<unknown>) => unknown}\n       */\n      function (property) {\n        const self = this\n        const constr = self.constructor\n        const proto = /** @type {Record<string | symbol, Function>} */ (\n          // Prototypes do exist.\n          // type-coverage:ignore-next-line\n          constr.prototype\n        )\n        const value = proto[property]\n        /** @type {(...parameters: Array<unknown>) => unknown} */\n        const apply = function () {\n          return value.apply(apply, arguments)\n        }\n\n        Object.setPrototypeOf(apply, proto)\n\n        // Not needed for us in `unified`: we only call this on the `copy`\n        // function,\n        // and we don't need to add its fields (`length`, `name`)\n        // over.\n        // See also: GH-246.\n        // const names = Object.getOwnPropertyNames(value)\n        //\n        // for (const p of names) {\n        //   const descriptor = Object.getOwnPropertyDescriptor(value, p)\n        //   if (descriptor) Object.defineProperty(apply, p, descriptor)\n        // }\n\n        return apply\n      }\n    )\n  )\n","/**\n * @typedef {import('trough').Pipeline} Pipeline\n *\n * @typedef {import('unist').Node} Node\n *\n * @typedef {import('vfile').Compatible} Compatible\n * @typedef {import('vfile').Value} Value\n *\n * @typedef {import('../index.js').CompileResultMap} CompileResultMap\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Settings} Settings\n */\n\n/**\n * @typedef {CompileResultMap[keyof CompileResultMap]} CompileResults\n *   Acceptable results from compilers.\n *\n *   To register custom results, add them to\n *   {@linkcode CompileResultMap}.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the compiler receives (default: `Node`).\n * @template {CompileResults} [Result=CompileResults]\n *   The thing that the compiler yields (default: `CompileResults`).\n * @callback Compiler\n *   A **compiler** handles the compiling of a syntax tree to something else\n *   (in most cases, text) (TypeScript type).\n *\n *   It is used in the stringify phase and called with a {@linkcode Node}\n *   and {@linkcode VFile} representation of the document to compile.\n *   It should return the textual representation of the given tree (typically\n *   `string`).\n *\n *   > **Note**: unified typically compiles by serializing: most compilers\n *   > return `string` (or `Uint8Array`).\n *   > Some compilers, such as the one configured with\n *   > [`rehype-react`][rehype-react], return other values (in this case, a\n *   > React tree).\n *   > If youre using a compiler that doesnt serialize, expect different\n *   > result values.\n *   >\n *   > To register custom results in TypeScript, add them to\n *   > {@linkcode CompileResultMap}.\n *\n *   [rehype-react]: https://github.com/rehypejs/rehype-react\n * @param {Tree} tree\n *   Tree to compile.\n * @param {VFile} file\n *   File associated with `tree`.\n * @returns {Result}\n *   New content: compiled text (`string` or `Uint8Array`, for `file.value`) or\n *   something else (for `file.result`).\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the parser yields (default: `Node`)\n * @callback Parser\n *   A **parser** handles the parsing of text to a syntax tree.\n *\n *   It is used in the parse phase and is called with a `string` and\n *   {@linkcode VFile} of the document to parse.\n *   It must return the syntax tree representation of the given file\n *   ({@linkcode Node}).\n * @param {string} document\n *   Document to parse.\n * @param {VFile} file\n *   File associated with `document`.\n * @returns {Tree}\n *   Node representing the given file.\n */\n\n/**\n * @typedef {(\n *   Plugin<Array<any>, any, any> |\n *   PluginTuple<Array<any>, any, any> |\n *   Preset\n * )} Pluggable\n *   Union of the different ways to add plugins and settings.\n */\n\n/**\n * @typedef {Array<Pluggable>} PluggableList\n *   List of plugins and presets.\n */\n\n// Note: we cant use `callback` yet as it messes up `this`:\n//  <https://github.com/microsoft/TypeScript/issues/55197>.\n/**\n * @template {Array<unknown>} [PluginParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=Node]\n *   Value that is expected as input (default: `Node`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=Input]\n *   Value that is yielded as output (default: `Input`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   (this: Processor, ...parameters: PluginParameters) =>\n *     Input extends string ? // Parser.\n *        Output extends Node | undefined ? undefined | void : never :\n *     Output extends CompileResults ? // Compiler.\n *        Input extends Node | undefined ? undefined | void : never :\n *     Transformer<\n *       Input extends Node ? Input : Node,\n *       Output extends Node ? Output : Node\n *     > | undefined | void\n * )} Plugin\n *   Single plugin.\n *\n *   Plugins configure the processors they are applied on in the following\n *   ways:\n *\n *   *   they change the processor, such as the parser, the compiler, or by\n *       configuring data\n *   *   they specify how to handle trees and files\n *\n *   In practice, they are functions that can receive options and configure the\n *   processor (`this`).\n *\n *   > **Note**: plugins are called when the processor is *frozen*, not when\n *   > they are applied.\n */\n\n/**\n * Tuple of a plugin and its configuration.\n *\n * The first item is a plugin, the rest are its parameters.\n *\n * @template {Array<unknown>} [TupleParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=undefined]\n *   Value that is expected as input (optional).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=undefined] (optional).\n *   Value that is yielded as output.\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   [\n *     plugin: Plugin<TupleParameters, Input, Output>,\n *     ...parameters: TupleParameters\n *   ]\n * )} PluginTuple\n */\n\n/**\n * @typedef Preset\n *   Sharable configuration.\n *\n *   They can contain plugins and settings.\n * @property {PluggableList | undefined} [plugins]\n *   List of plugins and presets (optional).\n * @property {Settings | undefined} [settings]\n *   Shared settings for parsers and compilers (optional).\n */\n\n/**\n * @template {VFile} [File=VFile]\n *   The file that the callback receives (default: `VFile`).\n * @callback ProcessCallback\n *   Callback called when the process is done.\n *\n *   Called with either an error or a result.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {File | undefined} [file]\n *   Processed file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The tree that the callback receives (default: `Node`).\n * @callback RunCallback\n *   Callback called when transformers are done.\n *\n *   Called with either an error or results.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {Tree | undefined} [tree]\n *   Transformed tree (optional).\n * @param {VFile | undefined} [file]\n *   File (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Output=Node]\n *   Node type that the transformer yields (default: `Node`).\n * @callback TransformCallback\n *   Callback passed to transforms.\n *\n *   If the signature of a `transformer` accepts a third argument, the\n *   transformer may perform asynchronous operations, and must call it.\n * @param {Error | undefined} [error]\n *   Fatal error to stop the process (optional).\n * @param {Output | undefined} [tree]\n *   New, changed, tree (optional).\n * @param {VFile | undefined} [file]\n *   New, changed, file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Input=Node]\n *   Node type that the transformer expects (default: `Node`).\n * @template {Node} [Output=Input]\n *   Node type that the transformer yields (default: `Input`).\n * @callback Transformer\n *   Transformers handle syntax trees and files.\n *\n *   They are functions that are called each time a syntax tree and file are\n *   passed through the run phase.\n *   When an error occurs in them (either because its thrown, returned,\n *   rejected, or passed to `next`), the process stops.\n *\n *   The run phase is handled by [`trough`][trough], see its documentation for\n *   the exact semantics of these functions.\n *\n *   > **Note**: you should likely ignore `next`: dont accept it.\n *   > it supports callback-style async work.\n *   > But promises are likely easier to reason about.\n *\n *   [trough]: https://github.com/wooorm/trough#function-fninput-next\n * @param {Input} tree\n *   Tree to handle.\n * @param {VFile} file\n *   File to handle.\n * @param {TransformCallback<Output>} next\n *   Callback.\n * @returns {(\n *   Promise<Output | undefined | void> |\n *   Promise<never> | // For some reason this is needed separately.\n *   Output |\n *   Error |\n *   undefined |\n *   void\n * )}\n *   If you accept `next`, nothing.\n *   Otherwise:\n *\n *   *   `Error`  fatal error to stop the process\n *   *   `Promise<undefined>` or `undefined`  the next transformer keeps using\n *       same tree\n *   *   `Promise<Node>` or `Node`  new, changed, tree\n */\n\n/**\n * @template {Node | undefined} ParseTree\n *   Output of `parse`.\n * @template {Node | undefined} HeadTree\n *   Input for `run`.\n * @template {Node | undefined} TailTree\n *   Output for `run`.\n * @template {Node | undefined} CompileTree\n *   Input of `stringify`.\n * @template {CompileResults | undefined} CompileResult\n *   Output of `stringify`.\n * @template {Node | string | undefined} Input\n *   Input of plugin.\n * @template Output\n *   Output of plugin (optional).\n * @typedef {(\n *   Input extends string\n *     ? Output extends Node | undefined\n *       ? // Parser.\n *         Processor<\n *           Output extends undefined ? ParseTree : Output,\n *           HeadTree,\n *           TailTree,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Output extends CompileResults\n *     ? Input extends Node | undefined\n *       ? // Compiler.\n *         Processor<\n *           ParseTree,\n *           HeadTree,\n *           TailTree,\n *           Input extends undefined ? CompileTree : Input,\n *           Output extends undefined ? CompileResult : Output\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Input extends Node | undefined\n *     ? Output extends Node | undefined\n *       ? // Transform.\n *         Processor<\n *           ParseTree,\n *           HeadTree extends undefined ? Input : HeadTree,\n *           Output extends undefined ? TailTree : Output,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : // Unknown.\n *       Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n * )} UsePlugin\n *   Create a processor based on the input/output of a {@link Plugin plugin}.\n */\n\n/**\n * @template {CompileResults | undefined} Result\n *   Node type that the transformer yields.\n * @typedef {(\n *   Result extends Value | undefined ?\n *     VFile :\n *     VFile & {result: Result}\n *   )} VFileWithOutput\n *   Type to generate a {@linkcode VFile} corresponding to a compiler result.\n *\n *   If a result that is not acceptable on a `VFile` is used, that will\n *   be stored on the `result` field of {@linkcode VFile}.\n */\n\nimport {bail} from 'bail'\nimport extend from 'extend'\nimport {ok as assert} from 'devlop'\nimport isPlainObj from 'is-plain-obj'\nimport {trough} from 'trough'\nimport {VFile} from 'vfile'\nimport {CallableInstance} from './callable-instance.js'\n\n// To do: next major: drop `Compiler`, `Parser`: prefer lowercase.\n\n// To do: we could start yielding `never` in TS when a parser is missing and\n// `parse` is called.\n// Currently, we allow directly setting `processor.parser`, which is untyped.\n\nconst own = {}.hasOwnProperty\n\n/**\n * @template {Node | undefined} [ParseTree=undefined]\n *   Output of `parse` (optional).\n * @template {Node | undefined} [HeadTree=undefined]\n *   Input for `run` (optional).\n * @template {Node | undefined} [TailTree=undefined]\n *   Output for `run` (optional).\n * @template {Node | undefined} [CompileTree=undefined]\n *   Input of `stringify` (optional).\n * @template {CompileResults | undefined} [CompileResult=undefined]\n *   Output of `stringify` (optional).\n * @extends {CallableInstance<[], Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>>}\n */\nexport class Processor extends CallableInstance {\n  /**\n   * Create a processor.\n   */\n  constructor() {\n    // If `Processor()` is called (w/o new), `copy` is called instead.\n    super('copy')\n\n    /**\n     * Compiler to use (deprecated).\n     *\n     * @deprecated\n     *   Use `compiler` instead.\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.Compiler = undefined\n\n    /**\n     * Parser to use (deprecated).\n     *\n     * @deprecated\n     *   Use `parser` instead.\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.Parser = undefined\n\n    // Note: the following fields are considered private.\n    // However, they are needed for tests, and TSC generates an untyped\n    // `private freezeIndex` field for, which trips `type-coverage` up.\n    // Instead, we use `@deprecated` to visualize that they shouldnt be used.\n    /**\n     * Internal list of configured plugins.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Array<PluginTuple<Array<unknown>>>}\n     */\n    this.attachers = []\n\n    /**\n     * Compiler to use.\n     *\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.compiler = undefined\n\n    /**\n     * Internal state to track where we are while freezing.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {number}\n     */\n    this.freezeIndex = -1\n\n    /**\n     * Internal state to track whether were frozen.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {boolean | undefined}\n     */\n    this.frozen = undefined\n\n    /**\n     * Internal state.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Data}\n     */\n    this.namespace = {}\n\n    /**\n     * Parser to use.\n     *\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.parser = undefined\n\n    /**\n     * Internal list of configured transformers.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Pipeline}\n     */\n    this.transformers = trough()\n  }\n\n  /**\n   * Copy a processor.\n   *\n   * @deprecated\n   *   This is a private internal method and should not be used.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   New *unfrozen* processor ({@linkcode Processor}) that is\n   *   configured to work the same as its ancestor.\n   *   When the descendant processor is configured in the future it does not\n   *   affect the ancestral processor.\n   */\n  copy() {\n    // Cast as the type parameters will be the same after attaching.\n    const destination =\n      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */ (\n        new Processor()\n      )\n    let index = -1\n\n    while (++index < this.attachers.length) {\n      const attacher = this.attachers[index]\n      destination.use(...attacher)\n    }\n\n    destination.data(extend(true, {}, this.namespace))\n\n    return destination\n  }\n\n  /**\n   * Configure the processor with info available to all plugins.\n   * Information is stored in an object.\n   *\n   * Typically, options can be given to a specific plugin, but sometimes it\n   * makes sense to have information shared with several plugins.\n   * For example, a list of HTML elements that are self-closing, which is\n   * needed during all phases.\n   *\n   * > **Note**: setting information cannot occur on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * > **Note**: to register custom data in TypeScript, augment the\n   * > {@linkcode Data} interface.\n   *\n   * @example\n   *   This example show how to get and set info:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   const processor = unified().data('alpha', 'bravo')\n   *\n   *   processor.data('alpha') // => 'bravo'\n   *\n   *   processor.data() // => {alpha: 'bravo'}\n   *\n   *   processor.data({charlie: 'delta'})\n   *\n   *   processor.data() // => {charlie: 'delta'}\n   *   ```\n   *\n   * @template {keyof Data} Key\n   *\n   * @overload\n   * @returns {Data}\n   *\n   * @overload\n   * @param {Data} dataset\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Key} key\n   * @returns {Data[Key]}\n   *\n   * @overload\n   * @param {Key} key\n   * @param {Data[Key]} value\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @param {Data | Key} [key]\n   *   Key to get or set, or entire dataset to set, or nothing to get the\n   *   entire dataset (optional).\n   * @param {Data[Key]} [value]\n   *   Value to set (optional).\n   * @returns {unknown}\n   *   The current processor when setting, the value at `key` when getting, or\n   *   the entire dataset when getting without key.\n   */\n  data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', this.frozen)\n        this.namespace[key] = value\n        return this\n      }\n\n      // Get `key`.\n      return (own.call(this.namespace, key) && this.namespace[key]) || undefined\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', this.frozen)\n      this.namespace = key\n      return this\n    }\n\n    // Get space.\n    return this.namespace\n  }\n\n  /**\n   * Freeze a processor.\n   *\n   * Frozen processors are meant to be extended and not to be configured\n   * directly.\n   *\n   * When a processor is frozen it cannot be unfrozen.\n   * New processors working the same way can be created by calling the\n   * processor.\n   *\n   * Its possible to freeze processors explicitly by calling `.freeze()`.\n   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,\n   * `.stringify()`, `.process()`, or `.processSync()` are called.\n   *\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   The current processor.\n   */\n  freeze() {\n    if (this.frozen) {\n      return this\n    }\n\n    // Cast so that we can type plugins easier.\n    // Plugins are supposed to be usable on different processors, not just on\n    // this exact processor.\n    const self = /** @type {Processor} */ (/** @type {unknown} */ (this))\n\n    while (++this.freezeIndex < this.attachers.length) {\n      const [attacher, ...options] = this.attachers[this.freezeIndex]\n\n      if (options[0] === false) {\n        continue\n      }\n\n      if (options[0] === true) {\n        options[0] = undefined\n      }\n\n      const transformer = attacher.call(self, ...options)\n\n      if (typeof transformer === 'function') {\n        this.transformers.use(transformer)\n      }\n    }\n\n    this.frozen = true\n    this.freezeIndex = Number.POSITIVE_INFINITY\n\n    return this\n  }\n\n  /**\n   * Parse text to a syntax tree.\n   *\n   * > **Note**: `parse` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `parse` performs the parse phase, not the run phase or other\n   * > phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   file to parse (optional); typically `string` or `VFile`; any value\n   *   accepted as `x` in `new VFile(x)`.\n   * @returns {ParseTree extends undefined ? Node : ParseTree}\n   *   Syntax tree representing `file`.\n   */\n  parse(file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const parser = this.parser || this.Parser\n    assertParser('parse', parser)\n    return parser(String(realFile), realFile)\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * > **Note**: `process` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `process` performs the parse, run, and stringify phases.\n   *\n   * @overload\n   * @param {Compatible | undefined} file\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<VFileWithOutput<CompileResult>>}\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`]; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]\n   *   Callback (optional).\n   * @returns {Promise<VFile> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise a promise, rejected with a fatal error or resolved with the\n   *   processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  process(file, done) {\n    const self = this\n\n    this.freeze()\n    assertParser('process', this.parser || this.Parser)\n    assertCompiler('process', this.compiler || this.Compiler)\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {((file: VFileWithOutput<CompileResult>) => undefined | void) | undefined} resolve\n     * @param {(error: Error | undefined) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      const realFile = vfile(file)\n      // Assume `ParseTree` (the result of the parser) matches `HeadTree` (the\n      // input of the first transform).\n      const parseTree =\n        /** @type {HeadTree extends undefined ? Node : HeadTree} */ (\n          /** @type {unknown} */ (self.parse(realFile))\n        )\n\n      self.run(parseTree, realFile, function (error, tree, file) {\n        if (error || !tree || !file) {\n          return realDone(error)\n        }\n\n        // Assume `TailTree` (the output of the last transform) matches\n        // `CompileTree` (the input of the compiler).\n        const compileTree =\n          /** @type {CompileTree extends undefined ? Node : CompileTree} */ (\n            /** @type {unknown} */ (tree)\n          )\n\n        const compileResult = self.stringify(compileTree, file)\n\n        if (looksLikeAValue(compileResult)) {\n          file.value = compileResult\n        } else {\n          file.result = compileResult\n        }\n\n        realDone(error, /** @type {VFileWithOutput<CompileResult>} */ (file))\n      })\n\n      /**\n       * @param {Error | undefined} error\n       * @param {VFileWithOutput<CompileResult> | undefined} [file]\n       * @returns {undefined}\n       */\n      function realDone(error, file) {\n        if (error || !file) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `processSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `processSync` performs the parse, run, and stringify phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @returns {VFileWithOutput<CompileResult>}\n   *   The processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  processSync(file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {VFileWithOutput<CompileResult> | undefined} */\n    let result\n\n    this.freeze()\n    assertParser('processSync', this.parser || this.Parser)\n    assertCompiler('processSync', this.compiler || this.Compiler)\n\n    this.process(file, realDone)\n    assertDone('processSync', 'process', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n\n    return result\n\n    /**\n     * @type {ProcessCallback<VFileWithOutput<CompileResult>>}\n     */\n    function realDone(error, file) {\n      complete = true\n      bail(error)\n      result = file\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * > **Note**: `run` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `run` performs the run phase, not other phases.\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} file\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {(\n   *   RunCallback<TailTree extends undefined ? Node : TailTree> |\n   *   Compatible\n   * )} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]\n   *   Callback (optional).\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise, a promise rejected with a fatal error or resolved with the\n   *   transformed tree.\n   */\n  run(tree, file, done) {\n    assertNode(tree)\n    this.freeze()\n\n    const transformers = this.transformers\n\n    if (!done && typeof file === 'function') {\n      done = file\n      file = undefined\n    }\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {(\n     *   ((tree: TailTree extends undefined ? Node : TailTree) => undefined | void) |\n     *   undefined\n     * )} resolve\n     * @param {(error: Error) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      assert(\n        typeof file !== 'function',\n        '`file` cant be a `done` anymore, we checked'\n      )\n      const realFile = vfile(file)\n      transformers.run(tree, realFile, realDone)\n\n      /**\n       * @param {Error | undefined} error\n       * @param {Node} outputTree\n       * @param {VFile} file\n       * @returns {undefined}\n       */\n      function realDone(error, outputTree, file) {\n        const resultingTree =\n          /** @type {TailTree extends undefined ? Node : TailTree} */ (\n            outputTree || tree\n          )\n\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(resultingTree)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, resultingTree, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `runSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `runSync` performs the run phase, not other phases.\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {TailTree extends undefined ? Node : TailTree}\n   *   Transformed tree.\n   */\n  runSync(tree, file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {(TailTree extends undefined ? Node : TailTree) | undefined} */\n    let result\n\n    this.run(tree, file, realDone)\n\n    assertDone('runSync', 'run', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n    return result\n\n    /**\n     * @type {RunCallback<TailTree extends undefined ? Node : TailTree>}\n     */\n    function realDone(error, tree) {\n      bail(error)\n      result = tree\n      complete = true\n    }\n  }\n\n  /**\n   * Compile a syntax tree.\n   *\n   * > **Note**: `stringify` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `stringify` performs the stringify phase, not the run phase\n   * > or other phases.\n   *\n   * @param {CompileTree extends undefined ? Node : CompileTree} tree\n   *   Tree to compile.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {CompileResult extends undefined ? Value : CompileResult}\n   *   Textual representation of the tree (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most compilers\n   *   > return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  stringify(tree, file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const compiler = this.compiler || this.Compiler\n    assertCompiler('stringify', compiler)\n    assertNode(tree)\n\n    return compiler(tree, realFile)\n  }\n\n  /**\n   * Configure the processor to use a plugin, a list of usable values, or a\n   * preset.\n   *\n   * If the processor is already using a plugin, the previous plugin\n   * configuration is changed based on the options that are passed in.\n   * In other words, the plugin is not added a second time.\n   *\n   * > **Note**: `use` cannot be called on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * @example\n   *   There are many ways to pass plugins to `.use()`.\n   *   This example gives an overview:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   unified()\n   *     // Plugin with options:\n   *     .use(pluginA, {x: true, y: true})\n   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):\n   *     .use(pluginA, {y: false, z: true})\n   *     // Plugins:\n   *     .use([pluginB, pluginC])\n   *     // Two plugins, the second with options:\n   *     .use([pluginD, [pluginE, {}]])\n   *     // Preset with plugins and settings:\n   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})\n   *     // Settings only:\n   *     .use({settings: {position: false}})\n   *   ```\n   *\n   * @template {Array<unknown>} [Parameters=[]]\n   * @template {Node | string | undefined} [Input=undefined]\n   * @template [Output=Input]\n   *\n   * @overload\n   * @param {Preset | null | undefined} [preset]\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {PluggableList} list\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Plugin<Parameters, Input, Output>} plugin\n   * @param {...(Parameters | [boolean])} parameters\n   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}\n   *\n   * @param {PluggableList | Plugin | Preset | null | undefined} value\n   *   Usable value.\n   * @param {...unknown} parameters\n   *   Parameters, when a plugin is given as a usable value.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   Current processor.\n   */\n  use(value, ...parameters) {\n    const attachers = this.attachers\n    const namespace = this.namespace\n\n    assertUnfrozen('use', this.frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin(value, parameters)\n    } else if (typeof value === 'object') {\n      if (Array.isArray(value)) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new TypeError('Expected usable value, not `' + value + '`')\n    }\n\n    return this\n\n    /**\n     * @param {Pluggable} value\n     * @returns {undefined}\n     */\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value, [])\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          const [plugin, ...parameters] =\n            /** @type {PluginTuple<Array<unknown>>} */ (value)\n          addPlugin(plugin, parameters)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new TypeError('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    /**\n     * @param {Preset} result\n     * @returns {undefined}\n     */\n    function addPreset(result) {\n      if (!('plugins' in result) && !('settings' in result)) {\n        throw new Error(\n          'Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither'\n        )\n      }\n\n      addList(result.plugins)\n\n      if (result.settings) {\n        namespace.settings = extend(true, namespace.settings, result.settings)\n      }\n    }\n\n    /**\n     * @param {PluggableList | null | undefined} plugins\n     * @returns {undefined}\n     */\n    function addList(plugins) {\n      let index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (Array.isArray(plugins)) {\n        while (++index < plugins.length) {\n          const thing = plugins[index]\n          add(thing)\n        }\n      } else {\n        throw new TypeError('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    /**\n     * @param {Plugin} plugin\n     * @param {Array<unknown>} parameters\n     * @returns {undefined}\n     */\n    function addPlugin(plugin, parameters) {\n      let index = -1\n      let entryIndex = -1\n\n      while (++index < attachers.length) {\n        if (attachers[index][0] === plugin) {\n          entryIndex = index\n          break\n        }\n      }\n\n      if (entryIndex === -1) {\n        attachers.push([plugin, ...parameters])\n      }\n      // Only set if there was at least a `primary` value, otherwise wed change\n      // `arguments.length`.\n      else if (parameters.length > 0) {\n        let [primary, ...rest] = parameters\n        const currentPrimary = attachers[entryIndex][1]\n        if (isPlainObj(currentPrimary) && isPlainObj(primary)) {\n          primary = extend(true, currentPrimary, primary)\n        }\n\n        attachers[entryIndex] = [plugin, primary, ...rest]\n      }\n    }\n  }\n}\n\n// Note: this returns a *callable* instance.\n// Thats why its documented as a function.\n/**\n * Create a new processor.\n *\n * @example\n *   This example shows how a new processor can be created (from `remark`) and linked\n *   to **stdin**(4) and **stdout**(4).\n *\n *   ```js\n *   import process from 'node:process'\n *   import concatStream from 'concat-stream'\n *   import {remark} from 'remark'\n *\n *   process.stdin.pipe(\n *     concatStream(function (buf) {\n *       process.stdout.write(String(remark().processSync(buf)))\n *     })\n *   )\n *   ```\n *\n * @returns\n *   New *unfrozen* processor (`processor`).\n *\n *   This processor is configured to work the same as its ancestor.\n *   When the descendant processor is configured in the future it does not\n *   affect the ancestral processor.\n */\nexport const unified = new Processor().freeze()\n\n/**\n * Assert a parser is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Parser}\n */\nfunction assertParser(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `parser`')\n  }\n}\n\n/**\n * Assert a compiler is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Compiler}\n */\nfunction assertCompiler(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `compiler`')\n  }\n}\n\n/**\n * Assert the processor is not frozen.\n *\n * @param {string} name\n * @param {unknown} frozen\n * @returns {asserts frozen is false}\n */\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot call `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n/**\n * Assert `node` is a unist node.\n *\n * @param {unknown} node\n * @returns {asserts node is Node}\n */\nfunction assertNode(node) {\n  // `isPlainObj` unfortunately uses `any` instead of `unknown`.\n  // type-coverage:ignore-next-line\n  if (!isPlainObj(node) || typeof node.type !== 'string') {\n    throw new TypeError('Expected node, got `' + node + '`')\n    // Fine.\n  }\n}\n\n/**\n * Assert that `complete` is `true`.\n *\n * @param {string} name\n * @param {string} asyncName\n * @param {unknown} complete\n * @returns {asserts complete is true}\n */\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {VFile}\n */\nfunction vfile(value) {\n  return looksLikeAVFile(value) ? value : new VFile(value)\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {value is VFile}\n */\nfunction looksLikeAVFile(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'message' in value &&\n      'messages' in value\n  )\n}\n\n/**\n * @param {unknown} [value]\n * @returns {value is Value}\n */\nfunction looksLikeAValue(value) {\n  return typeof value === 'string' || isUint8Array(value)\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","// Register `Raw` in tree:\n/// <reference types=\"mdast-util-to-hast\" />\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast-util-to-jsx-runtime').Components} JsxRuntimeComponents\n * @typedef {import('remark-rehype').Options} RemarkRehypeOptions\n * @typedef {import('unist-util-visit').BuildVisitor<Root>} Visitor\n * @typedef {import('unified').PluggableList} PluggableList\n */\n\n/**\n * @callback AllowElement\n *   Filter elements.\n * @param {Readonly<Element>} element\n *   Element to check.\n * @param {number} index\n *   Index of `element` in `parent`.\n * @param {Readonly<Parents> | undefined} parent\n *   Parent of `element`.\n * @returns {boolean | null | undefined}\n *   Whether to allow `element` (default: `false`).\n *\n * @typedef {Partial<JsxRuntimeComponents>} Components\n *   Map tag names to components.\n *\n * @typedef Deprecation\n *   Deprecation.\n * @property {string} from\n *   Old field.\n * @property {string} id\n *   ID in readme.\n * @property {keyof Options} [to]\n *   New field.\n *\n * @typedef Options\n *   Configuration.\n * @property {AllowElement | null | undefined} [allowElement]\n *   Filter elements (optional);\n *   `allowedElements` / `disallowedElements` is used first.\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\n *   Tag names to allow (default: all tag names);\n *   cannot combine w/ `disallowedElements`.\n * @property {string | null | undefined} [children]\n *   Markdown.\n * @property {string | null | undefined} [className]\n *   Wrap in a `div` with this class name.\n * @property {Components | null | undefined} [components]\n *   Map tag names to components.\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\n *   Tag names to disallow (default: `[]`);\n *   cannot combine w/ `allowedElements`.\n * @property {PluggableList | null | undefined} [rehypePlugins]\n *   List of rehype plugins to use.\n * @property {PluggableList | null | undefined} [remarkPlugins]\n *   List of remark plugins to use.\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\n *   Options to pass through to `remark-rehype`.\n * @property {boolean | null | undefined} [skipHtml=false]\n *   Ignore HTML in markdown completely (default: `false`).\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\n *   Extract (unwrap) whats in disallowed elements (default: `false`);\n *   normally when say `strong` is not allowed, it and its children are dropped,\n *   with `unwrapDisallowed` the element itself is replaced by its children.\n * @property {UrlTransform | null | undefined} [urlTransform]\n *   Change URLs (default: `defaultUrlTransform`)\n *\n * @callback UrlTransform\n *   Transform all URLs.\n * @param {string} url\n *   URL.\n * @param {string} key\n *   Property name (example: `'href'`).\n * @param {Readonly<Element>} node\n *   Node.\n * @returns {string | null | undefined}\n *   Transformed URL (optional).\n */\n\nimport {unreachable} from 'devlop'\nimport {toJsxRuntime} from 'hast-util-to-jsx-runtime'\nimport {urlAttributes} from 'html-url-attributes'\n// @ts-expect-error: untyped.\nimport {Fragment, jsx, jsxs} from 'react/jsx-runtime'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport {unified} from 'unified'\nimport {visit} from 'unist-util-visit'\nimport {VFile} from 'vfile'\n\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {PluggableList} */\nconst emptyPlugins = []\n/** @type {Readonly<RemarkRehypeOptions>} */\nconst emptyRemarkRehypeOptions = {allowDangerousHtml: true}\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i\n\n// Mutable because we `delete` any time its used and a message is sent.\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\nconst deprecations = [\n  {from: 'astPlugins', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'allowDangerousHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {\n    from: 'allowNode',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowElement'\n  },\n  {\n    from: 'allowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowedElements'\n  },\n  {\n    from: 'disallowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'disallowedElements'\n  },\n  {from: 'escapeHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'includeElementIndex', id: '#remove-includeelementindex'},\n  {\n    from: 'includeNodeIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  },\n  {from: 'linkTarget', id: 'remove-linktarget'},\n  {from: 'plugins', id: 'change-plugins-to-remarkplugins', to: 'remarkPlugins'},\n  {from: 'rawSourcePos', id: '#remove-rawsourcepos'},\n  {from: 'renderers', id: 'change-renderers-to-components', to: 'components'},\n  {from: 'source', id: 'change-source-to-children', to: 'children'},\n  {from: 'sourcePos', id: '#remove-sourcepos'},\n  {from: 'transformImageUri', id: '#add-urltransform', to: 'urlTransform'},\n  {from: 'transformLinkUri', id: '#add-urltransform', to: 'urlTransform'}\n]\n\n/**\n * Component to render markdown.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {JSX.Element}\n *   React element.\n */\nexport function Markdown(options) {\n  const allowedElements = options.allowedElements\n  const allowElement = options.allowElement\n  const children = options.children || ''\n  const className = options.className\n  const components = options.components\n  const disallowedElements = options.disallowedElements\n  const rehypePlugins = options.rehypePlugins || emptyPlugins\n  const remarkPlugins = options.remarkPlugins || emptyPlugins\n  const remarkRehypeOptions = options.remarkRehypeOptions\n    ? {...options.remarkRehypeOptions, ...emptyRemarkRehypeOptions}\n    : emptyRemarkRehypeOptions\n  const skipHtml = options.skipHtml\n  const unwrapDisallowed = options.unwrapDisallowed\n  const urlTransform = options.urlTransform || defaultUrlTransform\n\n  const processor = unified()\n    .use(remarkParse)\n    .use(remarkPlugins)\n    .use(remarkRehype, remarkRehypeOptions)\n    .use(rehypePlugins)\n\n  const file = new VFile()\n\n  if (typeof children === 'string') {\n    file.value = children\n  } else {\n    unreachable(\n      'Unexpected value `' +\n        children +\n        '` for `children` prop, expected `string`'\n    )\n  }\n\n  if (allowedElements && disallowedElements) {\n    unreachable(\n      'Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other'\n    )\n  }\n\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      unreachable(\n        'Unexpected `' +\n          deprecation.from +\n          '` prop, ' +\n          (deprecation.to\n            ? 'use `' + deprecation.to + '` instead'\n            : 'remove it') +\n          ' (see <' +\n          changelog +\n          '#' +\n          deprecation.id +\n          '> for more info)'\n      )\n    }\n  }\n\n  const mdastTree = processor.parse(file)\n  /** @type {Nodes} */\n  let hastTree = processor.runSync(mdastTree, file)\n\n  // Wrap in `div` if theres a class name.\n  if (className) {\n    hastTree = {\n      type: 'element',\n      tagName: 'div',\n      properties: {className},\n      // Assume no doctypes.\n      children: /** @type {Array<ElementContent>} */ (\n        hastTree.type === 'root' ? hastTree.children : [hastTree]\n      )\n    }\n  }\n\n  visit(hastTree, transform)\n\n  return toJsxRuntime(hastTree, {\n    Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx,\n    jsxs,\n    passKeys: true,\n    passNode: true\n  })\n\n  /** @type {Visitor} */\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1)\n      } else {\n        parent.children[index] = {type: 'text', value: node.value}\n      }\n\n      return index\n    }\n\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key\n\n      for (key in urlAttributes) {\n        if (\n          Object.hasOwn(urlAttributes, key) &&\n          Object.hasOwn(node.properties, key)\n        ) {\n          const value = node.properties[key]\n          const test = urlAttributes[key]\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node)\n          }\n        }\n      }\n    }\n\n    if (node.type === 'element') {\n      let remove = allowedElements\n        ? !allowedElements.includes(node.tagName)\n        : disallowedElements\n        ? disallowedElements.includes(node.tagName)\n        : false\n\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent)\n      }\n\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children)\n        } else {\n          parent.children.splice(index, 1)\n        }\n\n        return index\n      }\n    }\n  }\n}\n\n/**\n * Make a URL safe.\n *\n * @satisfies {UrlTransform}\n * @param {string} value\n *   URL.\n * @returns {string}\n *   Safe URL.\n */\nexport function defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':')\n  const questionMark = value.indexOf('?')\n  const numberSign = value.indexOf('#')\n  const slash = value.indexOf('/')\n\n  if (\n    // If there is no protocol, its relative.\n    colon < 0 ||\n    // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n    (slash > -1 && colon > slash) ||\n    (questionMark > -1 && colon > questionMark) ||\n    (numberSign > -1 && colon > numberSign) ||\n    // It is a protocol, it should be allowed.\n    safeProtocol.test(value.slice(0, colon))\n  ) {\n    return value\n  }\n\n  return ''\n}\n","/**\n * Count how often a character (or substring) is used in a string.\n *\n * @param {string} value\n *   Value to search in.\n * @param {string} character\n *   Character (or substring) to look for.\n * @return {number}\n *   Number of times `character` occurred in `value`.\n */\nexport function ccount(value, character) {\n  const source = String(value)\n\n  if (typeof character !== 'string') {\n    throw new TypeError('Expected character')\n  }\n\n  let count = 0\n  let index = source.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = source.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","export default function escapeStringRegexp(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n}\n","/**\n * @typedef {import('mdast').Nodes} Nodes\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('mdast').PhrasingContent} PhrasingContent\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').Text} Text\n * @typedef {import('unist-util-visit-parents').Test} Test\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * @typedef RegExpMatchObject\n *   Info on the match.\n * @property {number} index\n *   The index of the search at which the result was found.\n * @property {string} input\n *   A copy of the search string in the text node.\n * @property {[...Array<Parents>, Text]} stack\n *   All ancestors of the text node, where the last node is the text itself.\n *\n * @typedef {RegExp | string} Find\n *   Pattern to find.\n *\n *   Strings are escaped and then turned into global expressions.\n *\n * @typedef {Array<FindAndReplaceTuple>} FindAndReplaceList\n *   Several find and replaces, in array form.\n *\n * @typedef {[Find, Replace?]} FindAndReplaceTuple\n *   Find and replace in tuple form.\n *\n * @typedef {ReplaceFunction | string | null | undefined} Replace\n *   Thing to replace with.\n *\n * @callback ReplaceFunction\n *   Callback called when a search matches.\n * @param {...any} parameters\n *   The parameters are the result of corresponding search expression:\n *\n *   * `value` (`string`)  whole match\n *   * `...capture` (`Array<string>`)  matches from regex capture groups\n *   * `match` (`RegExpMatchObject`)  info on the match\n * @returns {Array<PhrasingContent> | PhrasingContent | string | false | null | undefined}\n *   Thing to replace with.\n *\n *   * when `null`, `undefined`, `''`, remove the match\n *   * or when `false`, do not replace at all\n *   * or when `string`, replace with a text node of that value\n *   * or when `Node` or `Array<Node>`, replace with those nodes\n *\n * @typedef {[RegExp, ReplaceFunction]} Pair\n *   Normalized find and replace.\n *\n * @typedef {Array<Pair>} Pairs\n *   All find and replaced.\n *\n * @typedef Options\n *   Configuration.\n * @property {Test | null | undefined} [ignore]\n *   Test for which nodes to ignore (optional).\n */\n\nimport escape from 'escape-string-regexp'\nimport {visitParents} from 'unist-util-visit-parents'\nimport {convert} from 'unist-util-is'\n\n/**\n * Find patterns in a tree and replace them.\n *\n * The algorithm searches the tree in *preorder* for complete values in `Text`\n * nodes.\n * Partial matches are not supported.\n *\n * @param {Nodes} tree\n *   Tree to change.\n * @param {FindAndReplaceList | FindAndReplaceTuple} list\n *   Patterns to find.\n * @param {Options | null | undefined} [options]\n *   Configuration (when `find` is not `Find`).\n * @returns {undefined}\n *   Nothing.\n */\nexport function findAndReplace(tree, list, options) {\n  const settings = options || {}\n  const ignored = convert(settings.ignore || [])\n  const pairs = toPairs(list)\n  let pairIndex = -1\n\n  while (++pairIndex < pairs.length) {\n    visitParents(tree, 'text', visitor)\n  }\n\n  /** @type {import('unist-util-visit-parents').BuildVisitor<Root, 'text'>} */\n  function visitor(node, parents) {\n    let index = -1\n    /** @type {Parents | undefined} */\n    let grandparent\n\n    while (++index < parents.length) {\n      const parent = parents[index]\n      /** @type {Array<Nodes> | undefined} */\n      const siblings = grandparent ? grandparent.children : undefined\n\n      if (\n        ignored(\n          parent,\n          siblings ? siblings.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    if (grandparent) {\n      return handler(node, parents)\n    }\n  }\n\n  /**\n   * Handle a text node which is not in an ignored parent.\n   *\n   * @param {Text} node\n   *   Text node.\n   * @param {Array<Parents>} parents\n   *   Parents.\n   * @returns {VisitorResult}\n   *   Result.\n   */\n  function handler(node, parents) {\n    const parent = parents[parents.length - 1]\n    const find = pairs[pairIndex][0]\n    const replace = pairs[pairIndex][1]\n    let start = 0\n    /** @type {Array<Nodes>} */\n    const siblings = parent.children\n    const index = siblings.indexOf(node)\n    let change = false\n    /** @type {Array<PhrasingContent>} */\n    let nodes = []\n\n    find.lastIndex = 0\n\n    let match = find.exec(node.value)\n\n    while (match) {\n      const position = match.index\n      /** @type {RegExpMatchObject} */\n      const matchObject = {\n        index: match.index,\n        input: match.input,\n        stack: [...parents, node]\n      }\n      let value = replace(...match, matchObject)\n\n      if (typeof value === 'string') {\n        value = value.length > 0 ? {type: 'text', value} : undefined\n      }\n\n      // It wasnt a match after all.\n      if (value === false) {\n        // False acts as if there was no match.\n        // So we need to reset `lastIndex`, which currently being at the end of\n        // the current match, to the beginning.\n        find.lastIndex = position + 1\n      } else {\n        if (start !== position) {\n          nodes.push({\n            type: 'text',\n            value: node.value.slice(start, position)\n          })\n        }\n\n        if (Array.isArray(value)) {\n          nodes.push(...value)\n        } else if (value) {\n          nodes.push(value)\n        }\n\n        start = position + match[0].length\n        change = true\n      }\n\n      if (!find.global) {\n        break\n      }\n\n      match = find.exec(node.value)\n    }\n\n    if (change) {\n      if (start < node.value.length) {\n        nodes.push({type: 'text', value: node.value.slice(start)})\n      }\n\n      parent.children.splice(index, 1, ...nodes)\n    } else {\n      nodes = [node]\n    }\n\n    return index + nodes.length\n  }\n}\n\n/**\n * Turn a tuple or a list of tuples into pairs.\n *\n * @param {FindAndReplaceList | FindAndReplaceTuple} tupleOrList\n *   Schema.\n * @returns {Pairs}\n *   Clean pairs.\n */\nfunction toPairs(tupleOrList) {\n  /** @type {Pairs} */\n  const result = []\n\n  if (!Array.isArray(tupleOrList)) {\n    throw new TypeError('Expected find and replace tuple or list of tuples')\n  }\n\n  /** @type {FindAndReplaceList} */\n  // @ts-expect-error: correct.\n  const list =\n    !tupleOrList[0] || Array.isArray(tupleOrList[0])\n      ? tupleOrList\n      : [tupleOrList]\n\n  let index = -1\n\n  while (++index < list.length) {\n    const tuple = list[index]\n    result.push([toExpression(tuple[0]), toFunction(tuple[1])])\n  }\n\n  return result\n}\n\n/**\n * Turn a find into an expression.\n *\n * @param {Find} find\n *   Find.\n * @returns {RegExp}\n *   Expression.\n */\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\n/**\n * Turn a replace into a function.\n *\n * @param {Replace} replace\n *   Replace.\n * @returns {ReplaceFunction}\n *   Function.\n */\nfunction toFunction(replace) {\n  return typeof replace === 'function'\n    ? replace\n    : function () {\n        return replace\n      }\n}\n","/**\n * @import {RegExpMatchObject, ReplaceFunction} from 'mdast-util-find-and-replace'\n * @import {CompileContext, Extension as FromMarkdownExtension, Handle as FromMarkdownHandle, Transform as FromMarkdownTransform} from 'mdast-util-from-markdown'\n * @import {ConstructName, Options as ToMarkdownExtension} from 'mdast-util-to-markdown'\n * @import {Link, PhrasingContent} from 'mdast'\n */\n\nimport {ccount} from 'ccount'\nimport {ok as assert} from 'devlop'\nimport {unicodePunctuation, unicodeWhitespace} from 'micromark-util-character'\nimport {findAndReplace} from 'mdast-util-find-and-replace'\n\n/** @type {ConstructName} */\nconst inConstruct = 'phrasing'\n/** @type {Array<ConstructName>} */\nconst notInConstruct = ['autolink', 'link', 'image', 'label']\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM autolink\n * literals in markdown.\n *\n * @returns {FromMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM autolink literals.\n */\nexport function gfmAutolinkLiteralFromMarkdown() {\n  return {\n    transforms: [transformGfmAutolinkLiterals],\n    enter: {\n      literalAutolink: enterLiteralAutolink,\n      literalAutolinkEmail: enterLiteralAutolinkValue,\n      literalAutolinkHttp: enterLiteralAutolinkValue,\n      literalAutolinkWww: enterLiteralAutolinkValue\n    },\n    exit: {\n      literalAutolink: exitLiteralAutolink,\n      literalAutolinkEmail: exitLiteralAutolinkEmail,\n      literalAutolinkHttp: exitLiteralAutolinkHttp,\n      literalAutolinkWww: exitLiteralAutolinkWww\n    }\n  }\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM autolink\n * literals in markdown.\n *\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM autolink literals.\n */\nexport function gfmAutolinkLiteralToMarkdown() {\n  return {\n    unsafe: [\n      {\n        character: '@',\n        before: '[+\\\\-.\\\\w]',\n        after: '[\\\\-.\\\\w]',\n        inConstruct,\n        notInConstruct\n      },\n      {\n        character: '.',\n        before: '[Ww]',\n        after: '[\\\\-.\\\\w]',\n        inConstruct,\n        notInConstruct\n      },\n      {\n        character: ':',\n        before: '[ps]',\n        after: '\\\\/',\n        inConstruct,\n        notInConstruct\n      }\n    ]\n  }\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  const node = this.stack[this.stack.length - 1]\n  assert(node.type === 'link')\n  node.url = 'http://' + this.sliceSerialize(token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\n/** @type {FromMarkdownTransform} */\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/gi, findUrl],\n      [/(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/gu, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\n/**\n * @type {ReplaceFunction}\n * @param {string} _\n * @param {string} protocol\n * @param {string} domain\n * @param {string} path\n * @param {RegExpMatchObject} match\n * @returns {Array<PhrasingContent> | Link | false}\n */\n// eslint-disable-next-line max-params\nfunction findUrl(_, protocol, domain, path, match) {\n  let prefix = ''\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  const parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  /** @type {Link} */\n  const result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    return [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\n/**\n * @type {ReplaceFunction}\n * @param {string} _\n * @param {string} atext\n * @param {string} label\n * @param {RegExpMatchObject} match\n * @returns {Link | false}\n */\nfunction findEmail(_, atext, label, match) {\n  if (\n    // Not an expected previous character.\n    !previous(match, true) ||\n    // Label ends in not allowed character.\n    /[-\\d_]$/.test(label)\n  ) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\n/**\n * @param {string} domain\n * @returns {boolean}\n */\nfunction isCorrectDomain(domain) {\n  const parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * @param {string} url\n * @returns {[string, string | undefined]}\n */\nfunction splitUrl(url) {\n  const trailExec = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n\n  if (!trailExec) {\n    return [url, undefined]\n  }\n\n  url = url.slice(0, trailExec.index)\n\n  let trail = trailExec[0]\n  let closingParenIndex = trail.indexOf(')')\n  const openingParens = ccount(url, '(')\n  let closingParens = ccount(url, ')')\n\n  while (closingParenIndex !== -1 && openingParens > closingParens) {\n    url += trail.slice(0, closingParenIndex + 1)\n    trail = trail.slice(closingParenIndex + 1)\n    closingParenIndex = trail.indexOf(')')\n    closingParens++\n  }\n\n  return [url, trail]\n}\n\n/**\n * @param {RegExpMatchObject} match\n * @param {boolean | null | undefined} [email=false]\n * @returns {boolean}\n */\nfunction previous(match, email) {\n  const code = match.input.charCodeAt(match.index - 1)\n\n  return (\n    (match.index === 0 ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)) &&\n    // If its an email, the previous character should not be a slash.\n    (!email || code !== 47)\n  )\n}\n","/**\n * @typedef {import('mdast').FootnoteDefinition} FootnoteDefinition\n * @typedef {import('mdast').FootnoteReference} FootnoteReference\n * @typedef {import('mdast-util-from-markdown').CompileContext} CompileContext\n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-from-markdown').Handle} FromMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Handle} ToMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Map} Map\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n */\n\nimport {ok as assert} from 'devlop'\nimport {normalizeIdentifier} from 'micromark-util-normalize-identifier'\n\nfootnoteReference.peek = footnoteReferencePeek\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM footnotes\n * in markdown.\n *\n * @returns {FromMarkdownExtension}\n *   Extension for `mdast-util-from-markdown`.\n */\nexport function gfmFootnoteFromMarkdown() {\n  return {\n    enter: {\n      gfmFootnoteDefinition: enterFootnoteDefinition,\n      gfmFootnoteDefinitionLabelString: enterFootnoteDefinitionLabelString,\n      gfmFootnoteCall: enterFootnoteCall,\n      gfmFootnoteCallString: enterFootnoteCallString\n    },\n    exit: {\n      gfmFootnoteDefinition: exitFootnoteDefinition,\n      gfmFootnoteDefinitionLabelString: exitFootnoteDefinitionLabelString,\n      gfmFootnoteCall: exitFootnoteCall,\n      gfmFootnoteCallString: exitFootnoteCallString\n    }\n  }\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM footnotes\n * in markdown.\n *\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown`.\n */\nexport function gfmFootnoteToMarkdown() {\n  return {\n    // This is on by default already.\n    unsafe: [{character: '[', inConstruct: ['phrasing', 'label', 'reference']}],\n    handlers: {footnoteDefinition, footnoteReference}\n  }\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterFootnoteDefinition(token) {\n  this.enter(\n    {type: 'footnoteDefinition', identifier: '', label: '', children: []},\n    token\n  )\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterFootnoteDefinitionLabelString() {\n  this.buffer()\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitFootnoteDefinitionLabelString(token) {\n  const label = this.resume()\n  const node = this.stack[this.stack.length - 1]\n  assert(node.type === 'footnoteDefinition')\n  node.label = label\n  node.identifier = normalizeIdentifier(\n    this.sliceSerialize(token)\n  ).toLowerCase()\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitFootnoteDefinition(token) {\n  this.exit(token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterFootnoteCall(token) {\n  this.enter({type: 'footnoteReference', identifier: '', label: ''}, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterFootnoteCallString() {\n  this.buffer()\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitFootnoteCallString(token) {\n  const label = this.resume()\n  const node = this.stack[this.stack.length - 1]\n  assert(node.type === 'footnoteReference')\n  node.label = label\n  node.identifier = normalizeIdentifier(\n    this.sliceSerialize(token)\n  ).toLowerCase()\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitFootnoteCall(token) {\n  this.exit(token)\n}\n\n/**\n * @type {ToMarkdownHandle}\n * @param {FootnoteReference} node\n */\nfunction footnoteReference(node, _, state, info) {\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[^')\n  const exit = state.enter('footnoteReference')\n  const subexit = state.enter('reference')\n  value += tracker.move(\n    state.safe(state.associationId(node), {\n      ...tracker.current(),\n      before: value,\n      after: ']'\n    })\n  )\n  subexit()\n  exit()\n  value += tracker.move(']')\n  return value\n}\n\n/** @type {ToMarkdownHandle} */\nfunction footnoteReferencePeek() {\n  return '['\n}\n\n/**\n * @type {ToMarkdownHandle}\n * @param {FootnoteDefinition} node\n */\nfunction footnoteDefinition(node, _, state, info) {\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[^')\n  const exit = state.enter('footnoteDefinition')\n  const subexit = state.enter('label')\n  value += tracker.move(\n    state.safe(state.associationId(node), {\n      ...tracker.current(),\n      before: value,\n      after: ']'\n    })\n  )\n  subexit()\n  value += tracker.move(\n    ']:' + (node.children && node.children.length > 0 ? ' ' : '')\n  )\n  tracker.shift(4)\n  value += tracker.move(\n    state.indentLines(state.containerFlow(node, tracker.current()), map)\n  )\n  exit()\n\n  return value\n}\n\n/** @type {Map} */\nfunction map(line, index, blank) {\n  if (index === 0) {\n    return line\n  }\n\n  return (blank ? '' : '    ') + line\n}\n","/**\n * @typedef {import('mdast').Delete} Delete\n *\n * @typedef {import('mdast-util-from-markdown').CompileContext} CompileContext\n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-from-markdown').Handle} FromMarkdownHandle\n *\n * @typedef {import('mdast-util-to-markdown').ConstructName} ConstructName\n * @typedef {import('mdast-util-to-markdown').Handle} ToMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n */\n\n/**\n * List of constructs that occur in phrasing (paragraphs, headings), but cannot\n * contain strikethrough.\n * So they sort of cancel each other out.\n * Note: could use a better name.\n *\n * Note: keep in sync with: <https://github.com/syntax-tree/mdast-util-to-markdown/blob/8ce8dbf/lib/unsafe.js#L14>\n *\n * @type {Array<ConstructName>}\n */\nconst constructsWithoutStrikethrough = [\n  'autolink',\n  'destinationLiteral',\n  'destinationRaw',\n  'reference',\n  'titleQuote',\n  'titleApostrophe'\n]\n\nhandleDelete.peek = peekDelete\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM\n * strikethrough in markdown.\n *\n * @returns {FromMarkdownExtension}\n *   Extension for `mdast-util-from-markdown` to enable GFM strikethrough.\n */\nexport function gfmStrikethroughFromMarkdown() {\n  return {\n    canContainEols: ['delete'],\n    enter: {strikethrough: enterStrikethrough},\n    exit: {strikethrough: exitStrikethrough}\n  }\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM\n * strikethrough in markdown.\n *\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM strikethrough.\n */\nexport function gfmStrikethroughToMarkdown() {\n  return {\n    unsafe: [\n      {\n        character: '~',\n        inConstruct: 'phrasing',\n        notInConstruct: constructsWithoutStrikethrough\n      }\n    ],\n    handlers: {delete: handleDelete}\n  }\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n\n/**\n * @type {ToMarkdownHandle}\n * @param {Delete} node\n */\nfunction handleDelete(node, _, state, info) {\n  const tracker = state.createTracker(info)\n  const exit = state.enter('strikethrough')\n  let value = tracker.move('~~')\n  value += state.containerPhrasing(node, {\n    ...tracker.current(),\n    before: value,\n    after: '~'\n  })\n  value += tracker.move('~~')\n  exit()\n  return value\n}\n\n/** @type {ToMarkdownHandle} */\nfunction peekDelete() {\n  return '~'\n}\n","// To do: next major: remove.\n/**\n * @typedef {Options} MarkdownTableOptions\n *   Configuration.\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {boolean | null | undefined} [alignDelimiters=true]\n *   Whether to align the delimiters (default: `true`);\n *   they are aligned by default:\n *\n *   ```markdown\n *   | Alpha | B     |\n *   | ----- | ----- |\n *   | C     | Delta |\n *   ```\n *\n *   Pass `false` to make them staggered:\n *\n *   ```markdown\n *   | Alpha | B |\n *   | - | - |\n *   | C | Delta |\n *   ```\n * @property {ReadonlyArray<string | null | undefined> | string | null | undefined} [align]\n *   How to align columns (default: `''`);\n *   one style for all columns or styles for their respective columns;\n *   each style is either `'l'` (left), `'r'` (right), or `'c'` (center);\n *   other values are treated as `''`, which doesnt place the colon in the\n *   alignment row but does align left;\n *   *only the lowercased first character is used, so `Right` is fine.*\n * @property {boolean | null | undefined} [delimiterEnd=true]\n *   Whether to end each row with the delimiter (default: `true`).\n *\n *   >  **Note**: please dont use this: it could create fragile structures\n *   > that arent understandable to some markdown parsers.\n *\n *   When `true`, there are ending delimiters:\n *\n *   ```markdown\n *   | Alpha | B     |\n *   | ----- | ----- |\n *   | C     | Delta |\n *   ```\n *\n *   When `false`, there are no ending delimiters:\n *\n *   ```markdown\n *   | Alpha | B\n *   | ----- | -----\n *   | C     | Delta\n *   ```\n * @property {boolean | null | undefined} [delimiterStart=true]\n *   Whether to begin each row with the delimiter (default: `true`).\n *\n *   >  **Note**: please dont use this: it could create fragile structures\n *   > that arent understandable to some markdown parsers.\n *\n *   When `true`, there are starting delimiters:\n *\n *   ```markdown\n *   | Alpha | B     |\n *   | ----- | ----- |\n *   | C     | Delta |\n *   ```\n *\n *   When `false`, there are no starting delimiters:\n *\n *   ```markdown\n *   Alpha | B     |\n *   ----- | ----- |\n *   C     | Delta |\n *   ```\n * @property {boolean | null | undefined} [padding=true]\n *   Whether to add a space of padding between delimiters and cells\n *   (default: `true`).\n *\n *   When `true`, there is padding:\n *\n *   ```markdown\n *   | Alpha | B     |\n *   | ----- | ----- |\n *   | C     | Delta |\n *   ```\n *\n *   When `false`, there is no padding:\n *\n *   ```markdown\n *   |Alpha|B    |\n *   |-----|-----|\n *   |C    |Delta|\n *   ```\n * @property {((value: string) => number) | null | undefined} [stringLength]\n *   Function to detect the length of table cell content (optional);\n *   this is used when aligning the delimiters (`|`) between table cells;\n *   full-width characters and emoji mess up delimiter alignment when viewing\n *   the markdown source;\n *   to fix this, you can pass this function,\n *   which receives the cell content and returns its visible size;\n *   note that what is and isnt visible depends on where the text is displayed.\n *\n *   Without such a function, the following:\n *\n *   ```js\n *   markdownTable([\n *     ['Alpha', 'Bravo'],\n *     ['', 'Charlie'],\n *     ['', 'Delta']\n *   ])\n *   ```\n *\n *   Yields:\n *\n *   ```markdown\n *   | Alpha | Bravo |\n *   | - | - |\n *   |  | Charlie |\n *   |  | Delta |\n *   ```\n *\n *   With [`string-width`](https://github.com/sindresorhus/string-width):\n *\n *   ```js\n *   import stringWidth from 'string-width'\n *\n *   markdownTable(\n *     [\n *       ['Alpha', 'Bravo'],\n *       ['', 'Charlie'],\n *       ['', 'Delta']\n *     ],\n *     {stringLength: stringWidth}\n *   )\n *   ```\n *\n *   Yields:\n *\n *   ```markdown\n *   | Alpha | Bravo   |\n *   | ----- | ------- |\n *   |   | Charlie |\n *   |     | Delta   |\n *   ```\n */\n\n/**\n * @param {string} value\n *   Cell value.\n * @returns {number}\n *   Cell size.\n */\nfunction defaultStringLength(value) {\n  return value.length\n}\n\n/**\n * Generate a markdown\n * ([GFM](https://docs.github.com/en/github/writing-on-github/working-with-advanced-formatting/organizing-information-with-tables))\n * table.\n *\n * @param {ReadonlyArray<ReadonlyArray<string | null | undefined>>} table\n *   Table data (matrix of strings).\n * @param {Readonly<Options> | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Result.\n */\nexport function markdownTable(table, options) {\n  const settings = options || {}\n  // To do: next major: change to spread.\n  const align = (settings.align || []).concat()\n  const stringLength = settings.stringLength || defaultStringLength\n  /** @type {Array<number>} Character codes as symbols for alignment per column. */\n  const alignments = []\n  /** @type {Array<Array<string>>} Cells per row. */\n  const cellMatrix = []\n  /** @type {Array<Array<number>>} Sizes of each cell per row. */\n  const sizeMatrix = []\n  /** @type {Array<number>} */\n  const longestCellByColumn = []\n  let mostCellsPerRow = 0\n  let rowIndex = -1\n\n  // This is a superfluous loop if we dont align delimiters, but otherwise wed\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < table.length) {\n    /** @type {Array<string>} */\n    const row = []\n    /** @type {Array<number>} */\n    const sizes = []\n    let columnIndex = -1\n\n    if (table[rowIndex].length > mostCellsPerRow) {\n      mostCellsPerRow = table[rowIndex].length\n    }\n\n    while (++columnIndex < table[rowIndex].length) {\n      const cell = serialize(table[rowIndex][columnIndex])\n\n      if (settings.alignDelimiters !== false) {\n        const size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        if (\n          longestCellByColumn[columnIndex] === undefined ||\n          size > longestCellByColumn[columnIndex]\n        ) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  let columnIndex = -1\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < mostCellsPerRow) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    const code = toAlignment(align)\n\n    while (++columnIndex < mostCellsPerRow) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  /** @type {Array<string>} */\n  const row = []\n  /** @type {Array<number>} */\n  const sizes = []\n\n  while (++columnIndex < mostCellsPerRow) {\n    const code = alignments[columnIndex]\n    let before = ''\n    let after = ''\n\n    if (code === 99 /* `c` */) {\n      before = ':'\n      after = ':'\n    } else if (code === 108 /* `l` */) {\n      before = ':'\n    } else if (code === 114 /* `r` */) {\n      after = ':'\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    let size =\n      settings.alignDelimiters === false\n        ? 1\n        : Math.max(\n            1,\n            longestCellByColumn[columnIndex] - before.length - after.length\n          )\n\n    const cell = before + '-'.repeat(size) + after\n\n    if (settings.alignDelimiters !== false) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  /** @type {Array<string>} */\n  const lines = []\n\n  while (++rowIndex < cellMatrix.length) {\n    const row = cellMatrix[rowIndex]\n    const sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    /** @type {Array<string>} */\n    const line = []\n\n    while (++columnIndex < mostCellsPerRow) {\n      const cell = row[columnIndex] || ''\n      let before = ''\n      let after = ''\n\n      if (settings.alignDelimiters !== false) {\n        const size =\n          longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        const code = alignments[columnIndex]\n\n        if (code === 114 /* `r` */) {\n          before = ' '.repeat(size)\n        } else if (code === 99 /* `c` */) {\n          if (size % 2) {\n            before = ' '.repeat(size / 2 + 0.5)\n            after = ' '.repeat(size / 2 - 0.5)\n          } else {\n            before = ' '.repeat(size / 2)\n            after = before\n          }\n        } else {\n          after = ' '.repeat(size)\n        }\n      }\n\n      if (settings.delimiterStart !== false && !columnIndex) {\n        line.push('|')\n      }\n\n      if (\n        settings.padding !== false &&\n        // Dont add the opening space if were not aligning and the cell is\n        // empty: there will be a closing space.\n        !(settings.alignDelimiters === false && cell === '') &&\n        (settings.delimiterStart !== false || columnIndex)\n      ) {\n        line.push(' ')\n      }\n\n      if (settings.alignDelimiters !== false) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (settings.alignDelimiters !== false) {\n        line.push(after)\n      }\n\n      if (settings.padding !== false) {\n        line.push(' ')\n      }\n\n      if (\n        settings.delimiterEnd !== false ||\n        columnIndex !== mostCellsPerRow - 1\n      ) {\n        line.push('|')\n      }\n    }\n\n    lines.push(\n      settings.delimiterEnd === false\n        ? line.join('').replace(/ +$/, '')\n        : line.join('')\n    )\n  }\n\n  return lines.join('\\n')\n}\n\n/**\n * @param {string | null | undefined} [value]\n *   Value to serialize.\n * @returns {string}\n *   Result.\n */\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\n/**\n * @param {string | null | undefined} value\n *   Value.\n * @returns {number}\n *   Alignment.\n */\nfunction toAlignment(value) {\n  const code = typeof value === 'string' ? value.codePointAt(0) : 0\n\n  return code === 67 /* `C` */ || code === 99 /* `c` */\n    ? 99 /* `c` */\n    : code === 76 /* `L` */ || code === 108 /* `l` */\n      ? 108 /* `l` */\n      : code === 82 /* `R` */ || code === 114 /* `r` */\n        ? 114 /* `r` */\n        : 0\n}\n","/**\n * @callback Handler\n *   Handle a value, with a certain ID field set to a certain value.\n *   The ID field is passed to `zwitch`, and its value is this functions\n *   place on the `handlers` record.\n * @param {...any} parameters\n *   Arbitrary parameters passed to the zwitch.\n *   The first will be an object with a certain ID field set to a certain value.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback UnknownHandler\n *   Handle values that do have a certain ID field, but its set to a value\n *   that is not listed in the `handlers` record.\n * @param {unknown} value\n *   An object with a certain ID field set to an unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback InvalidHandler\n *   Handle values that do not have a certain ID field.\n * @param {unknown} value\n *   Any unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {void|null|undefined|never}\n *   This should crash or return nothing.\n */\n\n/**\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @typedef Options\n *   Configuration (required).\n * @property {Invalid} [invalid]\n *   Handler to use for invalid values.\n * @property {Unknown} [unknown]\n *   Handler to use for unknown values.\n * @property {Handlers} [handlers]\n *   Handlers to use.\n */\n\nconst own = {}.hasOwnProperty\n\n/**\n * Handle values based on a field.\n *\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @param {string} key\n *   Field to switch on.\n * @param {Options<Invalid, Unknown, Handlers>} [options]\n *   Configuration (required).\n * @returns {{unknown: Unknown, invalid: Invalid, handlers: Handlers, (...parameters: Parameters<Handlers[keyof Handlers]>): ReturnType<Handlers[keyof Handlers]>, (...parameters: Parameters<Unknown>): ReturnType<Unknown>}}\n */\nexport function zwitch(key, options) {\n  const settings = options || {}\n\n  /**\n   * Handle one value.\n   *\n   * Based on the bound `key`, a respective handler will be called.\n   * If `value` is not an object, or doesnt have a `key` property, the special\n   * invalid handler will be called.\n   * If `value` has an unknown `key`, the special unknown handler will be\n   * called.\n   *\n   * All arguments, and the context object, are passed through to the handler,\n   * and its result is returned.\n   *\n   * @this {unknown}\n   *   Any context object.\n   * @param {unknown} [value]\n   *   Any value.\n   * @param {...unknown} parameters\n   *   Arbitrary parameters passed to the zwitch.\n   * @property {Handler} invalid\n   *   Handle for values that do not have a certain ID field.\n   * @property {Handler} unknown\n   *   Handle values that do have a certain ID field, but its set to a value\n   *   that is not listed in the `handlers` record.\n   * @property {Handlers} handlers\n   *   Record of handlers.\n   * @returns {unknown}\n   *   Anything.\n   */\n  function one(value, ...parameters) {\n    /** @type {Handler|undefined} */\n    let fn = one.invalid\n    const handlers = one.handlers\n\n    if (value && own.call(value, key)) {\n      // @ts-expect-error Indexable.\n      const id = String(value[key])\n      // @ts-expect-error Indexable.\n      fn = own.call(handlers, id) ? handlers[id] : one.unknown\n    }\n\n    if (fn) {\n      return fn.call(this, value, ...parameters)\n    }\n  }\n\n  one.handlers = settings.handlers || {}\n  one.invalid = settings.invalid\n  one.unknown = settings.unknown\n\n  // @ts-expect-error: matches!\n  return one\n}\n","/**\n * @import {Blockquote, Parents} from 'mdast'\n * @import {Info, Map, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {Blockquote} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function blockquote(node, _, state, info) {\n  const exit = state.enter('blockquote')\n  const tracker = state.createTracker(info)\n  tracker.move('> ')\n  tracker.shift(2)\n  const value = state.indentLines(\n    state.containerFlow(node, tracker.current()),\n    map\n  )\n  exit()\n  return value\n}\n\n/** @type {Map} */\nfunction map(line, _, blank) {\n  return '>' + (blank ? '' : ' ') + line\n}\n","/**\n * @import {ConstructName, Unsafe} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {Array<ConstructName>} stack\n * @param {Unsafe} pattern\n * @returns {boolean}\n */\nexport function patternInScope(stack, pattern) {\n  return (\n    listInScope(stack, pattern.inConstruct, true) &&\n    !listInScope(stack, pattern.notInConstruct, false)\n  )\n}\n\n/**\n * @param {Array<ConstructName>} stack\n * @param {Unsafe['inConstruct']} list\n * @param {boolean} none\n * @returns {boolean}\n */\nfunction listInScope(stack, list, none) {\n  if (typeof list === 'string') {\n    list = [list]\n  }\n\n  if (!list || list.length === 0) {\n    return none\n  }\n\n  let index = -1\n\n  while (++index < list.length) {\n    if (stack.includes(list[index])) {\n      return true\n    }\n  }\n\n  return false\n}\n","/**\n * @import {Break, Parents} from 'mdast'\n * @import {Info, State} from 'mdast-util-to-markdown'\n */\n\nimport {patternInScope} from '../util/pattern-in-scope.js'\n\n/**\n * @param {Break} _\n * @param {Parents | undefined} _1\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function hardBreak(_, _1, state, info) {\n  let index = -1\n\n  while (++index < state.unsafe.length) {\n    // If we cant put eols in this construct (setext headings, tables), use a\n    // space instead.\n    if (\n      state.unsafe[index].character === '\\n' &&\n      patternInScope(state.stack, state.unsafe[index])\n    ) {\n      return /[ \\t]/.test(info.before) ? '' : ' '\n    }\n  }\n\n  return '\\\\\\n'\n}\n","/**\n * Get the count of the longest repeating streak of `substring` in `value`.\n *\n * @param {string} value\n *   Content to search in.\n * @param {string} substring\n *   Substring to look for, typically one character.\n * @returns {number}\n *   Count of most frequent adjacent `substring`s in `value`.\n */\nexport function longestStreak(value, substring) {\n  const source = String(value)\n  let index = source.indexOf(substring)\n  let expected = index\n  let count = 0\n  let max = 0\n\n  if (typeof substring !== 'string') {\n    throw new TypeError('Expected substring')\n  }\n\n  while (index !== -1) {\n    if (index === expected) {\n      if (++count > max) {\n        max = count\n      }\n    } else {\n      count = 1\n    }\n\n    expected = index + substring.length\n    index = source.indexOf(substring, expected)\n  }\n\n  return max\n}\n","/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {Code} from 'mdast'\n */\n\n/**\n * @param {Code} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatCodeAsIndented(node, state) {\n  return Boolean(\n    state.options.fences === false &&\n      node.value &&\n      // If theres no info\n      !node.lang &&\n      // And theres a non-whitespace character\n      /[^ \\r\\n]/.test(node.value) &&\n      // And the value doesnt start or end in a blank\n      !/^[\\t ]*(?:[\\r\\n]|$)|(?:^|[\\r\\n])[\\t ]*$/.test(node.value)\n  )\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['fence'], null | undefined>}\n */\nexport function checkFence(state) {\n  const marker = state.options.fence || '`'\n\n  if (marker !== '`' && marker !== '~') {\n    throw new Error(\n      'Cannot serialize code with `' +\n        marker +\n        '` for `options.fence`, expected `` ` `` or `~`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Info, Map, State} from 'mdast-util-to-markdown'\n * @import {Code, Parents} from 'mdast'\n */\n\nimport {longestStreak} from 'longest-streak'\nimport {formatCodeAsIndented} from '../util/format-code-as-indented.js'\nimport {checkFence} from '../util/check-fence.js'\n\n/**\n * @param {Code} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function code(node, _, state, info) {\n  const marker = checkFence(state)\n  const raw = node.value || ''\n  const suffix = marker === '`' ? 'GraveAccent' : 'Tilde'\n\n  if (formatCodeAsIndented(node, state)) {\n    const exit = state.enter('codeIndented')\n    const value = state.indentLines(raw, map)\n    exit()\n    return value\n  }\n\n  const tracker = state.createTracker(info)\n  const sequence = marker.repeat(Math.max(longestStreak(raw, marker) + 1, 3))\n  const exit = state.enter('codeFenced')\n  let value = tracker.move(sequence)\n\n  if (node.lang) {\n    const subexit = state.enter(`codeFencedLang${suffix}`)\n    value += tracker.move(\n      state.safe(node.lang, {\n        before: value,\n        after: ' ',\n        encode: ['`'],\n        ...tracker.current()\n      })\n    )\n    subexit()\n  }\n\n  if (node.lang && node.meta) {\n    const subexit = state.enter(`codeFencedMeta${suffix}`)\n    value += tracker.move(' ')\n    value += tracker.move(\n      state.safe(node.meta, {\n        before: value,\n        after: '\\n',\n        encode: ['`'],\n        ...tracker.current()\n      })\n    )\n    subexit()\n  }\n\n  value += tracker.move('\\n')\n\n  if (raw) {\n    value += tracker.move(raw + '\\n')\n  }\n\n  value += tracker.move(sequence)\n  exit()\n  return value\n}\n\n/** @type {Map} */\nfunction map(line, _, blank) {\n  return (blank ? '' : '    ') + line\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['quote'], null | undefined>}\n */\nexport function checkQuote(state) {\n  const marker = state.options.quote || '\"'\n\n  if (marker !== '\"' && marker !== \"'\") {\n    throw new Error(\n      'Cannot serialize title with `' +\n        marker +\n        '` for `options.quote`, expected `\"`, or `\\'`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Definition, Parents} from 'mdast'\n */\n\nimport {checkQuote} from '../util/check-quote.js'\n\n/**\n * @param {Definition} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function definition(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = state.enter('definition')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[')\n  value += tracker.move(\n    state.safe(state.associationId(node), {\n      before: value,\n      after: ']',\n      ...tracker.current()\n    })\n  )\n  value += tracker.move(']: ')\n\n  subexit()\n\n  if (\n    // If theres no url, or\n    !node.url ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : '\\n',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  exit()\n\n  return value\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['emphasis'], null | undefined>}\n */\nexport function checkEmphasis(state) {\n  const marker = state.options.emphasis || '*'\n\n  if (marker !== '*' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize emphasis with `' +\n        marker +\n        '` for `options.emphasis`, expected `*`, or `_`'\n    )\n  }\n\n  return marker\n}\n","/**\n * Encode a code point as a character reference.\n *\n * @param {number} code\n *   Code point to encode.\n * @returns {string}\n *   Encoded character reference.\n */\nexport function encodeCharacterReference(code) {\n  return '&#x' + code.toString(16).toUpperCase() + ';'\n}\n","/**\n * @import {EncodeSides} from '../types.js'\n */\n\nimport {classifyCharacter} from 'micromark-util-classify-character'\n\n/**\n * Check whether to encode (as a character reference) the characters\n * surrounding an attention run.\n *\n * Which characters are around an attention run influence whether it works or\n * not.\n *\n * See <https://github.com/orgs/syntax-tree/discussions/60> for more info.\n * See this markdown in a particular renderer to see what works:\n *\n * ```markdown\n * |                         | A (letter inside) | B (punctuation inside) | C (whitespace inside) | D (nothing inside) |\n * | ----------------------- | ----------------- | ---------------------- | --------------------- | ------------------ |\n * | 1 (letter outside)      | x*y*z             | x*.*z                  | x* *z                 | x**z               |\n * | 2 (punctuation outside) | .*y*.             | .*.*.                  | .* *.                 | .**.               |\n * | 3 (whitespace outside)  | x *y* z           | x *.* z                | x * * z               | x ** z             |\n * | 4 (nothing outside)     | *x*               | *.*                    | * *                   | **                 |\n * ```\n *\n * @param {number} outside\n *   Code point on the outer side of the run.\n * @param {number} inside\n *   Code point on the inner side of the run.\n * @param {'*' | '_'} marker\n *   Marker of the run.\n *   Underscores are handled more strictly (they form less often) than\n *   asterisks.\n * @returns {EncodeSides}\n *   Whether to encode characters.\n */\n// Important: punctuation must never be encoded.\n// Punctuation is solely used by markdown constructs.\n// And by encoding itself.\n// Encoding them will break constructs or double encode things.\nexport function encodeInfo(outside, inside, marker) {\n  const outsideKind = classifyCharacter(outside)\n  const insideKind = classifyCharacter(inside)\n\n  // Letter outside:\n  if (outsideKind === undefined) {\n    return insideKind === undefined\n      ? // Letter inside:\n        // we have to encode *both* letters for `_` as it is looser.\n        // it already forms for `*` (and GFMs `~`).\n        marker === '_'\n        ? {inside: true, outside: true}\n        : {inside: false, outside: false}\n      : insideKind === 1\n        ? // Whitespace inside: encode both (letter, whitespace).\n          {inside: true, outside: true}\n        : // Punctuation inside: encode outer (letter)\n          {inside: false, outside: true}\n  }\n\n  // Whitespace outside:\n  if (outsideKind === 1) {\n    return insideKind === undefined\n      ? // Letter inside: already forms.\n        {inside: false, outside: false}\n      : insideKind === 1\n        ? // Whitespace inside: encode both (whitespace).\n          {inside: true, outside: true}\n        : // Punctuation inside: already forms.\n          {inside: false, outside: false}\n  }\n\n  // Punctuation outside:\n  return insideKind === undefined\n    ? // Letter inside: already forms.\n      {inside: false, outside: false}\n    : insideKind === 1\n      ? // Whitespace inside: encode inner (whitespace).\n        {inside: true, outside: false}\n      : // Punctuation inside: already forms.\n        {inside: false, outside: false}\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Emphasis, Parents} from 'mdast'\n */\n\nimport {checkEmphasis} from '../util/check-emphasis.js'\nimport {encodeCharacterReference} from '../util/encode-character-reference.js'\nimport {encodeInfo} from '../util/encode-info.js'\n\nemphasis.peek = emphasisPeek\n\n/**\n * @param {Emphasis} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function emphasis(node, _, state, info) {\n  const marker = checkEmphasis(state)\n  const exit = state.enter('emphasis')\n  const tracker = state.createTracker(info)\n  const before = tracker.move(marker)\n\n  let between = tracker.move(\n    state.containerPhrasing(node, {\n      after: marker,\n      before,\n      ...tracker.current()\n    })\n  )\n  const betweenHead = between.charCodeAt(0)\n  const open = encodeInfo(\n    info.before.charCodeAt(info.before.length - 1),\n    betweenHead,\n    marker\n  )\n\n  if (open.inside) {\n    between = encodeCharacterReference(betweenHead) + between.slice(1)\n  }\n\n  const betweenTail = between.charCodeAt(between.length - 1)\n  const close = encodeInfo(info.after.charCodeAt(0), betweenTail, marker)\n\n  if (close.inside) {\n    between = between.slice(0, -1) + encodeCharacterReference(betweenTail)\n  }\n\n  const after = tracker.move(marker)\n\n  exit()\n\n  state.attentionEncodeSurroundingInfo = {\n    after: close.outside,\n    before: open.outside\n  }\n  return before + between + after\n}\n\n/**\n * @param {Emphasis} _\n * @param {Parents | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nfunction emphasisPeek(_, _1, state) {\n  return state.options.emphasis || '*'\n}\n","/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {Heading} from 'mdast'\n */\n\nimport {EXIT, visit} from 'unist-util-visit'\nimport {toString} from 'mdast-util-to-string'\n\n/**\n * @param {Heading} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatHeadingAsSetext(node, state) {\n  let literalWithBreak = false\n\n  // Look for literals with a line break.\n  // Note that this also\n  visit(node, function (node) {\n    if (\n      ('value' in node && /\\r?\\n|\\r/.test(node.value)) ||\n      node.type === 'break'\n    ) {\n      literalWithBreak = true\n      return EXIT\n    }\n  })\n\n  return Boolean(\n    (!node.depth || node.depth < 3) &&\n      toString(node) &&\n      (state.options.setext || literalWithBreak)\n  )\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Heading, Parents} from 'mdast'\n */\n\nimport {encodeCharacterReference} from '../util/encode-character-reference.js'\nimport {formatHeadingAsSetext} from '../util/format-heading-as-setext.js'\n\n/**\n * @param {Heading} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function heading(node, _, state, info) {\n  const rank = Math.max(Math.min(6, node.depth || 1), 1)\n  const tracker = state.createTracker(info)\n\n  if (formatHeadingAsSetext(node, state)) {\n    const exit = state.enter('headingSetext')\n    const subexit = state.enter('phrasing')\n    const value = state.containerPhrasing(node, {\n      ...tracker.current(),\n      before: '\\n',\n      after: '\\n'\n    })\n    subexit()\n    exit()\n\n    return (\n      value +\n      '\\n' +\n      (rank === 1 ? '=' : '-').repeat(\n        // The whole size\n        value.length -\n          // Minus the position of the character after the last EOL (or\n          // 0 if there is none)\n          (Math.max(value.lastIndexOf('\\r'), value.lastIndexOf('\\n')) + 1)\n      )\n    )\n  }\n\n  const sequence = '#'.repeat(rank)\n  const exit = state.enter('headingAtx')\n  const subexit = state.enter('phrasing')\n\n  // Note: for proper tracking, we should reset the output positions when there\n  // is no content returned, because then the space is not output.\n  // Practically, in that case, there is no content, so it doesnt matter that\n  // weve tracked one too many characters.\n  tracker.move(sequence + ' ')\n\n  let value = state.containerPhrasing(node, {\n    before: '# ',\n    after: '\\n',\n    ...tracker.current()\n  })\n\n  if (/^[\\t ]/.test(value)) {\n    // To do: what effect has the character reference on tracking?\n    value = encodeCharacterReference(value.charCodeAt(0)) + value.slice(1)\n  }\n\n  value = value ? sequence + ' ' + value : sequence\n\n  if (state.options.closeAtx) {\n    value += ' ' + sequence\n  }\n\n  subexit()\n  exit()\n\n  return value\n}\n","/**\n * @import {Html} from 'mdast'\n */\n\nhtml.peek = htmlPeek\n\n/**\n * @param {Html} node\n * @returns {string}\n */\nexport function html(node) {\n  return node.value || ''\n}\n\n/**\n * @returns {string}\n */\nfunction htmlPeek() {\n  return '<'\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Image, Parents} from 'mdast'\n */\n\nimport {checkQuote} from '../util/check-quote.js'\n\nimage.peek = imagePeek\n\n/**\n * @param {Image} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function image(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = state.enter('image')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('![')\n  value += tracker.move(\n    state.safe(node.alt, {before: value, after: ']', ...tracker.current()})\n  )\n  value += tracker.move('](')\n\n  subexit()\n\n  if (\n    // If theres no url but there is a title\n    (!node.url && node.title) ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  value += tracker.move(')')\n  exit()\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction imagePeek() {\n  return '!'\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {ImageReference, Parents} from 'mdast'\n */\n\nimageReference.peek = imageReferencePeek\n\n/**\n * @param {ImageReference} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function imageReference(node, _, state, info) {\n  const type = node.referenceType\n  const exit = state.enter('imageReference')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('![')\n  const alt = state.safe(node.alt, {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  value += tracker.move(alt + '][')\n\n  subexit()\n  // Hide the fact that were in phrasing, because escapes dont work.\n  const stack = state.stack\n  state.stack = []\n  subexit = state.enter('reference')\n  // Note: for proper tracking, we should reset the output positions when we end\n  // up making a `shortcut` reference, because then there is no brace output.\n  // Practically, in that case, there is no content, so it doesnt matter that\n  // weve tracked one too many characters.\n  const reference = state.safe(state.associationId(node), {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  subexit()\n  state.stack = stack\n  exit()\n\n  if (type === 'full' || !alt || alt !== reference) {\n    value += tracker.move(reference + ']')\n  } else if (type === 'shortcut') {\n    // Remove the unwanted `[`.\n    value = value.slice(0, -1)\n  } else {\n    value += tracker.move(']')\n  }\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction imageReferencePeek() {\n  return '!'\n}\n","/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {InlineCode, Parents} from 'mdast'\n */\n\ninlineCode.peek = inlineCodePeek\n\n/**\n * @param {InlineCode} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @returns {string}\n */\nexport function inlineCode(node, _, state) {\n  let value = node.value || ''\n  let sequence = '`'\n  let index = -1\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs dont count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    ((/^[ \\r\\n]/.test(value) && /[ \\r\\n]$/.test(value)) || /^`|`$/.test(value))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We cant escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < state.unsafe.length) {\n    const pattern = state.unsafe[index]\n    const expression = state.compilePattern(pattern)\n    /** @type {RegExpExecArray | null} */\n    let match\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    while ((match = expression.exec(value))) {\n      let position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\n/**\n * @returns {string}\n */\nfunction inlineCodePeek() {\n  return '`'\n}\n","/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {Link} from 'mdast'\n */\n\nimport {toString} from 'mdast-util-to-string'\n\n/**\n * @param {Link} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatLinkAsAutolink(node, state) {\n  const raw = toString(node)\n\n  return Boolean(\n    !state.options.resourceLink &&\n      // If theres a url\n      node.url &&\n      // And theres a no title\n      !node.title &&\n      // And the content of `node` is a single text node\n      node.children &&\n      node.children.length === 1 &&\n      node.children[0].type === 'text' &&\n      // And if the url is the same as the content\n      (raw === node.url || 'mailto:' + raw === node.url) &&\n      // And that starts w/ a protocol\n      /^[a-z][a-z+.-]+:/i.test(node.url) &&\n      // And that doesnt contain ASCII control codes (character escapes and\n      // references dont work), space, or angle brackets\n      !/[\\0- <>\\u007F]/.test(node.url)\n  )\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Link, Parents} from 'mdast'\n * @import {Exit} from '../types.js'\n */\n\nimport {checkQuote} from '../util/check-quote.js'\nimport {formatLinkAsAutolink} from '../util/format-link-as-autolink.js'\n\nlink.peek = linkPeek\n\n/**\n * @param {Link} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function link(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const tracker = state.createTracker(info)\n  /** @type {Exit} */\n  let exit\n  /** @type {Exit} */\n  let subexit\n\n  if (formatLinkAsAutolink(node, state)) {\n    // Hide the fact that were in phrasing, because escapes dont work.\n    const stack = state.stack\n    state.stack = []\n    exit = state.enter('autolink')\n    let value = tracker.move('<')\n    value += tracker.move(\n      state.containerPhrasing(node, {\n        before: value,\n        after: '>',\n        ...tracker.current()\n      })\n    )\n    value += tracker.move('>')\n    exit()\n    state.stack = stack\n    return value\n  }\n\n  exit = state.enter('link')\n  subexit = state.enter('label')\n  let value = tracker.move('[')\n  value += tracker.move(\n    state.containerPhrasing(node, {\n      before: value,\n      after: '](',\n      ...tracker.current()\n    })\n  )\n  value += tracker.move('](')\n  subexit()\n\n  if (\n    // If theres no url but there is a title\n    (!node.url && node.title) ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  value += tracker.move(')')\n\n  exit()\n  return value\n}\n\n/**\n * @param {Link} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @returns {string}\n */\nfunction linkPeek(node, _, state) {\n  return formatLinkAsAutolink(node, state) ? '<' : '['\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {LinkReference, Parents} from 'mdast'\n */\n\nlinkReference.peek = linkReferencePeek\n\n/**\n * @param {LinkReference} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function linkReference(node, _, state, info) {\n  const type = node.referenceType\n  const exit = state.enter('linkReference')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[')\n  const text = state.containerPhrasing(node, {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  value += tracker.move(text + '][')\n\n  subexit()\n  // Hide the fact that were in phrasing, because escapes dont work.\n  const stack = state.stack\n  state.stack = []\n  subexit = state.enter('reference')\n  // Note: for proper tracking, we should reset the output positions when we end\n  // up making a `shortcut` reference, because then there is no brace output.\n  // Practically, in that case, there is no content, so it doesnt matter that\n  // weve tracked one too many characters.\n  const reference = state.safe(state.associationId(node), {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  subexit()\n  state.stack = stack\n  exit()\n\n  if (type === 'full' || !text || text !== reference) {\n    value += tracker.move(reference + ']')\n  } else if (type === 'shortcut') {\n    // Remove the unwanted `[`.\n    value = value.slice(0, -1)\n  } else {\n    value += tracker.move(']')\n  }\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction linkReferencePeek() {\n  return '['\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bullet'], null | undefined>}\n */\nexport function checkBullet(state) {\n  const marker = state.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\nimport {checkBullet} from './check-bullet.js'\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bullet'], null | undefined>}\n */\nexport function checkBulletOther(state) {\n  const bullet = checkBullet(state)\n  const bulletOther = state.options.bulletOther\n\n  if (!bulletOther) {\n    return bullet === '*' ? '-' : '*'\n  }\n\n  if (bulletOther !== '*' && bulletOther !== '+' && bulletOther !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        bulletOther +\n        '` for `options.bulletOther`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  if (bulletOther === bullet) {\n    throw new Error(\n      'Expected `bullet` (`' +\n        bullet +\n        '`) and `bulletOther` (`' +\n        bulletOther +\n        '`) to be different'\n    )\n  }\n\n  return bulletOther\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bulletOrdered'], null | undefined>}\n */\nexport function checkBulletOrdered(state) {\n  const marker = state.options.bulletOrdered || '.'\n\n  if (marker !== '.' && marker !== ')') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bulletOrdered`, expected `.` or `)`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['rule'], null | undefined>}\n */\nexport function checkRule(state) {\n  const marker = state.options.rule || '*'\n\n  if (marker !== '*' && marker !== '-' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize rules with `' +\n        marker +\n        '` for `options.rule`, expected `*`, `-`, or `_`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {List, Parents} from 'mdast'\n */\n\nimport {checkBullet} from '../util/check-bullet.js'\nimport {checkBulletOther} from '../util/check-bullet-other.js'\nimport {checkBulletOrdered} from '../util/check-bullet-ordered.js'\nimport {checkRule} from '../util/check-rule.js'\n\n/**\n * @param {List} node\n * @param {Parents | undefined} parent\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function list(node, parent, state, info) {\n  const exit = state.enter('list')\n  const bulletCurrent = state.bulletCurrent\n  /** @type {string} */\n  let bullet = node.ordered ? checkBulletOrdered(state) : checkBullet(state)\n  /** @type {string} */\n  const bulletOther = node.ordered\n    ? bullet === '.'\n      ? ')'\n      : '.'\n    : checkBulletOther(state)\n  let useDifferentMarker =\n    parent && state.bulletLastUsed ? bullet === state.bulletLastUsed : false\n\n  if (!node.ordered) {\n    const firstListItem = node.children ? node.children[0] : undefined\n\n    // If theres an empty first list item directly in two list items,\n    // we have to use a different bullet:\n    //\n    // ```markdown\n    // * - *\n    // ```\n    //\n    // because otherwise it would become one big thematic break.\n    if (\n      // Bullet could be used as a thematic break marker:\n      (bullet === '*' || bullet === '-') &&\n      // Empty first list item:\n      firstListItem &&\n      (!firstListItem.children || !firstListItem.children[0]) &&\n      // Directly in two other list items:\n      state.stack[state.stack.length - 1] === 'list' &&\n      state.stack[state.stack.length - 2] === 'listItem' &&\n      state.stack[state.stack.length - 3] === 'list' &&\n      state.stack[state.stack.length - 4] === 'listItem' &&\n      // That are each the first child.\n      state.indexStack[state.indexStack.length - 1] === 0 &&\n      state.indexStack[state.indexStack.length - 2] === 0 &&\n      state.indexStack[state.indexStack.length - 3] === 0\n    ) {\n      useDifferentMarker = true\n    }\n\n    // If theres a thematic break at the start of the first list item,\n    // we have to use a different bullet:\n    //\n    // ```markdown\n    // * ---\n    // ```\n    //\n    // because otherwise it would become one big thematic break.\n    if (checkRule(state) === bullet && firstListItem) {\n      let index = -1\n\n      while (++index < node.children.length) {\n        const item = node.children[index]\n\n        if (\n          item &&\n          item.type === 'listItem' &&\n          item.children &&\n          item.children[0] &&\n          item.children[0].type === 'thematicBreak'\n        ) {\n          useDifferentMarker = true\n          break\n        }\n      }\n    }\n  }\n\n  if (useDifferentMarker) {\n    bullet = bulletOther\n  }\n\n  state.bulletCurrent = bullet\n  const value = state.containerFlow(node, info)\n  state.bulletLastUsed = bullet\n  state.bulletCurrent = bulletCurrent\n  exit()\n  return value\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['listItemIndent'], null | undefined>}\n */\nexport function checkListItemIndent(state) {\n  const style = state.options.listItemIndent || 'one'\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","/**\n * @import {Info, Map, State} from 'mdast-util-to-markdown'\n * @import {ListItem, Parents} from 'mdast'\n */\n\nimport {checkBullet} from '../util/check-bullet.js'\nimport {checkListItemIndent} from '../util/check-list-item-indent.js'\n\n/**\n * @param {ListItem} node\n * @param {Parents | undefined} parent\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function listItem(node, parent, state, info) {\n  const listItemIndent = checkListItemIndent(state)\n  let bullet = state.bulletCurrent || checkBullet(state)\n\n  // Add the marker value for ordered lists.\n  if (parent && parent.type === 'list' && parent.ordered) {\n    bullet =\n      (typeof parent.start === 'number' && parent.start > -1\n        ? parent.start\n        : 1) +\n      (state.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      bullet\n  }\n\n  let size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' &&\n      ((parent && parent.type === 'list' && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  const tracker = state.createTracker(info)\n  tracker.move(bullet + ' '.repeat(size - bullet.length))\n  tracker.shift(size)\n  const exit = state.enter('listItem')\n  const value = state.indentLines(\n    state.containerFlow(node, tracker.current()),\n    map\n  )\n  exit()\n\n  return value\n\n  /** @type {Map} */\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : ' '.repeat(size)) + line\n    }\n\n    return (blank ? bullet : bullet + ' '.repeat(size - bullet.length)) + line\n  }\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Paragraph, Parents} from 'mdast'\n */\n\n/**\n * @param {Paragraph} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function paragraph(node, _, state, info) {\n  const exit = state.enter('paragraph')\n  const subexit = state.enter('phrasing')\n  const value = state.containerPhrasing(node, info)\n  subexit()\n  exit()\n  return value\n}\n","/**\n * @typedef {import('mdast').Html} Html\n * @typedef {import('mdast').PhrasingContent} PhrasingContent\n */\n\nimport {convert} from 'unist-util-is'\n\n/**\n * Check if the given value is *phrasing content*.\n *\n * >  **Note**: Excludes `html`, which can be both phrasing or flow.\n *\n * @param node\n *   Thing to check, typically `Node`.\n * @returns\n *   Whether `value` is phrasing content.\n */\n\nexport const phrasing =\n  /** @type {(node?: unknown) => node is Exclude<PhrasingContent, Html>} */\n  (\n    convert([\n      'break',\n      'delete',\n      'emphasis',\n      // To do: next major: removed since footnotes were added to GFM.\n      'footnote',\n      'footnoteReference',\n      'image',\n      'imageReference',\n      'inlineCode',\n      // Enabled by `mdast-util-math`:\n      'inlineMath',\n      'link',\n      'linkReference',\n      // Enabled by `mdast-util-mdx`:\n      'mdxJsxTextElement',\n      // Enabled by `mdast-util-mdx`:\n      'mdxTextExpression',\n      'strong',\n      'text',\n      // Enabled by `mdast-util-directive`:\n      'textDirective'\n    ])\n  )\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Parents, Root} from 'mdast'\n */\n\nimport {phrasing} from 'mdast-util-phrasing'\n\n/**\n * @param {Root} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function root(node, _, state, info) {\n  // Note: `html` nodes are ambiguous.\n  const hasPhrasing = node.children.some(function (d) {\n    return phrasing(d)\n  })\n\n  const container = hasPhrasing ? state.containerPhrasing : state.containerFlow\n  return container.call(state, node, info)\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['strong'], null | undefined>}\n */\nexport function checkStrong(state) {\n  const marker = state.options.strong || '*'\n\n  if (marker !== '*' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize strong with `' +\n        marker +\n        '` for `options.strong`, expected `*`, or `_`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Parents, Strong} from 'mdast'\n */\n\nimport {checkStrong} from '../util/check-strong.js'\nimport {encodeCharacterReference} from '../util/encode-character-reference.js'\nimport {encodeInfo} from '../util/encode-info.js'\n\nstrong.peek = strongPeek\n\n/**\n * @param {Strong} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function strong(node, _, state, info) {\n  const marker = checkStrong(state)\n  const exit = state.enter('strong')\n  const tracker = state.createTracker(info)\n  const before = tracker.move(marker + marker)\n\n  let between = tracker.move(\n    state.containerPhrasing(node, {\n      after: marker,\n      before,\n      ...tracker.current()\n    })\n  )\n  const betweenHead = between.charCodeAt(0)\n  const open = encodeInfo(\n    info.before.charCodeAt(info.before.length - 1),\n    betweenHead,\n    marker\n  )\n\n  if (open.inside) {\n    between = encodeCharacterReference(betweenHead) + between.slice(1)\n  }\n\n  const betweenTail = between.charCodeAt(between.length - 1)\n  const close = encodeInfo(info.after.charCodeAt(0), betweenTail, marker)\n\n  if (close.inside) {\n    between = between.slice(0, -1) + encodeCharacterReference(betweenTail)\n  }\n\n  const after = tracker.move(marker + marker)\n\n  exit()\n\n  state.attentionEncodeSurroundingInfo = {\n    after: close.outside,\n    before: open.outside\n  }\n  return before + between + after\n}\n\n/**\n * @param {Strong} _\n * @param {Parents | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nfunction strongPeek(_, _1, state) {\n  return state.options.strong || '*'\n}\n","/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Parents, Text} from 'mdast'\n */\n\n/**\n * @param {Text} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function text(node, _, state, info) {\n  return state.safe(node.value, info)\n}\n","/**\n * @import {Options, State} from 'mdast-util-to-markdown'\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['ruleRepetition'], null | undefined>}\n */\nexport function checkRuleRepetition(state) {\n  const repetition = state.options.ruleRepetition || 3\n\n  if (repetition < 3) {\n    throw new Error(\n      'Cannot serialize rules with repetition `' +\n        repetition +\n        '` for `options.ruleRepetition`, expected `3` or more'\n    )\n  }\n\n  return repetition\n}\n","/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {Parents, ThematicBreak} from 'mdast'\n */\n\nimport {checkRuleRepetition} from '../util/check-rule-repetition.js'\nimport {checkRule} from '../util/check-rule.js'\n\n/**\n * @param {ThematicBreak} _\n * @param {Parents | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nexport function thematicBreak(_, _1, state) {\n  const value = (\n    checkRule(state) + (state.options.ruleSpaces ? ' ' : '')\n  ).repeat(checkRuleRepetition(state))\n\n  return state.options.ruleSpaces ? value.slice(0, -1) : value\n}\n","import {blockquote} from './blockquote.js'\nimport {hardBreak} from './break.js'\nimport {code} from './code.js'\nimport {definition} from './definition.js'\nimport {emphasis} from './emphasis.js'\nimport {heading} from './heading.js'\nimport {html} from './html.js'\nimport {image} from './image.js'\nimport {imageReference} from './image-reference.js'\nimport {inlineCode} from './inline-code.js'\nimport {link} from './link.js'\nimport {linkReference} from './link-reference.js'\nimport {list} from './list.js'\nimport {listItem} from './list-item.js'\nimport {paragraph} from './paragraph.js'\nimport {root} from './root.js'\nimport {strong} from './strong.js'\nimport {text} from './text.js'\nimport {thematicBreak} from './thematic-break.js'\n\n/**\n * Default (CommonMark) handlers.\n */\nexport const handle = {\n  blockquote,\n  break: hardBreak,\n  code,\n  definition,\n  emphasis,\n  hardBreak,\n  heading,\n  html,\n  image,\n  imageReference,\n  inlineCode,\n  link,\n  linkReference,\n  list,\n  listItem,\n  paragraph,\n  root,\n  strong,\n  text,\n  thematicBreak\n}\n","/**\n * @typedef {import('mdast').InlineCode} InlineCode\n * @typedef {import('mdast').Table} Table\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('mdast').TableRow} TableRow\n *\n * @typedef {import('markdown-table').Options} MarkdownTableOptions\n *\n * @typedef {import('mdast-util-from-markdown').CompileContext} CompileContext\n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-from-markdown').Handle} FromMarkdownHandle\n *\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n * @typedef {import('mdast-util-to-markdown').Handle} ToMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').State} State\n * @typedef {import('mdast-util-to-markdown').Info} Info\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {boolean | null | undefined} [tableCellPadding=true]\n *   Whether to add a space of padding between delimiters and cells (default:\n *   `true`).\n * @property {boolean | null | undefined} [tablePipeAlign=true]\n *   Whether to align the delimiters (default: `true`).\n * @property {MarkdownTableOptions['stringLength'] | null | undefined} [stringLength]\n *   Function to detect the length of table cell content, used when aligning\n *   the delimiters between cells (optional).\n */\n\nimport {ok as assert} from 'devlop'\nimport {markdownTable} from 'markdown-table'\nimport {defaultHandlers} from 'mdast-util-to-markdown'\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM tables in\n * markdown.\n *\n * @returns {FromMarkdownExtension}\n *   Extension for `mdast-util-from-markdown` to enable GFM tables.\n */\nexport function gfmTableFromMarkdown() {\n  return {\n    enter: {\n      table: enterTable,\n      tableData: enterCell,\n      tableHeader: enterCell,\n      tableRow: enterRow\n    },\n    exit: {\n      codeText: exitCodeText,\n      table: exitTable,\n      tableData: exit,\n      tableHeader: exit,\n      tableRow: exit\n    }\n  }\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterTable(token) {\n  const align = token._align\n  assert(align, 'expected `_align` on table')\n  this.enter(\n    {\n      type: 'table',\n      align: align.map(function (d) {\n        return d === 'none' ? null : d\n      }),\n      children: []\n    },\n    token\n  )\n  this.data.inTable = true\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitTable(token) {\n  this.exit(token)\n  this.data.inTable = undefined\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exit(token) {\n  this.exit(token)\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitCodeText(token) {\n  let value = this.resume()\n\n  if (this.data.inTable) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  const node = this.stack[this.stack.length - 1]\n  assert(node.type === 'inlineCode')\n  node.value = value\n  this.exit(token)\n}\n\n/**\n * @param {string} $0\n * @param {string} $1\n * @returns {string}\n */\nfunction replace($0, $1) {\n  // Pipes work, backslashes dont (but cant escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM tables in\n * markdown.\n *\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM tables.\n */\nexport function gfmTableToMarkdown(options) {\n  const settings = options || {}\n  const padding = settings.tableCellPadding\n  const alignDelimiters = settings.tablePipeAlign\n  const stringLength = settings.stringLength\n  const around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      inlineCode: inlineCodeWithTable,\n      table: handleTable,\n      tableCell: handleTableCell,\n      tableRow: handleTableRow\n    }\n  }\n\n  /**\n   * @type {ToMarkdownHandle}\n   * @param {Table} node\n   */\n  function handleTable(node, _, state, info) {\n    return serializeData(handleTableAsData(node, state, info), node.align)\n  }\n\n  /**\n   * This function isnt really used normally, because we handle rows at the\n   * table level.\n   * But, if someone passes in a table row, this ensures we make somewhat sense.\n   *\n   * @type {ToMarkdownHandle}\n   * @param {TableRow} node\n   */\n  function handleTableRow(node, _, state, info) {\n    const row = handleTableRowAsData(node, state, info)\n    const value = serializeData([row])\n    // `markdown-table` will always add an align row\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  /**\n   * @type {ToMarkdownHandle}\n   * @param {TableCell} node\n   */\n  function handleTableCell(node, _, state, info) {\n    const exit = state.enter('tableCell')\n    const subexit = state.enter('phrasing')\n    const value = state.containerPhrasing(node, {\n      ...info,\n      before: around,\n      after: around\n    })\n    subexit()\n    exit()\n    return value\n  }\n\n  /**\n   * @param {Array<Array<string>>} matrix\n   * @param {Array<string | null | undefined> | null | undefined} [align]\n   */\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align,\n      // @ts-expect-error: `markdown-table` types should support `null`.\n      alignDelimiters,\n      // @ts-expect-error: `markdown-table` types should support `null`.\n      padding,\n      // @ts-expect-error: `markdown-table` types should support `null`.\n      stringLength\n    })\n  }\n\n  /**\n   * @param {Table} node\n   * @param {State} state\n   * @param {Info} info\n   */\n  function handleTableAsData(node, state, info) {\n    const children = node.children\n    let index = -1\n    /** @type {Array<Array<string>>} */\n    const result = []\n    const subexit = state.enter('table')\n\n    while (++index < children.length) {\n      result[index] = handleTableRowAsData(children[index], state, info)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  /**\n   * @param {TableRow} node\n   * @param {State} state\n   * @param {Info} info\n   */\n  function handleTableRowAsData(node, state, info) {\n    const children = node.children\n    let index = -1\n    /** @type {Array<string>} */\n    const result = []\n    const subexit = state.enter('tableRow')\n\n    while (++index < children.length) {\n      // Note: the positional info as used here is incorrect.\n      // Making it correct would be impossible due to aligning cells?\n      // And it would need copy/pasting `markdown-table` into this project.\n      result[index] = handleTableCell(children[index], node, state, info)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  /**\n   * @type {ToMarkdownHandle}\n   * @param {InlineCode} node\n   */\n  function inlineCodeWithTable(node, parent, state) {\n    let value = defaultHandlers.inlineCode(node, parent, state)\n\n    if (state.stack.includes('tableCell')) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","/**\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('mdast-util-from-markdown').CompileContext} CompileContext\n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-from-markdown').Handle} FromMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n * @typedef {import('mdast-util-to-markdown').Handle} ToMarkdownHandle\n */\n\nimport {ok as assert} from 'devlop'\nimport {defaultHandlers} from 'mdast-util-to-markdown'\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM task\n * list items in markdown.\n *\n * @returns {FromMarkdownExtension}\n *   Extension for `mdast-util-from-markdown` to enable GFM task list items.\n */\nexport function gfmTaskListItemFromMarkdown() {\n  return {\n    exit: {\n      taskListCheckValueChecked: exitCheck,\n      taskListCheckValueUnchecked: exitCheck,\n      paragraph: exitParagraphWithTaskListItem\n    }\n  }\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM task list\n * items in markdown.\n *\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM task list items.\n */\nexport function gfmTaskListItemToMarkdown() {\n  return {\n    unsafe: [{atBreak: true, character: '-', after: '[:|-]'}],\n    handlers: {listItem: listItemWithTaskListItem}\n  }\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitCheck(token) {\n  // Were always in a paragraph, in a list item.\n  const node = this.stack[this.stack.length - 2]\n  assert(node.type === 'listItem')\n  node.checked = token.type === 'taskListCheckValueChecked'\n}\n\n/**\n * @this {CompileContext}\n * @type {FromMarkdownHandle}\n */\nfunction exitParagraphWithTaskListItem(token) {\n  const parent = this.stack[this.stack.length - 2]\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean'\n  ) {\n    const node = this.stack[this.stack.length - 1]\n    assert(node.type === 'paragraph')\n    const head = node.children[0]\n\n    if (head && head.type === 'text') {\n      const siblings = parent.children\n      let index = -1\n      /** @type {Paragraph | undefined} */\n      let firstParaghraph\n\n      while (++index < siblings.length) {\n        const sibling = siblings[index]\n        if (sibling.type === 'paragraph') {\n          firstParaghraph = sibling\n          break\n        }\n      }\n\n      if (firstParaghraph === node) {\n        // Must start with a space or a tab.\n        head.value = head.value.slice(1)\n\n        if (head.value.length === 0) {\n          node.children.shift()\n        } else if (\n          node.position &&\n          head.position &&\n          typeof head.position.start.offset === 'number'\n        ) {\n          head.position.start.column++\n          head.position.start.offset++\n          node.position.start = Object.assign({}, head.position.start)\n        }\n      }\n    }\n  }\n\n  this.exit(token)\n}\n\n/**\n * @type {ToMarkdownHandle}\n * @param {ListItem} node\n */\nfunction listItemWithTaskListItem(node, parent, state, info) {\n  const head = node.children[0]\n  const checkable =\n    typeof node.checked === 'boolean' && head && head.type === 'paragraph'\n  const checkbox = '[' + (node.checked ? 'x' : ' ') + '] '\n  const tracker = state.createTracker(info)\n\n  if (checkable) {\n    tracker.move(checkbox)\n  }\n\n  let value = defaultHandlers.listItem(node, parent, state, {\n    ...info,\n    ...tracker.current()\n  })\n\n  if (checkable) {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  /**\n   * @param {string} $0\n   * @returns {string}\n   */\n  function check($0) {\n    return $0 + checkbox\n  }\n}\n","/**\n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n */\n\n/**\n * @typedef {import('mdast-util-gfm-table').Options} Options\n *   Configuration.\n */\n\nimport {\n  gfmAutolinkLiteralFromMarkdown,\n  gfmAutolinkLiteralToMarkdown\n} from 'mdast-util-gfm-autolink-literal'\nimport {\n  gfmFootnoteFromMarkdown,\n  gfmFootnoteToMarkdown\n} from 'mdast-util-gfm-footnote'\nimport {\n  gfmStrikethroughFromMarkdown,\n  gfmStrikethroughToMarkdown\n} from 'mdast-util-gfm-strikethrough'\nimport {gfmTableFromMarkdown, gfmTableToMarkdown} from 'mdast-util-gfm-table'\nimport {\n  gfmTaskListItemFromMarkdown,\n  gfmTaskListItemToMarkdown\n} from 'mdast-util-gfm-task-list-item'\n\n/**\n * Create an extension for `mdast-util-from-markdown` to enable GFM (autolink\n * literals, footnotes, strikethrough, tables, tasklists).\n *\n * @returns {Array<FromMarkdownExtension>}\n *   Extension for `mdast-util-from-markdown` to enable GFM (autolink literals,\n *   footnotes, strikethrough, tables, tasklists).\n */\nexport function gfmFromMarkdown() {\n  return [\n    gfmAutolinkLiteralFromMarkdown(),\n    gfmFootnoteFromMarkdown(),\n    gfmStrikethroughFromMarkdown(),\n    gfmTableFromMarkdown(),\n    gfmTaskListItemFromMarkdown()\n  ]\n}\n\n/**\n * Create an extension for `mdast-util-to-markdown` to enable GFM (autolink\n * literals, footnotes, strikethrough, tables, tasklists).\n *\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {ToMarkdownExtension}\n *   Extension for `mdast-util-to-markdown` to enable GFM (autolink literals,\n *   footnotes, strikethrough, tables, tasklists).\n */\nexport function gfmToMarkdown(options) {\n  return {\n    extensions: [\n      gfmAutolinkLiteralToMarkdown(),\n      gfmFootnoteToMarkdown(),\n      gfmStrikethroughToMarkdown(),\n      gfmTableToMarkdown(options),\n      gfmTaskListItemToMarkdown()\n    ]\n  }\n}\n","/**\n * @import {Code, ConstructRecord, Event, Extension, Previous, State, TokenizeContext, Tokenizer} from 'micromark-util-types'\n */\n\nimport { asciiAlpha, asciiAlphanumeric, asciiControl, markdownLineEndingOrSpace, unicodePunctuation, unicodeWhitespace } from 'micromark-util-character';\nconst wwwPrefix = {\n  tokenize: tokenizeWwwPrefix,\n  partial: true\n};\nconst domain = {\n  tokenize: tokenizeDomain,\n  partial: true\n};\nconst path = {\n  tokenize: tokenizePath,\n  partial: true\n};\nconst trail = {\n  tokenize: tokenizeTrail,\n  partial: true\n};\nconst emailDomainDotTrail = {\n  tokenize: tokenizeEmailDomainDotTrail,\n  partial: true\n};\nconst wwwAutolink = {\n  name: 'wwwAutolink',\n  tokenize: tokenizeWwwAutolink,\n  previous: previousWww\n};\nconst protocolAutolink = {\n  name: 'protocolAutolink',\n  tokenize: tokenizeProtocolAutolink,\n  previous: previousProtocol\n};\nconst emailAutolink = {\n  name: 'emailAutolink',\n  tokenize: tokenizeEmailAutolink,\n  previous: previousEmail\n};\n\n/** @type {ConstructRecord} */\nconst text = {};\n\n/**\n * Create an extension for `micromark` to support GitHub autolink literal\n * syntax.\n *\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `extensions` to enable GFM\n *   autolink literal syntax.\n */\nexport function gfmAutolinkLiteral() {\n  return {\n    text\n  };\n}\n\n/** @type {Code} */\nlet code = 48;\n\n// Add alphanumerics.\nwhile (code < 123) {\n  text[code] = emailAutolink;\n  code++;\n  if (code === 58) code = 65;else if (code === 91) code = 97;\n}\ntext[43] = emailAutolink;\ntext[45] = emailAutolink;\ntext[46] = emailAutolink;\ntext[95] = emailAutolink;\ntext[72] = [emailAutolink, protocolAutolink];\ntext[104] = [emailAutolink, protocolAutolink];\ntext[87] = [emailAutolink, wwwAutolink];\ntext[119] = [emailAutolink, wwwAutolink];\n\n// To do: perform email autolink literals on events, afterwards.\n// Thats where `markdown-rs` and `cmark-gfm` perform it.\n// It should look for `@`, then for atext backwards, and then for a label\n// forwards.\n// To do: `mailto:`, `xmpp:` protocol as prefix.\n\n/**\n * Email autolink literal.\n *\n * ```markdown\n * > | a contact@example.org b\n *       ^^^^^^^^^^^^^^^^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  const self = this;\n  /** @type {boolean | undefined} */\n  let dot;\n  /** @type {boolean} */\n  let data;\n  return start;\n\n  /**\n   * Start of email autolink literal.\n   *\n   * ```markdown\n   * > | a contact@example.org b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (!gfmAtext(code) || !previousEmail.call(self, self.previous) || previousUnbalanced(self.events)) {\n      return nok(code);\n    }\n    effects.enter('literalAutolink');\n    effects.enter('literalAutolinkEmail');\n    return atext(code);\n  }\n\n  /**\n   * In email atext.\n   *\n   * ```markdown\n   * > | a contact@example.org b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code);\n      return atext;\n    }\n    if (code === 64) {\n      effects.consume(code);\n      return emailDomain;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In email domain.\n   *\n   * The reference code is a bit overly complex as it handles the `@`, of which\n   * there may be just one.\n   * Source: <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L318>\n   *\n   * ```markdown\n   * > | a contact@example.org b\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailDomain(code) {\n    // Dot followed by alphanumerical (not `-` or `_`).\n    if (code === 46) {\n      return effects.check(emailDomainDotTrail, emailDomainAfter, emailDomainDot)(code);\n    }\n\n    // Alphanumerical, `-`, and `_`.\n    if (code === 45 || code === 95 || asciiAlphanumeric(code)) {\n      data = true;\n      effects.consume(code);\n      return emailDomain;\n    }\n\n    // To do: `/` if xmpp.\n\n    // Note: normally wed truncate trailing punctuation from the link.\n    // However, email autolink literals cannot contain any of those markers,\n    // except for `.`, but that can only occur if it isnt trailing.\n    // So we can ignore truncating!\n    return emailDomainAfter(code);\n  }\n\n  /**\n   * In email domain, on dot that is not a trail.\n   *\n   * ```markdown\n   * > | a contact@example.org b\n   *                      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailDomainDot(code) {\n    effects.consume(code);\n    dot = true;\n    return emailDomain;\n  }\n\n  /**\n   * After email domain.\n   *\n   * ```markdown\n   * > | a contact@example.org b\n   *                          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailDomainAfter(code) {\n    // Domain must not be empty, must include a dot, and must end in alphabetical.\n    // Source: <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L332>.\n    if (data && dot && asciiAlpha(self.previous)) {\n      effects.exit('literalAutolinkEmail');\n      effects.exit('literalAutolink');\n      return ok(code);\n    }\n    return nok(code);\n  }\n}\n\n/**\n * `www` autolink literal.\n *\n * ```markdown\n * > | a www.example.org b\n *       ^^^^^^^^^^^^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  const self = this;\n  return wwwStart;\n\n  /**\n   * Start of www autolink literal.\n   *\n   * ```markdown\n   * > | www.example.com/a?b#c\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function wwwStart(code) {\n    if (code !== 87 && code !== 119 || !previousWww.call(self, self.previous) || previousUnbalanced(self.events)) {\n      return nok(code);\n    }\n    effects.enter('literalAutolink');\n    effects.enter('literalAutolinkWww');\n    // Note: we *check*, so we can discard the `www.` we parsed.\n    // If it worked, we consider it as a part of the domain.\n    return effects.check(wwwPrefix, effects.attempt(domain, effects.attempt(path, wwwAfter), nok), nok)(code);\n  }\n\n  /**\n   * After a www autolink literal.\n   *\n   * ```markdown\n   * > | www.example.com/a?b#c\n   *                          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function wwwAfter(code) {\n    effects.exit('literalAutolinkWww');\n    effects.exit('literalAutolink');\n    return ok(code);\n  }\n}\n\n/**\n * Protocol autolink literal.\n *\n * ```markdown\n * > | a https://example.org b\n *       ^^^^^^^^^^^^^^^^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeProtocolAutolink(effects, ok, nok) {\n  const self = this;\n  let buffer = '';\n  let seen = false;\n  return protocolStart;\n\n  /**\n   * Start of protocol autolink literal.\n   *\n   * ```markdown\n   * > | https://example.com/a?b#c\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function protocolStart(code) {\n    if ((code === 72 || code === 104) && previousProtocol.call(self, self.previous) && !previousUnbalanced(self.events)) {\n      effects.enter('literalAutolink');\n      effects.enter('literalAutolinkHttp');\n      buffer += String.fromCodePoint(code);\n      effects.consume(code);\n      return protocolPrefixInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In protocol.\n   *\n   * ```markdown\n   * > | https://example.com/a?b#c\n   *     ^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function protocolPrefixInside(code) {\n    // `5` is size of `https`\n    if (asciiAlpha(code) && buffer.length < 5) {\n      // @ts-expect-error: definitely number.\n      buffer += String.fromCodePoint(code);\n      effects.consume(code);\n      return protocolPrefixInside;\n    }\n    if (code === 58) {\n      const protocol = buffer.toLowerCase();\n      if (protocol === 'http' || protocol === 'https') {\n        effects.consume(code);\n        return protocolSlashesInside;\n      }\n    }\n    return nok(code);\n  }\n\n  /**\n   * In slashes.\n   *\n   * ```markdown\n   * > | https://example.com/a?b#c\n   *           ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function protocolSlashesInside(code) {\n    if (code === 47) {\n      effects.consume(code);\n      if (seen) {\n        return afterProtocol;\n      }\n      seen = true;\n      return protocolSlashesInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After protocol, before domain.\n   *\n   * ```markdown\n   * > | https://example.com/a?b#c\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterProtocol(code) {\n    // To do: this is different from `markdown-rs`:\n    // https://github.com/wooorm/markdown-rs/blob/b3a921c761309ae00a51fe348d8a43adbc54b518/src/construct/gfm_autolink_literal.rs#L172-L182\n    return code === null || asciiControl(code) || markdownLineEndingOrSpace(code) || unicodeWhitespace(code) || unicodePunctuation(code) ? nok(code) : effects.attempt(domain, effects.attempt(path, protocolAfter), nok)(code);\n  }\n\n  /**\n   * After a protocol autolink literal.\n   *\n   * ```markdown\n   * > | https://example.com/a?b#c\n   *                              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function protocolAfter(code) {\n    effects.exit('literalAutolinkHttp');\n    effects.exit('literalAutolink');\n    return ok(code);\n  }\n}\n\n/**\n * `www` prefix.\n *\n * ```markdown\n * > | a www.example.org b\n *       ^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeWwwPrefix(effects, ok, nok) {\n  let size = 0;\n  return wwwPrefixInside;\n\n  /**\n   * In www prefix.\n   *\n   * ```markdown\n   * > | www.example.com\n   *     ^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function wwwPrefixInside(code) {\n    if ((code === 87 || code === 119) && size < 3) {\n      size++;\n      effects.consume(code);\n      return wwwPrefixInside;\n    }\n    if (code === 46 && size === 3) {\n      effects.consume(code);\n      return wwwPrefixAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After www prefix.\n   *\n   * ```markdown\n   * > | www.example.com\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function wwwPrefixAfter(code) {\n    // If there is *anything*, we can link.\n    return code === null ? nok(code) : ok(code);\n  }\n}\n\n/**\n * Domain.\n *\n * ```markdown\n * > | a https://example.org b\n *               ^^^^^^^^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeDomain(effects, ok, nok) {\n  /** @type {boolean | undefined} */\n  let underscoreInLastSegment;\n  /** @type {boolean | undefined} */\n  let underscoreInLastLastSegment;\n  /** @type {boolean | undefined} */\n  let seen;\n  return domainInside;\n\n  /**\n   * In domain.\n   *\n   * ```markdown\n   * > | https://example.com/a\n   *             ^^^^^^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function domainInside(code) {\n    // Check whether this marker, which is a trailing punctuation\n    // marker, optionally followed by more trailing markers, and then\n    // followed by an end.\n    if (code === 46 || code === 95) {\n      return effects.check(trail, domainAfter, domainAtPunctuation)(code);\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www..com`,\n    // so thats Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    // Source: <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L12>.\n    if (code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code) || code !== 45 && unicodePunctuation(code)) {\n      return domainAfter(code);\n    }\n    seen = true;\n    effects.consume(code);\n    return domainInside;\n  }\n\n  /**\n   * In domain, at potential trailing punctuation, that was not trailing.\n   *\n   * ```markdown\n   * > | https://example.com\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function domainAtPunctuation(code) {\n    // There is an underscore in the last segment of the domain\n    if (code === 95) {\n      underscoreInLastSegment = true;\n    }\n    // Otherwise, its a `.`: save the last segment underscore in the\n    // penultimate segment slot.\n    else {\n      underscoreInLastLastSegment = underscoreInLastSegment;\n      underscoreInLastSegment = undefined;\n    }\n    effects.consume(code);\n    return domainInside;\n  }\n\n  /**\n   * After domain.\n   *\n   * ```markdown\n   * > | https://example.com/a\n   *                        ^\n   * ```\n   *\n   * @type {State} */\n  function domainAfter(code) {\n    // Note: thats GH says a dot is needed, but its not true:\n    // <https://github.com/github/cmark-gfm/issues/279>\n    if (underscoreInLastLastSegment || underscoreInLastSegment || !seen) {\n      return nok(code);\n    }\n    return ok(code);\n  }\n}\n\n/**\n * Path.\n *\n * ```markdown\n * > | a https://example.org/stuff b\n *                          ^^^^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizePath(effects, ok) {\n  let sizeOpen = 0;\n  let sizeClose = 0;\n  return pathInside;\n\n  /**\n   * In path.\n   *\n   * ```markdown\n   * > | https://example.com/a\n   *                        ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function pathInside(code) {\n    if (code === 40) {\n      sizeOpen++;\n      effects.consume(code);\n      return pathInside;\n    }\n\n    // To do: `markdown-rs` also needs this.\n    // If this is a paren, and there are less closings than openings,\n    // we dont check for a trail.\n    if (code === 41 && sizeClose < sizeOpen) {\n      return pathAtPunctuation(code);\n    }\n\n    // Check whether this trailing punctuation marker is optionally\n    // followed by more trailing markers, and then followed\n    // by an end.\n    if (code === 33 || code === 34 || code === 38 || code === 39 || code === 41 || code === 42 || code === 44 || code === 46 || code === 58 || code === 59 || code === 60 || code === 63 || code === 93 || code === 95 || code === 126) {\n      return effects.check(trail, ok, pathAtPunctuation)(code);\n    }\n    if (code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n      return ok(code);\n    }\n    effects.consume(code);\n    return pathInside;\n  }\n\n  /**\n   * In path, at potential trailing punctuation, that was not trailing.\n   *\n   * ```markdown\n   * > | https://example.com/a\"b\n   *                          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function pathAtPunctuation(code) {\n    // Count closing parens.\n    if (code === 41) {\n      sizeClose++;\n    }\n    effects.consume(code);\n    return pathInside;\n  }\n}\n\n/**\n * Trail.\n *\n * This calls `ok` if this *is* the trail, followed by an end, which means\n * the entire trail is not part of the link.\n * It calls `nok` if this *is* part of the link.\n *\n * ```markdown\n * > | https://example.com\").\n *                        ^^^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeTrail(effects, ok, nok) {\n  return trail;\n\n  /**\n   * In trail of domain or path.\n   *\n   * ```markdown\n   * > | https://example.com\").\n   *                        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function trail(code) {\n    // Regular trailing punctuation.\n    if (code === 33 || code === 34 || code === 39 || code === 41 || code === 42 || code === 44 || code === 46 || code === 58 || code === 59 || code === 63 || code === 95 || code === 126) {\n      effects.consume(code);\n      return trail;\n    }\n\n    // `&` followed by one or more alphabeticals and then a `;`, is\n    // as a whole considered as trailing punctuation.\n    // In all other cases, it is considered as continuation of the URL.\n    if (code === 38) {\n      effects.consume(code);\n      return trailCharacterReferenceStart;\n    }\n\n    // Needed because we allow literals after `[`, as we fix:\n    // <https://github.com/github/cmark-gfm/issues/278>.\n    // Check that it is not followed by `(` or `[`.\n    if (code === 93) {\n      effects.consume(code);\n      return trailBracketAfter;\n    }\n    if (\n    // `<` is an end.\n    code === 60 ||\n    // So is whitespace.\n    code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n      return ok(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In trail, after `]`.\n   *\n   * >  **Note**: this deviates from `cmark-gfm` to fix a bug.\n   * > See end of <https://github.com/github/cmark-gfm/issues/278> for more.\n   *\n   * ```markdown\n   * > | https://example.com](\n   *                         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function trailBracketAfter(code) {\n    // Whitespace or something that could start a resource or reference is the end.\n    // Switch back to trail otherwise.\n    if (code === null || code === 40 || code === 91 || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n      return ok(code);\n    }\n    return trail(code);\n  }\n\n  /**\n   * In character-reference like trail, after `&`.\n   *\n   * ```markdown\n   * > | https://example.com&amp;).\n   *                         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function trailCharacterReferenceStart(code) {\n    // When non-alpha, its not a trail.\n    return asciiAlpha(code) ? trailCharacterReferenceInside(code) : nok(code);\n  }\n\n  /**\n   * In character-reference like trail.\n   *\n   * ```markdown\n   * > | https://example.com&amp;).\n   *                         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function trailCharacterReferenceInside(code) {\n    // Switch back to trail if this is well-formed.\n    if (code === 59) {\n      effects.consume(code);\n      return trail;\n    }\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return trailCharacterReferenceInside;\n    }\n\n    // Its not a trail.\n    return nok(code);\n  }\n}\n\n/**\n * Dot in email domain trail.\n *\n * This calls `ok` if this *is* the trail, followed by an end, which means\n * the trail is not part of the link.\n * It calls `nok` if this *is* part of the link.\n *\n * ```markdown\n * > | contact@example.org.\n *                        ^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeEmailDomainDotTrail(effects, ok, nok) {\n  return start;\n\n  /**\n   * Dot.\n   *\n   * ```markdown\n   * > | contact@example.org.\n   *                    ^   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // Must be dot.\n    effects.consume(code);\n    return after;\n  }\n\n  /**\n   * After dot.\n   *\n   * ```markdown\n   * > | contact@example.org.\n   *                     ^   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // Not a trail if alphanumeric.\n    return asciiAlphanumeric(code) ? nok(code) : ok(code);\n  }\n}\n\n/**\n * See:\n * <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L156>.\n *\n * @type {Previous}\n */\nfunction previousWww(code) {\n  return code === null || code === 40 || code === 42 || code === 95 || code === 91 || code === 93 || code === 126 || markdownLineEndingOrSpace(code);\n}\n\n/**\n * See:\n * <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L214>.\n *\n * @type {Previous}\n */\nfunction previousProtocol(code) {\n  return !asciiAlpha(code);\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Previous}\n */\nfunction previousEmail(code) {\n  // Do not allow a slash inside atext.\n  // The reference code is a bit weird, but thats what it results in.\n  // Source: <https://github.com/github/cmark-gfm/blob/ef1cfcb/extensions/autolink.c#L307>.\n  // Other than slash, every preceding character is allowed.\n  return !(code === 47 || gfmAtext(code));\n}\n\n/**\n * @param {Code} code\n * @returns {boolean}\n */\nfunction gfmAtext(code) {\n  return code === 43 || code === 45 || code === 46 || code === 95 || asciiAlphanumeric(code);\n}\n\n/**\n * @param {Array<Event>} events\n * @returns {boolean}\n */\nfunction previousUnbalanced(events) {\n  let index = events.length;\n  let result = false;\n  while (index--) {\n    const token = events[index][1];\n    if ((token.type === 'labelLink' || token.type === 'labelImage') && !token._balanced) {\n      result = true;\n      break;\n    }\n\n    // If weve seen this token, and it was marked as not having any unbalanced\n    // bracket before it, we can exit.\n    if (token._gfmAutolinkLiteralWalkedInto) {\n      result = false;\n      break;\n    }\n  }\n  if (events.length > 0 && !result) {\n    // Mark the last token as walked into w/o finding\n    // anything.\n    events[events.length - 1][1]._gfmAutolinkLiteralWalkedInto = true;\n  }\n  return result;\n}","/**\n * @import {Event, Exiter, Extension, Resolver, State, Token, TokenizeContext, Tokenizer} from 'micromark-util-types'\n */\n\nimport { blankLine } from 'micromark-core-commonmark';\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEndingOrSpace } from 'micromark-util-character';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nconst indent = {\n  tokenize: tokenizeIndent,\n  partial: true\n};\n\n// To do: micromark should support a `_hiddenGfmFootnoteSupport`, which only\n// affects label start (image).\n// That will let us drop `tokenizePotentialGfmFootnote*`.\n// It currently has a `_hiddenFootnoteSupport`, which affects that and more.\n// That can be removed when `micromark-extension-footnote` is archived.\n\n/**\n * Create an extension for `micromark` to enable GFM footnote syntax.\n *\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `extensions` to\n *   enable GFM footnote syntax.\n */\nexport function gfmFootnote() {\n  /** @type {Extension} */\n  return {\n    document: {\n      [91]: {\n        name: 'gfmFootnoteDefinition',\n        tokenize: tokenizeDefinitionStart,\n        continuation: {\n          tokenize: tokenizeDefinitionContinuation\n        },\n        exit: gfmFootnoteDefinitionEnd\n      }\n    },\n    text: {\n      [91]: {\n        name: 'gfmFootnoteCall',\n        tokenize: tokenizeGfmFootnoteCall\n      },\n      [93]: {\n        name: 'gfmPotentialFootnoteCall',\n        add: 'after',\n        tokenize: tokenizePotentialGfmFootnoteCall,\n        resolveTo: resolveToPotentialGfmFootnoteCall\n      }\n    }\n  };\n}\n\n// To do: remove after micromark update.\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizePotentialGfmFootnoteCall(effects, ok, nok) {\n  const self = this;\n  let index = self.events.length;\n  const defined = self.parser.gfmFootnotes || (self.parser.gfmFootnotes = []);\n  /** @type {Token} */\n  let labelStart;\n\n  // Find an opening.\n  while (index--) {\n    const token = self.events[index][1];\n    if (token.type === \"labelImage\") {\n      labelStart = token;\n      break;\n    }\n\n    // Exit if weve walked far enough.\n    if (token.type === 'gfmFootnoteCall' || token.type === \"labelLink\" || token.type === \"label\" || token.type === \"image\" || token.type === \"link\") {\n      break;\n    }\n  }\n  return start;\n\n  /**\n   * @type {State}\n   */\n  function start(code) {\n    if (!labelStart || !labelStart._balanced) {\n      return nok(code);\n    }\n    const id = normalizeIdentifier(self.sliceSerialize({\n      start: labelStart.end,\n      end: self.now()\n    }));\n    if (id.codePointAt(0) !== 94 || !defined.includes(id.slice(1))) {\n      return nok(code);\n    }\n    effects.enter('gfmFootnoteCallLabelMarker');\n    effects.consume(code);\n    effects.exit('gfmFootnoteCallLabelMarker');\n    return ok(code);\n  }\n}\n\n// To do: remove after micromark update.\n/** @type {Resolver} */\nfunction resolveToPotentialGfmFootnoteCall(events, context) {\n  let index = events.length;\n  /** @type {Token | undefined} */\n  let labelStart;\n\n  // Find an opening.\n  while (index--) {\n    if (events[index][1].type === \"labelImage\" && events[index][0] === 'enter') {\n      labelStart = events[index][1];\n      break;\n    }\n  }\n  // Change the `labelImageMarker` to a `data`.\n  events[index + 1][1].type = \"data\";\n  events[index + 3][1].type = 'gfmFootnoteCallLabelMarker';\n\n  // The whole (without `!`):\n  /** @type {Token} */\n  const call = {\n    type: 'gfmFootnoteCall',\n    start: Object.assign({}, events[index + 3][1].start),\n    end: Object.assign({}, events[events.length - 1][1].end)\n  };\n  // The `^` marker\n  /** @type {Token} */\n  const marker = {\n    type: 'gfmFootnoteCallMarker',\n    start: Object.assign({}, events[index + 3][1].end),\n    end: Object.assign({}, events[index + 3][1].end)\n  };\n  // Increment the end 1 character.\n  marker.end.column++;\n  marker.end.offset++;\n  marker.end._bufferIndex++;\n  /** @type {Token} */\n  const string = {\n    type: 'gfmFootnoteCallString',\n    start: Object.assign({}, marker.end),\n    end: Object.assign({}, events[events.length - 1][1].start)\n  };\n  /** @type {Token} */\n  const chunk = {\n    type: \"chunkString\",\n    contentType: 'string',\n    start: Object.assign({}, string.start),\n    end: Object.assign({}, string.end)\n  };\n\n  /** @type {Array<Event>} */\n  const replacement = [\n  // Take the `labelImageMarker` (now `data`, the `!`)\n  events[index + 1], events[index + 2], ['enter', call, context],\n  // The `[`\n  events[index + 3], events[index + 4],\n  // The `^`.\n  ['enter', marker, context], ['exit', marker, context],\n  // Everything in between.\n  ['enter', string, context], ['enter', chunk, context], ['exit', chunk, context], ['exit', string, context],\n  // The ending (`]`, properly parsed and labelled).\n  events[events.length - 2], events[events.length - 1], ['exit', call, context]];\n  events.splice(index, events.length - index + 1, ...replacement);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeGfmFootnoteCall(effects, ok, nok) {\n  const self = this;\n  const defined = self.parser.gfmFootnotes || (self.parser.gfmFootnotes = []);\n  let size = 0;\n  /** @type {boolean} */\n  let data;\n\n  // Note: the implementation of `markdown-rs` is different, because it houses\n  // core *and* extensions in one project.\n  // Therefore, it can include footnote logic inside `label-end`.\n  // We cant do that, but luckily, we can parse footnotes in a simpler way than\n  // needed for labels.\n  return start;\n\n  /**\n   * Start of footnote label.\n   *\n   * ```markdown\n   * > | a [^b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('gfmFootnoteCall');\n    effects.enter('gfmFootnoteCallLabelMarker');\n    effects.consume(code);\n    effects.exit('gfmFootnoteCallLabelMarker');\n    return callStart;\n  }\n\n  /**\n   * After `[`, at `^`.\n   *\n   * ```markdown\n   * > | a [^b] c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function callStart(code) {\n    if (code !== 94) return nok(code);\n    effects.enter('gfmFootnoteCallMarker');\n    effects.consume(code);\n    effects.exit('gfmFootnoteCallMarker');\n    effects.enter('gfmFootnoteCallString');\n    effects.enter('chunkString').contentType = 'string';\n    return callData;\n  }\n\n  /**\n   * In label.\n   *\n   * ```markdown\n   * > | a [^b] c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function callData(code) {\n    if (\n    // Too long.\n    size > 999 ||\n    // Closing brace with nothing.\n    code === 93 && !data ||\n    // Space or tab is not supported by GFM for some reason.\n    // `\\n` and `[` not being supported makes sense.\n    code === null || code === 91 || markdownLineEndingOrSpace(code)) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.exit('chunkString');\n      const token = effects.exit('gfmFootnoteCallString');\n      if (!defined.includes(normalizeIdentifier(self.sliceSerialize(token)))) {\n        return nok(code);\n      }\n      effects.enter('gfmFootnoteCallLabelMarker');\n      effects.consume(code);\n      effects.exit('gfmFootnoteCallLabelMarker');\n      effects.exit('gfmFootnoteCall');\n      return ok;\n    }\n    if (!markdownLineEndingOrSpace(code)) {\n      data = true;\n    }\n    size++;\n    effects.consume(code);\n    return code === 92 ? callEscape : callData;\n  }\n\n  /**\n   * On character after escape.\n   *\n   * ```markdown\n   * > | a [^b\\c] d\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function callEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return callData;\n    }\n    return callData(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeDefinitionStart(effects, ok, nok) {\n  const self = this;\n  const defined = self.parser.gfmFootnotes || (self.parser.gfmFootnotes = []);\n  /** @type {string} */\n  let identifier;\n  let size = 0;\n  /** @type {boolean | undefined} */\n  let data;\n  return start;\n\n  /**\n   * Start of GFM footnote definition.\n   *\n   * ```markdown\n   * > | [^a]: b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('gfmFootnoteDefinition')._container = true;\n    effects.enter('gfmFootnoteDefinitionLabel');\n    effects.enter('gfmFootnoteDefinitionLabelMarker');\n    effects.consume(code);\n    effects.exit('gfmFootnoteDefinitionLabelMarker');\n    return labelAtMarker;\n  }\n\n  /**\n   * In label, at caret.\n   *\n   * ```markdown\n   * > | [^a]: b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelAtMarker(code) {\n    if (code === 94) {\n      effects.enter('gfmFootnoteDefinitionMarker');\n      effects.consume(code);\n      effects.exit('gfmFootnoteDefinitionMarker');\n      effects.enter('gfmFootnoteDefinitionLabelString');\n      effects.enter('chunkString').contentType = 'string';\n      return labelInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In label.\n   *\n   * >  **Note**: `cmark-gfm` prevents whitespace from occurring in footnote\n   * > definition labels.\n   *\n   * ```markdown\n   * > | [^a]: b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelInside(code) {\n    if (\n    // Too long.\n    size > 999 ||\n    // Closing brace with nothing.\n    code === 93 && !data ||\n    // Space or tab is not supported by GFM for some reason.\n    // `\\n` and `[` not being supported makes sense.\n    code === null || code === 91 || markdownLineEndingOrSpace(code)) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.exit('chunkString');\n      const token = effects.exit('gfmFootnoteDefinitionLabelString');\n      identifier = normalizeIdentifier(self.sliceSerialize(token));\n      effects.enter('gfmFootnoteDefinitionLabelMarker');\n      effects.consume(code);\n      effects.exit('gfmFootnoteDefinitionLabelMarker');\n      effects.exit('gfmFootnoteDefinitionLabel');\n      return labelAfter;\n    }\n    if (!markdownLineEndingOrSpace(code)) {\n      data = true;\n    }\n    size++;\n    effects.consume(code);\n    return code === 92 ? labelEscape : labelInside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * >  **Note**: `cmark-gfm` currently does not support escaped brackets:\n   * > <https://github.com/github/cmark-gfm/issues/240>\n   *\n   * ```markdown\n   * > | [^a\\*b]: c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return labelInside;\n    }\n    return labelInside(code);\n  }\n\n  /**\n   * After definition label.\n   *\n   * ```markdown\n   * > | [^a]: b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelAfter(code) {\n    if (code === 58) {\n      effects.enter('definitionMarker');\n      effects.consume(code);\n      effects.exit('definitionMarker');\n      if (!defined.includes(identifier)) {\n        defined.push(identifier);\n      }\n\n      // Any whitespace after the marker is eaten, forming indented code\n      // is not possible.\n      // No space is also fine, just like a block quote marker.\n      return factorySpace(effects, whitespaceAfter, 'gfmFootnoteDefinitionWhitespace');\n    }\n    return nok(code);\n  }\n\n  /**\n   * After definition prefix.\n   *\n   * ```markdown\n   * > | [^a]: b\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function whitespaceAfter(code) {\n    // `markdown-rs` has a wrapping token for the prefix that is closed here.\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeDefinitionContinuation(effects, ok, nok) {\n  /// Start of footnote definition continuation.\n  ///\n  /// ```markdown\n  ///   | [^a]: b\n  /// > |     c\n  ///     ^\n  /// ```\n  //\n  // Either a blank line, which is okay, or an indented thing.\n  return effects.check(blankLine, ok, effects.attempt(indent, ok, nok));\n}\n\n/** @type {Exiter} */\nfunction gfmFootnoteDefinitionEnd(effects) {\n  effects.exit('gfmFootnoteDefinition');\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeIndent(effects, ok, nok) {\n  const self = this;\n  return factorySpace(effects, afterPrefix, 'gfmFootnoteDefinitionIndent', 4 + 1);\n\n  /**\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === 'gfmFootnoteDefinitionIndent' && tail[2].sliceSerialize(tail[1], true).length === 4 ? ok(code) : nok(code);\n  }\n}","/**\n * @import {Options} from 'micromark-extension-gfm-strikethrough'\n * @import {Event, Extension, Resolver, State, Token, TokenizeContext, Tokenizer} from 'micromark-util-types'\n */\n\nimport { splice } from 'micromark-util-chunked';\nimport { classifyCharacter } from 'micromark-util-classify-character';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/**\n * Create an extension for `micromark` to enable GFM strikethrough syntax.\n *\n * @param {Options | null | undefined} [options={}]\n *   Configuration.\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `extensions`, to\n *   enable GFM strikethrough syntax.\n */\nexport function gfmStrikethrough(options) {\n  const options_ = options || {};\n  let single = options_.singleTilde;\n  const tokenizer = {\n    name: 'strikethrough',\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  };\n  if (single === null || single === undefined) {\n    single = true;\n  }\n  return {\n    text: {\n      [126]: tokenizer\n    },\n    insideSpan: {\n      null: [tokenizer]\n    },\n    attentionMarkers: {\n      null: [126]\n    }\n  };\n\n  /**\n   * Take events and resolve strikethrough.\n   *\n   * @type {Resolver}\n   */\n  function resolveAllStrikethrough(events, context) {\n    let index = -1;\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (events[index][0] === 'enter' && events[index][1].type === 'strikethroughSequenceTemporary' && events[index][1]._close) {\n        let open = index;\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (events[open][0] === 'exit' && events[open][1].type === 'strikethroughSequenceTemporary' && events[open][1]._open &&\n          // If the sizes are the same:\n          events[index][1].end.offset - events[index][1].start.offset === events[open][1].end.offset - events[open][1].start.offset) {\n            events[index][1].type = 'strikethroughSequence';\n            events[open][1].type = 'strikethroughSequence';\n\n            /** @type {Token} */\n            const strikethrough = {\n              type: 'strikethrough',\n              start: Object.assign({}, events[open][1].start),\n              end: Object.assign({}, events[index][1].end)\n            };\n\n            /** @type {Token} */\n            const text = {\n              type: 'strikethroughText',\n              start: Object.assign({}, events[open][1].end),\n              end: Object.assign({}, events[index][1].start)\n            };\n\n            // Opening.\n            /** @type {Array<Event>} */\n            const nextEvents = [['enter', strikethrough, context], ['enter', events[open][1], context], ['exit', events[open][1], context], ['enter', text, context]];\n            const insideSpan = context.parser.constructs.insideSpan.null;\n            if (insideSpan) {\n              // Between.\n              splice(nextEvents, nextEvents.length, 0, resolveAll(insideSpan, events.slice(open + 1, index), context));\n            }\n\n            // Closing.\n            splice(nextEvents, nextEvents.length, 0, [['exit', text, context], ['enter', events[index][1], context], ['exit', events[index][1], context], ['exit', strikethrough, context]]);\n            splice(events, open - 1, index - open + 3, nextEvents);\n            index = open + nextEvents.length - 2;\n            break;\n          }\n        }\n      }\n    }\n    index = -1;\n    while (++index < events.length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = \"data\";\n      }\n    }\n    return events;\n  }\n\n  /**\n   * @this {TokenizeContext}\n   * @type {Tokenizer}\n   */\n  function tokenizeStrikethrough(effects, ok, nok) {\n    const previous = this.previous;\n    const events = this.events;\n    let size = 0;\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      if (previous === 126 && events[events.length - 1][1].type !== \"characterEscape\") {\n        return nok(code);\n      }\n      effects.enter('strikethroughSequenceTemporary');\n      return more(code);\n    }\n\n    /** @type {State} */\n    function more(code) {\n      const before = classifyCharacter(previous);\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code);\n        effects.consume(code);\n        size++;\n        return more;\n      }\n      if (size < 2 && !single) return nok(code);\n      const token = effects.exit('strikethroughSequenceTemporary');\n      const after = classifyCharacter(code);\n      token._open = !after || after === 2 && Boolean(before);\n      token._close = !before || before === 2 && Boolean(after);\n      return ok(code);\n    }\n  }\n}","/**\n * @import {Event} from 'micromark-util-types'\n */\n\n// Port of `edit_map.rs` from `markdown-rs`.\n// This should move to `markdown-js` later.\n\n// Deal with several changes in events, batching them together.\n//\n// Preferably, changes should be kept to a minimum.\n// Sometimes, its needed to change the list of events, because parsing can be\n// messy, and it helps to expose a cleaner interface of events to the compiler\n// and other users.\n// It can also help to merge many adjacent similar events.\n// And, in other cases, its needed to parse subcontent: pass some events\n// through another tokenizer and inject the result.\n\n/**\n * @typedef {[number, number, Array<Event>]} Change\n * @typedef {[number, number, number]} Jump\n */\n\n/**\n * Tracks a bunch of edits.\n */\nexport class EditMap {\n  /**\n   * Create a new edit map.\n   */\n  constructor() {\n    /**\n     * Record of changes.\n     *\n     * @type {Array<Change>}\n     */\n    this.map = [];\n  }\n\n  /**\n   * Create an edit: a remove and/or add at a certain place.\n   *\n   * @param {number} index\n   * @param {number} remove\n   * @param {Array<Event>} add\n   * @returns {undefined}\n   */\n  add(index, remove, add) {\n    addImplementation(this, index, remove, add);\n  }\n\n  // To do: add this when moving to `micromark`.\n  // /**\n  //  * Create an edit: but insert `add` before existing additions.\n  //  *\n  //  * @param {number} index\n  //  * @param {number} remove\n  //  * @param {Array<Event>} add\n  //  * @returns {undefined}\n  //  */\n  // addBefore(index, remove, add) {\n  //   addImplementation(this, index, remove, add, true)\n  // }\n\n  /**\n   * Done, change the events.\n   *\n   * @param {Array<Event>} events\n   * @returns {undefined}\n   */\n  consume(events) {\n    this.map.sort(function (a, b) {\n      return a[0] - b[0];\n    });\n\n    /* c8 ignore next 3 -- `resolve` is never called without tables, so without edits. */\n    if (this.map.length === 0) {\n      return;\n    }\n\n    // To do: if links are added in events, like they are in `markdown-rs`,\n    // this is needed.\n    // // Calculate jumps: where items in the current list move to.\n    // /** @type {Array<Jump>} */\n    // const jumps = []\n    // let index = 0\n    // let addAcc = 0\n    // let removeAcc = 0\n    // while (index < this.map.length) {\n    //   const [at, remove, add] = this.map[index]\n    //   removeAcc += remove\n    //   addAcc += add.length\n    //   jumps.push([at, removeAcc, addAcc])\n    //   index += 1\n    // }\n    //\n    // . shiftLinks(events, jumps)\n\n    let index = this.map.length;\n    /** @type {Array<Array<Event>>} */\n    const vecs = [];\n    while (index > 0) {\n      index -= 1;\n      vecs.push(events.slice(this.map[index][0] + this.map[index][1]), this.map[index][2]);\n\n      // Truncate rest.\n      events.length = this.map[index][0];\n    }\n    vecs.push([...events]);\n    events.length = 0;\n    let slice = vecs.pop();\n    while (slice) {\n      events.push(...slice);\n      slice = vecs.pop();\n    }\n\n    // Truncate everything.\n    this.map.length = 0;\n  }\n}\n\n/**\n * Create an edit.\n *\n * @param {EditMap} editMap\n * @param {number} at\n * @param {number} remove\n * @param {Array<Event>} add\n * @returns {undefined}\n */\nfunction addImplementation(editMap, at, remove, add) {\n  let index = 0;\n\n  /* c8 ignore next 3 -- `resolve` is never called without tables, so without edits. */\n  if (remove === 0 && add.length === 0) {\n    return;\n  }\n  while (index < editMap.map.length) {\n    if (editMap.map[index][0] === at) {\n      editMap.map[index][1] += remove;\n\n      // To do: before not used by tables, use when moving to micromark.\n      // if (before) {\n      //   add.push(...editMap.map[index][2])\n      //   editMap.map[index][2] = add\n      // } else {\n      editMap.map[index][2].push(...add);\n      // }\n\n      return;\n    }\n    index += 1;\n  }\n  editMap.map.push([at, remove, add]);\n}\n\n// /**\n//  * Shift `previous` and `next` links according to `jumps`.\n//  *\n//  * This fixes links in case there are events removed or added between them.\n//  *\n//  * @param {Array<Event>} events\n//  * @param {Array<Jump>} jumps\n//  */\n// function shiftLinks(events, jumps) {\n//   let jumpIndex = 0\n//   let index = 0\n//   let add = 0\n//   let rm = 0\n\n//   while (index < events.length) {\n//     const rmCurr = rm\n\n//     while (jumpIndex < jumps.length && jumps[jumpIndex][0] <= index) {\n//       add = jumps[jumpIndex][2]\n//       rm = jumps[jumpIndex][1]\n//       jumpIndex += 1\n//     }\n\n//     // Ignore items that will be removed.\n//     if (rm > rmCurr) {\n//       index += rm - rmCurr\n//     } else {\n//       // ?\n//       // if let Some(link) = &events[index].link {\n//       //     if let Some(next) = link.next {\n//       //         events[next].link.as_mut().unwrap().previous = Some(index + add - rm);\n//       //         while jumpIndex < jumps.len() && jumps[jumpIndex].0 <= next {\n//       //             add = jumps[jumpIndex].2;\n//       //             rm = jumps[jumpIndex].1;\n//       //             jumpIndex += 1;\n//       //         }\n//       //         events[index].link.as_mut().unwrap().next = Some(next + add - rm);\n//       //         index = next;\n//       //         continue;\n//       //     }\n//       // }\n//       index += 1\n//     }\n//   }\n// }","/**\n * @import {Event} from 'micromark-util-types'\n */\n\n/**\n * @typedef {'center' | 'left' | 'none' | 'right'} Align\n */\n\n/**\n * Figure out the alignment of a GFM table.\n *\n * @param {Readonly<Array<Event>>} events\n *   List of events.\n * @param {number} index\n *   Table enter event.\n * @returns {Array<Align>}\n *   List of aligns.\n */\nexport function gfmTableAlign(events, index) {\n  let inDelimiterRow = false;\n  /** @type {Array<Align>} */\n  const align = [];\n  while (index < events.length) {\n    const event = events[index];\n    if (inDelimiterRow) {\n      if (event[0] === 'enter') {\n        // Start of alignment value: set a new column.\n        // To do: `markdown-rs` uses `tableDelimiterCellValue`.\n        if (event[1].type === 'tableContent') {\n          align.push(events[index + 1][1].type === 'tableDelimiterMarker' ? 'left' : 'none');\n        }\n      }\n      // Exits:\n      // End of alignment value: change the column.\n      // To do: `markdown-rs` uses `tableDelimiterCellValue`.\n      else if (event[1].type === 'tableContent') {\n        if (events[index - 1][1].type === 'tableDelimiterMarker') {\n          const alignIndex = align.length - 1;\n          align[alignIndex] = align[alignIndex] === 'left' ? 'center' : 'right';\n        }\n      }\n      // Done!\n      else if (event[1].type === 'tableDelimiterRow') {\n        break;\n      }\n    } else if (event[0] === 'enter' && event[1].type === 'tableDelimiterRow') {\n      inDelimiterRow = true;\n    }\n    index += 1;\n  }\n  return align;\n}","/**\n * @import {Event, Extension, Point, Resolver, State, Token, TokenizeContext, Tokenizer} from 'micromark-util-types'\n */\n\n/**\n * @typedef {[number, number, number, number]} Range\n *   Cell info.\n *\n * @typedef {0 | 1 | 2 | 3} RowKind\n *   Where we are: `1` for head row, `2` for delimiter row, `3` for body row.\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\nimport { EditMap } from './edit-map.js';\nimport { gfmTableAlign } from './infer.js';\n\n/**\n * Create an HTML extension for `micromark` to support GitHub tables syntax.\n *\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `extensions` to enable GFM\n *   table syntax.\n */\nexport function gfmTable() {\n  return {\n    flow: {\n      null: {\n        name: 'table',\n        tokenize: tokenizeTable,\n        resolveAll: resolveTable\n      }\n    }\n  };\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeTable(effects, ok, nok) {\n  const self = this;\n  let size = 0;\n  let sizeB = 0;\n  /** @type {boolean | undefined} */\n  let seen;\n  return start;\n\n  /**\n   * Start of a GFM table.\n   *\n   * If there is a valid table row or table head before, then we try to parse\n   * another row.\n   * Otherwise, we try to parse a head.\n   *\n   * ```markdown\n   * > | | a |\n   *     ^\n   *   | | - |\n   * > | | b |\n   *     ^\n   * ```\n   * @type {State}\n   */\n  function start(code) {\n    let index = self.events.length - 1;\n    while (index > -1) {\n      const type = self.events[index][1].type;\n      if (type === \"lineEnding\" ||\n      // Note: markdown-rs uses `whitespace` instead of `linePrefix`\n      type === \"linePrefix\") index--;else break;\n    }\n    const tail = index > -1 ? self.events[index][1].type : null;\n    const next = tail === 'tableHead' || tail === 'tableRow' ? bodyRowStart : headRowBefore;\n\n    // Dont allow lazy body rows.\n    if (next === bodyRowStart && self.parser.lazy[self.now().line]) {\n      return nok(code);\n    }\n    return next(code);\n  }\n\n  /**\n   * Before table head row.\n   *\n   * ```markdown\n   * > | | a |\n   *     ^\n   *   | | - |\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headRowBefore(code) {\n    effects.enter('tableHead');\n    effects.enter('tableRow');\n    return headRowStart(code);\n  }\n\n  /**\n   * Before table head row, after whitespace.\n   *\n   * ```markdown\n   * > | | a |\n   *     ^\n   *   | | - |\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headRowStart(code) {\n    if (code === 124) {\n      return headRowBreak(code);\n    }\n\n    // To do: micromark-js should let us parse our own whitespace in extensions,\n    // like `markdown-rs`:\n    //\n    // ```js\n    // // 4+ spaces.\n    // if (markdownSpace(code)) {\n    //   return nok(code)\n    // }\n    // ```\n\n    seen = true;\n    // Count the first character, that isnt a pipe, double.\n    sizeB += 1;\n    return headRowBreak(code);\n  }\n\n  /**\n   * At break in table head row.\n   *\n   * ```markdown\n   * > | | a |\n   *     ^\n   *       ^\n   *         ^\n   *   | | - |\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headRowBreak(code) {\n    if (code === null) {\n      // Note: in `markdown-rs`, we need to reset, in `micromark-js` we dont.\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      // If anything other than one pipe (ignoring whitespace) was used, its fine.\n      if (sizeB > 1) {\n        sizeB = 0;\n        // To do: check if this works.\n        // Feel free to interrupt:\n        self.interrupt = true;\n        effects.exit('tableRow');\n        effects.enter(\"lineEnding\");\n        effects.consume(code);\n        effects.exit(\"lineEnding\");\n        return headDelimiterStart;\n      }\n\n      // Note: in `markdown-rs`, we need to reset, in `micromark-js` we dont.\n      return nok(code);\n    }\n    if (markdownSpace(code)) {\n      // To do: check if this is fine.\n      // effects.attempt(State::Next(StateName::GfmTableHeadRowBreak), State::Nok)\n      // State::Retry(space_or_tab(tokenizer))\n      return factorySpace(effects, headRowBreak, \"whitespace\")(code);\n    }\n    sizeB += 1;\n    if (seen) {\n      seen = false;\n      // Header cell count.\n      size += 1;\n    }\n    if (code === 124) {\n      effects.enter('tableCellDivider');\n      effects.consume(code);\n      effects.exit('tableCellDivider');\n      // Whether a delimiter was seen.\n      seen = true;\n      return headRowBreak;\n    }\n\n    // Anything else is cell data.\n    effects.enter(\"data\");\n    return headRowData(code);\n  }\n\n  /**\n   * In table head row data.\n   *\n   * ```markdown\n   * > | | a |\n   *       ^\n   *   | | - |\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headRowData(code) {\n    if (code === null || code === 124 || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"data\");\n      return headRowBreak(code);\n    }\n    effects.consume(code);\n    return code === 92 ? headRowEscape : headRowData;\n  }\n\n  /**\n   * In table head row escape.\n   *\n   * ```markdown\n   * > | | a\\-b |\n   *         ^\n   *   | | ---- |\n   *   | | c    |\n   * ```\n   *\n   * @type {State}\n   */\n  function headRowEscape(code) {\n    if (code === 92 || code === 124) {\n      effects.consume(code);\n      return headRowData;\n    }\n    return headRowData(code);\n  }\n\n  /**\n   * Before delimiter row.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | - |\n   *     ^\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterStart(code) {\n    // Reset `interrupt`.\n    self.interrupt = false;\n\n    // Note: in `markdown-rs`, we need to handle piercing here too.\n    if (self.parser.lazy[self.now().line]) {\n      return nok(code);\n    }\n    effects.enter('tableDelimiterRow');\n    // Track if weve seen a `:` or `|`.\n    seen = false;\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headDelimiterBefore, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n    }\n    return headDelimiterBefore(code);\n  }\n\n  /**\n   * Before delimiter row, after optional whitespace.\n   *\n   * Reused when a `|` is found later, to parse another cell.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | - |\n   *     ^\n   *   | | b |\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterBefore(code) {\n    if (code === 45 || code === 58) {\n      return headDelimiterValueBefore(code);\n    }\n    if (code === 124) {\n      seen = true;\n      // If we start with a pipe, we open a cell marker.\n      effects.enter('tableCellDivider');\n      effects.consume(code);\n      effects.exit('tableCellDivider');\n      return headDelimiterCellBefore;\n    }\n\n    // More whitespace / empty row not allowed at start.\n    return headDelimiterNok(code);\n  }\n\n  /**\n   * After `|`, before delimiter cell.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | - |\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterCellBefore(code) {\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headDelimiterValueBefore, \"whitespace\")(code);\n    }\n    return headDelimiterValueBefore(code);\n  }\n\n  /**\n   * Before delimiter cell value.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | - |\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterValueBefore(code) {\n    // Align: left.\n    if (code === 58) {\n      sizeB += 1;\n      seen = true;\n      effects.enter('tableDelimiterMarker');\n      effects.consume(code);\n      effects.exit('tableDelimiterMarker');\n      return headDelimiterLeftAlignmentAfter;\n    }\n\n    // Align: none.\n    if (code === 45) {\n      sizeB += 1;\n      // To do: seems weird that this *isnt* left aligned, but that state is used?\n      return headDelimiterLeftAlignmentAfter(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      return headDelimiterCellAfter(code);\n    }\n    return headDelimiterNok(code);\n  }\n\n  /**\n   * After delimiter cell left alignment marker.\n   *\n   * ```markdown\n   *   | | a  |\n   * > | | :- |\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterLeftAlignmentAfter(code) {\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller');\n      return headDelimiterFiller(code);\n    }\n\n    // Anything else is not ok after the left-align colon.\n    return headDelimiterNok(code);\n  }\n\n  /**\n   * In delimiter cell filler.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | - |\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterFiller(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return headDelimiterFiller;\n    }\n\n    // Align is `center` if it was `left`, `right` otherwise.\n    if (code === 58) {\n      seen = true;\n      effects.exit('tableDelimiterFiller');\n      effects.enter('tableDelimiterMarker');\n      effects.consume(code);\n      effects.exit('tableDelimiterMarker');\n      return headDelimiterRightAlignmentAfter;\n    }\n    effects.exit('tableDelimiterFiller');\n    return headDelimiterRightAlignmentAfter(code);\n  }\n\n  /**\n   * After delimiter cell right alignment marker.\n   *\n   * ```markdown\n   *   | |  a |\n   * > | | -: |\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterRightAlignmentAfter(code) {\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headDelimiterCellAfter, \"whitespace\")(code);\n    }\n    return headDelimiterCellAfter(code);\n  }\n\n  /**\n   * After delimiter cell.\n   *\n   * ```markdown\n   *   | |  a |\n   * > | | -: |\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterCellAfter(code) {\n    if (code === 124) {\n      return headDelimiterBefore(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      // Exit when:\n      // * there was no `:` or `|` at all (its a thematic break or setext\n      //   underline instead)\n      // * the header cell count is not the delimiter cell count\n      if (!seen || size !== sizeB) {\n        return headDelimiterNok(code);\n      }\n\n      // Note: in markdown-rs`, a reset is needed here.\n      effects.exit('tableDelimiterRow');\n      effects.exit('tableHead');\n      // To do: in `markdown-rs`, resolvers need to be registered manually.\n      // effects.register_resolver(ResolveName::GfmTable)\n      return ok(code);\n    }\n    return headDelimiterNok(code);\n  }\n\n  /**\n   * In delimiter row, at a disallowed byte.\n   *\n   * ```markdown\n   *   | | a |\n   * > | | x |\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function headDelimiterNok(code) {\n    // Note: in `markdown-rs`, we need to reset, in `micromark-js` we dont.\n    return nok(code);\n  }\n\n  /**\n   * Before table body row.\n   *\n   * ```markdown\n   *   | | a |\n   *   | | - |\n   * > | | b |\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function bodyRowStart(code) {\n    // Note: in `markdown-rs` we need to manually take care of a prefix,\n    // but in `micromark-js` that is done for us, so if were here, were\n    // never at whitespace.\n    effects.enter('tableRow');\n    return bodyRowBreak(code);\n  }\n\n  /**\n   * At break in table body row.\n   *\n   * ```markdown\n   *   | | a |\n   *   | | - |\n   * > | | b |\n   *     ^\n   *       ^\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function bodyRowBreak(code) {\n    if (code === 124) {\n      effects.enter('tableCellDivider');\n      effects.consume(code);\n      effects.exit('tableCellDivider');\n      return bodyRowBreak;\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('tableRow');\n      return ok(code);\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, bodyRowBreak, \"whitespace\")(code);\n    }\n\n    // Anything else is cell content.\n    effects.enter(\"data\");\n    return bodyRowData(code);\n  }\n\n  /**\n   * In table body row data.\n   *\n   * ```markdown\n   *   | | a |\n   *   | | - |\n   * > | | b |\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function bodyRowData(code) {\n    if (code === null || code === 124 || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"data\");\n      return bodyRowBreak(code);\n    }\n    effects.consume(code);\n    return code === 92 ? bodyRowEscape : bodyRowData;\n  }\n\n  /**\n   * In table body row escape.\n   *\n   * ```markdown\n   *   | | a    |\n   *   | | ---- |\n   * > | | b\\-c |\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function bodyRowEscape(code) {\n    if (code === 92 || code === 124) {\n      effects.consume(code);\n      return bodyRowData;\n    }\n    return bodyRowData(code);\n  }\n}\n\n/** @type {Resolver} */\n\nfunction resolveTable(events, context) {\n  let index = -1;\n  let inFirstCellAwaitingPipe = true;\n  /** @type {RowKind} */\n  let rowKind = 0;\n  /** @type {Range} */\n  let lastCell = [0, 0, 0, 0];\n  /** @type {Range} */\n  let cell = [0, 0, 0, 0];\n  let afterHeadAwaitingFirstBodyRow = false;\n  let lastTableEnd = 0;\n  /** @type {Token | undefined} */\n  let currentTable;\n  /** @type {Token | undefined} */\n  let currentBody;\n  /** @type {Token | undefined} */\n  let currentCell;\n  const map = new EditMap();\n  while (++index < events.length) {\n    const event = events[index];\n    const token = event[1];\n    if (event[0] === 'enter') {\n      // Start of head.\n      if (token.type === 'tableHead') {\n        afterHeadAwaitingFirstBodyRow = false;\n\n        // Inject previous (body end and) table end.\n        if (lastTableEnd !== 0) {\n          flushTableEnd(map, context, lastTableEnd, currentTable, currentBody);\n          currentBody = undefined;\n          lastTableEnd = 0;\n        }\n\n        // Inject table start.\n        currentTable = {\n          type: 'table',\n          start: Object.assign({}, token.start),\n          // Note: correct end is set later.\n          end: Object.assign({}, token.end)\n        };\n        map.add(index, 0, [['enter', currentTable, context]]);\n      } else if (token.type === 'tableRow' || token.type === 'tableDelimiterRow') {\n        inFirstCellAwaitingPipe = true;\n        currentCell = undefined;\n        lastCell = [0, 0, 0, 0];\n        cell = [0, index + 1, 0, 0];\n\n        // Inject table body start.\n        if (afterHeadAwaitingFirstBodyRow) {\n          afterHeadAwaitingFirstBodyRow = false;\n          currentBody = {\n            type: 'tableBody',\n            start: Object.assign({}, token.start),\n            // Note: correct end is set later.\n            end: Object.assign({}, token.end)\n          };\n          map.add(index, 0, [['enter', currentBody, context]]);\n        }\n        rowKind = token.type === 'tableDelimiterRow' ? 2 : currentBody ? 3 : 1;\n      }\n      // Cell data.\n      else if (rowKind && (token.type === \"data\" || token.type === 'tableDelimiterMarker' || token.type === 'tableDelimiterFiller')) {\n        inFirstCellAwaitingPipe = false;\n\n        // First value in cell.\n        if (cell[2] === 0) {\n          if (lastCell[1] !== 0) {\n            cell[0] = cell[1];\n            currentCell = flushCell(map, context, lastCell, rowKind, undefined, currentCell);\n            lastCell = [0, 0, 0, 0];\n          }\n          cell[2] = index;\n        }\n      } else if (token.type === 'tableCellDivider') {\n        if (inFirstCellAwaitingPipe) {\n          inFirstCellAwaitingPipe = false;\n        } else {\n          if (lastCell[1] !== 0) {\n            cell[0] = cell[1];\n            currentCell = flushCell(map, context, lastCell, rowKind, undefined, currentCell);\n          }\n          lastCell = cell;\n          cell = [lastCell[1], index, 0, 0];\n        }\n      }\n    }\n    // Exit events.\n    else if (token.type === 'tableHead') {\n      afterHeadAwaitingFirstBodyRow = true;\n      lastTableEnd = index;\n    } else if (token.type === 'tableRow' || token.type === 'tableDelimiterRow') {\n      lastTableEnd = index;\n      if (lastCell[1] !== 0) {\n        cell[0] = cell[1];\n        currentCell = flushCell(map, context, lastCell, rowKind, index, currentCell);\n      } else if (cell[1] !== 0) {\n        currentCell = flushCell(map, context, cell, rowKind, index, currentCell);\n      }\n      rowKind = 0;\n    } else if (rowKind && (token.type === \"data\" || token.type === 'tableDelimiterMarker' || token.type === 'tableDelimiterFiller')) {\n      cell[3] = index;\n    }\n  }\n  if (lastTableEnd !== 0) {\n    flushTableEnd(map, context, lastTableEnd, currentTable, currentBody);\n  }\n  map.consume(context.events);\n\n  // To do: move this into `html`, when events are exposed there.\n  // Thats what `markdown-rs` does.\n  // That needs updates to `mdast-util-gfm-table`.\n  index = -1;\n  while (++index < context.events.length) {\n    const event = context.events[index];\n    if (event[0] === 'enter' && event[1].type === 'table') {\n      event[1]._align = gfmTableAlign(context.events, index);\n    }\n  }\n  return events;\n}\n\n/**\n * Generate a cell.\n *\n * @param {EditMap} map\n * @param {Readonly<TokenizeContext>} context\n * @param {Readonly<Range>} range\n * @param {RowKind} rowKind\n * @param {number | undefined} rowEnd\n * @param {Token | undefined} previousCell\n * @returns {Token | undefined}\n */\n// eslint-disable-next-line max-params\nfunction flushCell(map, context, range, rowKind, rowEnd, previousCell) {\n  // `markdown-rs` uses:\n  // rowKind === 2 ? 'tableDelimiterCell' : 'tableCell'\n  const groupName = rowKind === 1 ? 'tableHeader' : rowKind === 2 ? 'tableDelimiter' : 'tableData';\n  // `markdown-rs` uses:\n  // rowKind === 2 ? 'tableDelimiterCellValue' : 'tableCellText'\n  const valueName = 'tableContent';\n\n  // Insert an exit for the previous cell, if there is one.\n  //\n  // ```markdown\n  // > | | aa | bb | cc |\n  //          ^-- exit\n  //           ^^^^-- this cell\n  // ```\n  if (range[0] !== 0) {\n    previousCell.end = Object.assign({}, getPoint(context.events, range[0]));\n    map.add(range[0], 0, [['exit', previousCell, context]]);\n  }\n\n  // Insert enter of this cell.\n  //\n  // ```markdown\n  // > | | aa | bb | cc |\n  //           ^-- enter\n  //           ^^^^-- this cell\n  // ```\n  const now = getPoint(context.events, range[1]);\n  previousCell = {\n    type: groupName,\n    start: Object.assign({}, now),\n    // Note: correct end is set later.\n    end: Object.assign({}, now)\n  };\n  map.add(range[1], 0, [['enter', previousCell, context]]);\n\n  // Insert text start at first data start and end at last data end, and\n  // remove events between.\n  //\n  // ```markdown\n  // > | | aa | bb | cc |\n  //            ^-- enter\n  //             ^-- exit\n  //           ^^^^-- this cell\n  // ```\n  if (range[2] !== 0) {\n    const relatedStart = getPoint(context.events, range[2]);\n    const relatedEnd = getPoint(context.events, range[3]);\n    /** @type {Token} */\n    const valueToken = {\n      type: valueName,\n      start: Object.assign({}, relatedStart),\n      end: Object.assign({}, relatedEnd)\n    };\n    map.add(range[2], 0, [['enter', valueToken, context]]);\n    if (rowKind !== 2) {\n      // Fix positional info on remaining events\n      const start = context.events[range[2]];\n      const end = context.events[range[3]];\n      start[1].end = Object.assign({}, end[1].end);\n      start[1].type = \"chunkText\";\n      start[1].contentType = \"text\";\n\n      // Remove if needed.\n      if (range[3] > range[2] + 1) {\n        const a = range[2] + 1;\n        const b = range[3] - range[2] - 1;\n        map.add(a, b, []);\n      }\n    }\n    map.add(range[3] + 1, 0, [['exit', valueToken, context]]);\n  }\n\n  // Insert an exit for the last cell, if at the row end.\n  //\n  // ```markdown\n  // > | | aa | bb | cc |\n  //                    ^-- exit\n  //               ^^^^^^-- this cell (the last one contains two between parts)\n  // ```\n  if (rowEnd !== undefined) {\n    previousCell.end = Object.assign({}, getPoint(context.events, rowEnd));\n    map.add(rowEnd, 0, [['exit', previousCell, context]]);\n    previousCell = undefined;\n  }\n  return previousCell;\n}\n\n/**\n * Generate table end (and table body end).\n *\n * @param {Readonly<EditMap>} map\n * @param {Readonly<TokenizeContext>} context\n * @param {number} index\n * @param {Token} table\n * @param {Token | undefined} tableBody\n */\n// eslint-disable-next-line max-params\nfunction flushTableEnd(map, context, index, table, tableBody) {\n  /** @type {Array<Event>} */\n  const exits = [];\n  const related = getPoint(context.events, index);\n  if (tableBody) {\n    tableBody.end = Object.assign({}, related);\n    exits.push(['exit', tableBody, context]);\n  }\n  table.end = Object.assign({}, related);\n  exits.push(['exit', table, context]);\n  map.add(index + 1, 0, exits);\n}\n\n/**\n * @param {Readonly<Array<Event>>} events\n * @param {number} index\n * @returns {Readonly<Point>}\n */\nfunction getPoint(events, index) {\n  const event = events[index];\n  const side = event[0] === 'enter' ? 'start' : 'end';\n  return event[1][side];\n}","/**\n * @import {Extension, State, TokenizeContext, Tokenizer} from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\nconst tasklistCheck = {\n  name: 'tasklistCheck',\n  tokenize: tokenizeTasklistCheck\n};\n\n/**\n * Create an HTML extension for `micromark` to support GFM task list items\n * syntax.\n *\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `htmlExtensions` to\n *   support GFM task list items when serializing to HTML.\n */\nexport function gfmTaskListItem() {\n  return {\n    text: {\n      [91]: tasklistCheck\n    }\n  };\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  const self = this;\n  return open;\n\n  /**\n   * At start of task list item check.\n   *\n   * ```markdown\n   * > | * [x] y.\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (\n    // Exit if theres stuff before.\n    self.previous !== null ||\n    // Exit if not in the first content that is the first child of a list\n    // item.\n    !self._gfmTasklistFirstContentOfListItem) {\n      return nok(code);\n    }\n    effects.enter('taskListCheck');\n    effects.enter('taskListCheckMarker');\n    effects.consume(code);\n    effects.exit('taskListCheckMarker');\n    return inside;\n  }\n\n  /**\n   * In task list item check.\n   *\n   * ```markdown\n   * > | * [x] y.\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    // Currently we match how GH works in files.\n    // To match how GH works in comments, use `markdownSpace` (`[\\t ]`) instead\n    // of `markdownLineEndingOrSpace` (`[\\t\\n\\r ]`).\n    if (markdownLineEndingOrSpace(code)) {\n      effects.enter('taskListCheckValueUnchecked');\n      effects.consume(code);\n      effects.exit('taskListCheckValueUnchecked');\n      return close;\n    }\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked');\n      effects.consume(code);\n      effects.exit('taskListCheckValueChecked');\n      return close;\n    }\n    return nok(code);\n  }\n\n  /**\n   * At close of task list item check.\n   *\n   * ```markdown\n   * > | * [x] y.\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function close(code) {\n    if (code === 93) {\n      effects.enter('taskListCheckMarker');\n      effects.consume(code);\n      effects.exit('taskListCheckMarker');\n      effects.exit('taskListCheck');\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * @type {State}\n   */\n  function after(code) {\n    // EOL in paragraph means there must be something else after it.\n    if (markdownLineEnding(code)) {\n      return ok(code);\n    }\n\n    // Space or tab?\n    // Check what comes after.\n    if (markdownSpace(code)) {\n      return effects.check({\n        tokenize: spaceThenNonSpace\n      }, ok, nok)(code);\n    }\n\n    // EOF, or non-whitespace, both wrong.\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction spaceThenNonSpace(effects, ok, nok) {\n  return factorySpace(effects, after, \"whitespace\");\n\n  /**\n   * After whitespace, after task list item check.\n   *\n   * ```markdown\n   * > | * [x] y.\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // EOF means there was nothing, so bad.\n    // EOL means theres content after it, so good.\n    // Impossible to have more spaces.\n    // Anything else is good.\n    return code === null ? nok(code) : ok(code);\n  }\n}","/**\n * @typedef {import('micromark-extension-gfm-footnote').HtmlOptions} HtmlOptions\n * @typedef {import('micromark-extension-gfm-strikethrough').Options} Options\n * @typedef {import('micromark-util-types').Extension} Extension\n * @typedef {import('micromark-util-types').HtmlExtension} HtmlExtension\n */\n\nimport {\n  combineExtensions,\n  combineHtmlExtensions\n} from 'micromark-util-combine-extensions'\nimport {\n  gfmAutolinkLiteral,\n  gfmAutolinkLiteralHtml\n} from 'micromark-extension-gfm-autolink-literal'\nimport {gfmFootnote, gfmFootnoteHtml} from 'micromark-extension-gfm-footnote'\nimport {\n  gfmStrikethrough,\n  gfmStrikethroughHtml\n} from 'micromark-extension-gfm-strikethrough'\nimport {gfmTable, gfmTableHtml} from 'micromark-extension-gfm-table'\nimport {gfmTagfilterHtml} from 'micromark-extension-gfm-tagfilter'\nimport {\n  gfmTaskListItem,\n  gfmTaskListItemHtml\n} from 'micromark-extension-gfm-task-list-item'\n\n/**\n * Create an extension for `micromark` to enable GFM syntax.\n *\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n *\n *   Passed to `micromark-extens-gfm-strikethrough`.\n * @returns {Extension}\n *   Extension for `micromark` that can be passed in `extensions` to enable GFM\n *   syntax.\n */\nexport function gfm(options) {\n  return combineExtensions([\n    gfmAutolinkLiteral(),\n    gfmFootnote(),\n    gfmStrikethrough(options),\n    gfmTable(),\n    gfmTaskListItem()\n  ])\n}\n\n/**\n * Create an extension for `micromark` to support GFM when serializing to HTML.\n *\n * @param {HtmlOptions | null | undefined} [options]\n *   Configuration (optional).\n *\n *   Passed to `micromark-extens-gfm-footnote`.\n * @returns {HtmlExtension}\n *   Extension for `micromark` that can be passed in `htmlExtensions` to\n *   support GFM when serializing to HTML.\n */\nexport function gfmHtml(options) {\n  return combineHtmlExtensions([\n    gfmAutolinkLiteralHtml(),\n    gfmFootnoteHtml(options),\n    gfmStrikethroughHtml(),\n    gfmTableHtml(),\n    gfmTagfilterHtml(),\n    gfmTaskListItemHtml()\n  ])\n}\n","/// <reference types=\"remark-parse\" />\n/// <reference types=\"remark-stringify\" />\n\n/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast-util-gfm').Options} MdastOptions\n * @typedef {import('micromark-extension-gfm').Options} MicromarkOptions\n * @typedef {import('unified').Processor<Root>} Processor\n */\n\n/**\n * @typedef {MicromarkOptions & MdastOptions} Options\n *   Configuration.\n */\n\nimport {gfmFromMarkdown, gfmToMarkdown} from 'mdast-util-gfm'\nimport {gfm} from 'micromark-extension-gfm'\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Add support GFM (autolink literals, footnotes, strikethrough, tables,\n * tasklists).\n *\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nexport default function remarkGfm(options) {\n  // @ts-expect-error: TS is wrong about `this`.\n  // eslint-disable-next-line unicorn/no-this-assignment\n  const self = /** @type {Processor} */ (this)\n  const settings = options || emptyOptions\n  const data = self.data()\n\n  const micromarkExtensions =\n    data.micromarkExtensions || (data.micromarkExtensions = [])\n  const fromMarkdownExtensions =\n    data.fromMarkdownExtensions || (data.fromMarkdownExtensions = [])\n  const toMarkdownExtensions =\n    data.toMarkdownExtensions || (data.toMarkdownExtensions = [])\n\n  micromarkExtensions.push(gfm(settings))\n  fromMarkdownExtensions.push(gfmFromMarkdown())\n  toMarkdownExtensions.push(gfmToMarkdown(settings))\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n */\n\n/**\n * @template {string} SimpleSelector\n *   Selector type.\n * @template {string} DefaultTagName\n *   Default tag name.\n * @typedef {(\n *   SimpleSelector extends ''\n *     ? DefaultTagName\n *     : SimpleSelector extends `${infer TagName}.${infer Rest}`\n *     ? ExtractTagName<TagName, DefaultTagName>\n *     : SimpleSelector extends `${infer TagName}#${infer Rest}`\n *     ? ExtractTagName<TagName, DefaultTagName>\n *     : SimpleSelector extends string\n *     ? SimpleSelector\n *     : DefaultTagName\n * )} ExtractTagName\n *   Extract tag name from a simple selector.\n */\n\nconst search = /[#.]/g\n\n/**\n * Create a hast element from a simple CSS selector.\n *\n * @template {string} Selector\n *   Type of selector.\n * @template {string} [DefaultTagName='div']\n *   Type of default tag name (default: `'div'`).\n * @param {Selector | null | undefined} [selector]\n *   Simple CSS selector (optional).\n *\n *   Can contain a tag name (`foo`), classes (`.bar`), and an ID (`#baz`).\n *   Multiple classes are allowed.\n *   Uses the last ID if multiple IDs are found.\n * @param {DefaultTagName | null | undefined} [defaultTagName='div']\n *   Tag name to use if `selector` does not specify one (default: `'div'`).\n * @returns {Element & {tagName: ExtractTagName<Selector, DefaultTagName>}}\n *   Built element.\n */\nexport function parseSelector(selector, defaultTagName) {\n  const value = selector || ''\n  /** @type {Properties} */\n  const props = {}\n  let start = 0\n  /** @type {string | undefined} */\n  let previous\n  /** @type {string | undefined} */\n  let tagName\n\n  while (start < value.length) {\n    search.lastIndex = start\n    const match = search.exec(value)\n    const subvalue = value.slice(start, match ? match.index : value.length)\n\n    if (subvalue) {\n      if (!previous) {\n        tagName = subvalue\n      } else if (previous === '#') {\n        props.id = subvalue\n      } else if (Array.isArray(props.className)) {\n        props.className.push(subvalue)\n      } else {\n        props.className = [subvalue]\n      }\n\n      start += subvalue.length\n    }\n\n    if (match) {\n      previous = match[0]\n      start++\n    }\n  }\n\n  return {\n    type: 'element',\n    // @ts-expect-error: tag name is parsed.\n    tagName: tagName || defaultTagName || 'div',\n    properties: props,\n    children: []\n  }\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').RootContent} RootContent\n *\n * @typedef {import('property-information').Info} Info\n * @typedef {import('property-information').Schema} Schema\n */\n\n/**\n * @typedef {Element | Root} Result\n *   Result from a `h` (or `s`) call.\n *\n * @typedef {number | string} StyleValue\n *   Value for a CSS style field.\n * @typedef {Record<string, StyleValue>} Style\n *   Supported value of a `style` prop.\n * @typedef {boolean | number | string | null | undefined} PrimitiveValue\n *   Primitive property value.\n * @typedef {Array<number | string>} ArrayValue\n *   List of property values for space- or comma separated values (such as `className`).\n * @typedef {ArrayValue | PrimitiveValue} PropertyValue\n *   Primitive value or list value.\n * @typedef {{[property: string]: PropertyValue | Style}} Properties\n *   Acceptable value for element properties.\n *\n * @typedef {number | string | null | undefined} PrimitiveChild\n *   Primitive children, either ignored (nullish), or turned into text nodes.\n * @typedef {Array<ArrayChildNested | Nodes | PrimitiveChild>} ArrayChild\n *   List of children.\n * @typedef {Array<Nodes | PrimitiveChild>} ArrayChildNested\n *   List of children (deep).\n * @typedef {ArrayChild | Nodes | PrimitiveChild} Child\n *   Acceptable child value.\n */\n\nimport {parse as commas} from 'comma-separated-tokens'\nimport {parseSelector} from 'hast-util-parse-selector'\nimport {find, normalize} from 'property-information'\nimport {parse as spaces} from 'space-separated-tokens'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Schema} schema\n *   Schema to use.\n * @param {string} defaultTagName\n *   Default tag name.\n * @param {Array<string> | undefined} [caseSensitive]\n *   Case-sensitive tag names (default: `undefined`).\n * @returns\n *   `h`.\n */\nexport function createH(schema, defaultTagName, caseSensitive) {\n  const adjust = caseSensitive && createAdjustMap(caseSensitive)\n\n  /**\n   * Hyperscript compatible DSL for creating virtual hast trees.\n   *\n   * @overload\n   * @param {null | undefined} [selector]\n   * @param {...Child} children\n   * @returns {Root}\n   *\n   * @overload\n   * @param {string} selector\n   * @param {Properties} properties\n   * @param {...Child} children\n   * @returns {Element}\n   *\n   * @overload\n   * @param {string} selector\n   * @param {...Child} children\n   * @returns {Element}\n   *\n   * @param {string | null | undefined} [selector]\n   *   Selector.\n   * @param {Child | Properties | null | undefined} [properties]\n   *   Properties (or first child) (default: `undefined`).\n   * @param {...Child} children\n   *   Children.\n   * @returns {Result}\n   *   Result.\n   */\n  function h(selector, properties, ...children) {\n    let index = -1\n    /** @type {Result} */\n    let node\n\n    if (selector === undefined || selector === null) {\n      node = {type: 'root', children: []}\n      // Properties are not supported for roots.\n      const child = /** @type {Child} */ (properties)\n      children.unshift(child)\n    } else {\n      node = parseSelector(selector, defaultTagName)\n      // Normalize the name.\n      node.tagName = node.tagName.toLowerCase()\n      if (adjust && own.call(adjust, node.tagName)) {\n        node.tagName = adjust[node.tagName]\n      }\n\n      // Handle props.\n      if (isChild(properties)) {\n        children.unshift(properties)\n      } else {\n        /** @type {string} */\n        let key\n\n        for (key in properties) {\n          if (own.call(properties, key)) {\n            addProperty(schema, node.properties, key, properties[key])\n          }\n        }\n      }\n    }\n\n    // Handle children.\n    while (++index < children.length) {\n      addChild(node.children, children[index])\n    }\n\n    if (node.type === 'element' && node.tagName === 'template') {\n      node.content = {type: 'root', children: node.children}\n      node.children = []\n    }\n\n    return node\n  }\n\n  return h\n}\n\n/**\n * Check if something is properties or a child.\n *\n * @param {Child | Properties} value\n *   Value to check.\n * @returns {value is Child}\n *   Whether `value` is definitely a child.\n */\nfunction isChild(value) {\n  // Never properties if not an object.\n  if (value === null || typeof value !== 'object' || Array.isArray(value)) {\n    return true\n  }\n\n  // Never node without `type`; thats the main discriminator.\n  if (typeof value.type !== 'string') return false\n\n  // Slower check: never property value if object or array with\n  // non-number/strings.\n  const record = /** @type {Record<string, unknown>} */ (value)\n  const keys = Object.keys(value)\n\n  for (const key of keys) {\n    const value = record[key]\n\n    if (value && typeof value === 'object') {\n      if (!Array.isArray(value)) return true\n\n      const list = /** @type {Array<unknown>} */ (value)\n\n      for (const item of list) {\n        if (typeof item !== 'number' && typeof item !== 'string') {\n          return true\n        }\n      }\n    }\n  }\n\n  // Also see empty `children` as a node.\n  if ('children' in value && Array.isArray(value.children)) {\n    return true\n  }\n\n  // Default to properties, someone can always pass an empty object,\n  // put `data: {}` in a node,\n  // or wrap it in an array.\n  return false\n}\n\n/**\n * @param {Schema} schema\n *   Schema.\n * @param {Properties} properties\n *   Properties object.\n * @param {string} key\n *   Property name.\n * @param {PropertyValue | Style} value\n *   Property value.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addProperty(schema, properties, key, value) {\n  const info = find(schema, key)\n  let index = -1\n  /** @type {PropertyValue} */\n  let result\n\n  // Ignore nullish and NaN values.\n  if (value === undefined || value === null) return\n\n  if (typeof value === 'number') {\n    // Ignore NaN.\n    if (Number.isNaN(value)) return\n\n    result = value\n  }\n  // Booleans.\n  else if (typeof value === 'boolean') {\n    result = value\n  }\n  // Handle list values.\n  else if (typeof value === 'string') {\n    if (info.spaceSeparated) {\n      result = spaces(value)\n    } else if (info.commaSeparated) {\n      result = commas(value)\n    } else if (info.commaOrSpaceSeparated) {\n      result = spaces(commas(value).join(' '))\n    } else {\n      result = parsePrimitive(info, info.property, value)\n    }\n  } else if (Array.isArray(value)) {\n    result = value.concat()\n  } else {\n    result = info.property === 'style' ? style(value) : String(value)\n  }\n\n  if (Array.isArray(result)) {\n    /** @type {Array<number | string>} */\n    const finalResult = []\n\n    while (++index < result.length) {\n      // Assume no booleans in array.\n      const value = /** @type {number | string} */ (\n        parsePrimitive(info, info.property, result[index])\n      )\n      finalResult[index] = value\n    }\n\n    result = finalResult\n  }\n\n  // Class names (which can be added both on the `selector` and here).\n  if (info.property === 'className' && Array.isArray(properties.className)) {\n    // Assume no booleans in `className`.\n    const value = /** @type {number | string} */ (result)\n    result = properties.className.concat(value)\n  }\n\n  properties[info.property] = result\n}\n\n/**\n * @param {Array<RootContent>} nodes\n *   Children.\n * @param {Child} value\n *   Child.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addChild(nodes, value) {\n  let index = -1\n\n  if (value === undefined || value === null) {\n    // Empty.\n  } else if (typeof value === 'string' || typeof value === 'number') {\n    nodes.push({type: 'text', value: String(value)})\n  } else if (Array.isArray(value)) {\n    while (++index < value.length) {\n      addChild(nodes, value[index])\n    }\n  } else if (typeof value === 'object' && 'type' in value) {\n    if (value.type === 'root') {\n      addChild(nodes, value.children)\n    } else {\n      nodes.push(value)\n    }\n  } else {\n    throw new Error('Expected node, nodes, or string, got `' + value + '`')\n  }\n}\n\n/**\n * Parse a single primitives.\n *\n * @param {Info} info\n *   Property information.\n * @param {string} name\n *   Property name.\n * @param {PrimitiveValue} value\n *   Property value.\n * @returns {PrimitiveValue}\n *   Property value.\n */\nfunction parsePrimitive(info, name, value) {\n  if (typeof value === 'string') {\n    if (info.number && value && !Number.isNaN(Number(value))) {\n      return Number(value)\n    }\n\n    if (\n      (info.boolean || info.overloadedBoolean) &&\n      (value === '' || normalize(value) === normalize(name))\n    ) {\n      return true\n    }\n  }\n\n  return value\n}\n\n/**\n * Serialize a `style` object as a string.\n *\n * @param {Style} value\n *   Style object.\n * @returns {string}\n *   CSS string.\n */\nfunction style(value) {\n  /** @type {Array<string>} */\n  const result = []\n  /** @type {string} */\n  let key\n\n  for (key in value) {\n    if (own.call(value, key)) {\n      result.push([key, value[key]].join(': '))\n    }\n  }\n\n  return result.join('; ')\n}\n\n/**\n * Create a map to adjust casing.\n *\n * @param {Array<string>} values\n *   List of properly cased keys.\n * @returns {Record<string, string>}\n *   Map of lowercase keys to uppercase keys.\n */\nfunction createAdjustMap(values) {\n  /** @type {Record<string, string>} */\n  const result = {}\n  let index = -1\n\n  while (++index < values.length) {\n    result[values[index].toLowerCase()] = values[index]\n  }\n\n  return result\n}\n","export const svgCaseSensitiveTagNames = [\n  'altGlyph',\n  'altGlyphDef',\n  'altGlyphItem',\n  'animateColor',\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'glyphRef',\n  'linearGradient',\n  'radialGradient',\n  'solidColor',\n  'textArea',\n  'textPath'\n]\n","/**\n * @typedef {import('./create-h.js').Child} Child\n *   Acceptable child value.\n * @typedef {import('./create-h.js').Properties} Properties\n *   Acceptable value for element properties.\n * @typedef {import('./create-h.js').Result} Result\n *   Result from a `h` (or `s`) call.\n */\n\n// Register the JSX namespace on `h`.\n/**\n * @typedef {import('./jsx-classic.js').Element} h.JSX.Element\n * @typedef {import('./jsx-classic.js').ElementChildrenAttribute} h.JSX.ElementChildrenAttribute\n * @typedef {import('./jsx-classic.js').IntrinsicAttributes} h.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic.js').IntrinsicElements} h.JSX.IntrinsicElements\n */\n\n// Register the JSX namespace on `s`.\n/**\n * @typedef {import('./jsx-classic.js').Element} s.JSX.Element\n * @typedef {import('./jsx-classic.js').ElementChildrenAttribute} s.JSX.ElementChildrenAttribute\n * @typedef {import('./jsx-classic.js').IntrinsicAttributes} s.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic.js').IntrinsicElements} s.JSX.IntrinsicElements\n */\n\nimport {html, svg} from 'property-information'\nimport {createH} from './create-h.js'\nimport {svgCaseSensitiveTagNames} from './svg-case-sensitive-tag-names.js'\n\n// Note: this explicit type is needed, otherwise TS creates broken types.\n/** @type {ReturnType<createH>} */\nexport const h = createH(html, 'div')\n\n// Note: this explicit type is needed, otherwise TS creates broken types.\n/** @type {ReturnType<createH>} */\nexport const s = createH(svg, 'g', svgCaseSensitiveTagNames)\n","/**\n * @import {VFile, Value} from 'vfile'\n * @import {Location} from 'vfile-location'\n */\n\n/**\n * Create an index of the given document to translate between line/column and\n * offset based positional info.\n *\n * Also implemented in Rust in [`wooorm/markdown-rs`][markdown-rs].\n *\n * [markdown-rs]: https://github.com/wooorm/markdown-rs/blob/main/src/util/location.rs\n *\n * @param {VFile | Value} file\n *   File to index.\n * @returns {Location}\n *   Accessors for index.\n */\nexport function location(file) {\n  const value = String(file)\n  /**\n   * List, where each index is a line number (0-based), and each value is the\n   * byte index *after* where the line ends.\n   *\n   * @type {Array<number>}\n   */\n  const indices = []\n\n  return {toOffset, toPoint}\n\n  /** @type {Location['toPoint']} */\n  function toPoint(offset) {\n    if (typeof offset === 'number' && offset > -1 && offset <= value.length) {\n      let index = 0\n\n      while (true) {\n        let end = indices[index]\n\n        if (end === undefined) {\n          const eol = next(value, indices[index - 1])\n          end = eol === -1 ? value.length + 1 : eol + 1\n          indices[index] = end\n        }\n\n        if (end > offset) {\n          return {\n            line: index + 1,\n            column: offset - (index > 0 ? indices[index - 1] : 0) + 1,\n            offset\n          }\n        }\n\n        index++\n      }\n    }\n  }\n\n  /** @type {Location['toOffset']} */\n  function toOffset(point) {\n    if (\n      point &&\n      typeof point.line === 'number' &&\n      typeof point.column === 'number' &&\n      !Number.isNaN(point.line) &&\n      !Number.isNaN(point.column)\n    ) {\n      while (indices.length < point.line) {\n        const from = indices[indices.length - 1]\n        const eol = next(value, from)\n        const end = eol === -1 ? value.length + 1 : eol + 1\n        if (from === end) break\n        indices.push(end)\n      }\n\n      const offset =\n        (point.line > 1 ? indices[point.line - 2] : 0) + point.column - 1\n      // The given `column` could not exist on this line.\n      if (offset < indices[point.line - 1]) return offset\n    }\n  }\n}\n\n/**\n * @param {string} value\n * @param {number} from\n */\nfunction next(value, from) {\n  const cr = value.indexOf('\\r', from)\n  const lf = value.indexOf('\\n', from)\n  if (lf === -1) return cr\n  if (cr === -1 || cr + 1 === lf) return lf\n  return cr < lf ? cr : lf\n}\n","/**\n * Map of web namespaces.\n *\n * @type {Record<string, string>}\n */\nexport const webNamespaces = {\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML',\n  svg: 'http://www.w3.org/2000/svg',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace',\n  xmlns: 'http://www.w3.org/2000/xmlns/'\n}\n","/**\n * @import {ElementData, Element, Nodes, RootContent, Root} from 'hast'\n * @import {DefaultTreeAdapterMap, Token} from 'parse5'\n * @import {Schema} from 'property-information'\n * @import {Point, Position} from 'unist'\n * @import {VFile} from 'vfile'\n * @import {Options} from 'hast-util-from-parse5'\n */\n\n/**\n * @typedef State\n *   Info passed around about the current state.\n * @property {VFile | undefined} file\n *   Corresponding file.\n * @property {boolean} location\n *   Whether location info was found.\n * @property {Schema} schema\n *   Current schema.\n * @property {boolean | undefined} verbose\n *   Add extra positional info.\n */\n\nimport {ok as assert} from 'devlop'\nimport {h, s} from 'hastscript'\nimport {find, html, svg} from 'property-information'\nimport {location} from 'vfile-location'\nimport {webNamespaces} from 'web-namespaces'\n\nconst own = {}.hasOwnProperty\n/** @type {unknown} */\n// type-coverage:ignore-next-line\nconst proto = Object.prototype\n\n/**\n * Transform a `parse5` AST to hast.\n *\n * @param {DefaultTreeAdapterMap['node']} tree\n *   `parse5` tree to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {Nodes}\n *   hast tree.\n */\nexport function fromParse5(tree, options) {\n  const settings = options || {}\n\n  return one(\n    {\n      file: settings.file || undefined,\n      location: false,\n      schema: settings.space === 'svg' ? svg : html,\n      verbose: settings.verbose || false\n    },\n    tree\n  )\n}\n\n/**\n * Transform a node.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['node']} node\n *   p5 node.\n * @returns {Nodes}\n *   hast node.\n */\nfunction one(state, node) {\n  /** @type {Nodes} */\n  let result\n\n  switch (node.nodeName) {\n    case '#comment': {\n      const reference = /** @type {DefaultTreeAdapterMap['commentNode']} */ (\n        node\n      )\n      result = {type: 'comment', value: reference.data}\n      patch(state, reference, result)\n      return result\n    }\n\n    case '#document':\n    case '#document-fragment': {\n      const reference =\n        /** @type {DefaultTreeAdapterMap['document'] | DefaultTreeAdapterMap['documentFragment']} */ (\n          node\n        )\n      const quirksMode =\n        'mode' in reference\n          ? reference.mode === 'quirks' || reference.mode === 'limited-quirks'\n          : false\n\n      result = {\n        type: 'root',\n        children: all(state, node.childNodes),\n        data: {quirksMode}\n      }\n\n      if (state.file && state.location) {\n        const document = String(state.file)\n        const loc = location(document)\n        const start = loc.toPoint(0)\n        const end = loc.toPoint(document.length)\n        // Always defined as we give valid input.\n        assert(start, 'expected `start`')\n        assert(end, 'expected `end`')\n        result.position = {start, end}\n      }\n\n      return result\n    }\n\n    case '#documentType': {\n      const reference = /** @type {DefaultTreeAdapterMap['documentType']} */ (\n        node\n      )\n      result = {type: 'doctype'}\n      patch(state, reference, result)\n      return result\n    }\n\n    case '#text': {\n      const reference = /** @type {DefaultTreeAdapterMap['textNode']} */ (node)\n      result = {type: 'text', value: reference.value}\n      patch(state, reference, result)\n      return result\n    }\n\n    // Element.\n    default: {\n      const reference = /** @type {DefaultTreeAdapterMap['element']} */ (node)\n      result = element(state, reference)\n      return result\n    }\n  }\n}\n\n/**\n * Transform children.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Array<DefaultTreeAdapterMap['node']>} nodes\n *   Nodes.\n * @returns {Array<RootContent>}\n *   hast nodes.\n */\nfunction all(state, nodes) {\n  let index = -1\n  /** @type {Array<RootContent>} */\n  const results = []\n\n  while (++index < nodes.length) {\n    // Assume no roots in `nodes`.\n    const result = /** @type {RootContent} */ (one(state, nodes[index]))\n    results.push(result)\n  }\n\n  return results\n}\n\n/**\n * Transform an element.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['element']} node\n *   `parse5` node to transform.\n * @returns {Element}\n *   hast node.\n */\nfunction element(state, node) {\n  const schema = state.schema\n\n  state.schema = node.namespaceURI === webNamespaces.svg ? svg : html\n\n  // Props.\n  let index = -1\n  /** @type {Record<string, string>} */\n  const properties = {}\n\n  while (++index < node.attrs.length) {\n    const attribute = node.attrs[index]\n    const name =\n      (attribute.prefix ? attribute.prefix + ':' : '') + attribute.name\n    if (!own.call(proto, name)) {\n      properties[name] = attribute.value\n    }\n  }\n\n  // Build.\n  const x = state.schema.space === 'svg' ? s : h\n  const result = x(node.tagName, properties, all(state, node.childNodes))\n  patch(state, node, result)\n\n  // Switch content.\n  if (result.tagName === 'template') {\n    const reference = /** @type {DefaultTreeAdapterMap['template']} */ (node)\n    const pos = reference.sourceCodeLocation\n    const startTag = pos && pos.startTag && position(pos.startTag)\n    const endTag = pos && pos.endTag && position(pos.endTag)\n\n    // Root in, root out.\n    const content = /** @type {Root} */ (one(state, reference.content))\n\n    if (startTag && endTag && state.file) {\n      content.position = {start: startTag.end, end: endTag.start}\n    }\n\n    result.content = content\n  }\n\n  state.schema = schema\n\n  return result\n}\n\n/**\n * Patch positional info from `from` onto `to`.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['node']} from\n *   p5 node.\n * @param {Nodes} to\n *   hast node.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(state, from, to) {\n  if ('sourceCodeLocation' in from && from.sourceCodeLocation && state.file) {\n    const position = createLocation(state, to, from.sourceCodeLocation)\n\n    if (position) {\n      state.location = true\n      to.position = position\n    }\n  }\n}\n\n/**\n * Create clean positional information.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Nodes} node\n *   hast node.\n * @param {Token.ElementLocation} location\n *   p5 location info.\n * @returns {Position | undefined}\n *   Position, or nothing.\n */\nfunction createLocation(state, node, location) {\n  const result = position(location)\n\n  if (node.type === 'element') {\n    const tail = node.children[node.children.length - 1]\n\n    // Bug for unclosed with children.\n    // See: <https://github.com/inikulin/parse5/issues/109>.\n    if (\n      result &&\n      !location.endTag &&\n      tail &&\n      tail.position &&\n      tail.position.end\n    ) {\n      result.end = Object.assign({}, tail.position.end)\n    }\n\n    if (state.verbose) {\n      /** @type {Record<string, Position | undefined>} */\n      const properties = {}\n      /** @type {string} */\n      let key\n\n      if (location.attrs) {\n        for (key in location.attrs) {\n          if (own.call(location.attrs, key)) {\n            properties[find(state.schema, key).property] = position(\n              location.attrs[key]\n            )\n          }\n        }\n      }\n\n      assert(location.startTag, 'a start tag should exist')\n      const opening = position(location.startTag)\n      const closing = location.endTag ? position(location.endTag) : undefined\n      /** @type {ElementData['position']} */\n      const data = {opening}\n      if (closing) data.closing = closing\n      data.properties = properties\n\n      node.data = {position: data}\n    }\n  }\n\n  return result\n}\n\n/**\n * Turn a p5 location into a position.\n *\n * @param {Token.Location} loc\n *   Location.\n * @returns {Position | undefined}\n *   Position or nothing.\n */\nfunction position(loc) {\n  const start = point({\n    line: loc.startLine,\n    column: loc.startCol,\n    offset: loc.startOffset\n  })\n  const end = point({\n    line: loc.endLine,\n    column: loc.endCol,\n    offset: loc.endOffset\n  })\n\n  // @ts-expect-error: we do use `undefined` for points if one or the other\n  // exists.\n  return start || end ? {start, end} : undefined\n}\n\n/**\n * Filter out invalid points.\n *\n * @param {Point} point\n *   Point with potentially `undefined` values.\n * @returns {Point | undefined}\n *   Point or nothing.\n */\nfunction point(point) {\n  return point.line && point.column ? point : undefined\n}\n","/**\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').Doctype} Doctype\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').RootContent} RootContent\n * @typedef {import('hast').Text} Text\n *\n * @typedef {import('parse5').DefaultTreeAdapterMap['document']} Parse5Document\n * @typedef {import('parse5').DefaultTreeAdapterMap['documentFragment']} Parse5Fragment\n * @typedef {import('parse5').DefaultTreeAdapterMap['element']} Parse5Element\n * @typedef {import('parse5').DefaultTreeAdapterMap['node']} Parse5Nodes\n * @typedef {import('parse5').DefaultTreeAdapterMap['documentType']} Parse5Doctype\n * @typedef {import('parse5').DefaultTreeAdapterMap['commentNode']} Parse5Comment\n * @typedef {import('parse5').DefaultTreeAdapterMap['textNode']} Parse5Text\n * @typedef {import('parse5').DefaultTreeAdapterMap['parentNode']} Parse5Parent\n * @typedef {import('parse5').Token.Attribute} Parse5Attribute\n *\n * @typedef {import('property-information').Schema} Schema\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {Space | null | undefined} [space='html']\n *   Which space the document is in (default: `'html'`).\n *\n *   When an `<svg>` element is found in the HTML space, this package already\n *   automatically switches to and from the SVG space when entering and exiting\n *   it.\n *\n * @typedef {Exclude<Parse5Nodes, Parse5Document | Parse5Fragment>} Parse5Content\n *\n * @typedef {'html' | 'svg'} Space\n */\n\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {ok as assert} from 'devlop'\nimport {find, html, svg} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {webNamespaces} from 'web-namespaces'\nimport {zwitch} from 'zwitch'\n\n/** @type {Options} */\nconst emptyOptions = {}\n\nconst own = {}.hasOwnProperty\n\nconst one = zwitch('type', {handlers: {root, element, text, comment, doctype}})\n\n/**\n * Transform a hast tree to a `parse5` AST.\n *\n * @param {Nodes} tree\n *   Tree to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {Parse5Nodes}\n *   `parse5` node.\n */\nexport function toParse5(tree, options) {\n  const settings = options || emptyOptions\n  const space = settings.space\n  return one(tree, space === 'svg' ? svg : html)\n}\n\n/**\n * @param {Root} node\n *   Node (hast) to transform.\n * @param {Schema} schema\n *   Current schema.\n * @returns {Parse5Document}\n *   Parse5 node.\n */\nfunction root(node, schema) {\n  /** @type {Parse5Document} */\n  const result = {\n    nodeName: '#document',\n    // @ts-expect-error: `parse5` uses enums, which are actually strings.\n    mode: (node.data || {}).quirksMode ? 'quirks' : 'no-quirks',\n    childNodes: []\n  }\n  result.childNodes = all(node.children, result, schema)\n  patch(node, result)\n  return result\n}\n\n/**\n * @param {Root} node\n *   Node (hast) to transform.\n * @param {Schema} schema\n *   Current schema.\n * @returns {Parse5Fragment}\n *   Parse5 node.\n */\nfunction fragment(node, schema) {\n  /** @type {Parse5Fragment} */\n  const result = {nodeName: '#document-fragment', childNodes: []}\n  result.childNodes = all(node.children, result, schema)\n  patch(node, result)\n  return result\n}\n\n/**\n * @param {Doctype} node\n *   Node (hast) to transform.\n * @returns {Parse5Doctype}\n *   Parse5 node.\n */\nfunction doctype(node) {\n  /** @type {Parse5Doctype} */\n  const result = {\n    nodeName: '#documentType',\n    name: 'html',\n    publicId: '',\n    systemId: '',\n    parentNode: null\n  }\n\n  patch(node, result)\n  return result\n}\n\n/**\n * @param {Text} node\n *   Node (hast) to transform.\n * @returns {Parse5Text}\n *   Parse5 node.\n */\nfunction text(node) {\n  /** @type {Parse5Text} */\n  const result = {\n    nodeName: '#text',\n    value: node.value,\n    parentNode: null\n  }\n  patch(node, result)\n  return result\n}\n\n/**\n * @param {Comment} node\n *   Node (hast) to transform.\n * @returns {Parse5Comment}\n *   Parse5 node.\n */\nfunction comment(node) {\n  /** @type {Parse5Comment} */\n  const result = {\n    nodeName: '#comment',\n    data: node.value,\n    parentNode: null\n  }\n\n  patch(node, result)\n\n  return result\n}\n\n/**\n * @param {Element} node\n *   Node (hast) to transform.\n * @param {Schema} schema\n *   Current schema.\n * @returns {Parse5Element}\n *   Parse5 node.\n */\nfunction element(node, schema) {\n  const parentSchema = schema\n  let currentSchema = parentSchema\n\n  if (\n    node.type === 'element' &&\n    node.tagName.toLowerCase() === 'svg' &&\n    parentSchema.space === 'html'\n  ) {\n    currentSchema = svg\n  }\n\n  /** @type {Array<Parse5Attribute>} */\n  const attrs = []\n  /** @type {string} */\n  let prop\n\n  if (node.properties) {\n    for (prop in node.properties) {\n      if (prop !== 'children' && own.call(node.properties, prop)) {\n        const result = createProperty(\n          currentSchema,\n          prop,\n          node.properties[prop]\n        )\n\n        if (result) {\n          attrs.push(result)\n        }\n      }\n    }\n  }\n\n  const space = currentSchema.space\n  // `html` and `svg` both have a space.\n  assert(space)\n\n  /** @type {Parse5Element} */\n  const result = {\n    nodeName: node.tagName,\n    tagName: node.tagName,\n    attrs,\n    // @ts-expect-error: `parse5` types are wrong.\n    namespaceURI: webNamespaces[space],\n    childNodes: [],\n    parentNode: null\n  }\n  result.childNodes = all(node.children, result, currentSchema)\n  patch(node, result)\n\n  if (node.tagName === 'template' && node.content) {\n    // @ts-expect-error: `parse5` types are wrong.\n    result.content = fragment(node.content, currentSchema)\n  }\n\n  return result\n}\n\n/**\n * Handle a property.\n *\n * @param {Schema} schema\n *   Current schema.\n * @param {string} prop\n *   Key.\n * @param {Array<number | string> | boolean | number | string | null | undefined} value\n *   hast property value.\n * @returns {Parse5Attribute | undefined}\n *   Field for runtime, optional.\n */\nfunction createProperty(schema, prop, value) {\n  const info = find(schema, prop)\n\n  // Ignore nullish and `NaN` values.\n  if (\n    value === false ||\n    value === null ||\n    value === undefined ||\n    (typeof value === 'number' && Number.isNaN(value)) ||\n    (!value && info.boolean)\n  ) {\n    return\n  }\n\n  if (Array.isArray(value)) {\n    // Accept `array`.\n    // Most props are space-separated.\n    value = info.commaSeparated ? commas(value) : spaces(value)\n  }\n\n  /** @type {Parse5Attribute} */\n  const attribute = {\n    name: info.attribute,\n    value: value === true ? '' : String(value)\n  }\n\n  if (info.space && info.space !== 'html' && info.space !== 'svg') {\n    const index = attribute.name.indexOf(':')\n\n    if (index < 0) {\n      attribute.prefix = ''\n    } else {\n      attribute.name = attribute.name.slice(index + 1)\n      attribute.prefix = info.attribute.slice(0, index)\n    }\n\n    attribute.namespace = webNamespaces[info.space]\n  }\n\n  return attribute\n}\n\n/**\n * Transform all hast nodes.\n *\n * @param {Array<RootContent>} children\n *   List of children.\n * @param {Parse5Parent} parentNode\n *   `parse5` parent node.\n * @param {Schema} schema\n *   Current schema.\n * @returns {Array<Parse5Content>}\n *   Transformed children.\n */\nfunction all(children, parentNode, schema) {\n  let index = -1\n  /** @type {Array<Parse5Content>} */\n  const results = []\n\n  if (children) {\n    while (++index < children.length) {\n      /** @type {Parse5Content} */\n      const child = one(children[index], schema)\n\n      child.parentNode = parentNode\n\n      results.push(child)\n    }\n  }\n\n  return results\n}\n\n/**\n * Add position info from `from` to `to`.\n *\n * @param {Nodes} from\n *   hast node.\n * @param {Parse5Nodes} to\n *   `parse5` node.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(from, to) {\n  const position = from.position\n\n  if (position && position.start && position.end) {\n    assert(typeof position.start.offset === 'number')\n    assert(typeof position.end.offset === 'number')\n\n    to.sourceCodeLocation = {\n      startLine: position.start.line,\n      startCol: position.start.column,\n      startOffset: position.start.offset,\n      endLine: position.end.line,\n      endCol: position.end.column,\n      endOffset: position.end.offset\n    }\n  }\n}\n","/**\n * List of HTML void tag names.\n *\n * @type {Array<string>}\n */\nexport const htmlVoidElements = [\n  'area',\n  'base',\n  'basefont',\n  'bgsound',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'frame',\n  'hr',\n  'image',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]\n","const UNDEFINED_CODE_POINTS = new Set([\n    65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214,\n    393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894,\n    720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574,\n    1048575, 1114110, 1114111,\n]);\nexport const REPLACEMENT_CHARACTER = '\\uFFFD';\nexport var CODE_POINTS;\n(function (CODE_POINTS) {\n    CODE_POINTS[CODE_POINTS[\"EOF\"] = -1] = \"EOF\";\n    CODE_POINTS[CODE_POINTS[\"NULL\"] = 0] = \"NULL\";\n    CODE_POINTS[CODE_POINTS[\"TABULATION\"] = 9] = \"TABULATION\";\n    CODE_POINTS[CODE_POINTS[\"CARRIAGE_RETURN\"] = 13] = \"CARRIAGE_RETURN\";\n    CODE_POINTS[CODE_POINTS[\"LINE_FEED\"] = 10] = \"LINE_FEED\";\n    CODE_POINTS[CODE_POINTS[\"FORM_FEED\"] = 12] = \"FORM_FEED\";\n    CODE_POINTS[CODE_POINTS[\"SPACE\"] = 32] = \"SPACE\";\n    CODE_POINTS[CODE_POINTS[\"EXCLAMATION_MARK\"] = 33] = \"EXCLAMATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"QUOTATION_MARK\"] = 34] = \"QUOTATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"AMPERSAND\"] = 38] = \"AMPERSAND\";\n    CODE_POINTS[CODE_POINTS[\"APOSTROPHE\"] = 39] = \"APOSTROPHE\";\n    CODE_POINTS[CODE_POINTS[\"HYPHEN_MINUS\"] = 45] = \"HYPHEN_MINUS\";\n    CODE_POINTS[CODE_POINTS[\"SOLIDUS\"] = 47] = \"SOLIDUS\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_0\"] = 48] = \"DIGIT_0\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_9\"] = 57] = \"DIGIT_9\";\n    CODE_POINTS[CODE_POINTS[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    CODE_POINTS[CODE_POINTS[\"LESS_THAN_SIGN\"] = 60] = \"LESS_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"EQUALS_SIGN\"] = 61] = \"EQUALS_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"GREATER_THAN_SIGN\"] = 62] = \"GREATER_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"QUESTION_MARK\"] = 63] = \"QUESTION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_A\"] = 65] = \"LATIN_CAPITAL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_Z\"] = 90] = \"LATIN_CAPITAL_Z\";\n    CODE_POINTS[CODE_POINTS[\"RIGHT_SQUARE_BRACKET\"] = 93] = \"RIGHT_SQUARE_BRACKET\";\n    CODE_POINTS[CODE_POINTS[\"GRAVE_ACCENT\"] = 96] = \"GRAVE_ACCENT\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_A\"] = 97] = \"LATIN_SMALL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_Z\"] = 122] = \"LATIN_SMALL_Z\";\n})(CODE_POINTS || (CODE_POINTS = {}));\nexport const SEQUENCES = {\n    DASH_DASH: '--',\n    CDATA_START: '[CDATA[',\n    DOCTYPE: 'doctype',\n    SCRIPT: 'script',\n    PUBLIC: 'public',\n    SYSTEM: 'system',\n};\n//Surrogates\nexport function isSurrogate(cp) {\n    return cp >= 55296 && cp <= 57343;\n}\nexport function isSurrogatePair(cp) {\n    return cp >= 56320 && cp <= 57343;\n}\nexport function getSurrogatePairCodePoint(cp1, cp2) {\n    return (cp1 - 55296) * 1024 + 9216 + cp2;\n}\n//NOTE: excluding NULL and ASCII whitespace\nexport function isControlCodePoint(cp) {\n    return ((cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||\n        (cp >= 0x7f && cp <= 0x9f));\n}\nexport function isUndefinedCodePoint(cp) {\n    return (cp >= 64976 && cp <= 65007) || UNDEFINED_CODE_POINTS.has(cp);\n}\n","export var ERR;\n(function (ERR) {\n    ERR[\"controlCharacterInInputStream\"] = \"control-character-in-input-stream\";\n    ERR[\"noncharacterInInputStream\"] = \"noncharacter-in-input-stream\";\n    ERR[\"surrogateInInputStream\"] = \"surrogate-in-input-stream\";\n    ERR[\"nonVoidHtmlElementStartTagWithTrailingSolidus\"] = \"non-void-html-element-start-tag-with-trailing-solidus\";\n    ERR[\"endTagWithAttributes\"] = \"end-tag-with-attributes\";\n    ERR[\"endTagWithTrailingSolidus\"] = \"end-tag-with-trailing-solidus\";\n    ERR[\"unexpectedSolidusInTag\"] = \"unexpected-solidus-in-tag\";\n    ERR[\"unexpectedNullCharacter\"] = \"unexpected-null-character\";\n    ERR[\"unexpectedQuestionMarkInsteadOfTagName\"] = \"unexpected-question-mark-instead-of-tag-name\";\n    ERR[\"invalidFirstCharacterOfTagName\"] = \"invalid-first-character-of-tag-name\";\n    ERR[\"unexpectedEqualsSignBeforeAttributeName\"] = \"unexpected-equals-sign-before-attribute-name\";\n    ERR[\"missingEndTagName\"] = \"missing-end-tag-name\";\n    ERR[\"unexpectedCharacterInAttributeName\"] = \"unexpected-character-in-attribute-name\";\n    ERR[\"unknownNamedCharacterReference\"] = \"unknown-named-character-reference\";\n    ERR[\"missingSemicolonAfterCharacterReference\"] = \"missing-semicolon-after-character-reference\";\n    ERR[\"unexpectedCharacterAfterDoctypeSystemIdentifier\"] = \"unexpected-character-after-doctype-system-identifier\";\n    ERR[\"unexpectedCharacterInUnquotedAttributeValue\"] = \"unexpected-character-in-unquoted-attribute-value\";\n    ERR[\"eofBeforeTagName\"] = \"eof-before-tag-name\";\n    ERR[\"eofInTag\"] = \"eof-in-tag\";\n    ERR[\"missingAttributeValue\"] = \"missing-attribute-value\";\n    ERR[\"missingWhitespaceBetweenAttributes\"] = \"missing-whitespace-between-attributes\";\n    ERR[\"missingWhitespaceAfterDoctypePublicKeyword\"] = \"missing-whitespace-after-doctype-public-keyword\";\n    ERR[\"missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers\"] = \"missing-whitespace-between-doctype-public-and-system-identifiers\";\n    ERR[\"missingWhitespaceAfterDoctypeSystemKeyword\"] = \"missing-whitespace-after-doctype-system-keyword\";\n    ERR[\"missingQuoteBeforeDoctypePublicIdentifier\"] = \"missing-quote-before-doctype-public-identifier\";\n    ERR[\"missingQuoteBeforeDoctypeSystemIdentifier\"] = \"missing-quote-before-doctype-system-identifier\";\n    ERR[\"missingDoctypePublicIdentifier\"] = \"missing-doctype-public-identifier\";\n    ERR[\"missingDoctypeSystemIdentifier\"] = \"missing-doctype-system-identifier\";\n    ERR[\"abruptDoctypePublicIdentifier\"] = \"abrupt-doctype-public-identifier\";\n    ERR[\"abruptDoctypeSystemIdentifier\"] = \"abrupt-doctype-system-identifier\";\n    ERR[\"cdataInHtmlContent\"] = \"cdata-in-html-content\";\n    ERR[\"incorrectlyOpenedComment\"] = \"incorrectly-opened-comment\";\n    ERR[\"eofInScriptHtmlCommentLikeText\"] = \"eof-in-script-html-comment-like-text\";\n    ERR[\"eofInDoctype\"] = \"eof-in-doctype\";\n    ERR[\"nestedComment\"] = \"nested-comment\";\n    ERR[\"abruptClosingOfEmptyComment\"] = \"abrupt-closing-of-empty-comment\";\n    ERR[\"eofInComment\"] = \"eof-in-comment\";\n    ERR[\"incorrectlyClosedComment\"] = \"incorrectly-closed-comment\";\n    ERR[\"eofInCdata\"] = \"eof-in-cdata\";\n    ERR[\"absenceOfDigitsInNumericCharacterReference\"] = \"absence-of-digits-in-numeric-character-reference\";\n    ERR[\"nullCharacterReference\"] = \"null-character-reference\";\n    ERR[\"surrogateCharacterReference\"] = \"surrogate-character-reference\";\n    ERR[\"characterReferenceOutsideUnicodeRange\"] = \"character-reference-outside-unicode-range\";\n    ERR[\"controlCharacterReference\"] = \"control-character-reference\";\n    ERR[\"noncharacterCharacterReference\"] = \"noncharacter-character-reference\";\n    ERR[\"missingWhitespaceBeforeDoctypeName\"] = \"missing-whitespace-before-doctype-name\";\n    ERR[\"missingDoctypeName\"] = \"missing-doctype-name\";\n    ERR[\"invalidCharacterSequenceAfterDoctypeName\"] = \"invalid-character-sequence-after-doctype-name\";\n    ERR[\"duplicateAttribute\"] = \"duplicate-attribute\";\n    ERR[\"nonConformingDoctype\"] = \"non-conforming-doctype\";\n    ERR[\"missingDoctype\"] = \"missing-doctype\";\n    ERR[\"misplacedDoctype\"] = \"misplaced-doctype\";\n    ERR[\"endTagWithoutMatchingOpenElement\"] = \"end-tag-without-matching-open-element\";\n    ERR[\"closingOfElementWithOpenChildElements\"] = \"closing-of-element-with-open-child-elements\";\n    ERR[\"disallowedContentInNoscriptInHead\"] = \"disallowed-content-in-noscript-in-head\";\n    ERR[\"openElementsLeftAfterEof\"] = \"open-elements-left-after-eof\";\n    ERR[\"abandonedHeadElementChild\"] = \"abandoned-head-element-child\";\n    ERR[\"misplacedStartTagForHeadElement\"] = \"misplaced-start-tag-for-head-element\";\n    ERR[\"nestedNoscriptInHead\"] = \"nested-noscript-in-head\";\n    ERR[\"eofInElementThatCanContainOnlyText\"] = \"eof-in-element-that-can-contain-only-text\";\n})(ERR || (ERR = {}));\n","import { CODE_POINTS as $, getSurrogatePairCodePoint, isControlCodePoint, isSurrogate, isSurrogatePair, isUndefinedCodePoint, } from '../common/unicode.js';\nimport { ERR } from '../common/error-codes.js';\n//Const\nconst DEFAULT_BUFFER_WATERLINE = 1 << 16;\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nexport class Preprocessor {\n    constructor(handler) {\n        this.handler = handler;\n        this.html = '';\n        this.pos = -1;\n        // NOTE: Initial `lastGapPos` is -2, to ensure `col` on initialisation is 0\n        this.lastGapPos = -2;\n        this.gapStack = [];\n        this.skipNextNewLine = false;\n        this.lastChunkWritten = false;\n        this.endOfChunkHit = false;\n        this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n        this.line = 1;\n        //NOTE: avoid reporting errors twice on advance/retreat\n        this.lastErrOffset = -1;\n    }\n    /** The column on the current line. If we just saw a gap (eg. a surrogate pair), return the index before. */\n    get col() {\n        return this.pos - this.lineStartPos + Number(this.lastGapPos !== this.pos);\n    }\n    get offset() {\n        return this.droppedBufferSize + this.pos;\n    }\n    getError(code, cpOffset) {\n        const { line, col, offset } = this;\n        const startCol = col + cpOffset;\n        const startOffset = offset + cpOffset;\n        return {\n            code,\n            startLine: line,\n            endLine: line,\n            startCol,\n            endCol: startCol,\n            startOffset,\n            endOffset: startOffset,\n        };\n    }\n    _err(code) {\n        if (this.handler.onParseError && this.lastErrOffset !== this.offset) {\n            this.lastErrOffset = this.offset;\n            this.handler.onParseError(this.getError(code, 0));\n        }\n    }\n    _addGap() {\n        this.gapStack.push(this.lastGapPos);\n        this.lastGapPos = this.pos;\n    }\n    _processSurrogate(cp) {\n        //NOTE: try to peek a surrogate pair\n        if (this.pos !== this.html.length - 1) {\n            const nextCp = this.html.charCodeAt(this.pos + 1);\n            if (isSurrogatePair(nextCp)) {\n                //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n                this.pos++;\n                //NOTE: add a gap that should be avoided during retreat\n                this._addGap();\n                return getSurrogatePairCodePoint(cp, nextCp);\n            }\n        }\n        //NOTE: we are at the end of a chunk, therefore we can't infer the surrogate pair yet.\n        else if (!this.lastChunkWritten) {\n            this.endOfChunkHit = true;\n            return $.EOF;\n        }\n        //NOTE: isolated surrogate\n        this._err(ERR.surrogateInInputStream);\n        return cp;\n    }\n    willDropParsedChunk() {\n        return this.pos > this.bufferWaterline;\n    }\n    dropParsedChunk() {\n        if (this.willDropParsedChunk()) {\n            this.html = this.html.substring(this.pos);\n            this.lineStartPos -= this.pos;\n            this.droppedBufferSize += this.pos;\n            this.pos = 0;\n            this.lastGapPos = -2;\n            this.gapStack.length = 0;\n        }\n    }\n    write(chunk, isLastChunk) {\n        if (this.html.length > 0) {\n            this.html += chunk;\n        }\n        else {\n            this.html = chunk;\n        }\n        this.endOfChunkHit = false;\n        this.lastChunkWritten = isLastChunk;\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1);\n        this.endOfChunkHit = false;\n    }\n    startsWith(pattern, caseSensitive) {\n        // Check if our buffer has enough characters\n        if (this.pos + pattern.length > this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return false;\n        }\n        if (caseSensitive) {\n            return this.html.startsWith(pattern, this.pos);\n        }\n        for (let i = 0; i < pattern.length; i++) {\n            const cp = this.html.charCodeAt(this.pos + i) | 0x20;\n            if (cp !== pattern.charCodeAt(i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    peek(offset) {\n        const pos = this.pos + offset;\n        if (pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        const code = this.html.charCodeAt(pos);\n        return code === $.CARRIAGE_RETURN ? $.LINE_FEED : code;\n    }\n    advance() {\n        this.pos++;\n        //NOTE: LF should be in the last column of the line\n        if (this.isEol) {\n            this.isEol = false;\n            this.line++;\n            this.lineStartPos = this.pos;\n        }\n        if (this.pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        let cp = this.html.charCodeAt(this.pos);\n        //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n        if (cp === $.CARRIAGE_RETURN) {\n            this.isEol = true;\n            this.skipNextNewLine = true;\n            return $.LINE_FEED;\n        }\n        //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n        //must be ignored.\n        if (cp === $.LINE_FEED) {\n            this.isEol = true;\n            if (this.skipNextNewLine) {\n                // `line` will be bumped again in the recursive call.\n                this.line--;\n                this.skipNextNewLine = false;\n                this._addGap();\n                return this.advance();\n            }\n        }\n        this.skipNextNewLine = false;\n        if (isSurrogate(cp)) {\n            cp = this._processSurrogate(cp);\n        }\n        //OPTIMIZATION: first check if code point is in the common allowed\n        //range (ASCII alphanumeric, whitespaces, big chunk of BMP)\n        //before going into detailed performance cost validation.\n        const isCommonValidRange = this.handler.onParseError === null ||\n            (cp > 0x1f && cp < 0x7f) ||\n            cp === $.LINE_FEED ||\n            cp === $.CARRIAGE_RETURN ||\n            (cp > 0x9f && cp < 64976);\n        if (!isCommonValidRange) {\n            this._checkForProblematicCharacters(cp);\n        }\n        return cp;\n    }\n    _checkForProblematicCharacters(cp) {\n        if (isControlCodePoint(cp)) {\n            this._err(ERR.controlCharacterInInputStream);\n        }\n        else if (isUndefinedCodePoint(cp)) {\n            this._err(ERR.noncharacterInInputStream);\n        }\n    }\n    retreat(count) {\n        this.pos -= count;\n        while (this.pos < this.lastGapPos) {\n            this.lastGapPos = this.gapStack.pop();\n            this.pos--;\n        }\n        this.isEol = false;\n    }\n}\n","export var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"CHARACTER\"] = 0] = \"CHARACTER\";\n    TokenType[TokenType[\"NULL_CHARACTER\"] = 1] = \"NULL_CHARACTER\";\n    TokenType[TokenType[\"WHITESPACE_CHARACTER\"] = 2] = \"WHITESPACE_CHARACTER\";\n    TokenType[TokenType[\"START_TAG\"] = 3] = \"START_TAG\";\n    TokenType[TokenType[\"END_TAG\"] = 4] = \"END_TAG\";\n    TokenType[TokenType[\"COMMENT\"] = 5] = \"COMMENT\";\n    TokenType[TokenType[\"DOCTYPE\"] = 6] = \"DOCTYPE\";\n    TokenType[TokenType[\"EOF\"] = 7] = \"EOF\";\n    TokenType[TokenType[\"HIBERNATION\"] = 8] = \"HIBERNATION\";\n})(TokenType || (TokenType = {}));\nexport function getTokenAttr(token, attrName) {\n    for (let i = token.attrs.length - 1; i >= 0; i--) {\n        if (token.attrs[i].name === attrName) {\n            return token.attrs[i].value;\n        }\n    }\n    return null;\n}\n","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-xml.js.map","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return 0xfffd;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport default function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode_codepoint.js.map","import htmlDecodeTree from \"./generated/decode-data-html.js\";\nimport xmlDecodeTree from \"./generated/decode-data-xml.js\";\nimport decodeCodePoint, { replaceCodePoint, fromCodePoint, } from \"./decode_codepoint.js\";\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree, xmlDecodeTree, decodeCodePoint };\nexport { replaceCodePoint, fromCodePoint } from \"./decode_codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 0b100000;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param string The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(str, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (str.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(str, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(str, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(str, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(str, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(str, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(str, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(str, offset) {\n        if (offset >= str.length) {\n            return -1;\n        }\n        if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(str, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(str, offset);\n    }\n    addToNumericResult(str, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    parseInt(str.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(str, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < str.length; offset++, this.excess++) {\n            const char = str.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let ret = \"\";\n    const decoder = new EntityDecoder(decodeTree, (str) => (ret += fromCodePoint(str)));\n    return function decodeWithTrie(str, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = str.indexOf(\"&\", offset)) >= 0) {\n            ret += str.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const len = decoder.write(str, \n            // Skip the \"&\"\n            offset + 1);\n            if (len < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + len;\n            // If `len` is 0, skip the current `&` and continue.\n            offset = len === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = ret + str.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        ret = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIdx, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIdx + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIdx;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midVal = decodeTree[mid];\n        if (midVal < char) {\n            lo = mid + 1;\n        }\n        else if (midVal > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = getDecoder(htmlDecodeTree);\nconst xmlDecoder = getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param str The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(str, mode = DecodingMode.Legacy) {\n    return htmlDecoder(str, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(str) {\n    return htmlDecoder(str, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(str) {\n    return htmlDecoder(str, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(str) {\n    return xmlDecoder(str, DecodingMode.Strict);\n}\n//# sourceMappingURL=decode.js.map","/** All valid namespaces in HTML. */\nexport var NS;\n(function (NS) {\n    NS[\"HTML\"] = \"http://www.w3.org/1999/xhtml\";\n    NS[\"MATHML\"] = \"http://www.w3.org/1998/Math/MathML\";\n    NS[\"SVG\"] = \"http://www.w3.org/2000/svg\";\n    NS[\"XLINK\"] = \"http://www.w3.org/1999/xlink\";\n    NS[\"XML\"] = \"http://www.w3.org/XML/1998/namespace\";\n    NS[\"XMLNS\"] = \"http://www.w3.org/2000/xmlns/\";\n})(NS || (NS = {}));\nexport var ATTRS;\n(function (ATTRS) {\n    ATTRS[\"TYPE\"] = \"type\";\n    ATTRS[\"ACTION\"] = \"action\";\n    ATTRS[\"ENCODING\"] = \"encoding\";\n    ATTRS[\"PROMPT\"] = \"prompt\";\n    ATTRS[\"NAME\"] = \"name\";\n    ATTRS[\"COLOR\"] = \"color\";\n    ATTRS[\"FACE\"] = \"face\";\n    ATTRS[\"SIZE\"] = \"size\";\n})(ATTRS || (ATTRS = {}));\n/**\n * The mode of the document.\n *\n * @see {@link https://dom.spec.whatwg.org/#concept-document-limited-quirks}\n */\nexport var DOCUMENT_MODE;\n(function (DOCUMENT_MODE) {\n    DOCUMENT_MODE[\"NO_QUIRKS\"] = \"no-quirks\";\n    DOCUMENT_MODE[\"QUIRKS\"] = \"quirks\";\n    DOCUMENT_MODE[\"LIMITED_QUIRKS\"] = \"limited-quirks\";\n})(DOCUMENT_MODE || (DOCUMENT_MODE = {}));\nexport var TAG_NAMES;\n(function (TAG_NAMES) {\n    TAG_NAMES[\"A\"] = \"a\";\n    TAG_NAMES[\"ADDRESS\"] = \"address\";\n    TAG_NAMES[\"ANNOTATION_XML\"] = \"annotation-xml\";\n    TAG_NAMES[\"APPLET\"] = \"applet\";\n    TAG_NAMES[\"AREA\"] = \"area\";\n    TAG_NAMES[\"ARTICLE\"] = \"article\";\n    TAG_NAMES[\"ASIDE\"] = \"aside\";\n    TAG_NAMES[\"B\"] = \"b\";\n    TAG_NAMES[\"BASE\"] = \"base\";\n    TAG_NAMES[\"BASEFONT\"] = \"basefont\";\n    TAG_NAMES[\"BGSOUND\"] = \"bgsound\";\n    TAG_NAMES[\"BIG\"] = \"big\";\n    TAG_NAMES[\"BLOCKQUOTE\"] = \"blockquote\";\n    TAG_NAMES[\"BODY\"] = \"body\";\n    TAG_NAMES[\"BR\"] = \"br\";\n    TAG_NAMES[\"BUTTON\"] = \"button\";\n    TAG_NAMES[\"CAPTION\"] = \"caption\";\n    TAG_NAMES[\"CENTER\"] = \"center\";\n    TAG_NAMES[\"CODE\"] = \"code\";\n    TAG_NAMES[\"COL\"] = \"col\";\n    TAG_NAMES[\"COLGROUP\"] = \"colgroup\";\n    TAG_NAMES[\"DD\"] = \"dd\";\n    TAG_NAMES[\"DESC\"] = \"desc\";\n    TAG_NAMES[\"DETAILS\"] = \"details\";\n    TAG_NAMES[\"DIALOG\"] = \"dialog\";\n    TAG_NAMES[\"DIR\"] = \"dir\";\n    TAG_NAMES[\"DIV\"] = \"div\";\n    TAG_NAMES[\"DL\"] = \"dl\";\n    TAG_NAMES[\"DT\"] = \"dt\";\n    TAG_NAMES[\"EM\"] = \"em\";\n    TAG_NAMES[\"EMBED\"] = \"embed\";\n    TAG_NAMES[\"FIELDSET\"] = \"fieldset\";\n    TAG_NAMES[\"FIGCAPTION\"] = \"figcaption\";\n    TAG_NAMES[\"FIGURE\"] = \"figure\";\n    TAG_NAMES[\"FONT\"] = \"font\";\n    TAG_NAMES[\"FOOTER\"] = \"footer\";\n    TAG_NAMES[\"FOREIGN_OBJECT\"] = \"foreignObject\";\n    TAG_NAMES[\"FORM\"] = \"form\";\n    TAG_NAMES[\"FRAME\"] = \"frame\";\n    TAG_NAMES[\"FRAMESET\"] = \"frameset\";\n    TAG_NAMES[\"H1\"] = \"h1\";\n    TAG_NAMES[\"H2\"] = \"h2\";\n    TAG_NAMES[\"H3\"] = \"h3\";\n    TAG_NAMES[\"H4\"] = \"h4\";\n    TAG_NAMES[\"H5\"] = \"h5\";\n    TAG_NAMES[\"H6\"] = \"h6\";\n    TAG_NAMES[\"HEAD\"] = \"head\";\n    TAG_NAMES[\"HEADER\"] = \"header\";\n    TAG_NAMES[\"HGROUP\"] = \"hgroup\";\n    TAG_NAMES[\"HR\"] = \"hr\";\n    TAG_NAMES[\"HTML\"] = \"html\";\n    TAG_NAMES[\"I\"] = \"i\";\n    TAG_NAMES[\"IMG\"] = \"img\";\n    TAG_NAMES[\"IMAGE\"] = \"image\";\n    TAG_NAMES[\"INPUT\"] = \"input\";\n    TAG_NAMES[\"IFRAME\"] = \"iframe\";\n    TAG_NAMES[\"KEYGEN\"] = \"keygen\";\n    TAG_NAMES[\"LABEL\"] = \"label\";\n    TAG_NAMES[\"LI\"] = \"li\";\n    TAG_NAMES[\"LINK\"] = \"link\";\n    TAG_NAMES[\"LISTING\"] = \"listing\";\n    TAG_NAMES[\"MAIN\"] = \"main\";\n    TAG_NAMES[\"MALIGNMARK\"] = \"malignmark\";\n    TAG_NAMES[\"MARQUEE\"] = \"marquee\";\n    TAG_NAMES[\"MATH\"] = \"math\";\n    TAG_NAMES[\"MENU\"] = \"menu\";\n    TAG_NAMES[\"META\"] = \"meta\";\n    TAG_NAMES[\"MGLYPH\"] = \"mglyph\";\n    TAG_NAMES[\"MI\"] = \"mi\";\n    TAG_NAMES[\"MO\"] = \"mo\";\n    TAG_NAMES[\"MN\"] = \"mn\";\n    TAG_NAMES[\"MS\"] = \"ms\";\n    TAG_NAMES[\"MTEXT\"] = \"mtext\";\n    TAG_NAMES[\"NAV\"] = \"nav\";\n    TAG_NAMES[\"NOBR\"] = \"nobr\";\n    TAG_NAMES[\"NOFRAMES\"] = \"noframes\";\n    TAG_NAMES[\"NOEMBED\"] = \"noembed\";\n    TAG_NAMES[\"NOSCRIPT\"] = \"noscript\";\n    TAG_NAMES[\"OBJECT\"] = \"object\";\n    TAG_NAMES[\"OL\"] = \"ol\";\n    TAG_NAMES[\"OPTGROUP\"] = \"optgroup\";\n    TAG_NAMES[\"OPTION\"] = \"option\";\n    TAG_NAMES[\"P\"] = \"p\";\n    TAG_NAMES[\"PARAM\"] = \"param\";\n    TAG_NAMES[\"PLAINTEXT\"] = \"plaintext\";\n    TAG_NAMES[\"PRE\"] = \"pre\";\n    TAG_NAMES[\"RB\"] = \"rb\";\n    TAG_NAMES[\"RP\"] = \"rp\";\n    TAG_NAMES[\"RT\"] = \"rt\";\n    TAG_NAMES[\"RTC\"] = \"rtc\";\n    TAG_NAMES[\"RUBY\"] = \"ruby\";\n    TAG_NAMES[\"S\"] = \"s\";\n    TAG_NAMES[\"SCRIPT\"] = \"script\";\n    TAG_NAMES[\"SEARCH\"] = \"search\";\n    TAG_NAMES[\"SECTION\"] = \"section\";\n    TAG_NAMES[\"SELECT\"] = \"select\";\n    TAG_NAMES[\"SOURCE\"] = \"source\";\n    TAG_NAMES[\"SMALL\"] = \"small\";\n    TAG_NAMES[\"SPAN\"] = \"span\";\n    TAG_NAMES[\"STRIKE\"] = \"strike\";\n    TAG_NAMES[\"STRONG\"] = \"strong\";\n    TAG_NAMES[\"STYLE\"] = \"style\";\n    TAG_NAMES[\"SUB\"] = \"sub\";\n    TAG_NAMES[\"SUMMARY\"] = \"summary\";\n    TAG_NAMES[\"SUP\"] = \"sup\";\n    TAG_NAMES[\"TABLE\"] = \"table\";\n    TAG_NAMES[\"TBODY\"] = \"tbody\";\n    TAG_NAMES[\"TEMPLATE\"] = \"template\";\n    TAG_NAMES[\"TEXTAREA\"] = \"textarea\";\n    TAG_NAMES[\"TFOOT\"] = \"tfoot\";\n    TAG_NAMES[\"TD\"] = \"td\";\n    TAG_NAMES[\"TH\"] = \"th\";\n    TAG_NAMES[\"THEAD\"] = \"thead\";\n    TAG_NAMES[\"TITLE\"] = \"title\";\n    TAG_NAMES[\"TR\"] = \"tr\";\n    TAG_NAMES[\"TRACK\"] = \"track\";\n    TAG_NAMES[\"TT\"] = \"tt\";\n    TAG_NAMES[\"U\"] = \"u\";\n    TAG_NAMES[\"UL\"] = \"ul\";\n    TAG_NAMES[\"SVG\"] = \"svg\";\n    TAG_NAMES[\"VAR\"] = \"var\";\n    TAG_NAMES[\"WBR\"] = \"wbr\";\n    TAG_NAMES[\"XMP\"] = \"xmp\";\n})(TAG_NAMES || (TAG_NAMES = {}));\n/**\n * Tag IDs are numeric IDs for known tag names.\n *\n * We use tag IDs to improve the performance of tag name comparisons.\n */\nexport var TAG_ID;\n(function (TAG_ID) {\n    TAG_ID[TAG_ID[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    TAG_ID[TAG_ID[\"A\"] = 1] = \"A\";\n    TAG_ID[TAG_ID[\"ADDRESS\"] = 2] = \"ADDRESS\";\n    TAG_ID[TAG_ID[\"ANNOTATION_XML\"] = 3] = \"ANNOTATION_XML\";\n    TAG_ID[TAG_ID[\"APPLET\"] = 4] = \"APPLET\";\n    TAG_ID[TAG_ID[\"AREA\"] = 5] = \"AREA\";\n    TAG_ID[TAG_ID[\"ARTICLE\"] = 6] = \"ARTICLE\";\n    TAG_ID[TAG_ID[\"ASIDE\"] = 7] = \"ASIDE\";\n    TAG_ID[TAG_ID[\"B\"] = 8] = \"B\";\n    TAG_ID[TAG_ID[\"BASE\"] = 9] = \"BASE\";\n    TAG_ID[TAG_ID[\"BASEFONT\"] = 10] = \"BASEFONT\";\n    TAG_ID[TAG_ID[\"BGSOUND\"] = 11] = \"BGSOUND\";\n    TAG_ID[TAG_ID[\"BIG\"] = 12] = \"BIG\";\n    TAG_ID[TAG_ID[\"BLOCKQUOTE\"] = 13] = \"BLOCKQUOTE\";\n    TAG_ID[TAG_ID[\"BODY\"] = 14] = \"BODY\";\n    TAG_ID[TAG_ID[\"BR\"] = 15] = \"BR\";\n    TAG_ID[TAG_ID[\"BUTTON\"] = 16] = \"BUTTON\";\n    TAG_ID[TAG_ID[\"CAPTION\"] = 17] = \"CAPTION\";\n    TAG_ID[TAG_ID[\"CENTER\"] = 18] = \"CENTER\";\n    TAG_ID[TAG_ID[\"CODE\"] = 19] = \"CODE\";\n    TAG_ID[TAG_ID[\"COL\"] = 20] = \"COL\";\n    TAG_ID[TAG_ID[\"COLGROUP\"] = 21] = \"COLGROUP\";\n    TAG_ID[TAG_ID[\"DD\"] = 22] = \"DD\";\n    TAG_ID[TAG_ID[\"DESC\"] = 23] = \"DESC\";\n    TAG_ID[TAG_ID[\"DETAILS\"] = 24] = \"DETAILS\";\n    TAG_ID[TAG_ID[\"DIALOG\"] = 25] = \"DIALOG\";\n    TAG_ID[TAG_ID[\"DIR\"] = 26] = \"DIR\";\n    TAG_ID[TAG_ID[\"DIV\"] = 27] = \"DIV\";\n    TAG_ID[TAG_ID[\"DL\"] = 28] = \"DL\";\n    TAG_ID[TAG_ID[\"DT\"] = 29] = \"DT\";\n    TAG_ID[TAG_ID[\"EM\"] = 30] = \"EM\";\n    TAG_ID[TAG_ID[\"EMBED\"] = 31] = \"EMBED\";\n    TAG_ID[TAG_ID[\"FIELDSET\"] = 32] = \"FIELDSET\";\n    TAG_ID[TAG_ID[\"FIGCAPTION\"] = 33] = \"FIGCAPTION\";\n    TAG_ID[TAG_ID[\"FIGURE\"] = 34] = \"FIGURE\";\n    TAG_ID[TAG_ID[\"FONT\"] = 35] = \"FONT\";\n    TAG_ID[TAG_ID[\"FOOTER\"] = 36] = \"FOOTER\";\n    TAG_ID[TAG_ID[\"FOREIGN_OBJECT\"] = 37] = \"FOREIGN_OBJECT\";\n    TAG_ID[TAG_ID[\"FORM\"] = 38] = \"FORM\";\n    TAG_ID[TAG_ID[\"FRAME\"] = 39] = \"FRAME\";\n    TAG_ID[TAG_ID[\"FRAMESET\"] = 40] = \"FRAMESET\";\n    TAG_ID[TAG_ID[\"H1\"] = 41] = \"H1\";\n    TAG_ID[TAG_ID[\"H2\"] = 42] = \"H2\";\n    TAG_ID[TAG_ID[\"H3\"] = 43] = \"H3\";\n    TAG_ID[TAG_ID[\"H4\"] = 44] = \"H4\";\n    TAG_ID[TAG_ID[\"H5\"] = 45] = \"H5\";\n    TAG_ID[TAG_ID[\"H6\"] = 46] = \"H6\";\n    TAG_ID[TAG_ID[\"HEAD\"] = 47] = \"HEAD\";\n    TAG_ID[TAG_ID[\"HEADER\"] = 48] = \"HEADER\";\n    TAG_ID[TAG_ID[\"HGROUP\"] = 49] = \"HGROUP\";\n    TAG_ID[TAG_ID[\"HR\"] = 50] = \"HR\";\n    TAG_ID[TAG_ID[\"HTML\"] = 51] = \"HTML\";\n    TAG_ID[TAG_ID[\"I\"] = 52] = \"I\";\n    TAG_ID[TAG_ID[\"IMG\"] = 53] = \"IMG\";\n    TAG_ID[TAG_ID[\"IMAGE\"] = 54] = \"IMAGE\";\n    TAG_ID[TAG_ID[\"INPUT\"] = 55] = \"INPUT\";\n    TAG_ID[TAG_ID[\"IFRAME\"] = 56] = \"IFRAME\";\n    TAG_ID[TAG_ID[\"KEYGEN\"] = 57] = \"KEYGEN\";\n    TAG_ID[TAG_ID[\"LABEL\"] = 58] = \"LABEL\";\n    TAG_ID[TAG_ID[\"LI\"] = 59] = \"LI\";\n    TAG_ID[TAG_ID[\"LINK\"] = 60] = \"LINK\";\n    TAG_ID[TAG_ID[\"LISTING\"] = 61] = \"LISTING\";\n    TAG_ID[TAG_ID[\"MAIN\"] = 62] = \"MAIN\";\n    TAG_ID[TAG_ID[\"MALIGNMARK\"] = 63] = \"MALIGNMARK\";\n    TAG_ID[TAG_ID[\"MARQUEE\"] = 64] = \"MARQUEE\";\n    TAG_ID[TAG_ID[\"MATH\"] = 65] = \"MATH\";\n    TAG_ID[TAG_ID[\"MENU\"] = 66] = \"MENU\";\n    TAG_ID[TAG_ID[\"META\"] = 67] = \"META\";\n    TAG_ID[TAG_ID[\"MGLYPH\"] = 68] = \"MGLYPH\";\n    TAG_ID[TAG_ID[\"MI\"] = 69] = \"MI\";\n    TAG_ID[TAG_ID[\"MO\"] = 70] = \"MO\";\n    TAG_ID[TAG_ID[\"MN\"] = 71] = \"MN\";\n    TAG_ID[TAG_ID[\"MS\"] = 72] = \"MS\";\n    TAG_ID[TAG_ID[\"MTEXT\"] = 73] = \"MTEXT\";\n    TAG_ID[TAG_ID[\"NAV\"] = 74] = \"NAV\";\n    TAG_ID[TAG_ID[\"NOBR\"] = 75] = \"NOBR\";\n    TAG_ID[TAG_ID[\"NOFRAMES\"] = 76] = \"NOFRAMES\";\n    TAG_ID[TAG_ID[\"NOEMBED\"] = 77] = \"NOEMBED\";\n    TAG_ID[TAG_ID[\"NOSCRIPT\"] = 78] = \"NOSCRIPT\";\n    TAG_ID[TAG_ID[\"OBJECT\"] = 79] = \"OBJECT\";\n    TAG_ID[TAG_ID[\"OL\"] = 80] = \"OL\";\n    TAG_ID[TAG_ID[\"OPTGROUP\"] = 81] = \"OPTGROUP\";\n    TAG_ID[TAG_ID[\"OPTION\"] = 82] = \"OPTION\";\n    TAG_ID[TAG_ID[\"P\"] = 83] = \"P\";\n    TAG_ID[TAG_ID[\"PARAM\"] = 84] = \"PARAM\";\n    TAG_ID[TAG_ID[\"PLAINTEXT\"] = 85] = \"PLAINTEXT\";\n    TAG_ID[TAG_ID[\"PRE\"] = 86] = \"PRE\";\n    TAG_ID[TAG_ID[\"RB\"] = 87] = \"RB\";\n    TAG_ID[TAG_ID[\"RP\"] = 88] = \"RP\";\n    TAG_ID[TAG_ID[\"RT\"] = 89] = \"RT\";\n    TAG_ID[TAG_ID[\"RTC\"] = 90] = \"RTC\";\n    TAG_ID[TAG_ID[\"RUBY\"] = 91] = \"RUBY\";\n    TAG_ID[TAG_ID[\"S\"] = 92] = \"S\";\n    TAG_ID[TAG_ID[\"SCRIPT\"] = 93] = \"SCRIPT\";\n    TAG_ID[TAG_ID[\"SEARCH\"] = 94] = \"SEARCH\";\n    TAG_ID[TAG_ID[\"SECTION\"] = 95] = \"SECTION\";\n    TAG_ID[TAG_ID[\"SELECT\"] = 96] = \"SELECT\";\n    TAG_ID[TAG_ID[\"SOURCE\"] = 97] = \"SOURCE\";\n    TAG_ID[TAG_ID[\"SMALL\"] = 98] = \"SMALL\";\n    TAG_ID[TAG_ID[\"SPAN\"] = 99] = \"SPAN\";\n    TAG_ID[TAG_ID[\"STRIKE\"] = 100] = \"STRIKE\";\n    TAG_ID[TAG_ID[\"STRONG\"] = 101] = \"STRONG\";\n    TAG_ID[TAG_ID[\"STYLE\"] = 102] = \"STYLE\";\n    TAG_ID[TAG_ID[\"SUB\"] = 103] = \"SUB\";\n    TAG_ID[TAG_ID[\"SUMMARY\"] = 104] = \"SUMMARY\";\n    TAG_ID[TAG_ID[\"SUP\"] = 105] = \"SUP\";\n    TAG_ID[TAG_ID[\"TABLE\"] = 106] = \"TABLE\";\n    TAG_ID[TAG_ID[\"TBODY\"] = 107] = \"TBODY\";\n    TAG_ID[TAG_ID[\"TEMPLATE\"] = 108] = \"TEMPLATE\";\n    TAG_ID[TAG_ID[\"TEXTAREA\"] = 109] = \"TEXTAREA\";\n    TAG_ID[TAG_ID[\"TFOOT\"] = 110] = \"TFOOT\";\n    TAG_ID[TAG_ID[\"TD\"] = 111] = \"TD\";\n    TAG_ID[TAG_ID[\"TH\"] = 112] = \"TH\";\n    TAG_ID[TAG_ID[\"THEAD\"] = 113] = \"THEAD\";\n    TAG_ID[TAG_ID[\"TITLE\"] = 114] = \"TITLE\";\n    TAG_ID[TAG_ID[\"TR\"] = 115] = \"TR\";\n    TAG_ID[TAG_ID[\"TRACK\"] = 116] = \"TRACK\";\n    TAG_ID[TAG_ID[\"TT\"] = 117] = \"TT\";\n    TAG_ID[TAG_ID[\"U\"] = 118] = \"U\";\n    TAG_ID[TAG_ID[\"UL\"] = 119] = \"UL\";\n    TAG_ID[TAG_ID[\"SVG\"] = 120] = \"SVG\";\n    TAG_ID[TAG_ID[\"VAR\"] = 121] = \"VAR\";\n    TAG_ID[TAG_ID[\"WBR\"] = 122] = \"WBR\";\n    TAG_ID[TAG_ID[\"XMP\"] = 123] = \"XMP\";\n})(TAG_ID || (TAG_ID = {}));\nconst TAG_NAME_TO_ID = new Map([\n    [TAG_NAMES.A, TAG_ID.A],\n    [TAG_NAMES.ADDRESS, TAG_ID.ADDRESS],\n    [TAG_NAMES.ANNOTATION_XML, TAG_ID.ANNOTATION_XML],\n    [TAG_NAMES.APPLET, TAG_ID.APPLET],\n    [TAG_NAMES.AREA, TAG_ID.AREA],\n    [TAG_NAMES.ARTICLE, TAG_ID.ARTICLE],\n    [TAG_NAMES.ASIDE, TAG_ID.ASIDE],\n    [TAG_NAMES.B, TAG_ID.B],\n    [TAG_NAMES.BASE, TAG_ID.BASE],\n    [TAG_NAMES.BASEFONT, TAG_ID.BASEFONT],\n    [TAG_NAMES.BGSOUND, TAG_ID.BGSOUND],\n    [TAG_NAMES.BIG, TAG_ID.BIG],\n    [TAG_NAMES.BLOCKQUOTE, TAG_ID.BLOCKQUOTE],\n    [TAG_NAMES.BODY, TAG_ID.BODY],\n    [TAG_NAMES.BR, TAG_ID.BR],\n    [TAG_NAMES.BUTTON, TAG_ID.BUTTON],\n    [TAG_NAMES.CAPTION, TAG_ID.CAPTION],\n    [TAG_NAMES.CENTER, TAG_ID.CENTER],\n    [TAG_NAMES.CODE, TAG_ID.CODE],\n    [TAG_NAMES.COL, TAG_ID.COL],\n    [TAG_NAMES.COLGROUP, TAG_ID.COLGROUP],\n    [TAG_NAMES.DD, TAG_ID.DD],\n    [TAG_NAMES.DESC, TAG_ID.DESC],\n    [TAG_NAMES.DETAILS, TAG_ID.DETAILS],\n    [TAG_NAMES.DIALOG, TAG_ID.DIALOG],\n    [TAG_NAMES.DIR, TAG_ID.DIR],\n    [TAG_NAMES.DIV, TAG_ID.DIV],\n    [TAG_NAMES.DL, TAG_ID.DL],\n    [TAG_NAMES.DT, TAG_ID.DT],\n    [TAG_NAMES.EM, TAG_ID.EM],\n    [TAG_NAMES.EMBED, TAG_ID.EMBED],\n    [TAG_NAMES.FIELDSET, TAG_ID.FIELDSET],\n    [TAG_NAMES.FIGCAPTION, TAG_ID.FIGCAPTION],\n    [TAG_NAMES.FIGURE, TAG_ID.FIGURE],\n    [TAG_NAMES.FONT, TAG_ID.FONT],\n    [TAG_NAMES.FOOTER, TAG_ID.FOOTER],\n    [TAG_NAMES.FOREIGN_OBJECT, TAG_ID.FOREIGN_OBJECT],\n    [TAG_NAMES.FORM, TAG_ID.FORM],\n    [TAG_NAMES.FRAME, TAG_ID.FRAME],\n    [TAG_NAMES.FRAMESET, TAG_ID.FRAMESET],\n    [TAG_NAMES.H1, TAG_ID.H1],\n    [TAG_NAMES.H2, TAG_ID.H2],\n    [TAG_NAMES.H3, TAG_ID.H3],\n    [TAG_NAMES.H4, TAG_ID.H4],\n    [TAG_NAMES.H5, TAG_ID.H5],\n    [TAG_NAMES.H6, TAG_ID.H6],\n    [TAG_NAMES.HEAD, TAG_ID.HEAD],\n    [TAG_NAMES.HEADER, TAG_ID.HEADER],\n    [TAG_NAMES.HGROUP, TAG_ID.HGROUP],\n    [TAG_NAMES.HR, TAG_ID.HR],\n    [TAG_NAMES.HTML, TAG_ID.HTML],\n    [TAG_NAMES.I, TAG_ID.I],\n    [TAG_NAMES.IMG, TAG_ID.IMG],\n    [TAG_NAMES.IMAGE, TAG_ID.IMAGE],\n    [TAG_NAMES.INPUT, TAG_ID.INPUT],\n    [TAG_NAMES.IFRAME, TAG_ID.IFRAME],\n    [TAG_NAMES.KEYGEN, TAG_ID.KEYGEN],\n    [TAG_NAMES.LABEL, TAG_ID.LABEL],\n    [TAG_NAMES.LI, TAG_ID.LI],\n    [TAG_NAMES.LINK, TAG_ID.LINK],\n    [TAG_NAMES.LISTING, TAG_ID.LISTING],\n    [TAG_NAMES.MAIN, TAG_ID.MAIN],\n    [TAG_NAMES.MALIGNMARK, TAG_ID.MALIGNMARK],\n    [TAG_NAMES.MARQUEE, TAG_ID.MARQUEE],\n    [TAG_NAMES.MATH, TAG_ID.MATH],\n    [TAG_NAMES.MENU, TAG_ID.MENU],\n    [TAG_NAMES.META, TAG_ID.META],\n    [TAG_NAMES.MGLYPH, TAG_ID.MGLYPH],\n    [TAG_NAMES.MI, TAG_ID.MI],\n    [TAG_NAMES.MO, TAG_ID.MO],\n    [TAG_NAMES.MN, TAG_ID.MN],\n    [TAG_NAMES.MS, TAG_ID.MS],\n    [TAG_NAMES.MTEXT, TAG_ID.MTEXT],\n    [TAG_NAMES.NAV, TAG_ID.NAV],\n    [TAG_NAMES.NOBR, TAG_ID.NOBR],\n    [TAG_NAMES.NOFRAMES, TAG_ID.NOFRAMES],\n    [TAG_NAMES.NOEMBED, TAG_ID.NOEMBED],\n    [TAG_NAMES.NOSCRIPT, TAG_ID.NOSCRIPT],\n    [TAG_NAMES.OBJECT, TAG_ID.OBJECT],\n    [TAG_NAMES.OL, TAG_ID.OL],\n    [TAG_NAMES.OPTGROUP, TAG_ID.OPTGROUP],\n    [TAG_NAMES.OPTION, TAG_ID.OPTION],\n    [TAG_NAMES.P, TAG_ID.P],\n    [TAG_NAMES.PARAM, TAG_ID.PARAM],\n    [TAG_NAMES.PLAINTEXT, TAG_ID.PLAINTEXT],\n    [TAG_NAMES.PRE, TAG_ID.PRE],\n    [TAG_NAMES.RB, TAG_ID.RB],\n    [TAG_NAMES.RP, TAG_ID.RP],\n    [TAG_NAMES.RT, TAG_ID.RT],\n    [TAG_NAMES.RTC, TAG_ID.RTC],\n    [TAG_NAMES.RUBY, TAG_ID.RUBY],\n    [TAG_NAMES.S, TAG_ID.S],\n    [TAG_NAMES.SCRIPT, TAG_ID.SCRIPT],\n    [TAG_NAMES.SEARCH, TAG_ID.SEARCH],\n    [TAG_NAMES.SECTION, TAG_ID.SECTION],\n    [TAG_NAMES.SELECT, TAG_ID.SELECT],\n    [TAG_NAMES.SOURCE, TAG_ID.SOURCE],\n    [TAG_NAMES.SMALL, TAG_ID.SMALL],\n    [TAG_NAMES.SPAN, TAG_ID.SPAN],\n    [TAG_NAMES.STRIKE, TAG_ID.STRIKE],\n    [TAG_NAMES.STRONG, TAG_ID.STRONG],\n    [TAG_NAMES.STYLE, TAG_ID.STYLE],\n    [TAG_NAMES.SUB, TAG_ID.SUB],\n    [TAG_NAMES.SUMMARY, TAG_ID.SUMMARY],\n    [TAG_NAMES.SUP, TAG_ID.SUP],\n    [TAG_NAMES.TABLE, TAG_ID.TABLE],\n    [TAG_NAMES.TBODY, TAG_ID.TBODY],\n    [TAG_NAMES.TEMPLATE, TAG_ID.TEMPLATE],\n    [TAG_NAMES.TEXTAREA, TAG_ID.TEXTAREA],\n    [TAG_NAMES.TFOOT, TAG_ID.TFOOT],\n    [TAG_NAMES.TD, TAG_ID.TD],\n    [TAG_NAMES.TH, TAG_ID.TH],\n    [TAG_NAMES.THEAD, TAG_ID.THEAD],\n    [TAG_NAMES.TITLE, TAG_ID.TITLE],\n    [TAG_NAMES.TR, TAG_ID.TR],\n    [TAG_NAMES.TRACK, TAG_ID.TRACK],\n    [TAG_NAMES.TT, TAG_ID.TT],\n    [TAG_NAMES.U, TAG_ID.U],\n    [TAG_NAMES.UL, TAG_ID.UL],\n    [TAG_NAMES.SVG, TAG_ID.SVG],\n    [TAG_NAMES.VAR, TAG_ID.VAR],\n    [TAG_NAMES.WBR, TAG_ID.WBR],\n    [TAG_NAMES.XMP, TAG_ID.XMP],\n]);\nexport function getTagID(tagName) {\n    var _a;\n    return (_a = TAG_NAME_TO_ID.get(tagName)) !== null && _a !== void 0 ? _a : TAG_ID.UNKNOWN;\n}\nconst $ = TAG_ID;\nexport const SPECIAL_ELEMENTS = {\n    [NS.HTML]: new Set([\n        $.ADDRESS,\n        $.APPLET,\n        $.AREA,\n        $.ARTICLE,\n        $.ASIDE,\n        $.BASE,\n        $.BASEFONT,\n        $.BGSOUND,\n        $.BLOCKQUOTE,\n        $.BODY,\n        $.BR,\n        $.BUTTON,\n        $.CAPTION,\n        $.CENTER,\n        $.COL,\n        $.COLGROUP,\n        $.DD,\n        $.DETAILS,\n        $.DIR,\n        $.DIV,\n        $.DL,\n        $.DT,\n        $.EMBED,\n        $.FIELDSET,\n        $.FIGCAPTION,\n        $.FIGURE,\n        $.FOOTER,\n        $.FORM,\n        $.FRAME,\n        $.FRAMESET,\n        $.H1,\n        $.H2,\n        $.H3,\n        $.H4,\n        $.H5,\n        $.H6,\n        $.HEAD,\n        $.HEADER,\n        $.HGROUP,\n        $.HR,\n        $.HTML,\n        $.IFRAME,\n        $.IMG,\n        $.INPUT,\n        $.LI,\n        $.LINK,\n        $.LISTING,\n        $.MAIN,\n        $.MARQUEE,\n        $.MENU,\n        $.META,\n        $.NAV,\n        $.NOEMBED,\n        $.NOFRAMES,\n        $.NOSCRIPT,\n        $.OBJECT,\n        $.OL,\n        $.P,\n        $.PARAM,\n        $.PLAINTEXT,\n        $.PRE,\n        $.SCRIPT,\n        $.SECTION,\n        $.SELECT,\n        $.SOURCE,\n        $.STYLE,\n        $.SUMMARY,\n        $.TABLE,\n        $.TBODY,\n        $.TD,\n        $.TEMPLATE,\n        $.TEXTAREA,\n        $.TFOOT,\n        $.TH,\n        $.THEAD,\n        $.TITLE,\n        $.TR,\n        $.TRACK,\n        $.UL,\n        $.WBR,\n        $.XMP,\n    ]),\n    [NS.MATHML]: new Set([$.MI, $.MO, $.MN, $.MS, $.MTEXT, $.ANNOTATION_XML]),\n    [NS.SVG]: new Set([$.TITLE, $.FOREIGN_OBJECT, $.DESC]),\n    [NS.XLINK]: new Set(),\n    [NS.XML]: new Set(),\n    [NS.XMLNS]: new Set(),\n};\nexport const NUMBERED_HEADERS = new Set([$.H1, $.H2, $.H3, $.H4, $.H5, $.H6]);\nconst UNESCAPED_TEXT = new Set([\n    TAG_NAMES.STYLE,\n    TAG_NAMES.SCRIPT,\n    TAG_NAMES.XMP,\n    TAG_NAMES.IFRAME,\n    TAG_NAMES.NOEMBED,\n    TAG_NAMES.NOFRAMES,\n    TAG_NAMES.PLAINTEXT,\n]);\nexport function hasUnescapedText(tn, scriptingEnabled) {\n    return UNESCAPED_TEXT.has(tn) || (scriptingEnabled && tn === TAG_NAMES.NOSCRIPT);\n}\n","import { Preprocessor } from './preprocessor.js';\nimport { CODE_POINTS as $, SEQUENCES as $$, REPLACEMENT_CHARACTER, isSurrogate, isUndefinedCodePoint, isControlCodePoint, } from '../common/unicode.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\nimport { htmlDecodeTree, EntityDecoder, DecodingMode } from 'entities/lib/decode.js';\nimport { ERR } from '../common/error-codes.js';\nimport { TAG_ID, getTagID } from '../common/html.js';\n//States\nvar State;\n(function (State) {\n    State[State[\"DATA\"] = 0] = \"DATA\";\n    State[State[\"RCDATA\"] = 1] = \"RCDATA\";\n    State[State[\"RAWTEXT\"] = 2] = \"RAWTEXT\";\n    State[State[\"SCRIPT_DATA\"] = 3] = \"SCRIPT_DATA\";\n    State[State[\"PLAINTEXT\"] = 4] = \"PLAINTEXT\";\n    State[State[\"TAG_OPEN\"] = 5] = \"TAG_OPEN\";\n    State[State[\"END_TAG_OPEN\"] = 6] = \"END_TAG_OPEN\";\n    State[State[\"TAG_NAME\"] = 7] = \"TAG_NAME\";\n    State[State[\"RCDATA_LESS_THAN_SIGN\"] = 8] = \"RCDATA_LESS_THAN_SIGN\";\n    State[State[\"RCDATA_END_TAG_OPEN\"] = 9] = \"RCDATA_END_TAG_OPEN\";\n    State[State[\"RCDATA_END_TAG_NAME\"] = 10] = \"RCDATA_END_TAG_NAME\";\n    State[State[\"RAWTEXT_LESS_THAN_SIGN\"] = 11] = \"RAWTEXT_LESS_THAN_SIGN\";\n    State[State[\"RAWTEXT_END_TAG_OPEN\"] = 12] = \"RAWTEXT_END_TAG_OPEN\";\n    State[State[\"RAWTEXT_END_TAG_NAME\"] = 13] = \"RAWTEXT_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_LESS_THAN_SIGN\"] = 14] = \"SCRIPT_DATA_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_END_TAG_OPEN\"] = 15] = \"SCRIPT_DATA_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_END_TAG_NAME\"] = 16] = \"SCRIPT_DATA_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START\"] = 17] = \"SCRIPT_DATA_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START_DASH\"] = 18] = \"SCRIPT_DATA_ESCAPE_START_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED\"] = 19] = \"SCRIPT_DATA_ESCAPED\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH\"] = 20] = \"SCRIPT_DATA_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH_DASH\"] = 21] = \"SCRIPT_DATA_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\"] = 22] = \"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\"] = 23] = \"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_NAME\"] = 24] = \"SCRIPT_DATA_ESCAPED_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_START\"] = 25] = \"SCRIPT_DATA_DOUBLE_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED\"] = 26] = \"SCRIPT_DATA_DOUBLE_ESCAPED\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\"] = 27] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\"] = 28] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\"] = 29] = \"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_END\"] = 30] = \"SCRIPT_DATA_DOUBLE_ESCAPE_END\";\n    State[State[\"BEFORE_ATTRIBUTE_NAME\"] = 31] = \"BEFORE_ATTRIBUTE_NAME\";\n    State[State[\"ATTRIBUTE_NAME\"] = 32] = \"ATTRIBUTE_NAME\";\n    State[State[\"AFTER_ATTRIBUTE_NAME\"] = 33] = \"AFTER_ATTRIBUTE_NAME\";\n    State[State[\"BEFORE_ATTRIBUTE_VALUE\"] = 34] = \"BEFORE_ATTRIBUTE_VALUE\";\n    State[State[\"ATTRIBUTE_VALUE_DOUBLE_QUOTED\"] = 35] = \"ATTRIBUTE_VALUE_DOUBLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_SINGLE_QUOTED\"] = 36] = \"ATTRIBUTE_VALUE_SINGLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_UNQUOTED\"] = 37] = \"ATTRIBUTE_VALUE_UNQUOTED\";\n    State[State[\"AFTER_ATTRIBUTE_VALUE_QUOTED\"] = 38] = \"AFTER_ATTRIBUTE_VALUE_QUOTED\";\n    State[State[\"SELF_CLOSING_START_TAG\"] = 39] = \"SELF_CLOSING_START_TAG\";\n    State[State[\"BOGUS_COMMENT\"] = 40] = \"BOGUS_COMMENT\";\n    State[State[\"MARKUP_DECLARATION_OPEN\"] = 41] = \"MARKUP_DECLARATION_OPEN\";\n    State[State[\"COMMENT_START\"] = 42] = \"COMMENT_START\";\n    State[State[\"COMMENT_START_DASH\"] = 43] = \"COMMENT_START_DASH\";\n    State[State[\"COMMENT\"] = 44] = \"COMMENT\";\n    State[State[\"COMMENT_LESS_THAN_SIGN\"] = 45] = \"COMMENT_LESS_THAN_SIGN\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG\"] = 46] = \"COMMENT_LESS_THAN_SIGN_BANG\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH\"] = 47] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\"] = 48] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\";\n    State[State[\"COMMENT_END_DASH\"] = 49] = \"COMMENT_END_DASH\";\n    State[State[\"COMMENT_END\"] = 50] = \"COMMENT_END\";\n    State[State[\"COMMENT_END_BANG\"] = 51] = \"COMMENT_END_BANG\";\n    State[State[\"DOCTYPE\"] = 52] = \"DOCTYPE\";\n    State[State[\"BEFORE_DOCTYPE_NAME\"] = 53] = \"BEFORE_DOCTYPE_NAME\";\n    State[State[\"DOCTYPE_NAME\"] = 54] = \"DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_NAME\"] = 55] = \"AFTER_DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_KEYWORD\"] = 56] = \"AFTER_DOCTYPE_PUBLIC_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\"] = 57] = \"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\"] = 58] = \"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\"] = 59] = \"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\"] = 60] = \"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\"] = 61] = \"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_KEYWORD\"] = 62] = \"AFTER_DOCTYPE_SYSTEM_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\"] = 63] = \"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\"] = 64] = \"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\"] = 65] = \"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\"] = 66] = \"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"BOGUS_DOCTYPE\"] = 67] = \"BOGUS_DOCTYPE\";\n    State[State[\"CDATA_SECTION\"] = 68] = \"CDATA_SECTION\";\n    State[State[\"CDATA_SECTION_BRACKET\"] = 69] = \"CDATA_SECTION_BRACKET\";\n    State[State[\"CDATA_SECTION_END\"] = 70] = \"CDATA_SECTION_END\";\n    State[State[\"CHARACTER_REFERENCE\"] = 71] = \"CHARACTER_REFERENCE\";\n    State[State[\"AMBIGUOUS_AMPERSAND\"] = 72] = \"AMBIGUOUS_AMPERSAND\";\n})(State || (State = {}));\n//Tokenizer initial states for different modes\nexport const TokenizerMode = {\n    DATA: State.DATA,\n    RCDATA: State.RCDATA,\n    RAWTEXT: State.RAWTEXT,\n    SCRIPT_DATA: State.SCRIPT_DATA,\n    PLAINTEXT: State.PLAINTEXT,\n    CDATA_SECTION: State.CDATA_SECTION,\n};\n//Utils\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\nfunction toAsciiLower(cp) {\n    return cp + 32;\n}\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\nfunction isScriptDataDoubleEscapeSequenceEnd(cp) {\n    return isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN;\n}\nfunction getErrorForNumericCharacterReference(code) {\n    if (code === $.NULL) {\n        return ERR.nullCharacterReference;\n    }\n    else if (code > 1114111) {\n        return ERR.characterReferenceOutsideUnicodeRange;\n    }\n    else if (isSurrogate(code)) {\n        return ERR.surrogateCharacterReference;\n    }\n    else if (isUndefinedCodePoint(code)) {\n        return ERR.noncharacterCharacterReference;\n    }\n    else if (isControlCodePoint(code) || code === $.CARRIAGE_RETURN) {\n        return ERR.controlCharacterReference;\n    }\n    return null;\n}\n//Tokenizer\nexport class Tokenizer {\n    constructor(options, handler) {\n        this.options = options;\n        this.handler = handler;\n        this.paused = false;\n        /** Ensures that the parsing loop isn't run multiple times at once. */\n        this.inLoop = false;\n        /**\n         * Indicates that the current adjusted node exists, is not an element in the HTML namespace,\n         * and that it is not an integration point for either MathML or HTML.\n         *\n         * @see {@link https://html.spec.whatwg.org/multipage/parsing.html#tree-construction}\n         */\n        this.inForeignNode = false;\n        this.lastStartTagName = '';\n        this.active = false;\n        this.state = State.DATA;\n        this.returnState = State.DATA;\n        this.entityStartPos = 0;\n        this.consumedAfterSnapshot = -1;\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = { name: '', value: '' };\n        this.preprocessor = new Preprocessor(handler);\n        this.currentLocation = this.getCurrentLocation(-1);\n        this.entityDecoder = new EntityDecoder(htmlDecodeTree, (cp, consumed) => {\n            // Note: Set `pos` _before_ flushing, as flushing might drop\n            // the current chunk and invalidate `entityStartPos`.\n            this.preprocessor.pos = this.entityStartPos + consumed - 1;\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }, handler.onParseError\n            ? {\n                missingSemicolonAfterCharacterReference: () => {\n                    this._err(ERR.missingSemicolonAfterCharacterReference, 1);\n                },\n                absenceOfDigitsInNumericCharacterReference: (consumed) => {\n                    this._err(ERR.absenceOfDigitsInNumericCharacterReference, this.entityStartPos - this.preprocessor.pos + consumed);\n                },\n                validateNumericCharacterReference: (code) => {\n                    const error = getErrorForNumericCharacterReference(code);\n                    if (error)\n                        this._err(error, 1);\n                },\n            }\n            : undefined);\n    }\n    //Errors\n    _err(code, cpOffset = 0) {\n        var _a, _b;\n        (_b = (_a = this.handler).onParseError) === null || _b === void 0 ? void 0 : _b.call(_a, this.preprocessor.getError(code, cpOffset));\n    }\n    // NOTE: `offset` may never run across line boundaries.\n    getCurrentLocation(offset) {\n        if (!this.options.sourceCodeLocationInfo) {\n            return null;\n        }\n        return {\n            startLine: this.preprocessor.line,\n            startCol: this.preprocessor.col - offset,\n            startOffset: this.preprocessor.offset - offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1,\n        };\n    }\n    _runParsingLoop() {\n        if (this.inLoop)\n            return;\n        this.inLoop = true;\n        while (this.active && !this.paused) {\n            this.consumedAfterSnapshot = 0;\n            const cp = this._consume();\n            if (!this._ensureHibernation()) {\n                this._callState(cp);\n            }\n        }\n        this.inLoop = false;\n    }\n    //API\n    pause() {\n        this.paused = true;\n    }\n    resume(writeCallback) {\n        if (!this.paused) {\n            throw new Error('Parser was already resumed');\n        }\n        this.paused = false;\n        // Necessary for synchronous resume.\n        if (this.inLoop)\n            return;\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    write(chunk, isLastChunk, writeCallback) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n        this._runParsingLoop();\n    }\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            this.preprocessor.retreat(this.consumedAfterSnapshot);\n            this.consumedAfterSnapshot = 0;\n            this.active = false;\n            return true;\n        }\n        return false;\n    }\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n    _advanceBy(count) {\n        this.consumedAfterSnapshot += count;\n        for (let i = 0; i < count; i++) {\n            this.preprocessor.advance();\n        }\n    }\n    _consumeSequenceIfMatch(pattern, caseSensitive) {\n        if (this.preprocessor.startsWith(pattern, caseSensitive)) {\n            // We will already have consumed one character before calling this method.\n            this._advanceBy(pattern.length - 1);\n            return true;\n        }\n        return false;\n    }\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: TokenType.START_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(1),\n        };\n    }\n    _createEndTagToken() {\n        this.currentToken = {\n            type: TokenType.END_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(2),\n        };\n    }\n    _createCommentToken(offset) {\n        this.currentToken = {\n            type: TokenType.COMMENT,\n            data: '',\n            location: this.getCurrentLocation(offset),\n        };\n    }\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: TokenType.DOCTYPE,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null,\n            location: this.currentLocation,\n        };\n    }\n    _createCharacterToken(type, chars) {\n        this.currentCharacterToken = {\n            type,\n            chars,\n            location: this.currentLocation,\n        };\n    }\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: '',\n        };\n        this.currentLocation = this.getCurrentLocation(0);\n    }\n    _leaveAttrName() {\n        var _a;\n        var _b;\n        const token = this.currentToken;\n        if (getTokenAttr(token, this.currentAttr.name) === null) {\n            token.attrs.push(this.currentAttr);\n            if (token.location && this.currentLocation) {\n                const attrLocations = ((_a = (_b = token.location).attrs) !== null && _a !== void 0 ? _a : (_b.attrs = Object.create(null)));\n                attrLocations[this.currentAttr.name] = this.currentLocation;\n                // Set end location\n                this._leaveAttrValue();\n            }\n        }\n        else {\n            this._err(ERR.duplicateAttribute);\n        }\n    }\n    _leaveAttrValue() {\n        if (this.currentLocation) {\n            this.currentLocation.endLine = this.preprocessor.line;\n            this.currentLocation.endCol = this.preprocessor.col;\n            this.currentLocation.endOffset = this.preprocessor.offset;\n        }\n    }\n    //Token emission\n    prepareToken(ct) {\n        this._emitCurrentCharacterToken(ct.location);\n        this.currentToken = null;\n        if (ct.location) {\n            ct.location.endLine = this.preprocessor.line;\n            ct.location.endCol = this.preprocessor.col + 1;\n            ct.location.endOffset = this.preprocessor.offset + 1;\n        }\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    emitCurrentTagToken() {\n        const ct = this.currentToken;\n        this.prepareToken(ct);\n        ct.tagID = getTagID(ct.tagName);\n        if (ct.type === TokenType.START_TAG) {\n            this.lastStartTagName = ct.tagName;\n            this.handler.onStartTag(ct);\n        }\n        else {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n            this.handler.onEndTag(ct);\n        }\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentComment(ct) {\n        this.prepareToken(ct);\n        this.handler.onComment(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentDoctype(ct) {\n        this.prepareToken(ct);\n        this.handler.onDoctype(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    _emitCurrentCharacterToken(nextLocation) {\n        if (this.currentCharacterToken) {\n            //NOTE: if we have a pending character token, make it's end location equal to the\n            //current token's start location.\n            if (nextLocation && this.currentCharacterToken.location) {\n                this.currentCharacterToken.location.endLine = nextLocation.startLine;\n                this.currentCharacterToken.location.endCol = nextLocation.startCol;\n                this.currentCharacterToken.location.endOffset = nextLocation.startOffset;\n            }\n            switch (this.currentCharacterToken.type) {\n                case TokenType.CHARACTER: {\n                    this.handler.onCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.NULL_CHARACTER: {\n                    this.handler.onNullCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.WHITESPACE_CHARACTER: {\n                    this.handler.onWhitespaceCharacter(this.currentCharacterToken);\n                    break;\n                }\n            }\n            this.currentCharacterToken = null;\n        }\n    }\n    _emitEOFToken() {\n        const location = this.getCurrentLocation(0);\n        if (location) {\n            location.endLine = location.startLine;\n            location.endCol = location.startCol;\n            location.endOffset = location.startOffset;\n        }\n        this._emitCurrentCharacterToken(location);\n        this.handler.onEof({ type: TokenType.EOF, location });\n        this.active = false;\n    }\n    //Characters emission\n    //OPTIMIZATION: The specification uses only one type of character token (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, the parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)TokenType.NULL_CHARACTER - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken) {\n            if (this.currentCharacterToken.type === type) {\n                this.currentCharacterToken.chars += ch;\n                return;\n            }\n            else {\n                this.currentLocation = this.getCurrentLocation(0);\n                this._emitCurrentCharacterToken(this.currentLocation);\n                this.preprocessor.dropParsedChunk();\n            }\n        }\n        this._createCharacterToken(type, ch);\n    }\n    _emitCodePoint(cp) {\n        const type = isWhitespace(cp)\n            ? TokenType.WHITESPACE_CHARACTER\n            : cp === $.NULL\n                ? TokenType.NULL_CHARACTER\n                : TokenType.CHARACTER;\n        this._appendCharToCurrentCharacterToken(type, String.fromCodePoint(cp));\n    }\n    //NOTE: used when we emit characters explicitly.\n    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(TokenType.CHARACTER, ch);\n    }\n    // Character reference helpers\n    _startCharacterReference() {\n        this.returnState = this.state;\n        this.state = State.CHARACTER_REFERENCE;\n        this.entityStartPos = this.preprocessor.pos;\n        this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute() ? DecodingMode.Attribute : DecodingMode.Legacy);\n    }\n    _isCharacterReferenceInAttribute() {\n        return (this.returnState === State.ATTRIBUTE_VALUE_DOUBLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_SINGLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_UNQUOTED);\n    }\n    _flushCodePointConsumedAsCharacterReference(cp) {\n        if (this._isCharacterReferenceInAttribute()) {\n            this.currentAttr.value += String.fromCodePoint(cp);\n        }\n        else {\n            this._emitCodePoint(cp);\n        }\n    }\n    // Calling states this way turns out to be much faster than any other approach.\n    _callState(cp) {\n        switch (this.state) {\n            case State.DATA: {\n                this._stateData(cp);\n                break;\n            }\n            case State.RCDATA: {\n                this._stateRcdata(cp);\n                break;\n            }\n            case State.RAWTEXT: {\n                this._stateRawtext(cp);\n                break;\n            }\n            case State.SCRIPT_DATA: {\n                this._stateScriptData(cp);\n                break;\n            }\n            case State.PLAINTEXT: {\n                this._statePlaintext(cp);\n                break;\n            }\n            case State.TAG_OPEN: {\n                this._stateTagOpen(cp);\n                break;\n            }\n            case State.END_TAG_OPEN: {\n                this._stateEndTagOpen(cp);\n                break;\n            }\n            case State.TAG_NAME: {\n                this._stateTagName(cp);\n                break;\n            }\n            case State.RCDATA_LESS_THAN_SIGN: {\n                this._stateRcdataLessThanSign(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_OPEN: {\n                this._stateRcdataEndTagOpen(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_NAME: {\n                this._stateRcdataEndTagName(cp);\n                break;\n            }\n            case State.RAWTEXT_LESS_THAN_SIGN: {\n                this._stateRawtextLessThanSign(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_OPEN: {\n                this._stateRawtextEndTagOpen(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_NAME: {\n                this._stateRawtextEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_LESS_THAN_SIGN: {\n                this._stateScriptDataLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_OPEN: {\n                this._stateScriptDataEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_NAME: {\n                this._stateScriptDataEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START: {\n                this._stateScriptDataEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START_DASH: {\n                this._stateScriptDataEscapeStartDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED: {\n                this._stateScriptDataEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH: {\n                this._stateScriptDataEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH_DASH: {\n                this._stateScriptDataEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {\n                this._stateScriptDataEscapedEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {\n                this._stateScriptDataEscapedEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_START: {\n                this._stateScriptDataDoubleEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED: {\n                this._stateScriptDataDoubleEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {\n                this._stateScriptDataDoubleEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {\n                this._stateScriptDataDoubleEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataDoubleEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_END: {\n                this._stateScriptDataDoubleEscapeEnd(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_NAME: {\n                this._stateBeforeAttributeName(cp);\n                break;\n            }\n            case State.ATTRIBUTE_NAME: {\n                this._stateAttributeName(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_NAME: {\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_VALUE: {\n                this._stateBeforeAttributeValue(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n                this._stateAttributeValueDoubleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n                this._stateAttributeValueSingleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_UNQUOTED: {\n                this._stateAttributeValueUnquoted(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_VALUE_QUOTED: {\n                this._stateAfterAttributeValueQuoted(cp);\n                break;\n            }\n            case State.SELF_CLOSING_START_TAG: {\n                this._stateSelfClosingStartTag(cp);\n                break;\n            }\n            case State.BOGUS_COMMENT: {\n                this._stateBogusComment(cp);\n                break;\n            }\n            case State.MARKUP_DECLARATION_OPEN: {\n                this._stateMarkupDeclarationOpen(cp);\n                break;\n            }\n            case State.COMMENT_START: {\n                this._stateCommentStart(cp);\n                break;\n            }\n            case State.COMMENT_START_DASH: {\n                this._stateCommentStartDash(cp);\n                break;\n            }\n            case State.COMMENT: {\n                this._stateComment(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN: {\n                this._stateCommentLessThanSign(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG: {\n                this._stateCommentLessThanSignBang(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH: {\n                this._stateCommentLessThanSignBangDash(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {\n                this._stateCommentLessThanSignBangDashDash(cp);\n                break;\n            }\n            case State.COMMENT_END_DASH: {\n                this._stateCommentEndDash(cp);\n                break;\n            }\n            case State.COMMENT_END: {\n                this._stateCommentEnd(cp);\n                break;\n            }\n            case State.COMMENT_END_BANG: {\n                this._stateCommentEndBang(cp);\n                break;\n            }\n            case State.DOCTYPE: {\n                this._stateDoctype(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_NAME: {\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case State.DOCTYPE_NAME: {\n                this._stateDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_NAME: {\n                this._stateAfterDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_KEYWORD: {\n                this._stateAfterDoctypePublicKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateBeforeDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypePublicIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypePublicIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateAfterDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {\n                this._stateBetweenDoctypePublicAndSystemIdentifiers(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_KEYWORD: {\n                this._stateAfterDoctypeSystemKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateBeforeDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateAfterDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.BOGUS_DOCTYPE: {\n                this._stateBogusDoctype(cp);\n                break;\n            }\n            case State.CDATA_SECTION: {\n                this._stateCdataSection(cp);\n                break;\n            }\n            case State.CDATA_SECTION_BRACKET: {\n                this._stateCdataSectionBracket(cp);\n                break;\n            }\n            case State.CDATA_SECTION_END: {\n                this._stateCdataSectionEnd(cp);\n                break;\n            }\n            case State.CHARACTER_REFERENCE: {\n                this._stateCharacterReference();\n                break;\n            }\n            case State.AMBIGUOUS_AMPERSAND: {\n                this._stateAmbiguousAmpersand(cp);\n                break;\n            }\n            default: {\n                throw new Error('Unknown state');\n            }\n        }\n    }\n    // State machine\n    // Data state\n    //------------------------------------------------------------------\n    _stateData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.TAG_OPEN;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    //  RCDATA state\n    //------------------------------------------------------------------\n    _stateRcdata(cp) {\n        switch (cp) {\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RCDATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    _stateRawtext(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RAWTEXT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data state\n    //------------------------------------------------------------------\n    _stateScriptData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    _statePlaintext(cp) {\n        switch (cp) {\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Tag open state\n    //------------------------------------------------------------------\n    _stateTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.EXCLAMATION_MARK: {\n                    this.state = State.MARKUP_DECLARATION_OPEN;\n                    break;\n                }\n                case $.SOLIDUS: {\n                    this.state = State.END_TAG_OPEN;\n                    break;\n                }\n                case $.QUESTION_MARK: {\n                    this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n                    this._createCommentToken(1);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('<');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._emitChars('<');\n                    this.state = State.DATA;\n                    this._stateData(cp);\n                }\n            }\n    }\n    // End tag open state\n    //------------------------------------------------------------------\n    _stateEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingEndTagName);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('</');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._createCommentToken(2);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                }\n            }\n    }\n    // Tag name state\n    //------------------------------------------------------------------\n    _stateTagName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.tagName += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.tagName += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    _stateRcdataLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RCDATA_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RCDATA_END_TAG_NAME;\n            this._stateRcdataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    handleSpecialEndTag(_cp) {\n        if (!this.preprocessor.startsWith(this.lastStartTagName, false)) {\n            return !this._ensureHibernation();\n        }\n        this._createEndTagToken();\n        const token = this.currentToken;\n        token.tagName = this.lastStartTagName;\n        const cp = this.preprocessor.peek(this.lastStartTagName.length);\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                return false;\n            }\n            case $.SOLIDUS: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.SELF_CLOSING_START_TAG;\n                return false;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.emitCurrentTagToken();\n                this.state = State.DATA;\n                return false;\n            }\n            default: {\n                return !this._ensureHibernation();\n            }\n        }\n    }\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    _stateRawtextLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RAWTEXT_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RAWTEXT_END_TAG_NAME;\n            this._stateRawtextEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataLessThanSign(cp) {\n        switch (cp) {\n            case $.SOLIDUS: {\n                this.state = State.SCRIPT_DATA_END_TAG_OPEN;\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.SCRIPT_DATA_ESCAPE_START;\n                this._emitChars('<!');\n                break;\n            }\n            default: {\n                this._emitChars('<');\n                this.state = State.SCRIPT_DATA;\n                this._stateScriptData(cp);\n            }\n        }\n    }\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_END_TAG_NAME;\n            this._stateScriptDataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStart(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPE_START_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStartDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN;\n        }\n        else if (isAsciiLetter(cp)) {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_START;\n            this._stateScriptDataDoubleEscapeStart(cp);\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_NAME;\n            this._stateScriptDataEscapedEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeStart(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_END;\n            this._emitChars('/');\n        }\n        else {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeEnd(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Before attribute name state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n                this._createAttr('=');\n                this.state = State.ATTRIBUTE_NAME;\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Attribute name state\n    //------------------------------------------------------------------\n    _stateAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED:\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this._leaveAttrName();\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._leaveAttrName();\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN: {\n                this._err(ERR.unexpectedCharacterInAttributeName);\n                this.currentAttr.name += String.fromCodePoint(cp);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                this.currentAttr.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After attribute name state\n    //------------------------------------------------------------------\n    _stateAfterAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Before attribute value state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeValue(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this.state = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this.state = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingAttributeValue);\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            default: {\n                this.state = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this._stateAttributeValueUnquoted(cp);\n            }\n        }\n    }\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueDoubleQuoted(cp) {\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueSingleQuoted(cp) {\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueUnquoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN:\n            case $.EQUALS_SIGN:\n            case $.GRAVE_ACCENT: {\n                this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n                this.currentAttr.value += String.fromCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    _stateAfterAttributeValueQuoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this._leaveAttrValue();\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBetweenAttributes);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    _stateSelfClosingStartTag(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                const token = this.currentToken;\n                token.selfClosing = true;\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedSolidusInTag);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Bogus comment state\n    //------------------------------------------------------------------\n    _stateBogusComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    _stateMarkupDeclarationOpen(cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH, true)) {\n            this._createCommentToken($$.DASH_DASH.length + 1);\n            this.state = State.COMMENT_START;\n        }\n        else if (this._consumeSequenceIfMatch($$.DOCTYPE, false)) {\n            // NOTE: Doctypes tokens are created without fixed offsets. We keep track of the moment a doctype *might* start here.\n            this.currentLocation = this.getCurrentLocation($$.DOCTYPE.length + 1);\n            this.state = State.DOCTYPE;\n        }\n        else if (this._consumeSequenceIfMatch($$.CDATA_START, true)) {\n            if (this.inForeignNode) {\n                this.state = State.CDATA_SECTION;\n            }\n            else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken($$.CDATA_START.length + 1);\n                this.currentToken.data = '[CDATA[';\n                this.state = State.BOGUS_COMMENT;\n            }\n        }\n        //NOTE: Sequence lookups can be abrupted by hibernation. In that case, lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken(2);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n        }\n    }\n    // Comment start state\n    //------------------------------------------------------------------\n    _stateCommentStart(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_START_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                const token = this.currentToken;\n                this.emitCurrentComment(token);\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment start dash state\n    //------------------------------------------------------------------\n    _stateCommentStartDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment state\n    //------------------------------------------------------------------\n    _stateComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                this.state = State.COMMENT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSign(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.EXCLAMATION_MARK: {\n                token.data += '!';\n                this.state = State.COMMENT_LESS_THAN_SIGN_BANG;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBang(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH;\n        }\n        else {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n        }\n    }\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n        }\n        else {\n            this.state = State.COMMENT_END_DASH;\n            this._stateCommentEndDash(cp);\n        }\n    }\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDashDash(cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n        this.state = State.COMMENT_END;\n        this._stateCommentEnd(cp);\n    }\n    // Comment end dash state\n    //------------------------------------------------------------------\n    _stateCommentEndDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end state\n    //------------------------------------------------------------------\n    _stateCommentEnd(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.COMMENT_END_BANG;\n                break;\n            }\n            case $.HYPHEN_MINUS: {\n                token.data += '-';\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end bang state\n    //------------------------------------------------------------------\n    _stateCommentEndBang(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                token.data += '--!';\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.incorrectlyClosedComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--!';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    _stateDoctype(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                this._createDoctypeToken(null);\n                const token = this.currentToken;\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBeforeDoctypeName);\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n            }\n        }\n    }\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeName(cp) {\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(String.fromCharCode(toAsciiLower(cp)));\n            this.state = State.DOCTYPE_NAME;\n        }\n        else\n            switch (cp) {\n                case $.SPACE:\n                case $.LINE_FEED:\n                case $.TABULATION:\n                case $.FORM_FEED: {\n                    // Ignore whitespace\n                    break;\n                }\n                case $.NULL: {\n                    this._err(ERR.unexpectedNullCharacter);\n                    this._createDoctypeToken(REPLACEMENT_CHARACTER);\n                    this.state = State.DOCTYPE_NAME;\n                    break;\n                }\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingDoctypeName);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofInDoctype);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._createDoctypeToken(String.fromCodePoint(cp));\n                    this.state = State.DOCTYPE_NAME;\n                }\n            }\n    }\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.AFTER_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                if (this._consumeSequenceIfMatch($$.PUBLIC, false)) {\n                    this.state = State.AFTER_DOCTYPE_PUBLIC_KEYWORD;\n                }\n                else if (this._consumeSequenceIfMatch($$.SYSTEM, false)) {\n                    this.state = State.AFTER_DOCTYPE_SYSTEM_KEYWORD;\n                }\n                //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n                //results are no longer valid and we will need to start over.\n                else if (!this._ensureHibernation()) {\n                    this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n                    token.forceQuirks = true;\n                    this.state = State.BOGUS_DOCTYPE;\n                    this._stateBogusDoctype(cp);\n                }\n            }\n        }\n    }\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    _stateBetweenDoctypePublicAndSystemIdentifiers(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    _stateBogusDoctype(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    // CDATA section state\n    //------------------------------------------------------------------\n    _stateCdataSection(cp) {\n        switch (cp) {\n            case $.RIGHT_SQUARE_BRACKET: {\n                this.state = State.CDATA_SECTION_BRACKET;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInCdata);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    _stateCdataSectionBracket(cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = State.CDATA_SECTION_END;\n        }\n        else {\n            this._emitChars(']');\n            this.state = State.CDATA_SECTION;\n            this._stateCdataSection(cp);\n        }\n    }\n    // CDATA section end state\n    //------------------------------------------------------------------\n    _stateCdataSectionEnd(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                break;\n            }\n            case $.RIGHT_SQUARE_BRACKET: {\n                this._emitChars(']');\n                break;\n            }\n            default: {\n                this._emitChars(']]');\n                this.state = State.CDATA_SECTION;\n                this._stateCdataSection(cp);\n            }\n        }\n    }\n    // Character reference state\n    //------------------------------------------------------------------\n    _stateCharacterReference() {\n        let length = this.entityDecoder.write(this.preprocessor.html, this.preprocessor.pos);\n        if (length < 0) {\n            if (this.preprocessor.lastChunkWritten) {\n                length = this.entityDecoder.end();\n            }\n            else {\n                // Wait for the rest of the entity.\n                this.active = false;\n                // Mark the entire buffer as read.\n                this.preprocessor.pos = this.preprocessor.html.length - 1;\n                this.consumedAfterSnapshot = 0;\n                this.preprocessor.endOfChunkHit = true;\n                return;\n            }\n        }\n        if (length === 0) {\n            // This was not a valid entity. Go back to the beginning, and\n            // figure out what to do.\n            this.preprocessor.pos = this.entityStartPos;\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this.state =\n                !this._isCharacterReferenceInAttribute() && isAsciiAlphaNumeric(this.preprocessor.peek(1))\n                    ? State.AMBIGUOUS_AMPERSAND\n                    : this.returnState;\n        }\n        else {\n            // We successfully parsed an entity. Switch to the return state.\n            this.state = this.returnState;\n        }\n    }\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    _stateAmbiguousAmpersand(cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }\n        else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n            this.state = this.returnState;\n            this._callState(cp);\n        }\n    }\n}\n","import { TAG_ID as $, NS, NUMBERED_HEADERS } from '../common/html.js';\n//Element utils\nconst IMPLICIT_END_TAG_REQUIRED = new Set([$.DD, $.DT, $.LI, $.OPTGROUP, $.OPTION, $.P, $.RB, $.RP, $.RT, $.RTC]);\nconst IMPLICIT_END_TAG_REQUIRED_THOROUGHLY = new Set([\n    ...IMPLICIT_END_TAG_REQUIRED,\n    $.CAPTION,\n    $.COLGROUP,\n    $.TBODY,\n    $.TD,\n    $.TFOOT,\n    $.TH,\n    $.THEAD,\n    $.TR,\n]);\nconst SCOPING_ELEMENTS_HTML = new Set([\n    $.APPLET,\n    $.CAPTION,\n    $.HTML,\n    $.MARQUEE,\n    $.OBJECT,\n    $.TABLE,\n    $.TD,\n    $.TEMPLATE,\n    $.TH,\n]);\nconst SCOPING_ELEMENTS_HTML_LIST = new Set([...SCOPING_ELEMENTS_HTML, $.OL, $.UL]);\nconst SCOPING_ELEMENTS_HTML_BUTTON = new Set([...SCOPING_ELEMENTS_HTML, $.BUTTON]);\nconst SCOPING_ELEMENTS_MATHML = new Set([$.ANNOTATION_XML, $.MI, $.MN, $.MO, $.MS, $.MTEXT]);\nconst SCOPING_ELEMENTS_SVG = new Set([$.DESC, $.FOREIGN_OBJECT, $.TITLE]);\nconst TABLE_ROW_CONTEXT = new Set([$.TR, $.TEMPLATE, $.HTML]);\nconst TABLE_BODY_CONTEXT = new Set([$.TBODY, $.TFOOT, $.THEAD, $.TEMPLATE, $.HTML]);\nconst TABLE_CONTEXT = new Set([$.TABLE, $.TEMPLATE, $.HTML]);\nconst TABLE_CELLS = new Set([$.TD, $.TH]);\n//Stack of open elements\nexport class OpenElementStack {\n    get currentTmplContentOrNode() {\n        return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;\n    }\n    constructor(document, treeAdapter, handler) {\n        this.treeAdapter = treeAdapter;\n        this.handler = handler;\n        this.items = [];\n        this.tagIDs = [];\n        this.stackTop = -1;\n        this.tmplCount = 0;\n        this.currentTagId = $.UNKNOWN;\n        this.current = document;\n    }\n    //Index of element\n    _indexOf(element) {\n        return this.items.lastIndexOf(element, this.stackTop);\n    }\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagId === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagId = this.tagIDs[this.stackTop];\n    }\n    //Mutations\n    push(element, tagID) {\n        this.stackTop++;\n        this.items[this.stackTop] = element;\n        this.current = element;\n        this.tagIDs[this.stackTop] = tagID;\n        this.currentTagId = tagID;\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n        this.handler.onItemPush(element, tagID, true);\n    }\n    pop() {\n        const popped = this.current;\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n        this.stackTop--;\n        this._updateCurrentElement();\n        this.handler.onItemPop(popped, true);\n    }\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n        this.items[idx] = newElement;\n        if (idx === this.stackTop) {\n            this.current = newElement;\n        }\n    }\n    insertAfter(referenceElement, newElement, newElementID) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n        this.items.splice(insertionIdx, 0, newElement);\n        this.tagIDs.splice(insertionIdx, 0, newElementID);\n        this.stackTop++;\n        if (insertionIdx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n        this.handler.onItemPush(this.current, this.currentTagId, insertionIdx === this.stackTop);\n    }\n    popUntilTagNamePopped(tagName) {\n        let targetIdx = this.stackTop + 1;\n        do {\n            targetIdx = this.tagIDs.lastIndexOf(tagName, targetIdx - 1);\n        } while (targetIdx > 0 && this.treeAdapter.getNamespaceURI(this.items[targetIdx]) !== NS.HTML);\n        this.shortenToLength(targetIdx < 0 ? 0 : targetIdx);\n    }\n    shortenToLength(idx) {\n        while (this.stackTop >= idx) {\n            const popped = this.current;\n            if (this.tmplCount > 0 && this._isInTemplate()) {\n                this.tmplCount -= 1;\n            }\n            this.stackTop--;\n            this._updateCurrentElement();\n            this.handler.onItemPop(popped, this.stackTop < idx);\n        }\n    }\n    popUntilElementPopped(element) {\n        const idx = this._indexOf(element);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilPopped(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilNumberedHeaderPopped() {\n        this.popUntilPopped(NUMBERED_HEADERS, NS.HTML);\n    }\n    popUntilTableCellPopped() {\n        this.popUntilPopped(TABLE_CELLS, NS.HTML);\n    }\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that the root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.tmplCount = 0;\n        this.shortenToLength(1);\n    }\n    _indexOfTagNames(tagNames, namespace) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (tagNames.has(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === namespace) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    clearBackTo(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx + 1);\n    }\n    clearBackToTableContext() {\n        this.clearBackTo(TABLE_CONTEXT, NS.HTML);\n    }\n    clearBackToTableBodyContext() {\n        this.clearBackTo(TABLE_BODY_CONTEXT, NS.HTML);\n    }\n    clearBackToTableRowContext() {\n        this.clearBackTo(TABLE_ROW_CONTEXT, NS.HTML);\n    }\n    remove(element) {\n        const idx = this._indexOf(element);\n        if (idx >= 0) {\n            if (idx === this.stackTop) {\n                this.pop();\n            }\n            else {\n                this.items.splice(idx, 1);\n                this.tagIDs.splice(idx, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                this.handler.onItemPop(element, false);\n            }\n        }\n    }\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        return this.stackTop >= 1 && this.tagIDs[1] === $.BODY ? this.items[1] : null;\n    }\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n    getCommonAncestor(element) {\n        const elementIdx = this._indexOf(element) - 1;\n        return elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.tagIDs[0] === $.HTML;\n    }\n    //Element in scope\n    hasInDynamicScope(tagName, htmlScope) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            switch (this.treeAdapter.getNamespaceURI(this.items[i])) {\n                case NS.HTML: {\n                    if (tn === tagName)\n                        return true;\n                    if (htmlScope.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.SVG: {\n                    if (SCOPING_ELEMENTS_SVG.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.MATHML: {\n                    if (SCOPING_ELEMENTS_MATHML.has(tn))\n                        return false;\n                    break;\n                }\n            }\n        }\n        return true;\n    }\n    hasInScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML);\n    }\n    hasInListItemScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML_LIST);\n    }\n    hasInButtonScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML_BUTTON);\n    }\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            switch (this.treeAdapter.getNamespaceURI(this.items[i])) {\n                case NS.HTML: {\n                    if (NUMBERED_HEADERS.has(tn))\n                        return true;\n                    if (SCOPING_ELEMENTS_HTML.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.SVG: {\n                    if (SCOPING_ELEMENTS_SVG.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.MATHML: {\n                    if (SCOPING_ELEMENTS_MATHML.has(tn))\n                        return false;\n                    break;\n                }\n            }\n        }\n        return true;\n    }\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case tagName: {\n                    return true;\n                }\n                case $.TABLE:\n                case $.HTML: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case $.TBODY:\n                case $.THEAD:\n                case $.TFOOT: {\n                    return true;\n                }\n                case $.TABLE:\n                case $.HTML: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case tagName: {\n                    return true;\n                }\n                case $.OPTION:\n                case $.OPTGROUP: {\n                    break;\n                }\n                default: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsThoroughly() {\n        while (IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsWithExclusion(exclusionId) {\n        while (this.currentTagId !== exclusionId && IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n}\n","//Const\nconst NOAH_ARK_CAPACITY = 3;\nexport var EntryType;\n(function (EntryType) {\n    EntryType[EntryType[\"Marker\"] = 0] = \"Marker\";\n    EntryType[EntryType[\"Element\"] = 1] = \"Element\";\n})(EntryType || (EntryType = {}));\nconst MARKER = { type: EntryType.Marker };\n//List of formatting elements\nexport class FormattingElementList {\n    constructor(treeAdapter) {\n        this.treeAdapter = treeAdapter;\n        this.entries = [];\n        this.bookmark = null;\n    }\n    //Noah Ark's condition\n    //OPTIMIZATION: at first we try to find possible candidates for exclusion using\n    //lightweight heuristics without thorough attributes check.\n    _getNoahArkConditionCandidates(newElement, neAttrs) {\n        const candidates = [];\n        const neAttrsLength = neAttrs.length;\n        const neTagName = this.treeAdapter.getTagName(newElement);\n        const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);\n        for (let i = 0; i < this.entries.length; i++) {\n            const entry = this.entries[i];\n            if (entry.type === EntryType.Marker) {\n                break;\n            }\n            const { element } = entry;\n            if (this.treeAdapter.getTagName(element) === neTagName &&\n                this.treeAdapter.getNamespaceURI(element) === neNamespaceURI) {\n                const elementAttrs = this.treeAdapter.getAttrList(element);\n                if (elementAttrs.length === neAttrsLength) {\n                    candidates.push({ idx: i, attrs: elementAttrs });\n                }\n            }\n        }\n        return candidates;\n    }\n    _ensureNoahArkCondition(newElement) {\n        if (this.entries.length < NOAH_ARK_CAPACITY)\n            return;\n        const neAttrs = this.treeAdapter.getAttrList(newElement);\n        const candidates = this._getNoahArkConditionCandidates(newElement, neAttrs);\n        if (candidates.length < NOAH_ARK_CAPACITY)\n            return;\n        //NOTE: build attrs map for the new element, so we can perform fast lookups\n        const neAttrsMap = new Map(neAttrs.map((neAttr) => [neAttr.name, neAttr.value]));\n        let validCandidates = 0;\n        //NOTE: remove bottommost candidates, until Noah's Ark condition will not be met\n        for (let i = 0; i < candidates.length; i++) {\n            const candidate = candidates[i];\n            // We know that `candidate.attrs.length === neAttrs.length`\n            if (candidate.attrs.every((cAttr) => neAttrsMap.get(cAttr.name) === cAttr.value)) {\n                validCandidates += 1;\n                if (validCandidates >= NOAH_ARK_CAPACITY) {\n                    this.entries.splice(candidate.idx, 1);\n                }\n            }\n        }\n    }\n    //Mutations\n    insertMarker() {\n        this.entries.unshift(MARKER);\n    }\n    pushElement(element, token) {\n        this._ensureNoahArkCondition(element);\n        this.entries.unshift({\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    insertElementAfterBookmark(element, token) {\n        const bookmarkIdx = this.entries.indexOf(this.bookmark);\n        this.entries.splice(bookmarkIdx, 0, {\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    removeEntry(entry) {\n        const entryIndex = this.entries.indexOf(entry);\n        if (entryIndex >= 0) {\n            this.entries.splice(entryIndex, 1);\n        }\n    }\n    /**\n     * Clears the list of formatting elements up to the last marker.\n     *\n     * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker\n     */\n    clearToLastMarker() {\n        const markerIdx = this.entries.indexOf(MARKER);\n        if (markerIdx >= 0) {\n            this.entries.splice(0, markerIdx + 1);\n        }\n        else {\n            this.entries.length = 0;\n        }\n    }\n    //Search\n    getElementEntryInScopeWithTagName(tagName) {\n        const entry = this.entries.find((entry) => entry.type === EntryType.Marker || this.treeAdapter.getTagName(entry.element) === tagName);\n        return entry && entry.type === EntryType.Element ? entry : null;\n    }\n    getElementEntry(element) {\n        return this.entries.find((entry) => entry.type === EntryType.Element && entry.element === element);\n    }\n}\n","import { DOCUMENT_MODE } from '../common/html.js';\nexport const defaultTreeAdapter = {\n    //Node construction\n    createDocument() {\n        return {\n            nodeName: '#document',\n            mode: DOCUMENT_MODE.NO_QUIRKS,\n            childNodes: [],\n        };\n    },\n    createDocumentFragment() {\n        return {\n            nodeName: '#document-fragment',\n            childNodes: [],\n        };\n    },\n    createElement(tagName, namespaceURI, attrs) {\n        return {\n            nodeName: tagName,\n            tagName,\n            attrs,\n            namespaceURI,\n            childNodes: [],\n            parentNode: null,\n        };\n    },\n    createCommentNode(data) {\n        return {\n            nodeName: '#comment',\n            data,\n            parentNode: null,\n        };\n    },\n    createTextNode(value) {\n        return {\n            nodeName: '#text',\n            value,\n            parentNode: null,\n        };\n    },\n    //Tree mutation\n    appendChild(parentNode, newNode) {\n        parentNode.childNodes.push(newNode);\n        newNode.parentNode = parentNode;\n    },\n    insertBefore(parentNode, newNode, referenceNode) {\n        const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n        parentNode.childNodes.splice(insertionIdx, 0, newNode);\n        newNode.parentNode = parentNode;\n    },\n    setTemplateContent(templateElement, contentElement) {\n        templateElement.content = contentElement;\n    },\n    getTemplateContent(templateElement) {\n        return templateElement.content;\n    },\n    setDocumentType(document, name, publicId, systemId) {\n        const doctypeNode = document.childNodes.find((node) => node.nodeName === '#documentType');\n        if (doctypeNode) {\n            doctypeNode.name = name;\n            doctypeNode.publicId = publicId;\n            doctypeNode.systemId = systemId;\n        }\n        else {\n            const node = {\n                nodeName: '#documentType',\n                name,\n                publicId,\n                systemId,\n                parentNode: null,\n            };\n            defaultTreeAdapter.appendChild(document, node);\n        }\n    },\n    setDocumentMode(document, mode) {\n        document.mode = mode;\n    },\n    getDocumentMode(document) {\n        return document.mode;\n    },\n    detachNode(node) {\n        if (node.parentNode) {\n            const idx = node.parentNode.childNodes.indexOf(node);\n            node.parentNode.childNodes.splice(idx, 1);\n            node.parentNode = null;\n        }\n    },\n    insertText(parentNode, text) {\n        if (parentNode.childNodes.length > 0) {\n            const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n            if (defaultTreeAdapter.isTextNode(prevNode)) {\n                prevNode.value += text;\n                return;\n            }\n        }\n        defaultTreeAdapter.appendChild(parentNode, defaultTreeAdapter.createTextNode(text));\n    },\n    insertTextBefore(parentNode, text, referenceNode) {\n        const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n        if (prevNode && defaultTreeAdapter.isTextNode(prevNode)) {\n            prevNode.value += text;\n        }\n        else {\n            defaultTreeAdapter.insertBefore(parentNode, defaultTreeAdapter.createTextNode(text), referenceNode);\n        }\n    },\n    adoptAttributes(recipient, attrs) {\n        const recipientAttrsMap = new Set(recipient.attrs.map((attr) => attr.name));\n        for (let j = 0; j < attrs.length; j++) {\n            if (!recipientAttrsMap.has(attrs[j].name)) {\n                recipient.attrs.push(attrs[j]);\n            }\n        }\n    },\n    //Tree traversing\n    getFirstChild(node) {\n        return node.childNodes[0];\n    },\n    getChildNodes(node) {\n        return node.childNodes;\n    },\n    getParentNode(node) {\n        return node.parentNode;\n    },\n    getAttrList(element) {\n        return element.attrs;\n    },\n    //Node data\n    getTagName(element) {\n        return element.tagName;\n    },\n    getNamespaceURI(element) {\n        return element.namespaceURI;\n    },\n    getTextNodeContent(textNode) {\n        return textNode.value;\n    },\n    getCommentNodeContent(commentNode) {\n        return commentNode.data;\n    },\n    getDocumentTypeNodeName(doctypeNode) {\n        return doctypeNode.name;\n    },\n    getDocumentTypeNodePublicId(doctypeNode) {\n        return doctypeNode.publicId;\n    },\n    getDocumentTypeNodeSystemId(doctypeNode) {\n        return doctypeNode.systemId;\n    },\n    //Node types\n    isTextNode(node) {\n        return node.nodeName === '#text';\n    },\n    isCommentNode(node) {\n        return node.nodeName === '#comment';\n    },\n    isDocumentTypeNode(node) {\n        return node.nodeName === '#documentType';\n    },\n    isElementNode(node) {\n        return Object.prototype.hasOwnProperty.call(node, 'tagName');\n    },\n    // Source code location\n    setNodeSourceCodeLocation(node, location) {\n        node.sourceCodeLocation = location;\n    },\n    getNodeSourceCodeLocation(node) {\n        return node.sourceCodeLocation;\n    },\n    updateNodeSourceCodeLocation(node, endLocation) {\n        node.sourceCodeLocation = { ...node.sourceCodeLocation, ...endLocation };\n    },\n};\n","import { DOCUMENT_MODE } from './html.js';\n//Const\nconst VALID_DOCTYPE_NAME = 'html';\nconst VALID_SYSTEM_ID = 'about:legacy-compat';\nconst QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';\nconst QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n    '+//silmaril//dtd html pro v0r11 19970101//',\n    '-//as//dtd html 3.0 aswedit + extensions//',\n    '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',\n    '-//ietf//dtd html 2.0 level 1//',\n    '-//ietf//dtd html 2.0 level 2//',\n    '-//ietf//dtd html 2.0 strict level 1//',\n    '-//ietf//dtd html 2.0 strict level 2//',\n    '-//ietf//dtd html 2.0 strict//',\n    '-//ietf//dtd html 2.0//',\n    '-//ietf//dtd html 2.1e//',\n    '-//ietf//dtd html 3.0//',\n    '-//ietf//dtd html 3.2 final//',\n    '-//ietf//dtd html 3.2//',\n    '-//ietf//dtd html 3//',\n    '-//ietf//dtd html level 0//',\n    '-//ietf//dtd html level 1//',\n    '-//ietf//dtd html level 2//',\n    '-//ietf//dtd html level 3//',\n    '-//ietf//dtd html strict level 0//',\n    '-//ietf//dtd html strict level 1//',\n    '-//ietf//dtd html strict level 2//',\n    '-//ietf//dtd html strict level 3//',\n    '-//ietf//dtd html strict//',\n    '-//ietf//dtd html//',\n    '-//metrius//dtd metrius presentational//',\n    '-//microsoft//dtd internet explorer 2.0 html strict//',\n    '-//microsoft//dtd internet explorer 2.0 html//',\n    '-//microsoft//dtd internet explorer 2.0 tables//',\n    '-//microsoft//dtd internet explorer 3.0 html strict//',\n    '-//microsoft//dtd internet explorer 3.0 html//',\n    '-//microsoft//dtd internet explorer 3.0 tables//',\n    '-//netscape comm. corp.//dtd html//',\n    '-//netscape comm. corp.//dtd strict html//',\n    \"-//o'reilly and associates//dtd html 2.0//\",\n    \"-//o'reilly and associates//dtd html extended 1.0//\",\n    \"-//o'reilly and associates//dtd html extended relaxed 1.0//\",\n    '-//sq//dtd html 2.0 hotmetal + extensions//',\n    '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',\n    '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',\n    '-//spyglass//dtd html 2.0 extended//',\n    '-//sun microsystems corp.//dtd hotjava html//',\n    '-//sun microsystems corp.//dtd hotjava strict html//',\n    '-//w3c//dtd html 3 1995-03-24//',\n    '-//w3c//dtd html 3.2 draft//',\n    '-//w3c//dtd html 3.2 final//',\n    '-//w3c//dtd html 3.2//',\n    '-//w3c//dtd html 3.2s draft//',\n    '-//w3c//dtd html 4.0 frameset//',\n    '-//w3c//dtd html 4.0 transitional//',\n    '-//w3c//dtd html experimental 19960712//',\n    '-//w3c//dtd html experimental 970421//',\n    '-//w3c//dtd w3 html//',\n    '-//w3o//dtd w3 html 3.0//',\n    '-//webtechs//dtd mozilla html 2.0//',\n    '-//webtechs//dtd mozilla html//',\n];\nconst QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...QUIRKS_MODE_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\nconst QUIRKS_MODE_PUBLIC_IDS = new Set([\n    '-//w3o//dtd w3 html strict 3.0//en//',\n    '-/w3c/dtd html 4.0 transitional/en',\n    'html',\n]);\nconst LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];\nconst LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\n//Utils\nfunction hasPrefix(publicId, prefixes) {\n    return prefixes.some((prefix) => publicId.startsWith(prefix));\n}\n//API\nexport function isConforming(token) {\n    return (token.name === VALID_DOCTYPE_NAME &&\n        token.publicId === null &&\n        (token.systemId === null || token.systemId === VALID_SYSTEM_ID));\n}\nexport function getDocumentMode(token) {\n    if (token.name !== VALID_DOCTYPE_NAME) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    const { systemId } = token;\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    let { publicId } = token;\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n        if (QUIRKS_MODE_PUBLIC_IDS.has(publicId)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        prefixes =\n            systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n        }\n    }\n    return DOCUMENT_MODE.NO_QUIRKS;\n}\n","import { TAG_ID as $, NS, ATTRS, getTagID } from './html.js';\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml',\n};\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = new Map([\n    'attributeName',\n    'attributeType',\n    'baseFrequency',\n    'baseProfile',\n    'calcMode',\n    'clipPathUnits',\n    'diffuseConstant',\n    'edgeMode',\n    'filterUnits',\n    'glyphRef',\n    'gradientTransform',\n    'gradientUnits',\n    'kernelMatrix',\n    'kernelUnitLength',\n    'keyPoints',\n    'keySplines',\n    'keyTimes',\n    'lengthAdjust',\n    'limitingConeAngle',\n    'markerHeight',\n    'markerUnits',\n    'markerWidth',\n    'maskContentUnits',\n    'maskUnits',\n    'numOctaves',\n    'pathLength',\n    'patternContentUnits',\n    'patternTransform',\n    'patternUnits',\n    'pointsAtX',\n    'pointsAtY',\n    'pointsAtZ',\n    'preserveAlpha',\n    'preserveAspectRatio',\n    'primitiveUnits',\n    'refX',\n    'refY',\n    'repeatCount',\n    'repeatDur',\n    'requiredExtensions',\n    'requiredFeatures',\n    'specularConstant',\n    'specularExponent',\n    'spreadMethod',\n    'startOffset',\n    'stdDeviation',\n    'stitchTiles',\n    'surfaceScale',\n    'systemLanguage',\n    'tableValues',\n    'targetX',\n    'targetY',\n    'textLength',\n    'viewBox',\n    'viewTarget',\n    'xChannelSelector',\n    'yChannelSelector',\n    'zoomAndPan',\n].map((attr) => [attr.toLowerCase(), attr]));\nconst XML_ATTRS_ADJUSTMENT_MAP = new Map([\n    ['xlink:actuate', { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK }],\n    ['xlink:arcrole', { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK }],\n    ['xlink:href', { prefix: 'xlink', name: 'href', namespace: NS.XLINK }],\n    ['xlink:role', { prefix: 'xlink', name: 'role', namespace: NS.XLINK }],\n    ['xlink:show', { prefix: 'xlink', name: 'show', namespace: NS.XLINK }],\n    ['xlink:title', { prefix: 'xlink', name: 'title', namespace: NS.XLINK }],\n    ['xlink:type', { prefix: 'xlink', name: 'type', namespace: NS.XLINK }],\n    ['xml:lang', { prefix: 'xml', name: 'lang', namespace: NS.XML }],\n    ['xml:space', { prefix: 'xml', name: 'space', namespace: NS.XML }],\n    ['xmlns', { prefix: '', name: 'xmlns', namespace: NS.XMLNS }],\n    ['xmlns:xlink', { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }],\n]);\n//SVG tag names adjustment map\nexport const SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map([\n    'altGlyph',\n    'altGlyphDef',\n    'altGlyphItem',\n    'animateColor',\n    'animateMotion',\n    'animateTransform',\n    'clipPath',\n    'feBlend',\n    'feColorMatrix',\n    'feComponentTransfer',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMerge',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence',\n    'foreignObject',\n    'glyphRef',\n    'linearGradient',\n    'radialGradient',\n    'textPath',\n].map((tn) => [tn.toLowerCase(), tn]));\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = new Set([\n    $.B,\n    $.BIG,\n    $.BLOCKQUOTE,\n    $.BODY,\n    $.BR,\n    $.CENTER,\n    $.CODE,\n    $.DD,\n    $.DIV,\n    $.DL,\n    $.DT,\n    $.EM,\n    $.EMBED,\n    $.H1,\n    $.H2,\n    $.H3,\n    $.H4,\n    $.H5,\n    $.H6,\n    $.HEAD,\n    $.HR,\n    $.I,\n    $.IMG,\n    $.LI,\n    $.LISTING,\n    $.MENU,\n    $.META,\n    $.NOBR,\n    $.OL,\n    $.P,\n    $.PRE,\n    $.RUBY,\n    $.S,\n    $.SMALL,\n    $.SPAN,\n    $.STRONG,\n    $.STRIKE,\n    $.SUB,\n    $.SUP,\n    $.TABLE,\n    $.TT,\n    $.U,\n    $.UL,\n    $.VAR,\n]);\n//Check exit from foreign content\nexport function causesExit(startTagToken) {\n    const tn = startTagToken.tagID;\n    const isFontWithAttrs = tn === $.FONT &&\n        startTagToken.attrs.some(({ name }) => name === ATTRS.COLOR || name === ATTRS.SIZE || name === ATTRS.FACE);\n    return isFontWithAttrs || EXITS_FOREIGN_CONTENT.has(tn);\n}\n//Token adjustments\nexport function adjustTokenMathMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n}\nexport function adjustTokenSVGAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrName != null) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n}\nexport function adjustTokenXMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n}\nexport function adjustTokenSVGTagName(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP.get(token.tagName);\n    if (adjustedTagName != null) {\n        token.tagName = adjustedTagName;\n        token.tagID = getTagID(token.tagName);\n    }\n}\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\nexport function isIntegrationPoint(tn, ns, attrs, foreignNS) {\n    return (((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) ||\n        ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)));\n}\n","import { Tokenizer, TokenizerMode } from '../tokenizer/index.js';\nimport { OpenElementStack } from './open-element-stack.js';\nimport { FormattingElementList, EntryType } from './formatting-element-list.js';\nimport { defaultTreeAdapter } from '../tree-adapters/default.js';\nimport * as doctype from '../common/doctype.js';\nimport * as foreignContent from '../common/foreign-content.js';\nimport { ERR } from '../common/error-codes.js';\nimport * as unicode from '../common/unicode.js';\nimport { TAG_ID as $, TAG_NAMES as TN, NS, ATTRS, SPECIAL_ELEMENTS, DOCUMENT_MODE, NUMBERED_HEADERS, getTagID, } from '../common/html.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n//Insertion modes\nvar InsertionMode;\n(function (InsertionMode) {\n    InsertionMode[InsertionMode[\"INITIAL\"] = 0] = \"INITIAL\";\n    InsertionMode[InsertionMode[\"BEFORE_HTML\"] = 1] = \"BEFORE_HTML\";\n    InsertionMode[InsertionMode[\"BEFORE_HEAD\"] = 2] = \"BEFORE_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD\"] = 3] = \"IN_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD_NO_SCRIPT\"] = 4] = \"IN_HEAD_NO_SCRIPT\";\n    InsertionMode[InsertionMode[\"AFTER_HEAD\"] = 5] = \"AFTER_HEAD\";\n    InsertionMode[InsertionMode[\"IN_BODY\"] = 6] = \"IN_BODY\";\n    InsertionMode[InsertionMode[\"TEXT\"] = 7] = \"TEXT\";\n    InsertionMode[InsertionMode[\"IN_TABLE\"] = 8] = \"IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TABLE_TEXT\"] = 9] = \"IN_TABLE_TEXT\";\n    InsertionMode[InsertionMode[\"IN_CAPTION\"] = 10] = \"IN_CAPTION\";\n    InsertionMode[InsertionMode[\"IN_COLUMN_GROUP\"] = 11] = \"IN_COLUMN_GROUP\";\n    InsertionMode[InsertionMode[\"IN_TABLE_BODY\"] = 12] = \"IN_TABLE_BODY\";\n    InsertionMode[InsertionMode[\"IN_ROW\"] = 13] = \"IN_ROW\";\n    InsertionMode[InsertionMode[\"IN_CELL\"] = 14] = \"IN_CELL\";\n    InsertionMode[InsertionMode[\"IN_SELECT\"] = 15] = \"IN_SELECT\";\n    InsertionMode[InsertionMode[\"IN_SELECT_IN_TABLE\"] = 16] = \"IN_SELECT_IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TEMPLATE\"] = 17] = \"IN_TEMPLATE\";\n    InsertionMode[InsertionMode[\"AFTER_BODY\"] = 18] = \"AFTER_BODY\";\n    InsertionMode[InsertionMode[\"IN_FRAMESET\"] = 19] = \"IN_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_FRAMESET\"] = 20] = \"AFTER_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_BODY\"] = 21] = \"AFTER_AFTER_BODY\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_FRAMESET\"] = 22] = \"AFTER_AFTER_FRAMESET\";\n})(InsertionMode || (InsertionMode = {}));\nconst BASE_LOC = {\n    startLine: -1,\n    startCol: -1,\n    startOffset: -1,\n    endLine: -1,\n    endCol: -1,\n    endOffset: -1,\n};\nconst TABLE_STRUCTURE_TAGS = new Set([$.TABLE, $.TBODY, $.TFOOT, $.THEAD, $.TR]);\nconst defaultParserOptions = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    treeAdapter: defaultTreeAdapter,\n    onParseError: null,\n};\n//Parser\nexport class Parser {\n    constructor(options, document, \n    /** @internal */\n    fragmentContext = null, \n    /** @internal */\n    scriptHandler = null) {\n        this.fragmentContext = fragmentContext;\n        this.scriptHandler = scriptHandler;\n        this.currentToken = null;\n        this.stopped = false;\n        /** @internal */\n        this.insertionMode = InsertionMode.INITIAL;\n        /** @internal */\n        this.originalInsertionMode = InsertionMode.INITIAL;\n        /** @internal */\n        this.headElement = null;\n        /** @internal */\n        this.formElement = null;\n        /** Indicates that the current node is not an element in the HTML namespace */\n        this.currentNotInHTML = false;\n        /**\n         * The template insertion mode stack is maintained from the left.\n         * Ie. the topmost element will always have index 0.\n         *\n         * @internal\n         */\n        this.tmplInsertionModeStack = [];\n        /** @internal */\n        this.pendingCharacterTokens = [];\n        /** @internal */\n        this.hasNonWhitespacePendingCharacterToken = false;\n        /** @internal */\n        this.framesetOk = true;\n        /** @internal */\n        this.skipNextNewLine = false;\n        /** @internal */\n        this.fosterParentingEnabled = false;\n        this.options = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        this.treeAdapter = this.options.treeAdapter;\n        this.onParseError = this.options.onParseError;\n        // Always enable location info if we report parse errors.\n        if (this.onParseError) {\n            this.options.sourceCodeLocationInfo = true;\n        }\n        this.document = document !== null && document !== void 0 ? document : this.treeAdapter.createDocument();\n        this.tokenizer = new Tokenizer(this.options, this);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n        this.fragmentContextID = fragmentContext ? getTagID(this.treeAdapter.getTagName(fragmentContext)) : $.UNKNOWN;\n        this._setContextModes(fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : this.document, this.fragmentContextID);\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter, this);\n    }\n    // API\n    static parse(html, options) {\n        const parser = new this(options);\n        parser.tokenizer.write(html, true);\n        return parser.document;\n    }\n    static getFragmentParser(fragmentContext, options) {\n        const opts = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        //NOTE: use a <template> element as the fragment context if no context element was provided,\n        //so we will parse in a \"forgiving\" manner\n        fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : (fragmentContext = opts.treeAdapter.createElement(TN.TEMPLATE, NS.HTML, []));\n        //NOTE: create a fake element which will be used as the `document` for fragment parsing.\n        //This is important for jsdom, where a new `document` cannot be created. This led to\n        //fragment parsing messing with the main `document`.\n        const documentMock = opts.treeAdapter.createElement('documentmock', NS.HTML, []);\n        const parser = new this(opts, documentMock, fragmentContext);\n        if (parser.fragmentContextID === $.TEMPLATE) {\n            parser.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n        }\n        parser._initTokenizerForFragmentParsing();\n        parser._insertFakeRootElement();\n        parser._resetInsertionMode();\n        parser._findFormInFragmentContext();\n        return parser;\n    }\n    getFragment() {\n        const rootElement = this.treeAdapter.getFirstChild(this.document);\n        const fragment = this.treeAdapter.createDocumentFragment();\n        this._adoptNodes(rootElement, fragment);\n        return fragment;\n    }\n    //Errors\n    /** @internal */\n    _err(token, code, beforeToken) {\n        var _a;\n        if (!this.onParseError)\n            return;\n        const loc = (_a = token.location) !== null && _a !== void 0 ? _a : BASE_LOC;\n        const err = {\n            code,\n            startLine: loc.startLine,\n            startCol: loc.startCol,\n            startOffset: loc.startOffset,\n            endLine: beforeToken ? loc.startLine : loc.endLine,\n            endCol: beforeToken ? loc.startCol : loc.endCol,\n            endOffset: beforeToken ? loc.startOffset : loc.endOffset,\n        };\n        this.onParseError(err);\n    }\n    //Stack events\n    /** @internal */\n    onItemPush(node, tid, isTop) {\n        var _a, _b;\n        (_b = (_a = this.treeAdapter).onItemPush) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        if (isTop && this.openElements.stackTop > 0)\n            this._setContextModes(node, tid);\n    }\n    /** @internal */\n    onItemPop(node, isTop) {\n        var _a, _b;\n        if (this.options.sourceCodeLocationInfo) {\n            this._setEndLocation(node, this.currentToken);\n        }\n        (_b = (_a = this.treeAdapter).onItemPop) === null || _b === void 0 ? void 0 : _b.call(_a, node, this.openElements.current);\n        if (isTop) {\n            let current;\n            let currentTagId;\n            if (this.openElements.stackTop === 0 && this.fragmentContext) {\n                current = this.fragmentContext;\n                currentTagId = this.fragmentContextID;\n            }\n            else {\n                ({ current, currentTagId } = this.openElements);\n            }\n            this._setContextModes(current, currentTagId);\n        }\n    }\n    _setContextModes(current, tid) {\n        const isHTML = current === this.document || this.treeAdapter.getNamespaceURI(current) === NS.HTML;\n        this.currentNotInHTML = !isHTML;\n        this.tokenizer.inForeignNode = !isHTML && !this._isIntegrationPoint(tid, current);\n    }\n    /** @protected */\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = InsertionMode.TEXT;\n    }\n    switchToPlaintextParsing() {\n        this.insertionMode = InsertionMode.TEXT;\n        this.originalInsertionMode = InsertionMode.IN_BODY;\n        this.tokenizer.state = TokenizerMode.PLAINTEXT;\n    }\n    //Fragment parsing\n    /** @protected */\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n    /** @protected */\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n        while (node) {\n            if (this.treeAdapter.getTagName(node) === TN.FORM) {\n                this.formElement = node;\n                break;\n            }\n            node = this.treeAdapter.getParentNode(node);\n        }\n    }\n    _initTokenizerForFragmentParsing() {\n        if (!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== NS.HTML) {\n            return;\n        }\n        switch (this.fragmentContextID) {\n            case $.TITLE:\n            case $.TEXTAREA: {\n                this.tokenizer.state = TokenizerMode.RCDATA;\n                break;\n            }\n            case $.STYLE:\n            case $.XMP:\n            case $.IFRAME:\n            case $.NOEMBED:\n            case $.NOFRAMES:\n            case $.NOSCRIPT: {\n                this.tokenizer.state = TokenizerMode.RAWTEXT;\n                break;\n            }\n            case $.SCRIPT: {\n                this.tokenizer.state = TokenizerMode.SCRIPT_DATA;\n                break;\n            }\n            case $.PLAINTEXT: {\n                this.tokenizer.state = TokenizerMode.PLAINTEXT;\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    //Tree mutation\n    /** @protected */\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n        if (token.location) {\n            const documentChildren = this.treeAdapter.getChildNodes(this.document);\n            const docTypeNode = documentChildren.find((node) => this.treeAdapter.isDocumentTypeNode(node));\n            if (docTypeNode) {\n                this.treeAdapter.setNodeSourceCodeLocation(docTypeNode, token.location);\n            }\n        }\n    }\n    /** @protected */\n    _attachElementToTree(element, location) {\n        if (this.options.sourceCodeLocationInfo) {\n            const loc = location && {\n                ...location,\n                startTag: location,\n            };\n            this.treeAdapter.setNodeSourceCodeLocation(element, loc);\n        }\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        }\n        else {\n            const parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n    /**\n     * For self-closing tags. Add an element to the tree, but skip adding it\n     * to the stack.\n     */\n    /** @protected */\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n    }\n    /** @protected */\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n        this.openElements.push(element, token.tagID);\n    }\n    /** @protected */\n    _insertFakeElement(tagName, tagID) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n        this._attachElementToTree(element, null);\n        this.openElements.push(element, tagID);\n    }\n    /** @protected */\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl, token.location);\n        this.openElements.push(tmpl, token.tagID);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(content, null);\n    }\n    /** @protected */\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement(TN.HTML, NS.HTML, []);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(element, null);\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element, $.HTML);\n    }\n    /** @protected */\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n        this.treeAdapter.appendChild(parent, commentNode);\n        if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);\n        }\n    }\n    /** @protected */\n    _insertCharacters(token) {\n        let parent;\n        let beforeElement;\n        if (this._shouldFosterParentOnInsertion()) {\n            ({ parent, beforeElement } = this._findFosterParentingLocation());\n            if (beforeElement) {\n                this.treeAdapter.insertTextBefore(parent, token.chars, beforeElement);\n            }\n            else {\n                this.treeAdapter.insertText(parent, token.chars);\n            }\n        }\n        else {\n            parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n        if (!token.location)\n            return;\n        const siblings = this.treeAdapter.getChildNodes(parent);\n        const textNodeIdx = beforeElement ? siblings.lastIndexOf(beforeElement) : siblings.length;\n        const textNode = siblings[textNodeIdx - 1];\n        //NOTE: if we have a location assigned by another token, then just update the end position\n        const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);\n        if (tnLoc) {\n            const { endLine, endCol, endOffset } = token.location;\n            this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });\n        }\n        else if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);\n        }\n    }\n    /** @protected */\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n    /** @protected */\n    _setEndLocation(element, closingToken) {\n        if (this.treeAdapter.getNodeSourceCodeLocation(element) && closingToken.location) {\n            const ctLoc = closingToken.location;\n            const tn = this.treeAdapter.getTagName(element);\n            const endLoc = \n            // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing\n            // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.\n            closingToken.type === TokenType.END_TAG && tn === closingToken.tagName\n                ? {\n                    endTag: { ...ctLoc },\n                    endLine: ctLoc.endLine,\n                    endCol: ctLoc.endCol,\n                    endOffset: ctLoc.endOffset,\n                }\n                : {\n                    endLine: ctLoc.startLine,\n                    endCol: ctLoc.startCol,\n                    endOffset: ctLoc.startOffset,\n                };\n            this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);\n        }\n    }\n    //Token processing\n    shouldProcessStartTagTokenInForeignContent(token) {\n        // Check that neither current === document, or ns === NS.HTML\n        if (!this.currentNotInHTML)\n            return false;\n        let current;\n        let currentTagId;\n        if (this.openElements.stackTop === 0 && this.fragmentContext) {\n            current = this.fragmentContext;\n            currentTagId = this.fragmentContextID;\n        }\n        else {\n            ({ current, currentTagId } = this.openElements);\n        }\n        if (token.tagID === $.SVG &&\n            this.treeAdapter.getTagName(current) === TN.ANNOTATION_XML &&\n            this.treeAdapter.getNamespaceURI(current) === NS.MATHML) {\n            return false;\n        }\n        return (\n        // Check that `current` is not an integration point for HTML or MathML elements.\n        this.tokenizer.inForeignNode ||\n            // If it _is_ an integration point, then we might have to check that it is not an HTML\n            // integration point.\n            ((token.tagID === $.MGLYPH || token.tagID === $.MALIGNMARK) &&\n                !this._isIntegrationPoint(currentTagId, current, NS.HTML)));\n    }\n    /** @protected */\n    _processToken(token) {\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                this.onCharacter(token);\n                break;\n            }\n            case TokenType.NULL_CHARACTER: {\n                this.onNullCharacter(token);\n                break;\n            }\n            case TokenType.COMMENT: {\n                this.onComment(token);\n                break;\n            }\n            case TokenType.DOCTYPE: {\n                this.onDoctype(token);\n                break;\n            }\n            case TokenType.START_TAG: {\n                this._processStartTag(token);\n                break;\n            }\n            case TokenType.END_TAG: {\n                this.onEndTag(token);\n                break;\n            }\n            case TokenType.EOF: {\n                this.onEof(token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                this.onWhitespaceCharacter(token);\n                break;\n            }\n        }\n    }\n    //Integration points\n    /** @protected */\n    _isIntegrationPoint(tid, element, foreignNS) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n        return foreignContent.isIntegrationPoint(tid, ns, attrs, foreignNS);\n    }\n    //Active formatting elements reconstruction\n    /** @protected */\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.entries.length;\n        if (listLength) {\n            const endIndex = this.activeFormattingElements.entries.findIndex((entry) => entry.type === EntryType.Marker || this.openElements.contains(entry.element));\n            const unopenIdx = endIndex < 0 ? listLength - 1 : endIndex - 1;\n            for (let i = unopenIdx; i >= 0; i--) {\n                const entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n    //Close elements\n    /** @protected */\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = InsertionMode.IN_ROW;\n    }\n    /** @protected */\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n    //Insertion modes\n    /** @protected */\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            //Insertion mode reset map\n            switch (i === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[i]) {\n                case $.TR: {\n                    this.insertionMode = InsertionMode.IN_ROW;\n                    return;\n                }\n                case $.TBODY:\n                case $.THEAD:\n                case $.TFOOT: {\n                    this.insertionMode = InsertionMode.IN_TABLE_BODY;\n                    return;\n                }\n                case $.CAPTION: {\n                    this.insertionMode = InsertionMode.IN_CAPTION;\n                    return;\n                }\n                case $.COLGROUP: {\n                    this.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n                    return;\n                }\n                case $.TABLE: {\n                    this.insertionMode = InsertionMode.IN_TABLE;\n                    return;\n                }\n                case $.BODY: {\n                    this.insertionMode = InsertionMode.IN_BODY;\n                    return;\n                }\n                case $.FRAMESET: {\n                    this.insertionMode = InsertionMode.IN_FRAMESET;\n                    return;\n                }\n                case $.SELECT: {\n                    this._resetInsertionModeForSelect(i);\n                    return;\n                }\n                case $.TEMPLATE: {\n                    this.insertionMode = this.tmplInsertionModeStack[0];\n                    return;\n                }\n                case $.HTML: {\n                    this.insertionMode = this.headElement ? InsertionMode.AFTER_HEAD : InsertionMode.BEFORE_HEAD;\n                    return;\n                }\n                case $.TD:\n                case $.TH: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_CELL;\n                        return;\n                    }\n                    break;\n                }\n                case $.HEAD: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_HEAD;\n                        return;\n                    }\n                    break;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_BODY;\n    }\n    /** @protected */\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const tn = this.openElements.tagIDs[i];\n                if (tn === $.TEMPLATE) {\n                    break;\n                }\n                else if (tn === $.TABLE) {\n                    this.insertionMode = InsertionMode.IN_SELECT_IN_TABLE;\n                    return;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_SELECT;\n    }\n    //Foster parenting\n    /** @protected */\n    _isElementCausesFosterParenting(tn) {\n        return TABLE_STRUCTURE_TAGS.has(tn);\n    }\n    /** @protected */\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);\n    }\n    /** @protected */\n    _findFosterParentingLocation() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            switch (this.openElements.tagIDs[i]) {\n                case $.TEMPLATE: {\n                    if (this.treeAdapter.getNamespaceURI(openElement) === NS.HTML) {\n                        return { parent: this.treeAdapter.getTemplateContent(openElement), beforeElement: null };\n                    }\n                    break;\n                }\n                case $.TABLE: {\n                    const parent = this.treeAdapter.getParentNode(openElement);\n                    if (parent) {\n                        return { parent, beforeElement: openElement };\n                    }\n                    return { parent: this.openElements.items[i - 1], beforeElement: null };\n                }\n                default:\n                // Do nothing\n            }\n        }\n        return { parent: this.openElements.items[0], beforeElement: null };\n    }\n    /** @protected */\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        }\n        else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n    //Special elements\n    /** @protected */\n    _isSpecialElement(element, id) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        return SPECIAL_ELEMENTS[ns].has(id);\n    }\n    /** @internal */\n    onCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            characterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE: {\n                characterInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                characterInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onNullCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            nullCharacterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onComment(token) {\n        this.skipNextNewLine = false;\n        if (this.currentNotInHTML) {\n            appendComment(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL:\n            case InsertionMode.BEFORE_HTML:\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                appendComment(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                appendCommentToRootHtmlElement(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                appendCommentToDocument(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onDoctype(token) {\n        this.skipNextNewLine = false;\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                doctypeInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD: {\n                this._err(token, ERR.misplacedDoctype);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onStartTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        this._processStartTag(token);\n        if (token.selfClosing && !token.ackSelfClosing) {\n            this._err(token, ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n    /**\n     * Processes a given start tag.\n     *\n     * `onStartTag` checks if a self-closing tag was recognized. When a token\n     * is moved inbetween multiple insertion modes, this check for self-closing\n     * could lead to false positives. To avoid this, `_processStartTag` is used\n     * for nested calls.\n     *\n     * @param token The token to process.\n     * @protected\n     */\n    _processStartTag(token) {\n        if (this.shouldProcessStartTagTokenInForeignContent(token)) {\n            startTagInForeignContent(this, token);\n        }\n        else {\n            this._startTagOutsideForeignContent(token);\n        }\n    }\n    /** @protected */\n    _startTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                startTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                startTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                startTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                startTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                startTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                startTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                startTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                startTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                startTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                startTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                startTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                startTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                startTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                startTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                startTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                startTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                startTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                startTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                startTagAfterAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                startTagAfterAfterFrameset(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onEndTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        if (this.currentNotInHTML) {\n            endTagInForeignContent(this, token);\n        }\n        else {\n            this._endTagOutsideForeignContent(token);\n        }\n    }\n    /** @protected */\n    _endTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                endTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                endTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                endTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                endTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                endTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                endTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                endTagInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                endTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                endTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                endTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                endTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                endTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                endTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                endTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                endTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                endTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                endTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                endTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                endTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onEof(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                eofInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                eofInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                eofInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                stopParsing(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onWhitespaceCharacter(token) {\n        if (this.skipNextNewLine) {\n            this.skipNextNewLine = false;\n            if (token.chars.charCodeAt(0) === unicode.CODE_POINTS.LINE_FEED) {\n                if (token.chars.length === 1) {\n                    return;\n                }\n                token.chars = token.chars.substr(1);\n            }\n        }\n        if (this.tokenizer.inForeignNode) {\n            this._insertCharacters(token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                whitespaceCharacterInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                whitespaceCharacterInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n}\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        }\n        else if (!p.openElements.hasInScope(token.tagID)) {\n            formattingElementEntry = null;\n        }\n    }\n    else {\n        genericEndTagInBody(p, token);\n    }\n    return formattingElementEntry;\n}\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n    let idx = p.openElements.stackTop;\n    for (; idx >= 0; idx--) {\n        const element = p.openElements.items[idx];\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n        if (p._isSpecialElement(element, p.openElements.tagIDs[idx])) {\n            furthestBlock = element;\n        }\n    }\n    if (!furthestBlock) {\n        p.openElements.shortenToLength(idx < 0 ? 0 : idx);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n    return furthestBlock;\n}\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store the next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n            p.openElements.remove(element);\n        }\n        else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n    return lastElement;\n}\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n    return newElement;\n}\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    const tn = p.treeAdapter.getTagName(commonAncestor);\n    const tid = getTagID(tn);\n    if (p._isElementCausesFosterParenting(tid)) {\n        p._fosterParentElement(lastElement);\n    }\n    else {\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n        if (tid === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const { token } = formattingElementEntry;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement, token.tagID);\n}\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        const formattingElementEntry = aaObtainFormattingElementEntry(p, token);\n        if (!formattingElementEntry) {\n            break;\n        }\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n        if (!furthestBlock) {\n            break;\n        }\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n        p.treeAdapter.detachNode(lastElement);\n        if (commonAncestor)\n            aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n//Generic token handlers\n//------------------------------------------------------------------\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContentOrNode);\n}\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\nfunction stopParsing(p, token) {\n    p.stopped = true;\n    // NOTE: Set end locations for elements that remain on the open element stack.\n    if (token.location) {\n        // NOTE: If we are not in a fragment, `html` and `body` will stay on the stack.\n        // This is a problem, as we might overwrite their end position here.\n        const target = p.fragmentContext ? 0 : 2;\n        for (let i = p.openElements.stackTop; i >= target; i--) {\n            p._setEndLocation(p.openElements.items[i], token);\n        }\n        // Handle `html` and `body`\n        if (!p.fragmentContext && p.openElements.stackTop >= 0) {\n            const htmlElement = p.openElements.items[0];\n            const htmlLocation = p.treeAdapter.getNodeSourceCodeLocation(htmlElement);\n            if (htmlLocation && !htmlLocation.endTag) {\n                p._setEndLocation(htmlElement, token);\n                if (p.openElements.stackTop >= 1) {\n                    const bodyElement = p.openElements.items[1];\n                    const bodyLocation = p.treeAdapter.getNodeSourceCodeLocation(bodyElement);\n                    if (bodyLocation && !bodyLocation.endTag) {\n                        p._setEndLocation(bodyElement, token);\n                    }\n                }\n            }\n        }\n    }\n}\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n    const mode = token.forceQuirks ? DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n    if (!doctype.isConforming(token)) {\n        p._err(token, ERR.nonConformingDoctype);\n    }\n    p.treeAdapter.setDocumentMode(p.document, mode);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n}\nfunction tokenInInitialMode(p, token) {\n    p._err(token, ERR.missingDoctype, true);\n    p.treeAdapter.setDocumentMode(p.document, DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n    p._processToken(token);\n}\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagID === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.BEFORE_HEAD;\n    }\n    else {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = InsertionMode.BEFORE_HEAD;\n    p._processToken(token);\n}\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.HEAD: {\n            p._insertElement(token, NS.HTML);\n            p.headElement = p.openElements.current;\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        default: {\n            tokenBeforeHead(p, token);\n        }\n    }\n}\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement(TN.HEAD, $.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TITLE: {\n            p._switchToTextParsing(token, TokenizerMode.RCDATA);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            }\n            else {\n                p._insertElement(token, NS.HTML);\n                p.insertionMode = InsertionMode.IN_HEAD_NO_SCRIPT;\n            }\n            break;\n        }\n        case $.NOFRAMES:\n        case $.STYLE: {\n            p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            break;\n        }\n        case $.SCRIPT: {\n            p._switchToTextParsing(token, TokenizerMode.SCRIPT_DATA);\n            break;\n        }\n        case $.TEMPLATE: {\n            p._insertTemplate(token);\n            p.activeFormattingElements.insertMarker();\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_TEMPLATE;\n            p.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenInHead(p, token);\n        }\n    }\n}\nfunction endTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HEAD: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.AFTER_HEAD;\n            break;\n        }\n        case $.BODY:\n        case $.BR:\n        case $.HTML: {\n            tokenInHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction templateEndTagInHead(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.generateImpliedEndTagsThoroughly();\n        if (p.openElements.currentTagId !== $.TEMPLATE) {\n            p._err(token, ERR.closingOfElementWithOpenChildElements);\n        }\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.AFTER_HEAD;\n    p._processToken(token);\n}\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.HEAD:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.STYLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            p._err(token, ERR.nestedNoscriptInHead);\n            break;\n        }\n        default: {\n            tokenInHeadNoScript(p, token);\n        }\n    }\n}\nfunction endTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.NOSCRIPT: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        case $.BR: {\n            tokenInHeadNoScript(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenInHeadNoScript(p, token) {\n    const errCode = token.type === TokenType.EOF ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n    p._err(token, errCode);\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BODY: {\n            p._insertElement(token, NS.HTML);\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_BODY;\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_FRAMESET;\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            p._err(token, ERR.abandonedHeadElementChild);\n            p.openElements.push(p.headElement, $.HEAD);\n            startTagInHead(p, token);\n            p.openElements.remove(p.headElement);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenAfterHead(p, token);\n        }\n    }\n}\nfunction endTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.BODY:\n        case $.HTML:\n        case $.BR: {\n            tokenAfterHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement(TN.BODY, $.BODY);\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction modeInBody(p, token) {\n    switch (token.type) {\n        case TokenType.CHARACTER: {\n            characterInBody(p, token);\n            break;\n        }\n        case TokenType.WHITESPACE_CHARACTER: {\n            whitespaceCharacterInBody(p, token);\n            break;\n        }\n        case TokenType.COMMENT: {\n            appendComment(p, token);\n            break;\n        }\n        case TokenType.START_TAG: {\n            startTagInBody(p, token);\n            break;\n        }\n        case TokenType.END_TAG: {\n            endTagInBody(p, token);\n            break;\n        }\n        case TokenType.EOF: {\n            eofInBody(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.IN_FRAMESET;\n    }\n}\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    if (NUMBERED_HEADERS.has(p.openElements.currentTagId)) {\n        p.openElements.pop();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n        p._insertElement(token, NS.HTML);\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n    const tn = token.tagID;\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const elementId = p.openElements.tagIDs[i];\n        if ((tn === $.LI && elementId === $.LI) ||\n            ((tn === $.DD || tn === $.DT) && (elementId === $.DD || elementId === $.DT))) {\n            p.openElements.generateImpliedEndTagsWithExclusion(elementId);\n            p.openElements.popUntilTagNamePopped(elementId);\n            break;\n        }\n        if (elementId !== $.ADDRESS &&\n            elementId !== $.DIV &&\n            elementId !== $.P &&\n            p._isSpecialElement(p.openElements.items[i], elementId)) {\n            break;\n        }\n    }\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = TokenizerMode.PLAINTEXT;\n}\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(TN.A);\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\nfunction tableStartTagInBody(p, token) {\n    if (p.treeAdapter.getDocumentMode(p.document) !== DOCUMENT_MODE.QUIRKS && p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.IN_TABLE;\n}\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction isHiddenInput(token) {\n    const inputType = getTokenAttr(token, ATTRS.TYPE);\n    return inputType != null && inputType.toLowerCase() === HIDDEN_INPUT_TYPE;\n}\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    if (!isHiddenInput(token)) {\n        p.framesetOk = false;\n    }\n    token.ackSelfClosing = true;\n}\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction imageStartTagInBody(p, token) {\n    token.tagName = TN.IMG;\n    token.tagID = $.IMG;\n    areaStartTagInBody(p, token);\n}\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = TokenizerMode.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.TEXT;\n}\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\n//NOTE: here we assume that we always act as a user agent with enabled plugins/frames, so we parse\n//<noembed>/<noframes> as rawtext.\nfunction rawTextStartTagInBody(p, token) {\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode =\n        p.insertionMode === InsertionMode.IN_TABLE ||\n            p.insertionMode === InsertionMode.IN_CAPTION ||\n            p.insertionMode === InsertionMode.IN_TABLE_BODY ||\n            p.insertionMode === InsertionMode.IN_ROW ||\n            p.insertionMode === InsertionMode.IN_CELL\n            ? InsertionMode.IN_SELECT_IN_TABLE\n            : InsertionMode.IN_SELECT;\n}\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagId === $.OPTION) {\n        p.openElements.pop();\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    }\n    else {\n        p._insertElement(token, NS.MATHML);\n    }\n    token.ackSelfClosing = true;\n}\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    }\n    else {\n        p._insertElement(token, NS.SVG);\n    }\n    token.ackSelfClosing = true;\n}\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction startTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.I:\n        case $.S:\n        case $.B:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            bStartTagInBody(p, token);\n            break;\n        }\n        case $.A: {\n            aStartTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderStartTagInBody(p, token);\n            break;\n        }\n        case $.P:\n        case $.DL:\n        case $.OL:\n        case $.UL:\n        case $.DIV:\n        case $.DIR:\n        case $.NAV:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.DETAILS:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.SEARCH:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressStartTagInBody(p, token);\n            break;\n        }\n        case $.LI:\n        case $.DD:\n        case $.DT: {\n            listItemStartTagInBody(p, token);\n            break;\n        }\n        case $.BR:\n        case $.IMG:\n        case $.WBR:\n        case $.AREA:\n        case $.EMBED:\n        case $.KEYGEN: {\n            areaStartTagInBody(p, token);\n            break;\n        }\n        case $.HR: {\n            hrStartTagInBody(p, token);\n            break;\n        }\n        case $.RB:\n        case $.RTC: {\n            rbStartTagInBody(p, token);\n            break;\n        }\n        case $.RT:\n        case $.RP: {\n            rtStartTagInBody(p, token);\n            break;\n        }\n        case $.PRE:\n        case $.LISTING: {\n            preStartTagInBody(p, token);\n            break;\n        }\n        case $.XMP: {\n            xmpStartTagInBody(p, token);\n            break;\n        }\n        case $.SVG: {\n            svgStartTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlStartTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.LINK:\n        case $.META:\n        case $.STYLE:\n        case $.TITLE:\n        case $.SCRIPT:\n        case $.BGSOUND:\n        case $.BASEFONT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.BODY: {\n            bodyStartTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInBody(p, token);\n            break;\n        }\n        case $.NOBR: {\n            nobrStartTagInBody(p, token);\n            break;\n        }\n        case $.MATH: {\n            mathStartTagInBody(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInBody(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInBody(p, token);\n            break;\n        }\n        case $.PARAM:\n        case $.TRACK:\n        case $.SOURCE: {\n            paramStartTagInBody(p, token);\n            break;\n        }\n        case $.IMAGE: {\n            imageStartTagInBody(p, token);\n            break;\n        }\n        case $.BUTTON: {\n            buttonStartTagInBody(p, token);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletStartTagInBody(p, token);\n            break;\n        }\n        case $.IFRAME: {\n            iframeStartTagInBody(p, token);\n            break;\n        }\n        case $.SELECT: {\n            selectStartTagInBody(p, token);\n            break;\n        }\n        case $.OPTION:\n        case $.OPTGROUP: {\n            optgroupStartTagInBody(p, token);\n            break;\n        }\n        case $.NOEMBED:\n        case $.NOFRAMES: {\n            rawTextStartTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            framesetStartTagInBody(p, token);\n            break;\n        }\n        case $.TEXTAREA: {\n            textareaStartTagInBody(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                rawTextStartTagInBody(p, token);\n            }\n            else {\n                genericStartTagInBody(p, token);\n            }\n            break;\n        }\n        case $.PLAINTEXT: {\n            plaintextStartTagInBody(p, token);\n            break;\n        }\n        case $.COL:\n        case $.TH:\n        case $.TD:\n        case $.TR:\n        case $.HEAD:\n        case $.FRAME:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.CAPTION:\n        case $.COLGROUP: {\n            // Ignore token\n            break;\n        }\n        default: {\n            genericStartTagInBody(p, token);\n        }\n    }\n}\nfunction bodyEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        //NOTE: <body> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo) {\n            const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n            if (bodyElement) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n}\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        endTagAfterBody(p, token);\n    }\n}\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const { formElement } = p;\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        }\n        else if (formElement) {\n            p.openElements.remove(formElement);\n        }\n    }\n}\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement(TN.P, $.P);\n    }\n    p._closePElement();\n}\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement(TN.BR, $.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n    const tid = token.tagID;\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        const elementId = p.openElements.tagIDs[i];\n        // Compare the tag name here, as the tag might not be a known tag with an ID.\n        if (tid === elementId && (tid !== $.UNKNOWN || p.treeAdapter.getTagName(element) === tn)) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tid);\n            if (p.openElements.stackTop >= i)\n                p.openElements.shortenToLength(i);\n            break;\n        }\n        if (p._isSpecialElement(element, elementId)) {\n            break;\n        }\n    }\n}\nfunction endTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.A:\n        case $.B:\n        case $.I:\n        case $.S:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.NOBR:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            callAdoptionAgency(p, token);\n            break;\n        }\n        case $.P: {\n            pEndTagInBody(p);\n            break;\n        }\n        case $.DL:\n        case $.UL:\n        case $.OL:\n        case $.DIR:\n        case $.DIV:\n        case $.NAV:\n        case $.PRE:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.BUTTON:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.DETAILS:\n        case $.SEARCH:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.LISTING:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressEndTagInBody(p, token);\n            break;\n        }\n        case $.LI: {\n            liEndTagInBody(p);\n            break;\n        }\n        case $.DD:\n        case $.DT: {\n            ddEndTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderEndTagInBody(p);\n            break;\n        }\n        case $.BR: {\n            brEndTagInBody(p);\n            break;\n        }\n        case $.BODY: {\n            bodyEndTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlEndTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formEndTagInBody(p);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletEndTagInBody(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            genericEndTagInBody(p, token);\n        }\n    }\n}\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStack.length > 0) {\n        eofInTemplate(p, token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    var _a;\n    if (token.tagID === $.SCRIPT) {\n        (_a = p.scriptHandler) === null || _a === void 0 ? void 0 : _a.call(p, p.openElements.current);\n    }\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\nfunction eofInText(p, token) {\n    p._err(token, ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p.onEof(token);\n}\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    if (TABLE_STRUCTURE_TAGS.has(p.openElements.currentTagId)) {\n        p.pendingCharacterTokens.length = 0;\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = InsertionMode.IN_TABLE_TEXT;\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                characterInTableText(p, token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                whitespaceCharacterInTableText(p, token);\n                break;\n            }\n            // Ignore null\n        }\n    }\n    else {\n        tokenInTable(p, token);\n    }\n}\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_CAPTION;\n}\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n}\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.COLGROUP, $.COLGROUP);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n    startTagInColumnGroup(p, token);\n}\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n}\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.TBODY, $.TBODY);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n    startTagInTableBody(p, token);\n}\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n}\nfunction inputStartTagInTable(p, token) {\n    if (isHiddenInput(token)) {\n        p._appendElement(token, NS.HTML);\n    }\n    else {\n        tokenInTable(p, token);\n    }\n    token.ackSelfClosing = true;\n}\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\nfunction startTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            tdStartTagInTable(p, token);\n            break;\n        }\n        case $.STYLE:\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            colStartTagInTable(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInTable(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInTable(p, token);\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            tbodyStartTagInTable(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInTable(p, token);\n            break;\n        }\n        case $.CAPTION: {\n            captionStartTagInTable(p, token);\n            break;\n        }\n        case $.COLGROUP: {\n            colgroupStartTagInTable(p, token);\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction endTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TABLE)) {\n                p.openElements.popUntilTagNamePopped($.TABLE);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n    p.fosterParentingEnabled = true;\n    // Process token in `In Body` mode\n    modeInBody(p, token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\nfunction tokenInTableText(p, token) {\n    let i = 0;\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    }\n    else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nconst TABLE_VOID_ELEMENTS = new Set([$.CAPTION, $.COL, $.COLGROUP, $.TBODY, $.TD, $.TFOOT, $.TH, $.THEAD, $.TR]);\nfunction startTagInCaption(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCaption(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.CAPTION:\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.CAPTION)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped($.CAPTION);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                if (tn === $.TABLE) {\n                    endTagInTable(p, token);\n                }\n            }\n            break;\n        }\n        case $.BODY:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.COL: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction endTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.COLGROUP: {\n            if (p.openElements.currentTagId === $.COLGROUP) {\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagId === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = InsertionMode.IN_TABLE;\n        p._processToken(token);\n    }\n}\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_ROW;\n            break;\n        }\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertFakeElement(TN.TR, $.TR);\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                startTagInTable(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagID;\n    switch (token.tagID) {\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                endTagInTable(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableRowContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_CELL;\n            p.activeFormattingElements.insertMarker();\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                startTagInTableBody(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(token.tagID) || p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH: {\n            // Ignore end tag\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            startTagInRow(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCell(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.TD:\n        case $.TH: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped(tn);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_ROW;\n            }\n            break;\n        }\n        case $.TABLE:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p._closeTableCell();\n                endTagInRow(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.OPTGROUP: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.HR: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.INPUT:\n        case $.KEYGEN:\n        case $.TEXTAREA:\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n                if (token.tagID !== $.SELECT) {\n                    p._processStartTag(token);\n                }\n            }\n            break;\n        }\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.OPTGROUP: {\n            if (p.openElements.stackTop > 0 &&\n                p.openElements.currentTagId === $.OPTION &&\n                p.openElements.tagIDs[p.openElements.stackTop - 1] === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n    else {\n        startTagInSelect(p, token);\n    }\n}\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p.onEndTag(token);\n        }\n    }\n    else {\n        endTagInSelect(p, token);\n    }\n}\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    switch (token.tagID) {\n        // First, handle tags that can start without a mode change\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        // Re-process the token in the appropriate mode\n        case $.CAPTION:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE;\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n            break;\n        }\n        case $.COL: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_COLUMN_GROUP;\n            p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n            startTagInColumnGroup(p, token);\n            break;\n        }\n        case $.TR: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE_BODY;\n            p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            startTagInTableBody(p, token);\n            break;\n        }\n        case $.TD:\n        case $.TH: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_ROW;\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        default: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_BODY;\n            p.insertionMode = InsertionMode.IN_BODY;\n            startTagInBody(p, token);\n        }\n    }\n}\nfunction endTagInTemplate(p, token) {\n    if (token.tagID === $.TEMPLATE) {\n        templateEndTagInHead(p, token);\n    }\n}\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n        p.onEof(token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction endTagAfterBody(p, token) {\n    var _a;\n    if (token.tagID === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = InsertionMode.AFTER_AFTER_BODY;\n        }\n        //NOTE: <html> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo && p.openElements.tagIDs[0] === $.HTML) {\n            p._setEndLocation(p.openElements.items[0], token);\n            // Update the body element, if it doesn't have an end tag\n            const bodyElement = p.openElements.items[1];\n            if (bodyElement && !((_a = p.treeAdapter.getNodeSourceCodeLocation(bodyElement)) === null || _a === void 0 ? void 0 : _a.endTag)) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.FRAME: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInFrameset(p, token) {\n    if (token.tagID === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n        if (!p.fragmentContext && p.openElements.currentTagId !== $.FRAMESET) {\n            p.insertionMode = InsertionMode.AFTER_FRAMESET;\n        }\n    }\n}\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagID === $.HTML) {\n        p.insertionMode = InsertionMode.AFTER_AFTER_FRAMESET;\n    }\n}\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterAfterBody(p, token);\n    }\n}\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction popUntilHtmlOrIntegrationPoint(p) {\n    while (p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n        !p._isIntegrationPoint(p.openElements.currentTagId, p.openElements.current)) {\n        p.openElements.pop();\n    }\n}\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token)) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._startTagOutsideForeignContent(token);\n    }\n    else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        }\n        else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n        foreignContent.adjustTokenXMLAttrs(token);\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        }\n        else {\n            p._insertElement(token, currentNs);\n        }\n        token.ackSelfClosing = true;\n    }\n}\nfunction endTagInForeignContent(p, token) {\n    if (token.tagID === $.P || token.tagID === $.BR) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._endTagOutsideForeignContent(token);\n        return;\n    }\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._endTagOutsideForeignContent(token);\n            break;\n        }\n        const tagName = p.treeAdapter.getTagName(element);\n        if (tagName.toLowerCase() === token.tagName) {\n            //NOTE: update the token tag name for `_setEndLocation`.\n            token.tagName = tagName;\n            p.openElements.shortenToLength(i);\n            break;\n        }\n    }\n}\n","import { TAG_NAMES as $, NS, hasUnescapedText } from '../common/html.js';\nimport { escapeText, escapeAttribute } from 'entities/lib/escape.js';\nimport { defaultTreeAdapter } from '../tree-adapters/default.js';\n// Sets\nconst VOID_ELEMENTS = new Set([\n    $.AREA,\n    $.BASE,\n    $.BASEFONT,\n    $.BGSOUND,\n    $.BR,\n    $.COL,\n    $.EMBED,\n    $.FRAME,\n    $.HR,\n    $.IMG,\n    $.INPUT,\n    $.KEYGEN,\n    $.LINK,\n    $.META,\n    $.PARAM,\n    $.SOURCE,\n    $.TRACK,\n    $.WBR,\n]);\nfunction isVoidElement(node, options) {\n    return (options.treeAdapter.isElementNode(node) &&\n        options.treeAdapter.getNamespaceURI(node) === NS.HTML &&\n        VOID_ELEMENTS.has(options.treeAdapter.getTagName(node)));\n}\nconst defaultOpts = { treeAdapter: defaultTreeAdapter, scriptingEnabled: true };\n/**\n * Serializes an AST node to an HTML string.\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parse('<!DOCTYPE html><html><head></head><body>Hi there!</body></html>');\n *\n * // Serializes a document.\n * const html = parse5.serialize(document);\n *\n * // Serializes the <html> element content.\n * const str = parse5.serialize(document.childNodes[1]);\n *\n * console.log(str); //> '<head></head><body>Hi there!</body>'\n * ```\n *\n * @param node Node to serialize.\n * @param options Serialization options.\n */\nexport function serialize(node, options) {\n    const opts = { ...defaultOpts, ...options };\n    if (isVoidElement(node, opts)) {\n        return '';\n    }\n    return serializeChildNodes(node, opts);\n}\n/**\n * Serializes an AST element node to an HTML string, including the element node.\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parseFragment('<div>Hello, <b>world</b>!</div>');\n *\n * // Serializes the <div> element.\n * const str = parse5.serializeOuter(document.childNodes[0]);\n *\n * console.log(str); //> '<div>Hello, <b>world</b>!</div>'\n * ```\n *\n * @param node Node to serialize.\n * @param options Serialization options.\n */\nexport function serializeOuter(node, options) {\n    const opts = { ...defaultOpts, ...options };\n    return serializeNode(node, opts);\n}\nfunction serializeChildNodes(parentNode, options) {\n    let html = '';\n    // Get container of the child nodes\n    const container = options.treeAdapter.isElementNode(parentNode) &&\n        options.treeAdapter.getTagName(parentNode) === $.TEMPLATE &&\n        options.treeAdapter.getNamespaceURI(parentNode) === NS.HTML\n        ? options.treeAdapter.getTemplateContent(parentNode)\n        : parentNode;\n    const childNodes = options.treeAdapter.getChildNodes(container);\n    if (childNodes) {\n        for (const currentNode of childNodes) {\n            html += serializeNode(currentNode, options);\n        }\n    }\n    return html;\n}\nfunction serializeNode(node, options) {\n    if (options.treeAdapter.isElementNode(node)) {\n        return serializeElement(node, options);\n    }\n    if (options.treeAdapter.isTextNode(node)) {\n        return serializeTextNode(node, options);\n    }\n    if (options.treeAdapter.isCommentNode(node)) {\n        return serializeCommentNode(node, options);\n    }\n    if (options.treeAdapter.isDocumentTypeNode(node)) {\n        return serializeDocumentTypeNode(node, options);\n    }\n    // Return an empty string for unknown nodes\n    return '';\n}\nfunction serializeElement(node, options) {\n    const tn = options.treeAdapter.getTagName(node);\n    return `<${tn}${serializeAttributes(node, options)}>${isVoidElement(node, options) ? '' : `${serializeChildNodes(node, options)}</${tn}>`}`;\n}\nfunction serializeAttributes(node, { treeAdapter }) {\n    let html = '';\n    for (const attr of treeAdapter.getAttrList(node)) {\n        html += ' ';\n        if (attr.namespace) {\n            switch (attr.namespace) {\n                case NS.XML: {\n                    html += `xml:${attr.name}`;\n                    break;\n                }\n                case NS.XMLNS: {\n                    if (attr.name !== 'xmlns') {\n                        html += 'xmlns:';\n                    }\n                    html += attr.name;\n                    break;\n                }\n                case NS.XLINK: {\n                    html += `xlink:${attr.name}`;\n                    break;\n                }\n                default: {\n                    html += `${attr.prefix}:${attr.name}`;\n                }\n            }\n        }\n        else {\n            html += attr.name;\n        }\n        html += `=\"${escapeAttribute(attr.value)}\"`;\n    }\n    return html;\n}\nfunction serializeTextNode(node, options) {\n    const { treeAdapter } = options;\n    const content = treeAdapter.getTextNodeContent(node);\n    const parent = treeAdapter.getParentNode(node);\n    const parentTn = parent && treeAdapter.isElementNode(parent) && treeAdapter.getTagName(parent);\n    return parentTn &&\n        treeAdapter.getNamespaceURI(parent) === NS.HTML &&\n        hasUnescapedText(parentTn, options.scriptingEnabled)\n        ? content\n        : escapeText(content);\n}\nfunction serializeCommentNode(node, { treeAdapter }) {\n    return `<!--${treeAdapter.getCommentNodeContent(node)}-->`;\n}\nfunction serializeDocumentTypeNode(node, { treeAdapter }) {\n    return `<!DOCTYPE ${treeAdapter.getDocumentTypeNodeName(node)}>`;\n}\n","/**\n * @import {Options} from 'hast-util-raw'\n * @import {Comment, Doctype, Element, Nodes, RootContent, Root, Text} from 'hast'\n * @import {Raw} from 'mdast-util-to-hast'\n * @import {DefaultTreeAdapterMap, ParserOptions} from 'parse5'\n * @import {Point} from 'unist'\n */\n\n/**\n * @typedef State\n *   Info passed around about the current state.\n * @property {(node: Nodes) => undefined} handle\n *   Add a hast node to the parser.\n * @property {Options} options\n *   User configuration.\n * @property {Parser<DefaultTreeAdapterMap>} parser\n *   Current parser.\n * @property {boolean} stitches\n *   Whether there are stitches.\n */\n\n/**\n * @typedef Stitch\n *   Custom comment-like value we pass through parse5, which contains a\n *   replacement node that well swap back in afterwards.\n * @property {'comment'} type\n *   Node type.\n * @property {{stitch: Nodes}} value\n *   Replacement value.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {fromParse5} from 'hast-util-from-parse5'\nimport {toParse5} from 'hast-util-to-parse5'\nimport {htmlVoidElements} from 'html-void-elements'\nimport {Parser, Token, TokenizerMode, html} from 'parse5'\nimport {pointEnd, pointStart} from 'unist-util-position'\nimport {visit} from 'unist-util-visit'\nimport {webNamespaces} from 'web-namespaces'\nimport {zwitch} from 'zwitch'\n\nconst gfmTagfilterExpression =\n  /<(\\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\\t\\n\\f\\r />])/gi\n\n// Node types associated with MDX.\n// <https://github.com/mdx-js/mdx/blob/8a56312/packages/mdx/lib/node-types.js>\nconst knownMdxNames = new Set([\n  'mdxFlowExpression',\n  'mdxJsxFlowElement',\n  'mdxJsxTextElement',\n  'mdxTextExpression',\n  'mdxjsEsm'\n])\n\n/** @type {ParserOptions<DefaultTreeAdapterMap>} */\nconst parseOptions = {sourceCodeLocationInfo: true, scriptingEnabled: false}\n\n/**\n * Pass a hast tree through an HTML parser, which will fix nesting, and turn\n * raw nodes into actual nodes.\n *\n * @param {Nodes} tree\n *   Original hast tree to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {Nodes}\n *   Parsed again tree.\n */\nexport function raw(tree, options) {\n  const document = documentMode(tree)\n  /** @type {(node: Nodes, state: State) => undefined} */\n  const one = zwitch('type', {\n    handlers: {root, element, text, comment, doctype, raw: handleRaw},\n    unknown\n  })\n\n  /** @type {State} */\n  const state = {\n    parser: document\n      ? new Parser(parseOptions)\n      : Parser.getFragmentParser(undefined, parseOptions),\n    handle(node) {\n      one(node, state)\n    },\n    stitches: false,\n    options: options || {}\n  }\n\n  one(tree, state)\n  resetTokenizer(state, pointStart())\n\n  const p5 = document ? state.parser.document : state.parser.getFragment()\n  const result = fromParse5(p5, {\n    // To do: support `space`?\n    file: state.options.file\n  })\n\n  if (state.stitches) {\n    visit(result, 'comment', function (node, index, parent) {\n      const stitch = /** @type {Stitch} */ (/** @type {unknown} */ (node))\n      if (stitch.value.stitch && parent && index !== undefined) {\n        /** @type {Array<RootContent>} */\n        const siblings = parent.children\n        // @ts-expect-error: assume the stitch is allowed.\n        siblings[index] = stitch.value.stitch\n        return index\n      }\n    })\n  }\n\n  // Unpack if possible and when not given a `root`.\n  if (\n    result.type === 'root' &&\n    result.children.length === 1 &&\n    result.children[0].type === tree.type\n  ) {\n    return result.children[0]\n  }\n\n  return result\n}\n\n/**\n * Transform all nodes\n *\n * @param {Array<RootContent>} nodes\n *   hast content.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction all(nodes, state) {\n  let index = -1\n\n  /* istanbul ignore else - invalid nodes, see rehypejs/rehype-raw#7. */\n  if (nodes) {\n    while (++index < nodes.length) {\n      state.handle(nodes[index])\n    }\n  }\n}\n\n/**\n * Transform a root.\n *\n * @param {Root} node\n *   hast root node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction root(node, state) {\n  all(node.children, state)\n}\n\n/**\n * Transform an element.\n *\n * @param {Element} node\n *   hast element node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction element(node, state) {\n  startTag(node, state)\n\n  all(node.children, state)\n\n  endTag(node, state)\n}\n\n/**\n * Transform a text.\n *\n * @param {Text} node\n *   hast text node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction text(node, state) {\n  // Allow `DATA` through `PLAINTEXT`,\n  // but when hanging in a tag for example,\n  // switch back to `DATA`.\n  // Note: `State` is not exposed by `parse5`, so these numbers are fragile.\n  // See: <https://github.com/inikulin/parse5/blob/46cba43/packages/parse5/lib/tokenizer/index.ts#L58>\n  if (state.parser.tokenizer.state > 4) {\n    state.parser.tokenizer.state = 0\n  }\n\n  /** @type {Token.CharacterToken} */\n  const token = {\n    type: Token.TokenType.CHARACTER,\n    chars: node.value,\n    location: createParse5Location(node)\n  }\n\n  resetTokenizer(state, pointStart(node))\n  // @ts-expect-error: private.\n  state.parser.currentToken = token\n  // @ts-expect-error: private.\n  state.parser._processToken(state.parser.currentToken)\n}\n\n/**\n * Transform a doctype.\n *\n * @param {Doctype} node\n *   hast doctype node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction doctype(node, state) {\n  /** @type {Token.DoctypeToken} */\n  const token = {\n    type: Token.TokenType.DOCTYPE,\n    name: 'html',\n    forceQuirks: false,\n    publicId: '',\n    systemId: '',\n    location: createParse5Location(node)\n  }\n\n  resetTokenizer(state, pointStart(node))\n  // @ts-expect-error: private.\n  state.parser.currentToken = token\n  // @ts-expect-error: private.\n  state.parser._processToken(state.parser.currentToken)\n}\n\n/**\n * Transform a stitch.\n *\n * @param {Nodes} node\n *   unknown node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction stitch(node, state) {\n  // Mark that there are stitches, so we need to walk the tree and revert them.\n  state.stitches = true\n\n  /** @type {Nodes} */\n  const clone = cloneWithoutChildren(node)\n\n  // Recurse, because to somewhat handle `[<x>]</x>` (where `[]` denotes the\n  // passed through node).\n  if ('children' in node && 'children' in clone) {\n    // Root in root out.\n    const fakeRoot = /** @type {Root} */ (\n      raw({type: 'root', children: node.children}, state.options)\n    )\n    clone.children = fakeRoot.children\n  }\n\n  // Hack: `value` is supposed to be a string, but as none of the tools\n  // (`parse5` or `hast-util-from-parse5`) looks at it, we can pass nodes\n  // through.\n  comment({type: 'comment', value: {stitch: clone}}, state)\n}\n\n/**\n * Transform a comment (or stitch).\n *\n * @param {Comment | Stitch} node\n *   hast comment node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction comment(node, state) {\n  /** @type {string} */\n  // @ts-expect-error: we pass stitches through.\n  const data = node.value\n\n  /** @type {Token.CommentToken} */\n  const token = {\n    type: Token.TokenType.COMMENT,\n    data,\n    location: createParse5Location(node)\n  }\n  resetTokenizer(state, pointStart(node))\n  // @ts-expect-error: private.\n  state.parser.currentToken = token\n  // @ts-expect-error: private.\n  state.parser._processToken(state.parser.currentToken)\n}\n\n/**\n * Transform a raw node.\n *\n * @param {Raw} node\n *   hast raw node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction handleRaw(node, state) {\n  // Reset preprocessor:\n  // See: <https://github.com/inikulin/parse5/blob/6f7ca60/packages/parse5/lib/tokenizer/preprocessor.ts#L18-L31>.\n  state.parser.tokenizer.preprocessor.html = ''\n  state.parser.tokenizer.preprocessor.pos = -1\n  // @ts-expect-error: private.\n  // type-coverage:ignore-next-line\n  state.parser.tokenizer.preprocessor.lastGapPos = -2\n  // @ts-expect-error: private.\n  // type-coverage:ignore-next-line\n  state.parser.tokenizer.preprocessor.gapStack = []\n  // @ts-expect-error: private.\n  // type-coverage:ignore-next-line\n  state.parser.tokenizer.preprocessor.skipNextNewLine = false\n  state.parser.tokenizer.preprocessor.lastChunkWritten = false\n  state.parser.tokenizer.preprocessor.endOfChunkHit = false\n  // @ts-expect-error: private.\n  // type-coverage:ignore-next-line\n  state.parser.tokenizer.preprocessor.isEol = false\n\n  // Now pass `node.value`.\n  setPoint(state, pointStart(node))\n\n  state.parser.tokenizer.write(\n    state.options.tagfilter\n      ? node.value.replace(gfmTagfilterExpression, '&lt;$1$2')\n      : node.value,\n    false\n  )\n  // @ts-expect-error: private.\n  state.parser.tokenizer._runParsingLoop()\n\n  // Character references hang, so if we ended there, we need to flush\n  // those too.\n  // We reset the preprocessor as if the document ends here.\n  // Then one single call to the relevant state does the trick, parse5\n  // consumes the whole token.\n\n  // Note: `State` is not exposed by `parse5`, so these numbers are fragile.\n  // See: <https://github.com/inikulin/parse5/blob/46cba43/packages/parse5/lib/tokenizer/index.ts#L58>\n  // Note: a change to `parse5`, which breaks this, was merged but not released.\n  // Investigate when it is.\n  // To do: remove next major.\n  /* c8 ignore next 12 -- removed in <https://github.com/inikulin/parse5/pull/897> */\n  if (\n    state.parser.tokenizer.state === 72 /* NAMED_CHARACTER_REFERENCE */ ||\n    // @ts-expect-error: removed.\n    state.parser.tokenizer.state === 78 /* NUMERIC_CHARACTER_REFERENCE_END */\n  ) {\n    state.parser.tokenizer.preprocessor.lastChunkWritten = true\n    /** @type {number} */\n    // @ts-expect-error: private.\n    const cp = state.parser.tokenizer._consume()\n    // @ts-expect-error: private.\n    state.parser.tokenizer._callState(cp)\n  }\n}\n\n/**\n * Crash on an unknown node.\n *\n * @param {unknown} node_\n *   unknown node.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Never.\n */\nfunction unknown(node_, state) {\n  const node = /** @type {Nodes} */ (node_)\n\n  if (\n    state.options.passThrough &&\n    state.options.passThrough.includes(node.type)\n  ) {\n    stitch(node, state)\n  } else {\n    let extra = ''\n\n    if (knownMdxNames.has(node.type)) {\n      extra =\n        \". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax\"\n    }\n\n    throw new Error('Cannot compile `' + node.type + '` node' + extra)\n  }\n}\n\n/**\n * Reset the tokenizer of a parser.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Point | undefined} point\n *   Point.\n * @returns {undefined}\n *   Nothing.\n */\nfunction resetTokenizer(state, point) {\n  setPoint(state, point)\n\n  // Process final characters if theyre still there after hibernating.\n  /** @type {Token.CharacterToken} */\n  // @ts-expect-error: private.\n  const token = state.parser.tokenizer.currentCharacterToken\n\n  if (token && token.location) {\n    token.location.endLine = state.parser.tokenizer.preprocessor.line\n    token.location.endCol = state.parser.tokenizer.preprocessor.col + 1\n    token.location.endOffset = state.parser.tokenizer.preprocessor.offset + 1\n    // @ts-expect-error: private.\n    state.parser.currentToken = token\n    // @ts-expect-error: private.\n    state.parser._processToken(state.parser.currentToken)\n  }\n\n  // Reset tokenizer:\n  // See: <https://github.com/inikulin/parse5/blob/6f7ca60/packages/parse5/lib/tokenizer/index.ts#L187-L223>.\n  // Especially putting it back in the `data` state is useful: some elements,\n  // like textareas and iframes, change the state.\n  // See GH-7.\n  // But also if broken HTML is in `raw`, and then a correct element is given.\n  // See GH-11.\n  // @ts-expect-error: private.\n  state.parser.tokenizer.paused = false\n  // @ts-expect-error: private.\n  state.parser.tokenizer.inLoop = false\n\n  // Note: dont reset `state`, `inForeignNode`, or `lastStartTagName`, we\n  // manually update those when needed.\n  state.parser.tokenizer.active = false\n  // @ts-expect-error: private.\n  state.parser.tokenizer.returnState = TokenizerMode.DATA\n  // @ts-expect-error: private.\n  state.parser.tokenizer.charRefCode = -1\n  // @ts-expect-error: private.\n  state.parser.tokenizer.consumedAfterSnapshot = -1\n  // @ts-expect-error: private.\n  state.parser.tokenizer.currentLocation = null\n  // @ts-expect-error: private.\n  state.parser.tokenizer.currentCharacterToken = null\n  // @ts-expect-error: private.\n  state.parser.tokenizer.currentToken = null\n  // @ts-expect-error: private.\n  state.parser.tokenizer.currentAttr = {name: '', value: ''}\n}\n\n/**\n * Set current location.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Point | undefined} point\n *   Point.\n * @returns {undefined}\n *   Nothing.\n */\nfunction setPoint(state, point) {\n  if (point && point.offset !== undefined) {\n    /** @type {Token.Location} */\n    const location = {\n      startLine: point.line,\n      startCol: point.column,\n      startOffset: point.offset,\n      endLine: -1,\n      endCol: -1,\n      endOffset: -1\n    }\n\n    // @ts-expect-error: private.\n    // type-coverage:ignore-next-line\n    state.parser.tokenizer.preprocessor.lineStartPos = -point.column + 1 // Looks weird, but ensures we get correct positional info.\n    state.parser.tokenizer.preprocessor.droppedBufferSize = point.offset\n    state.parser.tokenizer.preprocessor.line = point.line\n    // @ts-expect-error: private.\n    state.parser.tokenizer.currentLocation = location\n  }\n}\n\n/**\n * Emit a start tag.\n *\n * @param {Element} node\n *   Element.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction startTag(node, state) {\n  const tagName = node.tagName.toLowerCase()\n\n  // Ignore tags if were in plain text.\n  if (state.parser.tokenizer.state === TokenizerMode.PLAINTEXT) return\n\n  resetTokenizer(state, pointStart(node))\n\n  const current = state.parser.openElements.current\n  let ns = 'namespaceURI' in current ? current.namespaceURI : webNamespaces.html\n\n  if (ns === webNamespaces.html && tagName === 'svg') {\n    ns = webNamespaces.svg\n  }\n\n  const result = toParse5(\n    // Shallow clone to not delve into `children`: we only need the attributes.\n    {...node, children: []},\n    {space: ns === webNamespaces.svg ? 'svg' : 'html'}\n  )\n\n  /** @type {Token.TagToken} */\n  const tag = {\n    type: Token.TokenType.START_TAG,\n    tagName,\n    tagID: html.getTagID(tagName),\n    // We always send start and end tags.\n    selfClosing: false,\n    ackSelfClosing: false,\n    // Always element.\n    /* c8 ignore next */\n    attrs: 'attrs' in result ? result.attrs : [],\n    location: createParse5Location(node)\n  }\n\n  // The HTML parsing algorithm works by doing half of the state management in\n  // the tokenizer and half in the parser.\n  // We cant use the tokenizer here, as we dont have strings.\n  // So we act *as if* the tokenizer emits tokens:\n\n  // @ts-expect-error: private.\n  state.parser.currentToken = tag\n  // @ts-expect-error: private.\n  state.parser._processToken(state.parser.currentToken)\n\n  // but then we still need a bunch of work that the tokenizer would normally\n  // do, such as:\n\n  // Set a tag name, similar to how the tokenizer would do it.\n  state.parser.tokenizer.lastStartTagName = tagName\n\n  // `inForeignNode` is correctly set by the parser.\n}\n\n/**\n * Emit an end tag.\n *\n * @param {Element} node\n *   Element.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {undefined}\n *   Nothing.\n */\nfunction endTag(node, state) {\n  const tagName = node.tagName.toLowerCase()\n  // Do not emit closing tags for HTML void elements.\n  if (\n    !state.parser.tokenizer.inForeignNode &&\n    htmlVoidElements.includes(tagName)\n  ) {\n    return\n  }\n\n  // Ignore tags if were in plain text.\n  if (state.parser.tokenizer.state === TokenizerMode.PLAINTEXT) return\n\n  resetTokenizer(state, pointEnd(node))\n\n  /** @type {Token.TagToken} */\n  const tag = {\n    type: Token.TokenType.END_TAG,\n    tagName,\n    tagID: html.getTagID(tagName),\n    selfClosing: false,\n    ackSelfClosing: false,\n    attrs: [],\n    location: createParse5Location(node)\n  }\n\n  // The HTML parsing algorithm works by doing half of the state management in\n  // the tokenizer and half in the parser.\n  // We cant use the tokenizer here, as we dont have strings.\n  // So we act *as if* the tokenizer emits tokens:\n\n  // @ts-expect-error: private.\n  state.parser.currentToken = tag\n  // @ts-expect-error: private.\n  state.parser._processToken(state.parser.currentToken)\n\n  // but then we still need a bunch of work that the tokenizer would normally\n  // do, such as:\n\n  // Switch back to the data state after alternative states that dont accept\n  // tags:\n  if (\n    // Current element is closed.\n    tagName === state.parser.tokenizer.lastStartTagName &&\n    // `<textarea>` and `<title>`\n    (state.parser.tokenizer.state === TokenizerMode.RCDATA ||\n      // `<iframe>`, `<noembed>`, `<noframes>`, `<style>`, `<xmp>`\n      state.parser.tokenizer.state === TokenizerMode.RAWTEXT ||\n      // `<script>`\n      state.parser.tokenizer.state === TokenizerMode.SCRIPT_DATA)\n    // Note: `<plaintext>` not needed, as its the last element.\n  ) {\n    state.parser.tokenizer.state = TokenizerMode.DATA\n  }\n}\n\n/**\n * Check if `node` represents a whole document or a fragment.\n *\n * @param {Nodes} node\n *   hast node.\n * @returns {boolean}\n *   Whether this represents a whole document or a fragment.\n */\nfunction documentMode(node) {\n  const head = node.type === 'root' ? node.children[0] : node\n  return Boolean(\n    head &&\n      (head.type === 'doctype' ||\n        (head.type === 'element' && head.tagName.toLowerCase() === 'html'))\n  )\n}\n\n/**\n * Get a `parse5` location from a node.\n *\n * @param {Nodes | Stitch} node\n *   hast node.\n * @returns {Token.Location}\n *   `parse5` location.\n */\nfunction createParse5Location(node) {\n  const start = pointStart(node) || {\n    line: undefined,\n    column: undefined,\n    offset: undefined\n  }\n  const end = pointEnd(node) || {\n    line: undefined,\n    column: undefined,\n    offset: undefined\n  }\n\n  /** @type {Record<keyof Token.Location, number | undefined>} */\n  const location = {\n    startLine: start.line,\n    startCol: start.column,\n    startOffset: start.offset,\n    endLine: end.line,\n    endCol: end.column,\n    endOffset: end.offset\n  }\n\n  // @ts-expect-error: unist point values can be `undefined` in hast, which\n  // `parse5` types dont want.\n  return location\n}\n\n/**\n * @template {Nodes} NodeType\n *   Node type.\n * @param {NodeType} node\n *   Node to clone.\n * @returns {NodeType}\n *   Cloned node, without children.\n */\nfunction cloneWithoutChildren(node) {\n  return 'children' in node\n    ? structuredClone({...node, children: []})\n    : structuredClone(node)\n}\n","/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast-util-raw').Options} RawOptions\n * @typedef {import('vfile').VFile} VFile\n */\n\n/**\n * @typedef {Omit<RawOptions, 'file'>} Options\n *   Configuration.\n */\n\nimport {raw} from 'hast-util-raw'\n\n/**\n * Parse the tree (and raw nodes) again, keeping positional info okay.\n *\n * @param {Options | null | undefined}  [options]\n *   Configuration (optional).\n * @returns\n *   Transform.\n */\nexport default function rehypeRaw(options) {\n  /**\n   * @param {Root} tree\n   *   Tree.\n   * @param {VFile} file\n   *   File.\n   * @returns {Root}\n   *   New tree.\n   */\n  return function (tree, file) {\n    // Assume root in -> root out.\n    const result = /** @type {Root} */ (raw(tree, {...options, file}))\n    return result\n  }\n}\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport rehypeRaw from 'rehype-raw';\nimport { cn } from '../lib/utils';\n\ninterface MarkdownContentProps {\n  content: string;\n}\n\nconst markdownComponents = {\n  pre: ({ children, ...props }: any) => (\n    <div className=\"relative group\">\n      <pre {...props} className=\"overflow-x-auto p-4 rounded-lg bg-gray-800/50 my-2\">\n        {children}\n      </pre>\n      <button\n        onClick={() => {\n          const code = children?.props?.children;\n          if (code) {\n            navigator.clipboard.writeText(code);\n          }\n        }}\n        className=\"absolute top-2 right-2 p-2 rounded-lg bg-gray-700/50 opacity-0 group-hover:opacity-100 transition-opacity\"\n      >\n        Copy\n      </button>\n    </div>\n  ),\n  code: ({ node, inline, className, children, ...props }: any) => {\n    if (inline) {\n      return (\n        <code className=\"px-1.5 py-0.5 rounded-md bg-gray-800/50 text-sm\" {...props}>\n          {children}\n        </code>\n      );\n    }\n    return (\n      <code className={cn('block text-sm', className)} {...props}>\n        {children}\n      </code>\n    );\n  },\n  p: ({ children }: any) => (\n    <p className=\"mb-4 leading-7 last:mb-0\">{children}</p>\n  ),\n  ul: ({ children }: any) => (\n    <ul className=\"mb-4 list-disc pl-6 space-y-2\">{children}</ul>\n  ),\n  ol: ({ children }: any) => (\n    <ol className=\"mb-4 list-decimal pl-6 space-y-2\">{children}</ol>\n  ),\n  li: ({ children }: any) => (\n    <li className=\"leading-7\">{children}</li>\n  ),\n  h1: ({ children }: any) => (\n    <h1 className=\"text-2xl font-bold mb-4 mt-6\">{children}</h1>\n  ),\n  h2: ({ children }: any) => (\n    <h2 className=\"text-xl font-bold mb-3 mt-5\">{children}</h2>\n  ),\n  h3: ({ children }: any) => (\n    <h3 className=\"text-lg font-bold mb-3 mt-4\">{children}</h3>\n  ),\n  table: ({ children }: any) => (\n    <div className=\"overflow-x-auto mb-4\">\n      <table className=\"min-w-full divide-y divide-gray-700 border border-gray-700 rounded-lg\">\n        {children}\n      </table>\n    </div>\n  ),\n  th: ({ children }: any) => (\n    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider bg-gray-800\">\n      {children}\n    </th>\n  ),\n  td: ({ children }: any) => (\n    <td className=\"px-4 py-3 text-sm border-t border-gray-700\">\n      {children}\n    </td>\n  ),\n  blockquote: ({ children }: any) => (\n    <blockquote className=\"border-l-4 border-blue-500 pl-4 my-4 italic text-gray-300\">\n      {children}\n    </blockquote>\n  ),\n  a: ({ children, href }: any) => (\n    <a \n      href={href}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"text-blue-400 hover:text-blue-300 underline\"\n    >\n      {children}\n    </a>\n  ),\n  img: ({ src, alt }: any) => (\n    <img \n      src={src} \n      alt={alt} \n      className=\"max-w-full h-auto rounded-lg my-4\"\n      loading=\"lazy\"\n    />\n  )\n};\n\nexport function MarkdownContent({ content }: MarkdownContentProps) {\n  return (\n    <ReactMarkdown\n      remarkPlugins={[remarkGfm]}\n      rehypePlugins={[rehypeRaw]}\n      components={markdownComponents}\n    >\n      {content}\n    </ReactMarkdown>\n  );\n}","import { useState, useEffect } from 'react';\n\nexport function useLocalStorage<T>(key: string, initialValue: T) {\n  // Initialize state with value from localStorage or initial value\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error('Error reading from localStorage:', error);\n      return initialValue;\n    }\n  });\n\n  // Update localStorage when state changes\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(key, JSON.stringify(storedValue));\n    } catch (error) {\n      console.error('Error writing to localStorage:', error);\n    }\n  }, [key, storedValue]);\n\n  return [storedValue, setStoredValue] as const;\n}","import React, { createContext, useContext, useState, useCallback } from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { useToast } from '../hooks/useToast';\n\ninterface Settings {\n  theme: 'light' | 'dark' | 'system';\n  apiKeys: {\n    xai: string;\n    groq: string;\n    perplexity: string;\n    huggingface: string;\n    github: string;\n  };\n  performance: {\n    temperature: number;\n    maxTokens: number;\n    streaming: boolean;\n  };\n  memory: {\n    enabled: boolean;\n    contextSize: number;\n    memoryLimit: number;\n    vectorMemoryEnabled: boolean;\n  };\n  models: {\n    defaultModel: string;\n    enabledModels: string[];\n  };\n  notifications: {\n    enabled: boolean;\n    sound: boolean;\n    showErrors: boolean;\n    showSuccess: boolean;\n  };\n}\n\ninterface SettingsContextType {\n  settings: Settings;\n  updateSettings: (newSettings: Partial<Settings>) => Promise<void>;\n  setTheme: (theme: Settings['theme']) => void;\n}\n\nconst defaultSettings: Settings = {\n  theme: 'system',\n  apiKeys: {\n    xai: '',\n    groq: '',\n    perplexity: '',\n    huggingface: '',\n    github: ''\n  },\n  performance: {\n    temperature: 0.7,\n    maxTokens: 2048,\n    streaming: true\n  },\n  memory: {\n    enabled: true,\n    contextSize: 4096,\n    memoryLimit: 1000,\n    vectorMemoryEnabled: true\n  },\n  models: {\n    defaultModel: 'grok-beta',\n    enabledModels: ['grok-beta', 'llama-3.2-70b-preview', 'llama-3.2-7b-preview']\n  },\n  notifications: {\n    enabled: true,\n    sound: true,\n    showErrors: true,\n    showSuccess: true\n  }\n};\n\nconst SettingsContext = createContext<SettingsContextType | undefined>(undefined);\n\nexport function SettingsProvider({ children }: { children: React.ReactNode }) {\n  const [settings, setSettings] = useLocalStorage<Settings>('app-settings', defaultSettings);\n  const { addToast } = useToast();\n\n  const updateSettings = useCallback(async (newSettings: Partial<Settings>) => {\n    try {\n      const updated = {\n        ...settings,\n        ...newSettings\n      };\n      setSettings(updated);\n      addToast({\n        type: 'success',\n        message: 'Settings updated successfully',\n        duration: 3000\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        title: 'Failed to update settings',\n        message: error instanceof Error ? error.message : 'An error occurred',\n        duration: 5000\n      });\n      throw error;\n    }\n  }, [settings, setSettings, addToast]);\n\n  const setTheme = useCallback((theme: Settings['theme']) => {\n    updateSettings({ theme });\n  }, [updateSettings]);\n\n  // Apply theme effect\n  React.useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove('light', 'dark');\n\n    if (settings.theme === 'system') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'dark'\n        : 'light';\n      root.classList.add(systemTheme);\n    } else {\n      root.classList.add(settings.theme);\n    }\n  }, [settings.theme]);\n\n  return (\n    <SettingsContext.Provider value={{ settings, updateSettings, setTheme }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport function useSettings() {\n  const context = useContext(SettingsContext);\n  if (!context) {\n    throw new Error('useSettings must be used within a SettingsProvider');\n  }\n  return context;\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { Send, Sparkles, Pause, Play, Settings } from 'lucide-react';\nimport { agentSystem } from '../lib/agent-system';\nimport { useToast } from '../hooks/useToast';\nimport { cn } from '../lib/utils';\nimport { ScrollArea } from './ui/ScrollArea';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useStore } from '../store';\nimport { Tooltip } from './ui/Tooltip';\nimport { LoadingIndicator, ProcessingState } from './LoadingIndicator';\nimport { MarkdownContent } from './MarkdownContent';\nimport { useSettings } from '../context/SettingsContext';\n\nexport function Chat() {\n  const [input, setInput] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [messages, setMessages] = useState<Array<{ role: 'user' | 'assistant'; content: string }>>([]);\n  const [processingState, setProcessingState] = useState<ProcessingState>();\n  const [processingSubText, setProcessingSubText] = useState<string>();\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const { addToast } = useToast();\n  const { setSettingsPanelOpen } = useStore();\n  const [autoScroll, setAutoScroll] = useState(true);\n  const { settings } = useSettings();\n  const [isSettingsHovered, setIsSettingsHovered] = useState(false);\n\n  useEffect(() => {\n    if (autoScroll) {\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages, autoScroll]);\n\n  const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n    const { scrollTop, scrollHeight, clientHeight } = event.currentTarget;\n    const isScrolledToBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 10;\n    setAutoScroll(isScrolledToBottom);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isProcessing) return;\n\n    const userMessage = { role: 'user' as const, content: input.trim() };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsProcessing(true);\n\n    try {\n      let assistantMessage = { role: 'assistant' as const, content: '' };\n      setMessages(prev => [...prev, assistantMessage]);\n\n      await agentSystem.processMessage(\n        userMessage.content,\n        (content) => {\n          if (!isPaused) {\n            assistantMessage.content += content;\n            setMessages(prev => [\n              ...prev.slice(0, -1),\n              { ...assistantMessage }\n            ]);\n          }\n        },\n        (state) => {\n          setProcessingState(state as ProcessingState);\n          switch (state) {\n            case 'thinking':\n              setProcessingSubText('Analyzing request...');\n              break;\n            case 'searching':\n              setProcessingSubText('Gathering information...');\n              break;\n            case 'reasoning':\n              setProcessingSubText('Formulating response...');\n              break;\n            case 'synthesizing':\n              setProcessingSubText('Combining results...');\n              break;\n            default:\n              setProcessingSubText(undefined);\n          }\n        }\n      );\n    } catch (error) {\n      addToast({\n        type: 'error',\n        title: 'Error',\n        message: error instanceof Error ? error.message : 'An error occurred'\n      });\n    } finally {\n      setIsProcessing(false);\n      setProcessingState(undefined);\n      setProcessingSubText(undefined);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-full max-h-screen\">\n      {/* Header */}\n      <div className=\"flex-none flex items-center justify-between p-4 border-b border-border bg-background/50 backdrop-blur-sm\">\n        <h1 className=\"text-lg font-semibold\">Chat</h1>\n        <div className=\"flex items-center gap-2\">\n          <Tooltip content={isPaused ? 'Resume' : 'Pause'}>\n            <button\n              onClick={() => setIsPaused(!isPaused)}\n              className={cn(\n                'p-2 rounded-lg transition-colors',\n                isPaused ? 'text-green-400 hover:bg-green-400/10' : 'text-yellow-400 hover:bg-yellow-400/10'\n              )}\n            >\n              {isPaused ? <Play className=\"w-5 h-5\" /> : <Pause className=\"w-5 h-5\" />}\n            </button>\n          </Tooltip>\n          <Tooltip content=\"Settings\">\n            <button\n              onClick={() => setSettingsPanelOpen(true)}\n              onMouseEnter={() => setIsSettingsHovered(true)}\n              onMouseLeave={() => setIsSettingsHovered(false)}\n              className={cn(\n                'p-2 rounded-lg transition-colors',\n                isSettingsHovered || settings.theme === 'dark'\n                  ? 'text-primary hover:bg-primary/10'\n                  : 'text-muted-foreground hover:text-foreground hover:bg-secondary'\n              )}\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n          </Tooltip>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <ScrollArea className=\"flex-1\" onScroll={handleScroll}>\n        <div className=\"p-4 space-y-4 max-w-5xl mx-auto\">\n          <AnimatePresence initial={false}>\n            {messages.map((message, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className={cn(\n                  'max-w-[85%] rounded-lg p-4',\n                  message.role === 'user'\n                    ? 'ml-auto bg-primary text-primary-foreground'\n                    : 'bg-secondary text-secondary-foreground'\n                )}\n              >\n                {isProcessing && index === messages.length - 1 ? (\n                  <LoadingIndicator \n                    state={processingState} \n                    subText={processingSubText}\n                  />\n                ) : (\n                  <MarkdownContent content={message.content} />\n                )}\n              </motion.div>\n            ))}\n          </AnimatePresence>\n          <div ref={messagesEndRef} />\n        </div>\n      </ScrollArea>\n\n      {/* New Messages Button */}\n      {!autoScroll && (\n        <button\n          onClick={() => {\n            setAutoScroll(true);\n            messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n          }}\n          className=\"absolute bottom-24 right-8 bg-primary text-primary-foreground px-4 py-2 rounded-full shadow-lg hover:bg-primary/90 transition-colors\"\n        >\n           New messages\n        </button>\n      )}\n\n      {/* Input */}\n      <form onSubmit={handleSubmit} className=\"flex-none p-4 border-t border-border bg-background/50 backdrop-blur-sm\">\n        <div className=\"relative flex items-end gap-2 max-w-5xl mx-auto\">\n          <div className=\"flex-1 relative\">\n            <textarea\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSubmit(e);\n                }\n              }}\n              placeholder={isProcessing ? 'Processing...' : 'Type a message...'}\n              disabled={isProcessing}\n              className=\"w-full bg-secondary rounded-lg pl-4 pr-12 py-3 min-h-[48px] max-h-[200px] resize-none focus:outline-none focus:ring-2 focus:ring-primary\"\n              rows={1}\n            />\n            <button\n              type=\"button\"\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-foreground/60 hover:text-foreground rounded-lg transition-colors\"\n              title=\"AI Suggestions\"\n            >\n              <Sparkles className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <button\n            type=\"submit\"\n            disabled={!input.trim() || isProcessing}\n            className=\"flex-none p-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:hover:bg-primary transition-colors\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Wand2 } from 'lucide-react';\n\ninterface CanvasPromptProps {\n  onSubmit: (prompt: string) => Promise<void>;\n  isGenerating: boolean;\n}\n\nexport function CanvasPrompt({ onSubmit, isGenerating }: CanvasPromptProps) {\n  const [prompt, setPrompt] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!prompt.trim() || isGenerating) return;\n\n    await onSubmit(prompt.trim());\n    setPrompt('');\n  };\n\n  return (\n    <div className=\"absolute top-4 left-4 right-4 z-10\">\n      <form onSubmit={handleSubmit} className=\"max-w-2xl mx-auto\">\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Describe the interface you want to create...\"\n            className=\"w-full bg-white rounded-lg pl-4 pr-12 py-3 shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-500\"\n            disabled={isGenerating}\n          />\n          <button\n            type=\"submit\"\n            disabled={!prompt.trim() || isGenerating}\n            className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:hover:text-blue-600\"\n          >\n            <Wand2 className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}","import React from 'react';\nimport { \n  MousePointer, \n  Square, \n  Circle, \n  Type, \n  Pencil,\n  Undo,\n  Redo,\n  Code,\n  Download\n} from 'lucide-react';\n\ninterface CanvasToolbarProps {\n  selectedTool: string;\n  onToolChange: (tool: string) => void;\n  onShapeAdd: (type: string) => void;\n  onUndo?: () => void;\n  onRedo?: () => void;\n  onExport?: (format: string) => void;\n}\n\nexport function CanvasToolbar({\n  selectedTool,\n  onToolChange,\n  onShapeAdd,\n  onUndo,\n  onRedo,\n  onExport\n}: CanvasToolbarProps) {\n  return (\n    <div className=\"absolute left-4 top-20 bg-white rounded-lg shadow-lg p-2 space-y-2\">\n      <ToolButton\n        icon={MousePointer}\n        tooltip=\"Select\"\n        isSelected={selectedTool === 'select'}\n        onClick={() => onToolChange('select')}\n      />\n      <ToolButton\n        icon={Square}\n        tooltip=\"Rectangle\"\n        isSelected={selectedTool === 'rectangle'}\n        onClick={() => onShapeAdd('rectangle')}\n      />\n      <ToolButton\n        icon={Circle}\n        tooltip=\"Circle\"\n        isSelected={selectedTool === 'circle'}\n        onClick={() => onShapeAdd('circle')}\n      />\n      <ToolButton\n        icon={Type}\n        tooltip=\"Text\"\n        isSelected={selectedTool === 'text'}\n        onClick={() => onShapeAdd('text')}\n      />\n      <ToolButton\n        icon={Pencil}\n        tooltip=\"Draw\"\n        isSelected={selectedTool === 'draw'}\n        onClick={() => onToolChange('draw')}\n      />\n      <div className=\"border-t border-gray-200 my-2\" />\n      <ToolButton\n        icon={Undo}\n        tooltip=\"Undo\"\n        onClick={onUndo}\n        disabled={!onUndo}\n      />\n      <ToolButton\n        icon={Redo}\n        tooltip=\"Redo\"\n        onClick={onRedo}\n        disabled={!onRedo}\n      />\n      <div className=\"border-t border-gray-200 my-2\" />\n      <ToolButton\n        icon={Code}\n        tooltip=\"Export to React\"\n        onClick={() => onExport?.('react')}\n      />\n      <ToolButton\n        icon={Download}\n        tooltip=\"Export to HTML\"\n        onClick={() => onExport?.('html')}\n      />\n    </div>\n  );\n}\n\ninterface ToolButtonProps {\n  icon: typeof MousePointer;\n  tooltip: string;\n  isSelected?: boolean;\n  disabled?: boolean;\n  onClick: () => void;\n}\n\nfunction ToolButton({\n  icon: Icon,\n  tooltip,\n  isSelected,\n  disabled,\n  onClick\n}: ToolButtonProps) {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={`relative group p-2 rounded-lg transition-colors ${\n        isSelected\n          ? 'bg-blue-100 text-blue-700'\n          : 'hover:bg-gray-100 text-gray-700'\n      } ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}\n    >\n      <Icon className=\"w-5 h-5\" />\n      <span className=\"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\n        {tooltip}\n      </span>\n    </button>\n  );\n}","import React from 'react';\nimport { fabric } from 'fabric';\n\ninterface CanvasPropertiesProps {\n  selectedObject: fabric.Object | null;\n  onPropertyChange: (property: string, value: any) => void;\n}\n\nexport function CanvasProperties({\n  selectedObject,\n  onPropertyChange\n}: CanvasPropertiesProps) {\n  if (!selectedObject) return null;\n\n  return (\n    <div className=\"absolute right-4 top-20 bg-white rounded-lg shadow-lg p-4 w-64\">\n      <h3 className=\"text-lg font-semibold mb-4 text-gray-900\">Properties</h3>\n      \n      <div className=\"space-y-4\">\n        {/* Position */}\n        <div className=\"grid grid-cols-2 gap-2\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">X</label>\n            <input\n              type=\"number\"\n              value={Math.round(selectedObject.left || 0)}\n              onChange={(e) => onPropertyChange('left', parseInt(e.target.value))}\n              className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">Y</label>\n            <input\n              type=\"number\"\n              value={Math.round(selectedObject.top || 0)}\n              onChange={(e) => onPropertyChange('top', parseInt(e.target.value))}\n              className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n        </div>\n\n        {/* Size */}\n        <div className=\"grid grid-cols-2 gap-2\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">Width</label>\n            <input\n              type=\"number\"\n              value={Math.round(selectedObject.width || 0)}\n              onChange={(e) => onPropertyChange('width', parseInt(e.target.value))}\n              className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">Height</label>\n            <input\n              type=\"number\"\n              value={Math.round(selectedObject.height || 0)}\n              onChange={(e) => onPropertyChange('height', parseInt(e.target.value))}\n              className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n        </div>\n\n        {/* Style */}\n        {selectedObject.type === 'rect' && (\n          <>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Fill Color</label>\n              <input\n                type=\"color\"\n                value={selectedObject.fill?.toString() || '#000000'}\n                onChange={(e) => onPropertyChange('fill', e.target.value)}\n                className=\"w-full h-8 rounded cursor-pointer\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Border Color</label>\n              <input\n                type=\"color\"\n                value={selectedObject.stroke?.toString() || '#000000'}\n                onChange={(e) => onPropertyChange('stroke', e.target.value)}\n                className=\"w-full h-8 rounded cursor-pointer\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Border Width</label>\n              <input\n                type=\"number\"\n                value={selectedObject.strokeWidth || 0}\n                onChange={(e) => onPropertyChange('strokeWidth', parseInt(e.target.value))}\n                className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </>\n        )}\n\n        {/* Text Properties */}\n        {selectedObject.type === 'text' && (\n          <>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Text</label>\n              <input\n                type=\"text\"\n                value={(selectedObject as fabric.Text).text}\n                onChange={(e) => onPropertyChange('text', e.target.value)}\n                className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Font Size</label>\n              <input\n                type=\"number\"\n                value={(selectedObject as fabric.Text).fontSize || 16}\n                onChange={(e) => onPropertyChange('fontSize', parseInt(e.target.value))}\n                className=\"w-full px-2 py-1 border rounded text-gray-900 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1 text-gray-700\">Text Color</label>\n              <input\n                type=\"color\"\n                value={(selectedObject as fabric.Text).fill?.toString() || '#000000'}\n                onChange={(e) => onPropertyChange('fill', e.target.value)}\n                className=\"w-full h-8 rounded cursor-pointer\"\n              />\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}","import { fabric } from 'fabric';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport type { CanvasElement, CanvasState } from './types';\n\nexport class CanvasManager {\n  private static instance: CanvasManager;\n  private canvas: fabric.Canvas | null = null;\n  private state: CanvasState = {\n    elements: [],\n    selectedIds: [],\n    scale: 1,\n    history: {\n      past: [],\n      future: []\n    }\n  };\n\n  private constructor() {}\n\n  static getInstance(): CanvasManager {\n    if (!CanvasManager.instance) {\n      CanvasManager.instance = new CanvasManager();\n    }\n    return CanvasManager.instance;\n  }\n\n  initialize(canvas: fabric.Canvas): void {\n    this.canvas = canvas;\n    thoughtLogger.log('success', 'Canvas manager initialized');\n  }\n\n  addElement(element: Omit<CanvasElement, 'id'>): void {\n    if (!this.canvas) {\n      throw new Error('Canvas not initialized');\n    }\n\n    const id = crypto.randomUUID();\n    const fabricObject = this.createFabricObject({ ...element, id });\n    \n    this.canvas.add(fabricObject);\n    this.state.elements.push({ ...element, id });\n    this.saveToHistory();\n\n    thoughtLogger.log('success', 'Element added to canvas', { elementId: id });\n  }\n\n  private createFabricObject(element: CanvasElement): fabric.Object {\n    switch (element.type) {\n      case 'shape':\n        if (element.data.type === 'button') {\n          const group = new fabric.Group([], {\n            left: element.x,\n            top: element.y,\n            width: element.width,\n            height: element.height\n          });\n\n          const rect = new fabric.Rect({\n            width: element.width,\n            height: element.height,\n            fill: element.style.fill,\n            stroke: element.style.stroke,\n            strokeWidth: element.style.strokeWidth,\n            rx: 4,\n            ry: 4\n          });\n\n          const text = new fabric.Text(element.data.text || '', {\n            fontSize: 16,\n            fill: '#ffffff',\n            originX: 'center',\n            originY: 'center',\n            left: element.width / 2,\n            top: element.height / 2\n          });\n\n          group.addWithUpdate(rect);\n          group.addWithUpdate(text);\n          return group;\n        } else {\n          return new fabric.Rect({\n            left: element.x,\n            top: element.y,\n            width: element.width,\n            height: element.height,\n            fill: element.style.fill,\n            stroke: element.style.stroke,\n            strokeWidth: element.style.strokeWidth,\n            opacity: element.style.opacity\n          });\n        }\n\n      case 'text':\n        return new fabric.Text(element.data.text || '', {\n          left: element.x,\n          top: element.y,\n          fontSize: element.style.fontSize,\n          fontFamily: element.style.fontFamily,\n          fill: element.style.fill,\n          width: element.width\n        });\n\n      case 'image':\n        return new fabric.Image(element.data.src, {\n          left: element.x,\n          top: element.y,\n          width: element.width,\n          height: element.height\n        });\n\n      default:\n        throw new Error(`Unsupported element type: ${element.type}`);\n    }\n  }\n\n  updateElement(id: string, updates: Partial<CanvasElement>): void {\n    if (!this.canvas) {\n      throw new Error('Canvas not initialized');\n    }\n\n    const element = this.state.elements.find(e => e.id === id);\n    if (!element) return;\n\n    const fabricObject = this.canvas.getObjects().find(\n      obj => (obj as any).id === id\n    );\n\n    if (fabricObject) {\n      Object.assign(element, updates);\n      fabricObject.set(updates as any);\n      this.canvas.renderAll();\n      this.saveToHistory();\n    }\n  }\n\n  removeElement(id: string): void {\n    if (!this.canvas) {\n      throw new Error('Canvas not initialized');\n    }\n\n    const fabricObject = this.canvas.getObjects().find(\n      obj => (obj as any).id === id\n    );\n\n    if (fabricObject) {\n      this.canvas.remove(fabricObject);\n      this.state.elements = this.state.elements.filter(e => e.id !== id);\n      this.saveToHistory();\n    }\n  }\n\n  private saveToHistory(): void {\n    this.state.history.past.push([...this.state.elements]);\n    this.state.history.future = [];\n\n    // Limit history size\n    if (this.state.history.past.length > 50) {\n      this.state.history.past.shift();\n    }\n  }\n\n  undo(): void {\n    if (this.state.history.past.length === 0) return;\n\n    const current = this.state.elements;\n    const previous = this.state.history.past.pop()!;\n\n    this.state.history.future.push(current);\n    this.state.elements = previous;\n    this.redrawCanvas();\n  }\n\n  redo(): void {\n    if (this.state.history.future.length === 0) return;\n\n    const current = this.state.elements;\n    const next = this.state.history.future.pop()!;\n\n    this.state.history.past.push(current);\n    this.state.elements = next;\n    this.redrawCanvas();\n  }\n\n  private redrawCanvas(): void {\n    if (!this.canvas) return;\n\n    this.canvas.clear();\n    this.state.elements.forEach(element => {\n      const fabricObject = this.createFabricObject(element);\n      this.canvas.add(fabricObject);\n    });\n    this.canvas.renderAll();\n  }\n\n  exportToCode(format: 'react' | 'html'): string {\n    switch (format) {\n      case 'react':\n        return this.generateReactCode();\n      case 'html':\n        return this.generateHTMLCode();\n      default:\n        throw new Error(`Unsupported export format: ${format}`);\n    }\n  }\n\n  private generateReactCode(): string {\n    const components = this.state.elements.map(element => {\n      switch (element.type) {\n        case 'text':\n          return `<Text\n  style={{\n    position: 'absolute',\n    left: ${element.x},\n    top: ${element.y},\n    fontSize: ${element.style.fontSize},\n    fontFamily: '${element.style.fontFamily}',\n    color: '${element.style.fill}'\n  }}\n>\n  ${element.data.text}\n</Text>`;\n        case 'shape':\n          if (element.data.type === 'button') {\n            return `<Button\n  style={{\n    position: 'absolute',\n    left: ${element.x},\n    top: ${element.y},\n    width: ${element.width},\n    height: ${element.height},\n    backgroundColor: '${element.style.fill}',\n    border: '${element.style.strokeWidth}px solid ${element.style.stroke}'\n  }}\n>\n  ${element.data.text}\n</Button>`;\n          }\n          return `<div\n  style={{\n    position: 'absolute',\n    left: ${element.x},\n    top: ${element.y},\n    width: ${element.width},\n    height: ${element.height},\n    backgroundColor: '${element.style.fill}',\n    border: '${element.style.strokeWidth}px solid ${element.style.stroke}',\n    opacity: ${element.style.opacity}\n  }}\n/>`;\n        default:\n          return '';\n      }\n    });\n\n    return `export default function GeneratedComponent() {\n  return (\n    <div className=\"relative\">\n      ${components.join('\\n      ')}\n    </div>\n  );\n}`;\n  }\n\n  private generateHTMLCode(): string {\n    const styles = this.state.elements.map((element, index) => {\n      return `.element-${index} {\n  position: absolute;\n  left: ${element.x}px;\n  top: ${element.y}px;\n  ${element.type === 'text' ? `\n  font-size: ${element.style.fontSize}px;\n  font-family: ${element.style.fontFamily};\n  color: ${element.style.fill};` : `\n  width: ${element.width}px;\n  height: ${element.height}px;\n  background-color: ${element.style.fill};\n  border: ${element.style.strokeWidth}px solid ${element.style.stroke};\n  opacity: ${element.style.opacity};`}\n}`;\n    }).join('\\n\\n');\n\n    const elements = this.state.elements.map((element, index) => {\n      switch (element.type) {\n        case 'text':\n          return `<div class=\"element-${index}\">${element.data.text}</div>`;\n        case 'shape':\n          if (element.data.type === 'button') {\n            return `<button class=\"element-${index}\">${element.data.text}</button>`;\n          }\n          return `<div class=\"element-${index}\"></div>`;\n        default:\n          return '';\n      }\n    });\n\n    return `<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    .container {\n      position: relative;\n      width: 100%;\n      height: 100vh;\n    }\n    ${styles}\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    ${elements.join('\\n    ')}\n  </div>\n</body>\n</html>`;\n  }\n}","import { config } from './index';\n\nexport const models = {\n  // Groq Models\n  groq: {\n    simple: {\n      id: 'llama-3.2-3b-preview',\n      description: 'Simple tasks and quick responses',\n      maxTokens: 2048,\n      temperature: 0.7,\n      capabilities: ['basic-chat', 'simple-tasks']\n    },\n    balanced: {\n      id: 'llama-3.2-7b-preview',\n      description: 'Balanced performance for general tasks',\n      maxTokens: 4096,\n      temperature: 0.7,\n      capabilities: ['general-chat', 'code-generation', 'analysis']\n    },\n    advanced: {\n      id: 'llama-3.2-70b-preview',\n      description: 'Complex tasks and advanced reasoning',\n      maxTokens: 8192,\n      temperature: 0.7,\n      capabilities: ['complex-reasoning', 'expert-analysis', 'advanced-code']\n    },\n    toolUse: {\n      id: 'llama3-groq-70b-8192-tool-use-preview',\n      description: 'Advanced tool use and reasoning',\n      maxTokens: 8192,\n      temperature: 0.7,\n      capabilities: ['tool-use', 'system-integration', 'workflow-automation']\n    }\n  },\n\n  // Perplexity Models\n  perplexity: {\n    small: {\n      id: 'llama-3.1-sonar-small-128k-online',\n      description: '8B parameters, efficient for simple searches',\n      maxTokens: 2048,\n      temperature: 0.7,\n      capabilities: ['web-search', 'information-retrieval']\n    },\n    large: {\n      id: 'llama-3.1-sonar-large-128k-online',\n      description: '70B parameters, comprehensive search',\n      maxTokens: 4096,\n      temperature: 0.7,\n      capabilities: ['advanced-search', 'data-synthesis', 'current-events']\n    },\n    huge: {\n      id: 'llama-3.1-sonar-huge-128k-online',\n      description: '405B parameters, expert search and analysis',\n      maxTokens: 8192,\n      temperature: 0.7,\n      capabilities: ['expert-search', 'deep-analysis', 'comprehensive-research']\n    }\n  },\n\n  // X.AI Models\n  xai: {\n    grokBeta: {\n      id: 'grok-beta',\n      description: 'Expert-level queries and complex reasoning',\n      maxTokens: 4096,\n      temperature: 0.7,\n      capabilities: ['expert-queries', 'complex-reasoning', 'advanced-analysis']\n    }\n  },\n\n  // Qwen Models\n  qwen: {\n    coder: {\n      id: 'Qwen/Qwen2.5-Coder-32B-Instruct',\n      description: 'Specialized code generation and analysis',\n      maxTokens: 2048,\n      temperature: 0.2,\n      capabilities: [\n        'code-generation',\n        'code-review',\n        'refactoring',\n        'documentation',\n        'debugging'\n      ]\n    }\n  },\n\n  // Granite Models\n  granite: {\n    codeBase: {\n      id: 'granite-3b-code-base-2k',\n      description: 'Code-focused tasks and development',\n      maxTokens: 2048,\n      temperature: 0.7,\n      capabilities: ['code-generation', 'code-review', 'technical-documentation']\n    }\n  }\n};\n\nexport function selectModel(task: string, complexity: number = 0.5): string {\n  // Code-related tasks\n  if (task.toLowerCase().includes('code') || task.toLowerCase().includes('program')) {\n    if (complexity > 0.7) {\n      return models.qwen.coder.id; // Use Qwen for complex coding tasks\n    }\n    return complexity > 0.5 ? models.groq.advanced.id : models.granite.codeBase.id;\n  }\n\n  // Search and information tasks\n  if (task.toLowerCase().includes('search') || task.toLowerCase().includes('find')) {\n    if (complexity > 0.8) return models.perplexity.huge.id;\n    if (complexity > 0.5) return models.perplexity.large.id;\n    return models.perplexity.small.id;\n  }\n\n  // Expert-level queries\n  if (complexity > 0.8) {\n    return models.xai.grokBeta.id;\n  }\n\n  // General tasks based on complexity\n  if (complexity > 0.7) return models.groq.advanced.id;\n  if (complexity > 0.4) return models.groq.balanced.id;\n  return models.groq.simple.id;\n}\n\nexport function getModelCapabilities(modelId: string): string[] {\n  const allModels = [\n    ...Object.values(models.groq),\n    ...Object.values(models.perplexity),\n    ...Object.values(models.xai),\n    ...Object.values(models.qwen),\n    ...Object.values(models.granite)\n  ];\n\n  const model = allModels.find(m => m.id === modelId);\n  return model?.capabilities || [];\n}\n\nexport function validateApiKeys(): boolean {\n  const requiredKeys = {\n    groq: config.apiKeys.groq,\n    perplexity: config.apiKeys.perplexity,\n    xai: config.apiKeys.xai,\n    huggingface: config.apiKeys.huggingface\n  };\n\n  return Object.entries(requiredKeys).every(([provider, key]) => {\n    const hasKey = Boolean(key);\n    if (!hasKey) {\n      thoughtLogger.log('warning', `Missing API key for ${provider}`);\n    }\n    return hasKey;\n  });\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { Message } from '../types';\nimport { models, selectModel, getModelCapabilities } from '../config/models';\n\nexport interface RouterConfig {\n  model: string;\n  maxTokens: number;\n  temperature: number;\n  confidence: number;\n  responseStrategy?: 'stream' | 'complete';\n}\n\nexport class ModelRouter {\n  private static instance: ModelRouter;\n  private initialized = false;\n\n  private constructor() {}\n\n  static getInstance(): ModelRouter {\n    if (!ModelRouter.instance) {\n      ModelRouter.instance = new ModelRouter();\n    }\n    return ModelRouter.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      // Validate model configurations\n      this.validateModelConfigs();\n      this.initialized = true;\n      thoughtLogger.log('success', 'Model router initialized');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize model router', { error });\n      throw error;\n    }\n  }\n\n  private validateModelConfigs(): void {\n    const requiredModels = [\n      models.xai.grokBeta.id,\n      models.groq.advanced.id,\n      models.perplexity.large.id,\n      models.granite.codeBase.id\n    ];\n\n    const missingModels = requiredModels.filter(model => !model);\n    if (missingModels.length > 0) {\n      throw new Error(`Missing required model configurations: ${missingModels.join(', ')}`);\n    }\n  }\n\n  async route(query: string, history: Message[]): Promise<RouterConfig> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    thoughtLogger.log('reasoning', 'Analyzing query for model selection');\n\n    const complexity = this.assessComplexity(query);\n    const selectedModel = selectModel(query, complexity);\n    const capabilities = getModelCapabilities(selectedModel);\n\n    thoughtLogger.log('decision', `Selected model: ${selectedModel}`, {\n      complexity,\n      capabilities\n    });\n\n    // Find model configuration\n    const modelConfig = Object.values({\n      ...models.groq,\n      ...models.perplexity,\n      ...models.xai,\n      ...models.granite\n    }).find(m => m.id === selectedModel);\n\n    if (!modelConfig) {\n      throw new Error(`Model configuration not found for ${selectedModel}`);\n    }\n\n    return {\n      model: modelConfig.id,\n      maxTokens: modelConfig.maxTokens,\n      temperature: modelConfig.temperature,\n      confidence: this.calculateConfidence(complexity, capabilities),\n      responseStrategy: this.determineResponseStrategy(query, complexity)\n    };\n  }\n\n  private assessComplexity(query: string): number {\n    const factors = {\n      length: Math.min(query.length / 500, 1),\n      questionWords: (query.match(/\\b(how|why|what|when|where|who)\\b/gi) || []).length * 0.1,\n      technicalTerms: (query.match(/\\b(algorithm|function|process|system|analyze)\\b/gi) || []).length * 0.15,\n      codeRelated: /\\b(code|program|debug|function|api)\\b/i.test(query) ? 0.3 : 0,\n      multipleSteps: (query.match(/\\b(and|then|after|before|finally)\\b/gi) || []).length * 0.1\n    };\n\n    return Math.min(\n      Object.values(factors).reduce((sum, value) => sum + value, 0),\n      1\n    );\n  }\n\n  private calculateConfidence(complexity: number, capabilities: string[]): number {\n    // Base confidence on complexity and capability match\n    const baseConfidence = 0.7;\n    const complexityFactor = 1 - (complexity * 0.3); // Lower confidence for higher complexity\n    const capabilityBonus = capabilities.length * 0.05; // Bonus for each relevant capability\n\n    return Math.min(baseConfidence + capabilityBonus * complexityFactor, 1);\n  }\n\n  private determineResponseStrategy(query: string, complexity: number): 'stream' | 'complete' {\n    // Use streaming for complex or long-form responses\n    if (complexity > 0.7 || query.length > 200) {\n      return 'stream';\n    }\n    return 'complete';\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { CanvasManager } from './canvas-manager';\nimport { ModelRouter } from '../routing/model-router';\nimport type { CanvasElement, DesignSpec } from './types';\nimport { fabric } from 'fabric';\n\nexport class AIDesigner {\n  private static instance: AIDesigner;\n  private canvasManager: CanvasManager;\n  private modelRouter: ModelRouter;\n\n  private constructor() {\n    this.canvasManager = CanvasManager.getInstance();\n    this.modelRouter = new ModelRouter();\n  }\n\n  static getInstance(): AIDesigner {\n    if (!AIDesigner.instance) {\n      AIDesigner.instance = new AIDesigner();\n    }\n    return AIDesigner.instance;\n  }\n\n  async generateDesign(prompt: string, canvas: fabric.Canvas): Promise<void> {\n    thoughtLogger.log('plan', 'Generating design from prompt', { prompt });\n\n    try {\n      // Route to appropriate model for design generation\n      const routerConfig = await this.modelRouter.route(prompt, []);\n\n      // Generate design specification\n      const designSpec = await this.generateDesignSpec(prompt, routerConfig);\n\n      // Clear canvas\n      canvas.clear();\n\n      // Create layout containers\n      for (const layout of designSpec.layout) {\n        const container = new fabric.Rect({\n          left: layout.x,\n          top: layout.y,\n          width: layout.width,\n          height: layout.height,\n          fill: 'transparent',\n          stroke: '#e5e7eb',\n          strokeWidth: 1,\n          strokeDashArray: [5, 5],\n          selectable: false\n        });\n        canvas.add(container);\n      }\n\n      // Create components\n      for (const component of designSpec.components) {\n        let element: fabric.Object;\n\n        switch (component.type) {\n          case 'text':\n            element = new fabric.Text(component.text || '', {\n              left: component.x,\n              top: component.y,\n              fontSize: this.getFontSize(component.variant || 'body'),\n              fontFamily: 'Inter',\n              fill: '#1f2937'\n            });\n            break;\n\n          case 'button':\n            const buttonGroup = new fabric.Group([], {\n              left: component.x,\n              top: component.y\n            });\n\n            const buttonBg = new fabric.Rect({\n              width: component.width || 120,\n              height: component.height || 40,\n              fill: '#3b82f6',\n              rx: 6,\n              ry: 6\n            });\n\n            const buttonText = new fabric.Text(component.text || 'Button', {\n              fontSize: 14,\n              fill: '#ffffff',\n              originX: 'center',\n              originY: 'center',\n              left: (component.width || 120) / 2,\n              top: (component.height || 40) / 2\n            });\n\n            buttonGroup.addWithUpdate(buttonBg);\n            buttonGroup.addWithUpdate(buttonText);\n            element = buttonGroup;\n            break;\n\n          case 'input':\n            const inputGroup = new fabric.Group([], {\n              left: component.x,\n              top: component.y\n            });\n\n            const inputBg = new fabric.Rect({\n              width: component.width || 200,\n              height: component.height || 40,\n              fill: '#ffffff',\n              stroke: '#d1d5db',\n              strokeWidth: 1,\n              rx: 6,\n              ry: 6\n            });\n\n            const placeholder = new fabric.Text(component.text || 'Enter text...', {\n              fontSize: 14,\n              fill: '#9ca3af',\n              left: 12,\n              top: (component.height || 40) / 2 - 7\n            });\n\n            inputGroup.addWithUpdate(inputBg);\n            inputGroup.addWithUpdate(placeholder);\n            element = inputGroup;\n            break;\n\n          default:\n            element = new fabric.Rect({\n              left: component.x,\n              top: component.y,\n              width: component.width || 100,\n              height: component.height || 100,\n              fill: '#ffffff',\n              stroke: '#d1d5db',\n              strokeWidth: 1\n            });\n        }\n\n        // Apply styles\n        if (designSpec.styles[component.type]) {\n          element.set(designSpec.styles[component.type]);\n        }\n\n        canvas.add(element);\n      }\n\n      canvas.renderAll();\n      thoughtLogger.log('success', 'Design generated successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to generate design', { error });\n      throw error;\n    }\n  }\n\n  private async generateDesignSpec(prompt: string, config: any): Promise<DesignSpec> {\n    // This would normally call an LLM to generate the design spec\n    // For now, return a simple example spec\n    return {\n      layout: [\n        {\n          type: 'container',\n          x: 50,\n          y: 50,\n          width: 800,\n          height: 600,\n          name: 'main'\n        }\n      ],\n      components: [\n        {\n          type: 'text',\n          x: 100,\n          y: 100,\n          text: 'Welcome to Your Design',\n          variant: 'h1'\n        },\n        {\n          type: 'button',\n          x: 100,\n          y: 200,\n          width: 120,\n          height: 40,\n          text: 'Get Started'\n        },\n        {\n          type: 'input',\n          x: 100,\n          y: 300,\n          width: 200,\n          height: 40,\n          text: 'Enter your email...'\n        }\n      ],\n      styles: {\n        text: {\n          fontFamily: 'Inter',\n          fill: '#1f2937'\n        },\n        button: {\n          fill: '#3b82f6',\n          stroke: null\n        },\n        input: {\n          fill: '#ffffff',\n          stroke: '#d1d5db',\n          strokeWidth: 1\n        }\n      }\n    };\n  }\n\n  private getFontSize(variant: string): number {\n    switch (variant) {\n      case 'h1': return 40;\n      case 'h2': return 32;\n      case 'h3': return 28;\n      case 'h4': return 24;\n      case 'h5': return 20;\n      case 'h6': return 18;\n      case 'body': return 16;\n      case 'small': return 14;\n      default: return 16;\n    }\n  }\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { fabric } from 'fabric';\nimport { CanvasPrompt } from '../canvas/CanvasPrompt';\nimport { CanvasToolbar } from '../canvas/CanvasToolbar';\nimport { CanvasProperties } from '../canvas/CanvasProperties';\nimport { AIDesigner } from '../../lib/canvas/ai-designer';\nimport { CanvasManager } from '../../lib/canvas/canvas-manager';\nimport { useToast } from '../../hooks/useToast';\n\nexport function CanvasPanel() {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [fabricCanvas, setFabricCanvas] = useState<fabric.Canvas | null>(null);\n  const [selectedObject, setSelectedObject] = useState<fabric.Object | null>(null);\n  const [selectedTool, setSelectedTool] = useState('select');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const { addToast } = useToast();\n\n  useEffect(() => {\n    if (canvasRef.current && !fabricCanvas) {\n      const canvas = new fabric.Canvas(canvasRef.current, {\n        width: window.innerWidth - 300,\n        height: window.innerHeight - 100,\n        backgroundColor: '#ffffff'\n      });\n\n      canvas.on('selection:created', (e) => setSelectedObject(e.selected?.[0] || null));\n      canvas.on('selection:updated', (e) => setSelectedObject(e.selected?.[0] || null));\n      canvas.on('selection:cleared', () => setSelectedObject(null));\n\n      setFabricCanvas(canvas);\n      CanvasManager.getInstance().initialize(canvas);\n\n      const handleResize = () => {\n        canvas.setDimensions({\n          width: window.innerWidth - 300,\n          height: window.innerHeight - 100\n        });\n      };\n\n      window.addEventListener('resize', handleResize);\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        canvas.dispose();\n      };\n    }\n  }, [fabricCanvas]);\n\n  const handlePromptSubmit = async (prompt: string) => {\n    if (!fabricCanvas) return;\n    \n    setIsGenerating(true);\n    try {\n      await AIDesigner.getInstance().generateDesign(prompt, fabricCanvas);\n      addToast({\n        type: 'success',\n        message: 'Design generated successfully'\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        title: 'Failed to generate design',\n        message: error instanceof Error ? error.message : 'An unknown error occurred'\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleShapeAdd = (type: string) => {\n    if (!fabricCanvas) return;\n\n    let shape: fabric.Object;\n    const center = fabricCanvas.getCenter();\n\n    switch (type) {\n      case 'rectangle':\n        shape = new fabric.Rect({\n          left: center.left - 50,\n          top: center.top - 25,\n          width: 100,\n          height: 50,\n          fill: '#3B82F6',\n          stroke: '#2563EB',\n          strokeWidth: 1\n        });\n        break;\n      case 'circle':\n        shape = new fabric.Circle({\n          left: center.left - 25,\n          top: center.top - 25,\n          radius: 25,\n          fill: '#3B82F6',\n          stroke: '#2563EB',\n          strokeWidth: 1\n        });\n        break;\n      case 'text':\n        shape = new fabric.Text('Text', {\n          left: center.left - 25,\n          top: center.top - 12,\n          fontSize: 24,\n          fill: '#1F2937'\n        });\n        break;\n      default:\n        return;\n    }\n\n    fabricCanvas.add(shape);\n    fabricCanvas.setActiveObject(shape);\n    fabricCanvas.renderAll();\n  };\n\n  const handlePropertyChange = (property: string, value: any) => {\n    if (!selectedObject) return;\n\n    selectedObject.set(property, value);\n    fabricCanvas?.renderAll();\n  };\n\n  const handleUndo = () => {\n    CanvasManager.getInstance().undo();\n  };\n\n  const handleRedo = () => {\n    CanvasManager.getInstance().redo();\n  };\n\n  const handleExport = async (format: 'react' | 'html') => {\n    try {\n      const code = CanvasManager.getInstance().exportToCode(format);\n      const blob = new Blob([code], { type: 'text/plain' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `design.${format === 'react' ? 'tsx' : 'html'}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      addToast({\n        type: 'success',\n        message: `Design exported as ${format.toUpperCase()} successfully`\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        title: 'Export failed',\n        message: error instanceof Error ? error.message : 'Failed to export design'\n      });\n    }\n  };\n\n  return (\n    <div className=\"relative flex-1 bg-gray-50\">\n      <CanvasPrompt onSubmit={handlePromptSubmit} isGenerating={isGenerating} />\n      \n      <CanvasToolbar\n        selectedTool={selectedTool}\n        onToolChange={setSelectedTool}\n        onShapeAdd={handleShapeAdd}\n        onUndo={handleUndo}\n        onRedo={handleRedo}\n        onExport={handleExport}\n      />\n\n      {selectedObject && (\n        <CanvasProperties\n          selectedObject={selectedObject}\n          onPropertyChange={handlePropertyChange}\n        />\n      )}\n\n      <canvas ref={canvasRef} className=\"absolute inset-0\" />\n\n      {isGenerating && (\n        <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\n          <div className=\"bg-white rounded-lg p-6 shadow-xl\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\" />\n            <p className=\"mt-4 text-gray-900\">Generating design...</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { AgentMessage } from '../types';\n\nexport class MessageQueue {\n  private queue: AgentMessage[] = [];\n  private processing = false;\n  private handlers: Map<string, (message: AgentMessage) => Promise<void>> = new Map();\n\n  async enqueue(message: AgentMessage): Promise<void> {\n    this.queue.push(message);\n    if (!this.processing) {\n      await this.processQueue();\n    }\n  }\n\n  registerHandler(type: string, handler: (message: AgentMessage) => Promise<void>): void {\n    this.handlers.set(type, handler);\n  }\n\n  private async processQueue(): Promise<void> {\n    if (this.processing || this.queue.length === 0) return;\n\n    this.processing = true;\n    try {\n      while (this.queue.length > 0) {\n        const message = this.queue.shift()!;\n        const handler = this.handlers.get(message.type);\n        if (handler) {\n          await handler(message);\n        }\n      }\n    } finally {\n      this.processing = false;\n    }\n  }\n\n  clear(): void {\n    this.queue = [];\n    this.processing = false;\n  }\n\n  getQueueLength(): number {\n    return this.queue.length;\n  }\n}","import { EventEmitter } from '../../events/event-emitter';\nimport { AgentConfig, AgentMessage, AgentState, AgentStatus } from '../types';\nimport { MessageQueue } from './message-queue';\n\nexport abstract class BaseAgent extends EventEmitter {\n  protected config: AgentConfig;\n  protected state: AgentState;\n  protected messageQueue: MessageQueue;\n  private subordinates: Map<string, BaseAgent> = new Map();\n\n  constructor(config: AgentConfig) {\n    super();\n    this.config = config;\n    this.messageQueue = new MessageQueue();\n    this.state = {\n      id: config.id,\n      status: 'idle',\n      subordinates: [],\n      lastActive: Date.now(),\n      metrics: {\n        tasksCompleted: 0,\n        successRate: 1,\n        averageResponseTime: 0\n      }\n    };\n  }\n\n  abstract processMessage(message: AgentMessage): Promise<void>;\n  abstract executeTask(task: string): Promise<unknown>;\n\n  async sendMessage(message: Omit<AgentMessage, 'id' | 'timestamp'>): Promise<void> {\n    const fullMessage: AgentMessage = {\n      ...message,\n      id: crypto.randomUUID(),\n      timestamp: Date.now()\n    };\n\n    await this.messageQueue.enqueue(fullMessage);\n    this.emit('message-sent', fullMessage);\n  }\n\n  async addSubordinate(agent: BaseAgent): Promise<void> {\n    this.subordinates.set(agent.getId(), agent);\n    this.state.subordinates.push(agent.getId());\n    this.emit('subordinate-added', agent.getId());\n  }\n\n  async removeSubordinate(agentId: string): Promise<void> {\n    const agent = this.subordinates.get(agentId);\n    if (agent) {\n      this.subordinates.delete(agentId);\n      this.state.subordinates = this.state.subordinates.filter(id => id !== agentId);\n      this.emit('subordinate-removed', agentId);\n    }\n  }\n\n  setStatus(status: AgentStatus): void {\n    this.state.status = status;\n    this.state.lastActive = Date.now();\n    this.emit('status-changed', status);\n  }\n\n  getId(): string {\n    return this.config.id;\n  }\n\n  getRole(): string {\n    return this.config.role;\n  }\n\n  getState(): AgentState {\n    return { ...this.state };\n  }\n\n  getSubordinates(): BaseAgent[] {\n    return Array.from(this.subordinates.values());\n  }\n\n  protected async delegateTask(task: string, targetAgentId: string): Promise<void> {\n    const agent = this.subordinates.get(targetAgentId);\n    if (!agent) {\n      throw new Error(`Agent ${targetAgentId} not found`);\n    }\n\n    await this.sendMessage({\n      from: this.config.id,\n      to: targetAgentId,\n      content: task,\n      type: 'command'\n    });\n  }\n\n  protected updateMetrics(success: boolean, responseTime: number): void {\n    const { metrics } = this.state;\n    metrics.tasksCompleted++;\n    metrics.successRate = (metrics.successRate * (metrics.tasksCompleted - 1) + (success ? 1 : 0)) / metrics.tasksCompleted;\n    metrics.averageResponseTime = (metrics.averageResponseTime * (metrics.tasksCompleted - 1) + responseTime) / metrics.tasksCompleted;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { Message } from '../types';\nimport { config } from '../config';\n\nexport interface RouterConfig {\n  model: string;\n  maxTokens: number;\n  temperature: number;\n  confidence: number;\n}\n\nexport class ModelRouter {\n  private static instance: ModelRouter;\n  private initialized = false;\n\n  private constructor() {}\n\n  static getInstance(): ModelRouter {\n    if (!ModelRouter.instance) {\n      ModelRouter.instance = new ModelRouter();\n    }\n    return ModelRouter.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      // Validate model configurations\n      this.validateModelConfigs();\n      this.initialized = true;\n      thoughtLogger.log('success', 'Model router initialized');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize model router', { error });\n      throw error;\n    }\n  }\n\n  private validateModelConfigs(): void {\n    const requiredModels = [\n      config.services.xai.defaultModel,\n      config.services.groq.models.large,\n      config.services.perplexity.defaultModel\n    ];\n\n    const missingModels = requiredModels.filter(model => !model);\n    if (missingModels.length > 0) {\n      throw new Error(`Missing required model configurations: ${missingModels.join(', ')}`);\n    }\n  }\n\n  async route(query: string, history: Message[]): Promise<RouterConfig> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    thoughtLogger.log('reasoning', 'Analyzing query for model selection');\n\n    const complexity = this.assessComplexity(query);\n    const contextLength = this.calculateContextLength(history);\n    const requiresCode = this.requiresCodeExecution(query);\n    const requiresSearch = this.requiresSearch(query);\n\n    thoughtLogger.log('observation', 'Query analysis complete', {\n      complexity,\n      contextLength,\n      requiresCode,\n      requiresSearch\n    });\n\n    // Route based on requirements\n    if (requiresCode) {\n      return {\n        model: config.services.groq.models.medium,\n        maxTokens: 4096,\n        temperature: 0.7,\n        confidence: 0.9\n      };\n    }\n\n    if (requiresSearch) {\n      return {\n        model: config.services.perplexity.defaultModel,\n        maxTokens: config.services.perplexity.maxTokens,\n        temperature: config.services.perplexity.temperature,\n        confidence: 0.9\n      };\n    }\n\n    if (complexity > 0.8 || contextLength > 8000) {\n      return {\n        model: config.services.xai.defaultModel,\n        maxTokens: config.services.xai.maxTokens,\n        temperature: config.services.xai.temperature,\n        confidence: 0.95\n      };\n    }\n\n    return {\n      model: config.services.groq.models.large,\n      maxTokens: config.services.groq.maxTokens,\n      temperature: config.services.groq.temperature,\n      confidence: 0.85\n    };\n  }\n\n  private assessComplexity(query: string): number {\n    const factors = {\n      length: Math.min(query.length / 500, 1),\n      questionWords: (query.match(/\\b(how|why|what|when|where|who)\\b/gi) || []).length * 0.1,\n      technicalTerms: (query.match(/\\b(algorithm|function|process|system|analyze)\\b/gi) || []).length * 0.15,\n      codeRelated: /\\b(code|program|debug|function|api)\\b/i.test(query) ? 0.3 : 0,\n      multipleSteps: (query.match(/\\b(and|then|after|before|finally)\\b/gi) || []).length * 0.1\n    };\n\n    return Math.min(\n      Object.values(factors).reduce((sum, value) => sum + value, 0),\n      1\n    );\n  }\n\n  private calculateContextLength(history: Message[]): number {\n    return history.reduce((sum, msg) => sum + msg.content.length, 0);\n  }\n\n  private requiresCodeExecution(query: string): boolean {\n    return /\\b(code|function|program|algorithm|implement|debug|compile|execute)\\b/i.test(query);\n  }\n\n  private requiresSearch(query: string): boolean {\n    return /\\b(search|find|look up|latest|current|news|information about|tell me about)\\b/i.test(query);\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { AppError, APIError, NetworkError } from './AppError';\nimport { thoughtLogger } from '../logging/thought-logger';\n\nexport class ErrorHandler {\n  static handle(error: unknown): { message: string; details?: any } {\n    let message: string;\n    let details: any;\n\n    if (error instanceof APIError) {\n      message = this.getAPIErrorMessage(error);\n      details = {\n        statusCode: error.statusCode,\n        response: error.response,\n        ...error.details\n      };\n    } else if (error instanceof AppError) {\n      message = error.message;\n      details = error.details;\n    } else if (error instanceof Error) {\n      message = error.message;\n      details = { stack: error.stack };\n    } else {\n      message = String(error);\n    }\n\n    thoughtLogger.log('error', message, details);\n    return { message, details };\n  }\n\n  static async handleAsync<T>(\n    promise: Promise<T>\n  ): Promise<[T | null, Error | null]> {\n    try {\n      const result = await promise;\n      return [result, null];\n    } catch (error) {\n      const handled = error instanceof Error ? error : new Error(String(error));\n      return [null, handled];\n    }\n  }\n\n  static createAPIError(response: Response, data?: any): APIError {\n    const message = this.getErrorMessageFromResponse(response, data);\n    return new APIError(message, response.status, response, data);\n  }\n\n  private static getAPIErrorMessage(error: APIError): string {\n    if (error.response) {\n      return this.getErrorMessageFromResponse(error.response, error.details);\n    }\n    return error.message || 'API request failed';\n  }\n\n  private static getErrorMessageFromResponse(response: Response, data?: any): string {\n    if (data?.message) {\n      return data.message;\n    }\n    if (data?.error) {\n      return typeof data.error === 'string' ? data.error : JSON.stringify(data.error);\n    }\n    return `${response.status} ${response.statusText}`;\n  }\n\n  static isNetworkError(error: unknown): boolean {\n    return (\n      error instanceof TypeError &&\n      error.message.includes('Failed to fetch')\n    ) || !navigator.onLine;\n  }\n\n  static isAPIError(error: unknown): error is APIError {\n    return error instanceof APIError;\n  }\n}","import { BaseAgent } from './core/base-agent';\nimport { AgentMessage, AgentConfig } from './types';\nimport { ModelRouter } from '../routing/router';\nimport { ErrorHandler } from '../errors/ErrorHandler';\n\nexport class PrimaryAgent extends BaseAgent {\n  private router: ModelRouter;\n\n  constructor(config: AgentConfig) {\n    super({ ...config, role: 'primary' });\n    this.router = new ModelRouter();\n\n    // Register message handlers\n    this.messageQueue.registerHandler('command', this.handleCommand.bind(this));\n    this.messageQueue.registerHandler('report', this.handleReport.bind(this));\n    this.messageQueue.registerHandler('query', this.handleQuery.bind(this));\n  }\n\n  async processMessage(message: AgentMessage): Promise<void> {\n    const startTime = Date.now();\n    try {\n      this.setStatus('active');\n\n      // Route message based on complexity\n      const routerConfig = await this.router.route(message.content, []);\n      \n      if (this.shouldDelegateToSpecialist(routerConfig)) {\n        await this.delegateToSpecialist(message, routerConfig);\n      } else {\n        await this.executeTask(message.content);\n      }\n\n      this.updateMetrics(true, Date.now() - startTime);\n    } catch (error) {\n      this.updateMetrics(false, Date.now() - startTime);\n      throw error;\n    } finally {\n      this.setStatus('idle');\n    }\n  }\n\n  async executeTask(task: string): Promise<unknown> {\n    try {\n      // Primary agent's direct task execution logic\n      return { status: 'completed', task };\n    } catch (error) {\n      const handled = ErrorHandler.handle(error);\n      throw new Error(`Task execution failed: ${handled.message}`);\n    }\n  }\n\n  private async handleCommand(message: AgentMessage): Promise<void> {\n    // Handle commands from user\n    await this.processMessage(message);\n  }\n\n  private async handleReport(message: AgentMessage): Promise<void> {\n    // Process reports from subordinates\n    this.emit('report-received', message);\n  }\n\n  private async handleQuery(message: AgentMessage): Promise<void> {\n    // Handle queries from subordinates or user\n    const response = await this.executeTask(message.content);\n    await this.sendMessage({\n      from: this.config.id,\n      to: message.from,\n      content: JSON.stringify(response),\n      type: 'response'\n    });\n  }\n\n  private shouldDelegateToSpecialist(routerConfig: any): boolean {\n    return routerConfig.model.includes('3b') || routerConfig.model.includes('7b');\n  }\n\n  private async delegateToSpecialist(message: AgentMessage, routerConfig: any): Promise<void> {\n    const specialists = this.getSubordinates().filter(agent => \n      agent.getRole() === 'specialist'\n    );\n\n    if (specialists.length === 0) {\n      throw new Error('No specialist agents available');\n    }\n\n    // Select appropriate specialist based on model tier\n    const specialist = specialists.find(agent => \n      (agent as any).getModelTier() === routerConfig.model\n    );\n\n    if (specialist) {\n      await this.delegateTask(message.content, specialist.getId());\n    } else {\n      throw new Error(`No specialist available for model ${routerConfig.model}`);\n    }\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\n\nexport class WebDataTools {\n  private static instance: WebDataTools;\n\n  private constructor() {}\n\n  static getInstance(): WebDataTools {\n    if (!WebDataTools.instance) {\n      WebDataTools.instance = new WebDataTools();\n    }\n    return WebDataTools.instance;\n  }\n\n  async scrapeGitHubLinks(url: string): Promise<any[]> {\n    thoughtLogger.log('execution', `Scraping GitHub links from ${url}`);\n\n    try {\n      const response = await fetch(url);\n      const html = await response.text();\n      \n      // Parse HTML and extract repository links\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(html, 'text/html');\n      \n      const links = Array.from(doc.querySelectorAll('a[href*=\"github.com\"]'))\n        .map(link => ({\n          title: link.textContent?.trim() || '',\n          url: link.getAttribute('href') || '',\n          category: this.findCategory(link)\n        }))\n        .filter(link => link.url.includes('github.com') && !link.url.includes('github.com/search'));\n\n      thoughtLogger.log('success', `Found ${links.length} repository links`);\n      return links;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to scrape GitHub links', { error });\n      throw new AppError('Failed to scrape GitHub links', 'SCRAPING_ERROR');\n    }\n  }\n\n  private findCategory(link: Element): string {\n    // Find the nearest heading element\n    let element = link.parentElement;\n    while (element) {\n      const prevSibling = element.previousElementSibling;\n      if (prevSibling?.tagName.match(/^H[1-6]$/)) {\n        return prevSibling.textContent?.trim() || 'Uncategorized';\n      }\n      element = element.parentElement;\n    }\n    return 'Uncategorized';\n  }\n\n  async exportToCSV(data: any[]): Promise<string> {\n    thoughtLogger.log('execution', 'Exporting data to CSV');\n\n    try {\n      if (!Array.isArray(data)) {\n        throw new AppError('Data must be an array', 'VALIDATION_ERROR');\n      }\n\n      if (data.length === 0) {\n        throw new AppError('Data array is empty', 'VALIDATION_ERROR');\n      }\n\n      // Get headers from first object\n      const headers = Object.keys(data[0]);\n      \n      // Create CSV content\n      const csvContent = [\n        headers.join(','),\n        ...data.map(row => \n          headers.map(header => \n            this.formatCSVValue(row[header])\n          ).join(',')\n        )\n      ].join('\\n');\n\n      thoughtLogger.log('success', 'Successfully created CSV content');\n      return csvContent;\n    } catch (error) {\n      thoughtLogger.log('error', `Failed to create CSV: ${error}`);\n      throw error instanceof AppError ? error : new AppError('Failed to create CSV', 'EXPORT_ERROR');\n    }\n  }\n\n  private formatCSVValue(value: any): string {\n    if (value === null || value === undefined) {\n      return '';\n    }\n    \n    const stringValue = String(value);\n    \n    // Escape quotes and wrap in quotes if necessary\n    if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\n      return `\"${stringValue.replace(/\"/g, '\"\"')}\"`;\n    }\n    \n    return stringValue;\n  }\n}","import { BaseAgent } from './core/base-agent';\nimport { AgentMessage, AgentConfig } from './types';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport { WebDataTools } from '../tools/web-data-tools';\n\nexport class SpecialistAgent extends BaseAgent {\n  private webDataTools: WebDataTools;\n\n  constructor(config: AgentConfig) {\n    super({ ...config, role: 'specialist' });\n    this.webDataTools = WebDataTools.getInstance();\n  }\n\n  async processMessage(message: AgentMessage): Promise<Message> {\n    const startTime = Date.now();\n    thoughtLogger.log('plan', `Specialist agent ${this.config.id} processing message`, {\n      messageType: message.type,\n      capabilities: this.config.capabilities\n    });\n\n    try {\n      this.setStatus('active');\n      let result: any;\n\n      if (message.type === 'search' && this.hasCapability('web-search')) {\n        result = await this.performWebSearch(message.content);\n      } else if (message.type === 'process' && this.hasCapability('data-synthesis')) {\n        result = await this.processData(message.content);\n      } else if (message.type === 'analyze' && this.hasCapability('data-analysis')) {\n        result = await this.analyzeData(message.content);\n      } else {\n        throw new Error(`Unsupported message type or missing capability: ${message.type}`);\n      }\n\n      thoughtLogger.log('success', `Specialist agent ${this.config.id} completed task`, {\n        duration: Date.now() - startTime\n      });\n\n      return {\n        id: crypto.randomUUID(),\n        role: 'assistant',\n        content: typeof result === 'string' ? result : JSON.stringify(result),\n        timestamp: Date.now()\n      };\n    } catch (error) {\n      thoughtLogger.log('error', `Specialist agent ${this.config.id} failed`, { error });\n      throw error;\n    } finally {\n      this.setStatus('idle');\n    }\n  }\n\n  private async performWebSearch(query: string): Promise<any> {\n    thoughtLogger.log('execution', 'Performing web search', { query });\n\n    // Define target URLs for GTO information\n    const urls = [\n      'https://www.dtwd.wa.gov.au/apprenticeship-office',\n      'https://www.apprenticeshipsupport.com.au',\n      // Add more relevant URLs\n    ];\n\n    const results = await Promise.all(\n      urls.map(url => this.webDataTools.fetchWebData(url))\n    );\n\n    return results.join('\\n\\n');\n  }\n\n  private async processData(content: string): Promise<any> {\n    thoughtLogger.log('execution', 'Processing data');\n\n    try {\n      // Parse HTML content if present\n      if (content.includes('<!DOCTYPE html>') || content.includes('<html')) {\n        return await this.webDataTools.parseWebContent(content);\n      }\n\n      // Structure the data\n      const structured = {\n        raw: content,\n        sections: this.extractSections(content),\n        entities: this.extractEntities(content)\n      };\n\n      return structured;\n    } catch (error) {\n      thoughtLogger.log('error', 'Data processing failed', { error });\n      throw error;\n    }\n  }\n\n  private async analyzeData(content: string): Promise<any> {\n    thoughtLogger.log('execution', 'Analyzing data');\n\n    try {\n      const data = typeof content === 'string' ? JSON.parse(content) : content;\n\n      // Analyze the structured data\n      const analysis = {\n        summary: this.generateSummary(data),\n        insights: this.extractInsights(data),\n        recommendations: this.generateRecommendations(data)\n      };\n\n      return analysis;\n    } catch (error) {\n      thoughtLogger.log('error', 'Data analysis failed', { error });\n      throw error;\n    }\n  }\n\n  private extractSections(content: string): any {\n    // Extract meaningful sections from the content\n    const sections = {};\n    // Implementation here\n    return sections;\n  }\n\n  private extractEntities(content: string): any {\n    // Extract named entities (organizations, locations, etc.)\n    const entities = {\n      organizations: [],\n      locations: [],\n      dates: []\n    };\n    // Implementation here\n    return entities;\n  }\n\n  private generateSummary(data: any): string {\n    // Generate a concise summary of the data\n    return '';\n  }\n\n  private extractInsights(data: any): string[] {\n    // Extract key insights from the data\n    return [];\n  }\n\n  private generateRecommendations(data: any): string[] {\n    // Generate recommendations based on the analysis\n    return [];\n  }\n}","import { BaseAgent } from './core/base-agent';\nimport { AgentMessage, AgentConfig } from './types';\nimport { ErrorHandler } from '../errors/ErrorHandler';\n\nexport class TaskAgent extends BaseAgent {\n  constructor(config: AgentConfig) {\n    super({ ...config, role: 'task' });\n\n    // Register message handlers\n    this.messageQueue.registerHandler('command', this.handleCommand.bind(this));\n  }\n\n  async processMessage(message: AgentMessage): Promise<void> {\n    const startTime = Date.now();\n    try {\n      this.setStatus('active');\n\n      const result = await this.executeTask(message.content);\n      \n      // Report back to superior\n      if (this.config.superiorId) {\n        await this.sendMessage({\n          from: this.config.id,\n          to: this.config.superiorId,\n          content: JSON.stringify(result),\n          type: 'report'\n        });\n      }\n\n      this.updateMetrics(true, Date.now() - startTime);\n    } catch (error) {\n      this.updateMetrics(false, Date.now() - startTime);\n      throw error;\n    } finally {\n      this.setStatus('idle');\n    }\n  }\n\n  async executeTask(task: string): Promise<unknown> {\n    try {\n      // Task-specific execution logic\n      return { status: 'completed', task };\n    } catch (error) {\n      const handled = ErrorHandler.handle(error);\n      throw new Error(`Task execution failed: ${handled.message}`);\n    }\n  }\n\n  private async handleCommand(message: AgentMessage): Promise<void> {\n    await this.processMessage(message);\n  }\n}","import { BaseAgent } from './base-agent';\nimport { AgentConfig } from '../types';\nimport { PrimaryAgent } from '../primary-agent';\nimport { SpecialistAgent } from '../specialist-agent';\nimport { TaskAgent } from '../task-agent';\n\nexport class AgentRegistry {\n  private static instance: AgentRegistry;\n  private agents: Map<string, BaseAgent> = new Map();\n\n  private constructor() {}\n\n  static getInstance(): AgentRegistry {\n    if (!AgentRegistry.instance) {\n      AgentRegistry.instance = new AgentRegistry();\n    }\n    return AgentRegistry.instance;\n  }\n\n  createAgent(config: AgentConfig): BaseAgent {\n    if (this.agents.has(config.id)) {\n      throw new Error(`Agent with ID ${config.id} already exists`);\n    }\n\n    let agent: BaseAgent;\n    switch (config.role) {\n      case 'primary':\n        agent = new PrimaryAgent(config);\n        break;\n      case 'specialist':\n        agent = new SpecialistAgent(config);\n        break;\n      case 'task':\n        agent = new TaskAgent(config);\n        break;\n      default:\n        throw new Error(`Unknown agent role: ${config.role}`);\n    }\n\n    this.agents.set(config.id, agent);\n    return agent;\n  }\n\n  getAgent(id: string): BaseAgent | undefined {\n    return this.agents.get(id);\n  }\n\n  removeAgent(id: string): boolean {\n    return this.agents.delete(id);\n  }\n\n  getAllAgents(): BaseAgent[] {\n    return Array.from(this.agents.values());\n  }\n\n  getAgentsByRole(role: string): BaseAgent[] {\n    return Array.from(this.agents.values()).filter(agent => agent.getRole() === role);\n  }\n\n  clear(): void {\n    this.agents.clear();\n  }\n}","import { Message } from '../types';\nimport { AppError } from '../errors/AppError';\n\ninterface VectorEntry {\n  id: string;\n  content: string;\n  type: string;\n  timestamp: number;\n  embedding: number[];\n  metadata?: Record<string, unknown>;\n}\n\nexport class VectorStore {\n  private entries: VectorEntry[] = [];\n  private readonly dimensions = 384; // Standard for small-medium models\n\n  async addEntry(content: string, type: string, metadata?: Record<string, unknown>): Promise<void> {\n    try {\n      const embedding = await this.generateEmbedding(content);\n      \n      this.entries.push({\n        id: crypto.randomUUID(),\n        content,\n        type,\n        timestamp: Date.now(),\n        embedding,\n        metadata\n      });\n\n      // Keep only recent entries to prevent memory bloat\n      if (this.entries.length > 1000) {\n        this.entries = this.entries.slice(-1000);\n      }\n    } catch (error) {\n      throw new AppError('Failed to add vector entry', 'VECTOR_STORE_ERROR', error);\n    }\n  }\n\n  async search(query: string, limit = 5): Promise<Array<{ content: string; score: number }>> {\n    try {\n      if (this.entries.length === 0) return [];\n\n      const queryEmbedding = await this.generateEmbedding(query);\n      \n      const results = this.entries.map(entry => ({\n        content: entry.content,\n        score: this.cosineSimilarity(queryEmbedding, entry.embedding)\n      }));\n\n      results.sort((a, b) => b.score - a.score);\n      \n      // Filter out low-relevance results\n      return results\n        .filter(result => result.score > 0.7)\n        .slice(0, limit);\n    } catch (error) {\n      throw new AppError('Failed to search vector store', 'VECTOR_STORE_ERROR', error);\n    }\n  }\n\n  private async generateEmbedding(text: string): Promise<number[]> {\n    // Initialize embedding vector\n    const embedding = new Array(this.dimensions).fill(0);\n    \n    // Normalize and tokenize text\n    const tokens = text.toLowerCase()\n      .replace(/[^\\w\\s]/g, '')\n      .split(/\\s+/)\n      .filter(Boolean);\n\n    // Generate semantic embedding\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const tokenHash = this.hashString(token);\n      \n      // Distribute token influence across embedding\n      for (let j = 0; j < this.dimensions; j++) {\n        embedding[j] += Math.sin(tokenHash * (j + 1)) / tokens.length;\n      }\n    }\n\n    // Normalize embedding vector\n    const magnitude = Math.sqrt(\n      embedding.reduce((sum, val) => sum + val * val, 0)\n    );\n\n    return embedding.map(val => val / magnitude);\n  }\n\n  private hashString(str: string): number {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash;\n    }\n    return hash;\n  }\n\n  private cosineSimilarity(a: number[], b: number[]): number {\n    if (a.length !== b.length) {\n      throw new Error('Vectors must have same length');\n    }\n\n    const dotProduct = a.reduce((sum, val, i) => sum + val * b[i], 0);\n    const magnitudeA = Math.sqrt(a.reduce((sum, val) => sum + val * val, 0));\n    const magnitudeB = Math.sqrt(b.reduce((sum, val) => sum + val * val, 0));\n    \n    return dotProduct / (magnitudeA * magnitudeB);\n  }\n\n  clear(): void {\n    this.entries = [];\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\n\nexport class IndexedDBStorage {\n  private db: IDBDatabase | null = null;\n  private initialized = false;\n  private dbName = 'agent-one-db';\n  private version = 1;\n\n  private readonly stores = {\n    documents: 'documents',\n    workspaces: 'workspaces',\n    chats: 'chats',\n    messages: 'messages',\n    settings: 'settings',\n    memory: 'memory'\n  };\n\n  async init(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      this.db = await this.openDatabase();\n      this.initialized = true;\n      thoughtLogger.log('success', 'IndexedDB initialized successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize IndexedDB', { error });\n      throw new AppError('Failed to initialize storage', 'STORAGE_ERROR', error);\n    }\n  }\n\n  private openDatabase(): Promise<IDBDatabase> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.version);\n\n      request.onerror = () => {\n        reject(new AppError('Failed to open database', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n\n      request.onupgradeneeded = (event) => {\n        const db = request.result;\n\n        // Create all required object stores if they don't exist\n        Object.entries(this.stores).forEach(([key, name]) => {\n          if (!db.objectStoreNames.contains(name)) {\n            const store = db.createObjectStore(name, { keyPath: 'id' });\n\n            // Add indexes based on store type\n            switch (name) {\n              case 'messages':\n                store.createIndex('chatId', 'chatId', { unique: false });\n                store.createIndex('timestamp', 'timestamp', { unique: false });\n                break;\n              case 'chats':\n                store.createIndex('timestamp', 'timestamp', { unique: false });\n                store.createIndex('title', 'title', { unique: false });\n                break;\n              case 'documents':\n                store.createIndex('workspaceId', 'workspaceId', { unique: false });\n                store.createIndex('timestamp', 'timestamp', { unique: false });\n                store.createIndex('tags', 'tags', { unique: false, multiEntry: true });\n                break;\n            }\n          }\n        });\n\n        thoughtLogger.log('success', 'Database schema updated');\n      };\n    });\n  }\n\n  async put(storeName: string, value: any): Promise<void> {\n    if (!this.db) {\n      throw new AppError('Database not initialized', 'STORAGE_ERROR');\n    }\n\n    if (!this.stores[storeName as keyof typeof this.stores]) {\n      throw new AppError(`Invalid store name: ${storeName}`, 'STORAGE_ERROR');\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(storeName, 'readwrite');\n      const store = transaction.objectStore(storeName);\n      const request = store.put(value);\n\n      request.onerror = () => {\n        reject(new AppError('Failed to store data', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve();\n      };\n    });\n  }\n\n  async get(storeName: string, key: IDBValidKey): Promise<any> {\n    if (!this.db) {\n      throw new AppError('Database not initialized', 'STORAGE_ERROR');\n    }\n\n    if (!this.stores[storeName as keyof typeof this.stores]) {\n      throw new AppError(`Invalid store name: ${storeName}`, 'STORAGE_ERROR');\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(storeName, 'readonly');\n      const store = transaction.objectStore(storeName);\n      const request = store.get(key);\n\n      request.onerror = () => {\n        reject(new AppError('Failed to retrieve data', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n    });\n  }\n\n  async getAll(storeName: string): Promise<any[]> {\n    if (!this.db) {\n      throw new AppError('Database not initialized', 'STORAGE_ERROR');\n    }\n\n    if (!this.stores[storeName as keyof typeof this.stores]) {\n      throw new AppError(`Invalid store name: ${storeName}`, 'STORAGE_ERROR');\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(storeName, 'readonly');\n      const store = transaction.objectStore(storeName);\n      const request = store.getAll();\n\n      request.onerror = () => {\n        reject(new AppError('Failed to retrieve data', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n    });\n  }\n\n  async delete(storeName: string, key: IDBValidKey): Promise<void> {\n    if (!this.db) {\n      throw new AppError('Database not initialized', 'STORAGE_ERROR');\n    }\n\n    if (!this.stores[storeName as keyof typeof this.stores]) {\n      throw new AppError(`Invalid store name: ${storeName}`, 'STORAGE_ERROR');\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(storeName, 'readwrite');\n      const store = transaction.objectStore(storeName);\n      const request = store.delete(key);\n\n      request.onerror = () => {\n        reject(new AppError('Failed to delete data', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve();\n      };\n    });\n  }\n\n  async clear(storeName: string): Promise<void> {\n    if (!this.db) {\n      throw new AppError('Database not initialized', 'STORAGE_ERROR');\n    }\n\n    if (!this.stores[storeName as keyof typeof this.stores]) {\n      throw new AppError(`Invalid store name: ${storeName}`, 'STORAGE_ERROR');\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(storeName, 'readwrite');\n      const store = transaction.objectStore(storeName);\n      const request = store.clear();\n\n      request.onerror = () => {\n        reject(new AppError('Failed to clear store', 'STORAGE_ERROR', request.error));\n      };\n\n      request.onsuccess = () => {\n        resolve();\n      };\n    });\n  }\n}","import { VectorStore } from './vector-store';\nimport { IndexedDBStorage } from '../storage/indexed-db';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport type { Message } from '../types';\n\nexport class MemoryManager {\n  private static instance: MemoryManager;\n  private vectorStore: VectorStore;\n  private storage: IndexedDBStorage;\n  private initialized = false;\n\n  private constructor() {\n    this.vectorStore = new VectorStore();\n    this.storage = new IndexedDBStorage();\n  }\n\n  static getInstance(): MemoryManager {\n    if (!MemoryManager.instance) {\n      MemoryManager.instance = new MemoryManager();\n    }\n    return MemoryManager.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      await this.storage.init();\n      await this.vectorStore.initialize();\n      this.initialized = true;\n      thoughtLogger.log('success', 'Memory manager initialized');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize memory manager', { error });\n      throw error;\n    }\n  }\n\n  async storeMessage(message: Message): Promise<void> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    try {\n      // Store in vector memory for semantic search\n      const vectorId = await this.vectorStore.addDocument(message.content);\n\n      // Store full message in IndexedDB\n      await this.storage.put('messages', {\n        ...message,\n        vectorId,\n        timestamp: Date.now()\n      });\n\n      thoughtLogger.log('success', 'Message stored successfully', {\n        messageId: message.id,\n        vectorId\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to store message', { error });\n      throw error;\n    }\n  }\n\n  async getRelevantContext(query: string, limit = 5): Promise<Message[]> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    try {\n      // Search vector store for similar content\n      const results = await this.vectorStore.search(query, limit);\n\n      // Fetch full messages from IndexedDB\n      const messages = await Promise.all(\n        results.map(async result => {\n          const message = await this.storage.get('messages', result.id);\n          return message;\n        })\n      );\n\n      return messages.filter(Boolean);\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to get relevant context', { error });\n      throw error;\n    }\n  }\n\n  async clearMemory(): Promise<void> {\n    try {\n      await Promise.all([\n        this.storage.clear('messages'),\n        this.vectorStore.clear()\n      ]);\n      thoughtLogger.log('success', 'Memory cleared successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to clear memory', { error });\n      throw error;\n    }\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/tasks/index.ts\nvar tasks_exports = {};\n__export(tasks_exports, {\n  audioClassification: () => audioClassification,\n  audioToAudio: () => audioToAudio,\n  automaticSpeechRecognition: () => automaticSpeechRecognition,\n  chatCompletion: () => chatCompletion,\n  chatCompletionStream: () => chatCompletionStream,\n  documentQuestionAnswering: () => documentQuestionAnswering,\n  featureExtraction: () => featureExtraction,\n  fillMask: () => fillMask,\n  imageClassification: () => imageClassification,\n  imageSegmentation: () => imageSegmentation,\n  imageToImage: () => imageToImage,\n  imageToText: () => imageToText,\n  objectDetection: () => objectDetection,\n  questionAnswering: () => questionAnswering,\n  request: () => request,\n  sentenceSimilarity: () => sentenceSimilarity,\n  streamingRequest: () => streamingRequest,\n  summarization: () => summarization,\n  tableQuestionAnswering: () => tableQuestionAnswering,\n  tabularClassification: () => tabularClassification,\n  tabularRegression: () => tabularRegression,\n  textClassification: () => textClassification,\n  textGeneration: () => textGeneration,\n  textGenerationStream: () => textGenerationStream,\n  textToImage: () => textToImage,\n  textToSpeech: () => textToSpeech,\n  tokenClassification: () => tokenClassification,\n  translation: () => translation,\n  visualQuestionAnswering: () => visualQuestionAnswering,\n  zeroShotClassification: () => zeroShotClassification,\n  zeroShotImageClassification: () => zeroShotImageClassification\n});\n\n// src/utils/pick.ts\nfunction pick(o, props) {\n  return Object.assign(\n    {},\n    ...props.map((prop) => {\n      if (o[prop] !== void 0) {\n        return { [prop]: o[prop] };\n      }\n    })\n  );\n}\n\n// src/utils/typedInclude.ts\nfunction typedInclude(arr, v) {\n  return arr.includes(v);\n}\n\n// src/utils/omit.ts\nfunction omit(o, props) {\n  const propsArr = Array.isArray(props) ? props : [props];\n  const letsKeep = Object.keys(o).filter((prop) => !typedInclude(propsArr, prop));\n  return pick(o, letsKeep);\n}\n\n// src/lib/isUrl.ts\nfunction isUrl(modelOrUrl) {\n  return /^http(s?):/.test(modelOrUrl) || modelOrUrl.startsWith(\"/\");\n}\n\n// src/lib/getDefaultTask.ts\nvar taskCache = /* @__PURE__ */ new Map();\nvar CACHE_DURATION = 10 * 60 * 1e3;\nvar MAX_CACHE_ITEMS = 1e3;\nvar HF_HUB_URL = \"https://huggingface.co\";\nasync function getDefaultTask(model, accessToken, options) {\n  if (isUrl(model)) {\n    return null;\n  }\n  const key = `${model}:${accessToken}`;\n  let cachedTask = taskCache.get(key);\n  if (cachedTask && cachedTask.date < new Date(Date.now() - CACHE_DURATION)) {\n    taskCache.delete(key);\n    cachedTask = void 0;\n  }\n  if (cachedTask === void 0) {\n    const modelTask = await (options?.fetch ?? fetch)(`${HF_HUB_URL}/api/models/${model}?expand[]=pipeline_tag`, {\n      headers: accessToken ? { Authorization: `Bearer ${accessToken}` } : {}\n    }).then((resp) => resp.json()).then((json) => json.pipeline_tag).catch(() => null);\n    if (!modelTask) {\n      return null;\n    }\n    cachedTask = { task: modelTask, date: /* @__PURE__ */ new Date() };\n    taskCache.set(key, { task: modelTask, date: /* @__PURE__ */ new Date() });\n    if (taskCache.size > MAX_CACHE_ITEMS) {\n      taskCache.delete(taskCache.keys().next().value);\n    }\n  }\n  return cachedTask.task;\n}\n\n// src/lib/makeRequestOptions.ts\nvar HF_INFERENCE_API_BASE_URL = \"https://api-inference.huggingface.co\";\nvar tasks = null;\nasync function makeRequestOptions(args, options) {\n  const { accessToken, endpointUrl, ...otherArgs } = args;\n  let { model } = args;\n  const {\n    forceTask: task,\n    includeCredentials,\n    taskHint,\n    wait_for_model,\n    use_cache,\n    dont_load_model,\n    chatCompletion: chatCompletion2\n  } = options ?? {};\n  const headers = {};\n  if (accessToken) {\n    headers[\"Authorization\"] = `Bearer ${accessToken}`;\n  }\n  if (!model && !tasks && taskHint) {\n    const res = await fetch(`${HF_HUB_URL}/api/tasks`);\n    if (res.ok) {\n      tasks = await res.json();\n    }\n  }\n  if (!model && tasks && taskHint) {\n    const taskInfo = tasks[taskHint];\n    if (taskInfo) {\n      model = taskInfo.models[0].id;\n    }\n  }\n  if (!model) {\n    throw new Error(\"No model provided, and no default model found for this task\");\n  }\n  const binary = \"data\" in args && !!args.data;\n  if (!binary) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  if (wait_for_model) {\n    headers[\"X-Wait-For-Model\"] = \"true\";\n  }\n  if (use_cache === false) {\n    headers[\"X-Use-Cache\"] = \"false\";\n  }\n  if (dont_load_model) {\n    headers[\"X-Load-Model\"] = \"0\";\n  }\n  let url = (() => {\n    if (endpointUrl && isUrl(model)) {\n      throw new TypeError(\"Both model and endpointUrl cannot be URLs\");\n    }\n    if (isUrl(model)) {\n      console.warn(\"Using a model URL is deprecated, please use the `endpointUrl` parameter instead\");\n      return model;\n    }\n    if (endpointUrl) {\n      return endpointUrl;\n    }\n    if (task) {\n      return `${HF_INFERENCE_API_BASE_URL}/pipeline/${task}/${model}`;\n    }\n    return `${HF_INFERENCE_API_BASE_URL}/models/${model}`;\n  })();\n  if (chatCompletion2 && !url.endsWith(\"/chat/completions\")) {\n    url += \"/v1/chat/completions\";\n  }\n  let credentials;\n  if (typeof includeCredentials === \"string\") {\n    credentials = includeCredentials;\n  } else if (includeCredentials === true) {\n    credentials = \"include\";\n  }\n  const info = {\n    headers,\n    method: \"POST\",\n    body: binary ? args.data : JSON.stringify({\n      ...otherArgs.model && isUrl(otherArgs.model) ? omit(otherArgs, \"model\") : otherArgs\n    }),\n    ...credentials && { credentials },\n    signal: options?.signal\n  };\n  return { url, info };\n}\n\n// src/tasks/custom/request.ts\nasync function request(args, options) {\n  const { url, info } = await makeRequestOptions(args, options);\n  const response = await (options?.fetch ?? fetch)(url, info);\n  if (options?.retry_on_error !== false && response.status === 503 && !options?.wait_for_model) {\n    return request(args, {\n      ...options,\n      wait_for_model: true\n    });\n  }\n  if (!response.ok) {\n    if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n      const output = await response.json();\n      if ([400, 422, 404, 500].includes(response.status) && options?.chatCompletion) {\n        throw new Error(`Server ${args.model} does not seem to support chat completion. Error: ${output.error}`);\n      }\n      if (output.error) {\n        throw new Error(JSON.stringify(output.error));\n      }\n    }\n    throw new Error(\"An error occurred while fetching the blob\");\n  }\n  if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n    return await response.json();\n  }\n  return await response.blob();\n}\n\n// src/vendor/fetch-event-source/parse.ts\nfunction getLines(onLine) {\n  let buffer;\n  let position;\n  let fieldLength;\n  let discardTrailingNewline = false;\n  return function onChunk(arr) {\n    if (buffer === void 0) {\n      buffer = arr;\n      position = 0;\n      fieldLength = -1;\n    } else {\n      buffer = concat(buffer, arr);\n    }\n    const bufLength = buffer.length;\n    let lineStart = 0;\n    while (position < bufLength) {\n      if (discardTrailingNewline) {\n        if (buffer[position] === 10 /* NewLine */) {\n          lineStart = ++position;\n        }\n        discardTrailingNewline = false;\n      }\n      let lineEnd = -1;\n      for (; position < bufLength && lineEnd === -1; ++position) {\n        switch (buffer[position]) {\n          case 58 /* Colon */:\n            if (fieldLength === -1) {\n              fieldLength = position - lineStart;\n            }\n            break;\n          case 13 /* CarriageReturn */:\n            discardTrailingNewline = true;\n          case 10 /* NewLine */:\n            lineEnd = position;\n            break;\n        }\n      }\n      if (lineEnd === -1) {\n        break;\n      }\n      onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n      lineStart = position;\n      fieldLength = -1;\n    }\n    if (lineStart === bufLength) {\n      buffer = void 0;\n    } else if (lineStart !== 0) {\n      buffer = buffer.subarray(lineStart);\n      position -= lineStart;\n    }\n  };\n}\nfunction getMessages(onId, onRetry, onMessage) {\n  let message = newMessage();\n  const decoder = new TextDecoder();\n  return function onLine(line, fieldLength) {\n    if (line.length === 0) {\n      onMessage?.(message);\n      message = newMessage();\n    } else if (fieldLength > 0) {\n      const field = decoder.decode(line.subarray(0, fieldLength));\n      const valueOffset = fieldLength + (line[fieldLength + 1] === 32 /* Space */ ? 2 : 1);\n      const value = decoder.decode(line.subarray(valueOffset));\n      switch (field) {\n        case \"data\":\n          message.data = message.data ? message.data + \"\\n\" + value : value;\n          break;\n        case \"event\":\n          message.event = value;\n          break;\n        case \"id\":\n          onId(message.id = value);\n          break;\n        case \"retry\":\n          const retry = parseInt(value, 10);\n          if (!isNaN(retry)) {\n            onRetry(message.retry = retry);\n          }\n          break;\n      }\n    }\n  };\n}\nfunction concat(a, b) {\n  const res = new Uint8Array(a.length + b.length);\n  res.set(a);\n  res.set(b, a.length);\n  return res;\n}\nfunction newMessage() {\n  return {\n    data: \"\",\n    event: \"\",\n    id: \"\",\n    retry: void 0\n  };\n}\n\n// src/tasks/custom/streamingRequest.ts\nasync function* streamingRequest(args, options) {\n  const { url, info } = await makeRequestOptions({ ...args, stream: true }, options);\n  const response = await (options?.fetch ?? fetch)(url, info);\n  if (options?.retry_on_error !== false && response.status === 503 && !options?.wait_for_model) {\n    return yield* streamingRequest(args, {\n      ...options,\n      wait_for_model: true\n    });\n  }\n  if (!response.ok) {\n    if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n      const output = await response.json();\n      if ([400, 422, 404, 500].includes(response.status) && options?.chatCompletion) {\n        throw new Error(`Server ${args.model} does not seem to support chat completion. Error: ${output.error}`);\n      }\n      if (output.error) {\n        throw new Error(output.error);\n      }\n    }\n    throw new Error(`Server response contains error: ${response.status}`);\n  }\n  if (!response.headers.get(\"content-type\")?.startsWith(\"text/event-stream\")) {\n    throw new Error(\n      `Server does not support event stream content type, it returned ` + response.headers.get(\"content-type\")\n    );\n  }\n  if (!response.body) {\n    return;\n  }\n  const reader = response.body.getReader();\n  let events = [];\n  const onEvent = (event) => {\n    events.push(event);\n  };\n  const onChunk = getLines(\n    getMessages(\n      () => {\n      },\n      () => {\n      },\n      onEvent\n    )\n  );\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done)\n        return;\n      onChunk(value);\n      for (const event of events) {\n        if (event.data.length > 0) {\n          if (event.data === \"[DONE]\") {\n            return;\n          }\n          const data = JSON.parse(event.data);\n          if (typeof data === \"object\" && data !== null && \"error\" in data) {\n            throw new Error(data.error);\n          }\n          yield data;\n        }\n      }\n      events = [];\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\n// src/lib/InferenceOutputError.ts\nvar InferenceOutputError = class extends TypeError {\n  constructor(message) {\n    super(\n      `Invalid inference output: ${message}. Use the 'request' method with the same parameters to do a custom call with no type checking.`\n    );\n    this.name = \"InferenceOutputError\";\n  }\n};\n\n// src/tasks/audio/audioClassification.ts\nasync function audioClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"audio-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/audio/automaticSpeechRecognition.ts\nasync function automaticSpeechRecognition(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"automatic-speech-recognition\"\n  });\n  const isValidOutput = typeof res?.text === \"string\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected {text: string}\");\n  }\n  return res;\n}\n\n// src/tasks/audio/textToSpeech.ts\nasync function textToSpeech(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-to-speech\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/tasks/audio/audioToAudio.ts\nasync function audioToAudio(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"audio-to-audio\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.label === \"string\" && typeof x.blob === \"string\" && typeof x[\"content-type\"] === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, blob: string, content-type: string}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageClassification.ts\nasync function imageClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"image-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageSegmentation.ts\nasync function imageSegmentation(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"image-segmentation\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.mask === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, mask: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageToText.ts\nasync function imageToText(args, options) {\n  const res = (await request(args, {\n    ...options,\n    taskHint: \"image-to-text\"\n  }))?.[0];\n  if (typeof res?.generated_text !== \"string\") {\n    throw new InferenceOutputError(\"Expected {generated_text: string}\");\n  }\n  return res;\n}\n\n// src/tasks/cv/objectDetection.ts\nasync function objectDetection(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"object-detection\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.label === \"string\" && typeof x.score === \"number\" && typeof x.box.xmin === \"number\" && typeof x.box.ymin === \"number\" && typeof x.box.xmax === \"number\" && typeof x.box.ymax === \"number\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/cv/textToImage.ts\nasync function textToImage(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-to-image\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/utils/base64FromBytes.ts\nfunction base64FromBytes(arr) {\n  if (globalThis.Buffer) {\n    return globalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return globalThis.btoa(bin.join(\"\"));\n  }\n}\n\n// src/tasks/cv/imageToImage.ts\nasync function imageToImage(args, options) {\n  let reqArgs;\n  if (!args.parameters) {\n    reqArgs = {\n      accessToken: args.accessToken,\n      model: args.model,\n      data: args.inputs\n    };\n  } else {\n    reqArgs = {\n      ...args,\n      inputs: base64FromBytes(\n        new Uint8Array(args.inputs instanceof ArrayBuffer ? args.inputs : await args.inputs.arrayBuffer())\n      )\n    };\n  }\n  const res = await request(reqArgs, {\n    ...options,\n    taskHint: \"image-to-image\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/tasks/cv/zeroShotImageClassification.ts\nasync function zeroShotImageClassification(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = await request(reqArgs, {\n    ...options,\n    taskHint: \"zero-shot-image-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/featureExtraction.ts\nasync function featureExtraction(args, options) {\n  const defaultTask = args.model ? await getDefaultTask(args.model, args.accessToken, options) : void 0;\n  const res = await request(args, {\n    ...options,\n    taskHint: \"feature-extraction\",\n    ...defaultTask === \"sentence-similarity\" && { forceTask: \"feature-extraction\" }\n  });\n  let isValidOutput = true;\n  const isNumArrayRec = (arr, maxDepth, curDepth = 0) => {\n    if (curDepth > maxDepth)\n      return false;\n    if (arr.every((x) => Array.isArray(x))) {\n      return arr.every((x) => isNumArrayRec(x, maxDepth, curDepth + 1));\n    } else {\n      return arr.every((x) => typeof x === \"number\");\n    }\n  };\n  isValidOutput = Array.isArray(res) && isNumArrayRec(res, 3, 0);\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<number[][][] | number[][] | number[] | number>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/fillMask.ts\nasync function fillMask(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"fill-mask\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.score === \"number\" && typeof x.sequence === \"string\" && typeof x.token === \"number\" && typeof x.token_str === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{score: number, sequence: string, token: number, token_str: string}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/questionAnswering.ts\nasync function questionAnswering(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"question-answering\"\n  });\n  const isValidOutput = typeof res === \"object\" && !!res && typeof res.answer === \"string\" && typeof res.end === \"number\" && typeof res.score === \"number\" && typeof res.start === \"number\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected {answer: string, end: number, score: number, start: number}\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/sentenceSimilarity.ts\nasync function sentenceSimilarity(args, options) {\n  const defaultTask = args.model ? await getDefaultTask(args.model, args.accessToken, options) : void 0;\n  const res = await request(args, {\n    ...options,\n    taskHint: \"sentence-similarity\",\n    ...defaultTask === \"feature-extraction\" && { forceTask: \"sentence-similarity\" }\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/summarization.ts\nasync function summarization(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"summarization\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.summary_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{summary_text: string}>\");\n  }\n  return res?.[0];\n}\n\n// src/tasks/nlp/tableQuestionAnswering.ts\nasync function tableQuestionAnswering(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"table-question-answering\"\n  });\n  const isValidOutput = typeof res?.aggregator === \"string\" && typeof res.answer === \"string\" && Array.isArray(res.cells) && res.cells.every((x) => typeof x === \"string\") && Array.isArray(res.coordinates) && res.coordinates.every((coord) => Array.isArray(coord) && coord.every((x) => typeof x === \"number\"));\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/textClassification.ts\nasync function textClassification(args, options) {\n  const res = (await request(args, {\n    ...options,\n    taskHint: \"text-classification\"\n  }))?.[0];\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/utils/toArray.ts\nfunction toArray(obj) {\n  if (Array.isArray(obj)) {\n    return obj;\n  }\n  return [obj];\n}\n\n// src/tasks/nlp/textGeneration.ts\nasync function textGeneration(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"text-generation\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.generated_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{generated_text: string}>\");\n  }\n  return res?.[0];\n}\n\n// src/tasks/nlp/textGenerationStream.ts\nasync function* textGenerationStream(args, options) {\n  yield* streamingRequest(args, {\n    ...options,\n    taskHint: \"text-generation\"\n  });\n}\n\n// src/tasks/nlp/tokenClassification.ts\nasync function tokenClassification(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"token-classification\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.end === \"number\" && typeof x.entity_group === \"string\" && typeof x.score === \"number\" && typeof x.start === \"number\" && typeof x.word === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/translation.ts\nasync function translation(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"translation\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.translation_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected type Array<{translation_text: string}>\");\n  }\n  return res?.length === 1 ? res?.[0] : res;\n}\n\n// src/tasks/nlp/zeroShotClassification.ts\nasync function zeroShotClassification(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"zero-shot-classification\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => Array.isArray(x.labels) && x.labels.every((_label) => typeof _label === \"string\") && Array.isArray(x.scores) && x.scores.every((_score) => typeof _score === \"number\") && typeof x.sequence === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{labels: string[], scores: number[], sequence: string}>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/chatCompletion.ts\nasync function chatCompletion(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-generation\",\n    chatCompletion: true\n  });\n  const isValidOutput = typeof res === \"object\" && Array.isArray(res?.choices) && typeof res?.created === \"number\" && typeof res?.id === \"string\" && typeof res?.model === \"string\" && typeof res?.system_fingerprint === \"string\" && typeof res?.usage === \"object\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected ChatCompletionOutput\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/chatCompletionStream.ts\nasync function* chatCompletionStream(args, options) {\n  yield* streamingRequest(args, {\n    ...options,\n    taskHint: \"text-generation\",\n    chatCompletion: true\n  });\n}\n\n// src/tasks/multimodal/documentQuestionAnswering.ts\nasync function documentQuestionAnswering(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      question: args.inputs.question,\n      // convert Blob or ArrayBuffer to base64\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = toArray(\n    await request(reqArgs, {\n      ...options,\n      taskHint: \"document-question-answering\"\n    })\n  )?.[0];\n  const isValidOutput = typeof res?.answer === \"string\" && (typeof res.end === \"number\" || typeof res.end === \"undefined\") && (typeof res.score === \"number\" || typeof res.score === \"undefined\") && (typeof res.start === \"number\" || typeof res.start === \"undefined\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{answer: string, end?: number, score?: number, start?: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/multimodal/visualQuestionAnswering.ts\nasync function visualQuestionAnswering(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      question: args.inputs.question,\n      // convert Blob or ArrayBuffer to base64\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = (await request(reqArgs, {\n    ...options,\n    taskHint: \"visual-question-answering\"\n  }))?.[0];\n  const isValidOutput = typeof res?.answer === \"string\" && typeof res.score === \"number\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{answer: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/tabular/tabularRegression.ts\nasync function tabularRegression(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"tabular-regression\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/tasks/tabular/tabularClassification.ts\nasync function tabularClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"tabular-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/HfInference.ts\nvar HfInference = class {\n  accessToken;\n  defaultOptions;\n  constructor(accessToken = \"\", defaultOptions = {}) {\n    this.accessToken = accessToken;\n    this.defaultOptions = defaultOptions;\n    for (const [name, fn] of Object.entries(tasks_exports)) {\n      Object.defineProperty(this, name, {\n        enumerable: false,\n        value: (params, options) => (\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          fn({ ...params, accessToken }, { ...defaultOptions, ...options })\n        )\n      });\n    }\n  }\n  /**\n   * Returns copy of HfInference tied to a specified endpoint.\n   */\n  endpoint(endpointUrl) {\n    return new HfInferenceEndpoint(endpointUrl, this.accessToken, this.defaultOptions);\n  }\n};\nvar HfInferenceEndpoint = class {\n  constructor(endpointUrl, accessToken = \"\", defaultOptions = {}) {\n    accessToken;\n    defaultOptions;\n    for (const [name, fn] of Object.entries(tasks_exports)) {\n      Object.defineProperty(this, name, {\n        enumerable: false,\n        value: (params, options) => (\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          fn({ ...params, accessToken, endpointUrl }, { ...defaultOptions, ...options })\n        )\n      });\n    }\n  }\n};\nexport {\n  HfInference,\n  HfInferenceEndpoint,\n  InferenceOutputError,\n  audioClassification,\n  audioToAudio,\n  automaticSpeechRecognition,\n  chatCompletion,\n  chatCompletionStream,\n  documentQuestionAnswering,\n  featureExtraction,\n  fillMask,\n  imageClassification,\n  imageSegmentation,\n  imageToImage,\n  imageToText,\n  objectDetection,\n  questionAnswering,\n  request,\n  sentenceSimilarity,\n  streamingRequest,\n  summarization,\n  tableQuestionAnswering,\n  tabularClassification,\n  tabularRegression,\n  textClassification,\n  textGeneration,\n  textGenerationStream,\n  textToImage,\n  textToSpeech,\n  tokenClassification,\n  translation,\n  visualQuestionAnswering,\n  zeroShotClassification,\n  zeroShotImageClassification\n};\n","import { HfInference } from '@huggingface/inference';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\nimport { config } from '../config';\nimport type { Message } from '../types';\n\nexport class QwenAPI {\n  private static instance: QwenAPI;\n  private hf: HfInference;\n  private initialized = false;\n  private readonly model = 'Qwen/Qwen2.5-Coder-32B-Instruct';\n\n  private constructor() {\n    this.hf = new HfInference(config.apiKeys.huggingface);\n  }\n\n  static getInstance(): QwenAPI {\n    if (!QwenAPI.instance) {\n      QwenAPI.instance = new QwenAPI();\n    }\n    return QwenAPI.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      if (!config.apiKeys.huggingface) {\n        throw new AppError('Hugging Face API key not configured', 'CONFIG_ERROR');\n      }\n\n      // Verify model access\n      await this.hf.modelInfo({\n        model: this.model\n      });\n\n      this.initialized = true;\n      thoughtLogger.log('success', 'Qwen API initialized successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize Qwen API', { error });\n      throw error;\n    }\n  }\n\n  async generateCode(\n    prompt: string,\n    language?: string,\n    onProgress?: (content: string) => void\n  ): Promise<string> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    try {\n      thoughtLogger.log('execution', 'Generating code with Qwen', {\n        language,\n        promptLength: prompt.length\n      });\n\n      const messages = this.formatPrompt(prompt, language);\n      \n      const response = await this.hf.textGeneration({\n        model: this.model,\n        inputs: messages,\n        parameters: {\n          max_new_tokens: 2048,\n          temperature: 0.2,\n          top_p: 0.95,\n          stream: Boolean(onProgress)\n        }\n      });\n\n      if (onProgress && response.details?.text) {\n        onProgress(response.details.text);\n      }\n\n      thoughtLogger.log('success', 'Code generation complete');\n      return response.generated_text;\n    } catch (error) {\n      thoughtLogger.log('error', 'Code generation failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Failed to generate code',\n        'GENERATION_ERROR',\n        error\n      );\n    }\n  }\n\n  async reviewCode(\n    code: string,\n    language?: string\n  ): Promise<{ issues: string[]; suggestions: string[]; quality: number }> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    try {\n      thoughtLogger.log('execution', 'Reviewing code with Qwen', { language });\n\n      const prompt = `Review the following ${language || ''} code and provide:\n1. List of potential issues\n2. Improvement suggestions\n3. Code quality score (0-100)\n\nCode to review:\n\\`\\`\\`\n${code}\n\\`\\`\\``;\n\n      const response = await this.hf.textGeneration({\n        model: this.model,\n        inputs: prompt,\n        parameters: {\n          max_new_tokens: 1024,\n          temperature: 0.3\n        }\n      });\n\n      // Parse response\n      const issues: string[] = [];\n      const suggestions: string[] = [];\n      let quality = 0;\n\n      const lines = response.generated_text.split('\\n');\n      let currentSection = '';\n\n      for (const line of lines) {\n        if (line.includes('Issues:')) {\n          currentSection = 'issues';\n        } else if (line.includes('Suggestions:')) {\n          currentSection = 'suggestions';\n        } else if (line.includes('Quality Score:')) {\n          quality = parseInt(line.match(/\\d+/)?.[0] || '0');\n        } else if (line.trim().startsWith('-')) {\n          if (currentSection === 'issues') {\n            issues.push(line.trim().slice(2));\n          } else if (currentSection === 'suggestions') {\n            suggestions.push(line.trim().slice(2));\n          }\n        }\n      }\n\n      thoughtLogger.log('success', 'Code review complete', {\n        issueCount: issues.length,\n        suggestionCount: suggestions.length,\n        quality\n      });\n\n      return { issues, suggestions, quality };\n    } catch (error) {\n      thoughtLogger.log('error', 'Code review failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Failed to review code',\n        'REVIEW_ERROR',\n        error\n      );\n    }\n  }\n\n  private formatPrompt(prompt: string, language?: string): string {\n    return `You are an expert programmer. Generate high-quality ${language || ''} code based on the following request:\n\n${prompt}\n\nProvide clean, efficient, and well-documented code with proper error handling.`;\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { BaseAgent } from './core/base-agent';\nimport { QwenAPI } from '../api/qwen-api';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport type { Message } from '../types';\n\nexport class CodeAgent extends BaseAgent {\n  private qwenAPI: QwenAPI;\n\n  constructor(id: string, name: string) {\n    super(id, name, 'specialist');\n    this.qwenAPI = QwenAPI.getInstance();\n    this.capabilities.add('code-generation');\n    this.capabilities.add('code-review');\n    this.capabilities.add('refactoring');\n  }\n\n  async processMessage(message: Message): Promise<Message> {\n    const startTime = Date.now();\n    thoughtLogger.log('plan', `Code agent ${this.getId()} processing message`, {\n      capabilities: Array.from(this.capabilities)\n    });\n\n    try {\n      this.setStatus('active');\n      let result: string;\n\n      if (message.content.toLowerCase().includes('review')) {\n        const review = await this.reviewCode(message.content);\n        result = this.formatReviewResponse(review);\n      } else {\n        result = await this.generateCode(message.content);\n      }\n\n      thoughtLogger.log('success', `Code agent ${this.getId()} completed task`, {\n        duration: Date.now() - startTime\n      });\n\n      return {\n        id: crypto.randomUUID(),\n        role: 'assistant',\n        content: result,\n        timestamp: Date.now()\n      };\n    } catch (error) {\n      thoughtLogger.log('error', `Code agent ${this.getId()} failed`, { error });\n      throw error;\n    } finally {\n      this.setStatus('idle');\n    }\n  }\n\n  private async generateCode(prompt: string): Promise<string> {\n    // Extract language from prompt if specified\n    const languageMatch = prompt.match(/in\\s+([\\w\\+\\#]+)(?:\\s|$)/i);\n    const language = languageMatch ? languageMatch[1] : undefined;\n\n    thoughtLogger.log('execution', 'Generating code', { language });\n\n    return this.qwenAPI.generateCode(prompt, language);\n  }\n\n  private async reviewCode(content: string): Promise<{\n    issues: string[];\n    suggestions: string[];\n    quality: number;\n  }> {\n    // Extract code block and language\n    const codeMatch = content.match(/```(\\w+)?\\n([\\s\\S]+?)```/);\n    if (!codeMatch) {\n      throw new Error('No code block found in message');\n    }\n\n    const [_, language, code] = codeMatch;\n    thoughtLogger.log('execution', 'Reviewing code', { language });\n\n    return this.qwenAPI.reviewCode(code, language);\n  }\n\n  private formatReviewResponse(review: {\n    issues: string[];\n    suggestions: string[];\n    quality: number;\n  }): string {\n    return `# Code Review Results\n\n## Quality Score: ${review.quality}/100\n\n## Issues Found\n${review.issues.map(issue => `- ${issue}`).join('\\n')}\n\n## Suggestions for Improvement\n${review.suggestions.map(suggestion => `- ${suggestion}`).join('\\n')}`;\n  }\n\n  getCapabilities(): string[] {\n    return Array.from(this.capabilities);\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AgentRegistry } from './core/agent-registry';\nimport { ModelRouter } from '../routing/router';\nimport { MemoryManager } from '../memory/memory-manager';\nimport { CodeAgent } from './code-agent';\nimport type { Message } from '../types';\n\nexport class AgentSystem {\n  private static instance: AgentSystem;\n  private registry: AgentRegistry;\n  private modelRouter: ModelRouter;\n  private memoryManager: MemoryManager;\n  private initialized = false;\n\n  private constructor() {\n    this.registry = AgentRegistry.getInstance();\n    this.modelRouter = ModelRouter.getInstance();\n    this.memoryManager = MemoryManager.getInstance();\n  }\n\n  static getInstance(): AgentSystem {\n    if (!AgentSystem.instance) {\n      AgentSystem.instance = new AgentSystem();\n    }\n    return AgentSystem.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      thoughtLogger.log('plan', 'Initializing agent system');\n\n      // Initialize core systems\n      await Promise.all([\n        this.modelRouter.initialize(),\n        this.memoryManager.initialize()\n      ]);\n\n      // Register specialized agents\n      await this.registerAgents();\n\n      this.initialized = true;\n      thoughtLogger.log('success', 'Agent system initialized');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize agent system', { error });\n      throw error;\n    }\n  }\n\n  private async registerAgents(): Promise<void> {\n    // Register code agent\n    const codeAgent = new CodeAgent(\n      'code-specialist',\n      'Code Specialist'\n    );\n    this.registry.registerAgent(codeAgent);\n\n    // Register other specialized agents...\n    thoughtLogger.log('success', 'Agents registered successfully', {\n      agentCount: this.registry.getAgentCount()\n    });\n  }\n\n  async processMessage(\n    content: string,\n    onProgress?: (content: string) => void,\n    onStateChange?: (state: string) => void\n  ): Promise<void> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    const messageId = crypto.randomUUID();\n    thoughtLogger.log('plan', 'Processing message', { messageId });\n\n    try {\n      // Create message object\n      const message: Message = {\n        id: messageId,\n        role: 'user',\n        content,\n        timestamp: Date.now()\n      };\n\n      // Route to appropriate model/agent\n      const routerConfig = await this.modelRouter.route(content, []);\n      thoughtLogger.log('decision', `Selected model: ${routerConfig.model}`, {\n        confidence: routerConfig.confidence\n      });\n\n      // Handle code-related tasks with code agent\n      if (this.isCodeRelated(content)) {\n        const codeAgent = this.registry.getAgentByCapability('code-generation');\n        if (codeAgent) {\n          onStateChange?.('coding');\n          const response = await codeAgent.processMessage(message);\n          onProgress?.(response.content);\n          return;\n        }\n      }\n\n      // Process with selected model\n      const response = await this.modelRouter.processWithModel(\n        message,\n        routerConfig,\n        onProgress\n      );\n\n      // Store in memory\n      await this.memoryManager.storeMessage(message, response);\n\n      thoughtLogger.log('success', 'Message processed successfully', {\n        messageId,\n        model: routerConfig.model\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'Message processing failed', {\n        messageId,\n        error\n      });\n      throw error;\n    }\n  }\n\n  private isCodeRelated(content: string): boolean {\n    const codeKeywords = [\n      'code',\n      'function',\n      'class',\n      'implement',\n      'program',\n      'debug',\n      'refactor',\n      'review'\n    ];\n\n    return codeKeywords.some(keyword => \n      content.toLowerCase().includes(keyword)\n    );\n  }\n\n  getAgents() {\n    return this.registry.getAllAgents();\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}\n\n// Export singleton instance\nexport const agentSystem = AgentSystem.getInstance();","import React from 'react';\nimport { Brain, Activity, Database, Code, Users } from 'lucide-react';\nimport { useStore } from '../../store';\nimport { agentSystem } from '../../lib/agents/agent-system';\nimport { thoughtLogger } from '../../lib/logging/thought-logger';\nimport { useToast } from '../../hooks/useToast';\n\nexport function AgentPanel() {\n  const [agentStats, setAgentStats] = React.useState({\n    activeAgents: 0,\n    completedTasks: 0,\n    averageResponseTime: 0,\n    memoryUsage: 0\n  });\n  const [isLoading, setIsLoading] = React.useState(true);\n  const { addToast } = useToast();\n\n  React.useEffect(() => {\n    const fetchAgentStats = async () => {\n      try {\n        // Initialize agent system if needed\n        if (!agentSystem.isInitialized) {\n          await agentSystem.initialize();\n        }\n\n        const agents = agentSystem.getAgents();\n        const stats = {\n          activeAgents: agents.filter(a => a.getState().status === 'active').length,\n          completedTasks: agents.reduce((sum, a) => sum + a.getState().metrics.tasksCompleted, 0),\n          averageResponseTime: agents.reduce((sum, a) => sum + a.getState().metrics.averageResponseTime, 0) / Math.max(agents.length, 1),\n          memoryUsage: await thoughtLogger.getMemoryUsage()\n        };\n        setAgentStats(stats);\n      } catch (error) {\n        addToast({\n          type: 'error',\n          title: 'Failed to fetch agent stats',\n          message: error instanceof Error ? error.message : 'An unknown error occurred'\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchAgentStats();\n    const interval = setInterval(fetchAgentStats, 5000);\n    return () => clearInterval(interval);\n  }, [addToast]);\n\n  return (\n    <div className=\"flex-1 p-6 overflow-auto\">\n      <div className=\"max-w-6xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold\">Agent System</h1>\n            <p className=\"text-muted-foreground mt-1\">Monitor and manage agent activities</p>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className={`w-2 h-2 rounded-full ${isLoading ? 'bg-yellow-400' : 'bg-green-400'}`} />\n            <span className=\"text-sm text-muted-foreground\">\n              {isLoading ? 'Updating...' : 'System Online'}\n            </span>\n          </div>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <StatCard\n            icon={Users}\n            label=\"Active Agents\"\n            value={agentStats.activeAgents}\n            trend={0}\n          />\n          <StatCard\n            icon={Activity}\n            label=\"Tasks Completed\"\n            value={agentStats.completedTasks}\n            trend={0}\n          />\n          <StatCard\n            icon={Code}\n            label=\"Avg Response Time\"\n            value={`${agentStats.averageResponseTime.toFixed(2)}ms`}\n            trend={0}\n          />\n          <StatCard\n            icon={Database}\n            label=\"Memory Usage\"\n            value={`${(agentStats.memoryUsage / 1024 / 1024).toFixed(2)} MB`}\n            trend={0}\n          />\n        </div>\n\n        {/* System Status */}\n        <div className=\"card p-6\">\n          <h2 className=\"text-lg font-medium mb-4\">System Status</h2>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <span>Agent System</span>\n              <span className=\"text-green-400\">Online</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span>Memory System</span>\n              <span className=\"text-green-400\">Active</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span>Task Planner</span>\n              <span className=\"text-green-400\">Ready</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction StatCard({ \n  icon: Icon, \n  label, \n  value, \n  trend \n}: { \n  icon: typeof Brain;\n  label: string;\n  value: string | number;\n  trend: number;\n}) {\n  return (\n    <div className=\"card p-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"p-2 bg-primary/10 rounded-lg\">\n          <Icon className=\"w-5 h-5 text-primary\" />\n        </div>\n        <div className={`flex items-center space-x-1 text-sm ${\n          trend > 0 ? 'text-green-400' : trend < 0 ? 'text-red-400' : 'text-muted-foreground'\n        }`}>\n          <span>{Math.abs(trend)}%</span>\n          <span>{trend > 0 ? '' : trend < 0 ? '' : ''}</span>\n        </div>\n      </div>\n      <div className=\"mt-4\">\n        <h3 className=\"text-2xl font-bold\">{value}</h3>\n        <p className=\"text-sm text-muted-foreground mt-1\">{label}</p>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Search, Plus, Trash2, RefreshCw, SlidersHorizontal } from 'lucide-react';\nimport type { AnalysisParams, AnalysisCriterion } from './types';\n\ninterface AnalysisParametersProps {\n  onAnalyze: (params: AnalysisParams) => Promise<void>;\n  isLoading: boolean;\n}\n\nexport function AnalysisParameters({ onAnalyze, isLoading }: AnalysisParametersProps) {\n  const [params, setParams] = useState<AnalysisParams>({\n    industry: '',\n    region: '',\n    competitors: [''],\n    criteria: defaultCriteria\n  });\n\n  const addCompetitor = () => {\n    setParams(prev => ({\n      ...prev,\n      competitors: [...prev.competitors, '']\n    }));\n  };\n\n  const removeCompetitor = (index: number) => {\n    setParams(prev => ({\n      ...prev,\n      competitors: prev.competitors.filter((_, i) => i !== index)\n    }));\n  };\n\n  const updateCompetitor = (index: number, value: string) => {\n    setParams(prev => ({\n      ...prev,\n      competitors: prev.competitors.map((c, i) => i === index ? value : c)\n    }));\n  };\n\n  const updateCriterionWeight = (id: string, weight: number) => {\n    setParams(prev => ({\n      ...prev,\n      criteria: prev.criteria.map(c => \n        c.id === id ? { ...c, weight } : c\n      )\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onAnalyze(params);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"card p-6 mb-6 space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">Industry</label>\n          <input\n            type=\"text\"\n            value={params.industry}\n            onChange={(e) => setParams(prev => ({ ...prev, industry: e.target.value }))}\n            placeholder=\"e.g., Software Development, Healthcare\"\n            className=\"input\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">Region</label>\n          <input\n            type=\"text\"\n            value={params.region}\n            onChange={(e) => setParams(prev => ({ ...prev, region: e.target.value }))}\n            placeholder=\"e.g., North America, Global\"\n            className=\"input\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <div className=\"flex items-center justify-between mb-2\">\n          <label className=\"text-sm font-medium\">Competitors</label>\n          <button\n            type=\"button\"\n            onClick={addCompetitor}\n            className=\"text-blue-400 hover:text-blue-300 p-1\"\n          >\n            <Plus className=\"w-4 h-4\" />\n          </button>\n        </div>\n        <div className=\"space-y-2\">\n          {params.competitors.map((competitor, index) => (\n            <div key={index} className=\"flex items-center space-x-2\">\n              <input\n                type=\"text\"\n                value={competitor}\n                onChange={(e) => updateCompetitor(index, e.target.value)}\n                placeholder=\"Competitor name or URL\"\n                className=\"input\"\n              />\n              {params.competitors.length > 1 && (\n                <button\n                  type=\"button\"\n                  onClick={() => removeCompetitor(index)}\n                  className=\"p-2 text-red-400 hover:text-red-300\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <div className=\"flex items-center justify-between mb-2\">\n          <label className=\"text-sm font-medium\">Analysis Criteria</label>\n          <button\n            type=\"button\"\n            className=\"text-blue-400 hover:text-blue-300 p-1\"\n          >\n            <SlidersHorizontal className=\"w-4 h-4\" />\n          </button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {params.criteria.map(criterion => (\n            <div key={criterion.id} className=\"flex items-center space-x-4\">\n              <span className=\"text-sm flex-1\">{criterion.label}</span>\n              <input\n                type=\"range\"\n                min=\"1\"\n                max=\"5\"\n                value={criterion.weight}\n                onChange={(e) => updateCriterionWeight(criterion.id, parseInt(e.target.value))}\n                className=\"w-24\"\n              />\n              <span className=\"text-sm w-4\">{criterion.weight}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"flex justify-end\">\n        <button\n          type=\"submit\"\n          disabled={isLoading || !params.industry || !params.region || !params.competitors[0]}\n          className=\"btn btn-primary inline-flex items-center space-x-2\"\n        >\n          {isLoading ? (\n            <>\n              <RefreshCw className=\"w-5 h-5 animate-spin\" />\n              <span>Analyzing...</span>\n            </>\n          ) : (\n            <>\n              <Search className=\"w-5 h-5\" />\n              <span>Analyze Competitors</span>\n            </>\n          )}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nconst defaultCriteria: AnalysisCriterion[] = [\n  { id: 'branding', label: 'Visual Design & Branding', weight: 3, category: 'branding' },\n  { id: 'features', label: 'Feature Set & Capabilities', weight: 4, category: 'features' },\n  { id: 'ux', label: 'User Experience', weight: 4, category: 'ux' },\n  { id: 'technical', label: 'Technical Infrastructure', weight: 3, category: 'technical' },\n  { id: 'marketing', label: 'Content & Marketing', weight: 3, category: 'marketing' },\n  { id: 'mobile', label: 'Mobile & Cross-platform', weight: 4, category: 'mobile' },\n  { id: 'market', label: 'Market Positioning', weight: 5, category: 'market' },\n  { id: 'innovation', label: 'Innovation & R&D', weight: 4, category: 'innovation' }\n];","import React from 'react';\nimport { Bar, Radar, Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n} from 'chart.js';\nimport type { CompetitorData } from './types';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n);\n\ninterface AnalysisDashboardProps {\n  competitors: CompetitorData[];\n  metrics: Record<string, number>;\n}\n\nexport function AnalysisDashboard({ competitors, metrics }: AnalysisDashboardProps) {\n  const radarData = {\n    labels: ['Branding', 'Features', 'UX', 'Technical', 'Marketing', 'Mobile', 'Market', 'Innovation'],\n    datasets: competitors.map((competitor, index) => ({\n      label: competitor.name,\n      data: Object.values(competitor.scores),\n      backgroundColor: `rgba(59, 130, 246, ${0.2 + (index * 0.1)})`,\n      borderColor: `rgba(59, 130, 246, ${0.8 + (index * 0.1)})`,\n      borderWidth: 2,\n      fill: true\n    }))\n  };\n\n  const barData = {\n    labels: competitors.map(c => c.name),\n    datasets: [{\n      label: 'Market Share',\n      data: competitors.map(c => c.metrics.marketShare),\n      backgroundColor: 'rgba(59, 130, 246, 0.8)'\n    }]\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {Object.entries(metrics).map(([key, value]) => (\n          <div key={key} className=\"card p-4\">\n            <h3 className=\"text-sm font-medium text-gray-400 mb-1\">\n              {key.replace(/([A-Z])/g, ' $1').trim()}\n            </h3>\n            <div className=\"text-2xl font-bold\">{value}</div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-medium mb-4\">Competitive Analysis</h3>\n          <div className=\"aspect-square\">\n            <Radar \n              data={radarData}\n              options={{\n                scales: {\n                  r: {\n                    beginAtZero: true,\n                    max: 10,\n                    ticks: {\n                      stepSize: 2\n                    }\n                  }\n                },\n                plugins: {\n                  legend: {\n                    position: 'bottom'\n                  }\n                }\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"card p-6\">\n          <h3 className=\"text-lg font-medium mb-4\">Market Share Distribution</h3>\n          <Bar \n            data={barData}\n            options={{\n              plugins: {\n                legend: {\n                  display: false\n                }\n              },\n              scales: {\n                y: {\n                  beginAtZero: true,\n                  max: 100,\n                  ticks: {\n                    callback: value => `${value}%`\n                  }\n                }\n              }\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Download } from 'lucide-react';\nimport ReactMarkdown from 'react-markdown';\n\ninterface AnalysisReportProps {\n  report: string;\n}\n\nexport function AnalysisReport({ report }: AnalysisReportProps) {\n  const handleDownload = () => {\n    const blob = new Blob([report], { type: 'text/markdown' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `competitor-analysis-${new Date().toISOString().split('T')[0]}.md`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"card p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-xl font-semibold\">Detailed Analysis Report</h2>\n        <button\n          onClick={handleDownload}\n          className=\"btn btn-secondary inline-flex items-center space-x-2\"\n        >\n          <Download className=\"w-4 h-4\" />\n          <span>Download Report</span>\n        </button>\n      </div>\n\n      <div className=\"prose prose-invert max-w-none\">\n        <ReactMarkdown>{report}</ReactMarkdown>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Check, X, Minus } from 'lucide-react';\nimport type { CompetitorData } from './types';\n\ninterface ComparisonMatrixProps {\n  competitors: CompetitorData[];\n}\n\nexport function ComparisonMatrix({ competitors }: ComparisonMatrixProps) {\n  const categories = [\n    'Features & Capabilities',\n    'User Experience',\n    'Technical Infrastructure',\n    'Mobile Support',\n    'Marketing & Content',\n    'Customer Support',\n    'Pricing & Plans',\n    'Integration Options'\n  ];\n\n  return (\n    <div className=\"card overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead>\n          <tr className=\"border-b border-gray-700\">\n            <th className=\"p-4 text-left font-medium\">Category</th>\n            {competitors.map(competitor => (\n              <th key={competitor.id} className=\"p-4 text-left font-medium\">\n                {competitor.name}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {categories.map((category, i) => (\n            <tr key={category} className={i % 2 === 0 ? 'bg-gray-800/50' : ''}>\n              <td className=\"p-4 font-medium\">{category}</td>\n              {competitors.map(competitor => (\n                <td key={competitor.id} className=\"p-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    {getComparisonIcon(competitor.scores[category.toLowerCase()])}\n                    <span>{getScoreLabel(competitor.scores[category.toLowerCase()])}</span>\n                  </div>\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nfunction getComparisonIcon(score: number) {\n  if (score >= 8) {\n    return <Check className=\"w-4 h-4 text-green-400\" />;\n  }\n  if (score >= 5) {\n    return <Minus className=\"w-4 h-4 text-yellow-400\" />;\n  }\n  return <X className=\"w-4 h-4 text-red-400\" />;\n}\n\nfunction getScoreLabel(score: number): string {\n  if (score >= 8) return 'Excellent';\n  if (score >= 6) return 'Good';\n  if (score >= 4) return 'Average';\n  return 'Poor';\n}","import React from 'react';\nimport { TrendingUp, AlertTriangle, Lightbulb } from 'lucide-react';\nimport type { AnalysisInsight } from './types';\n\ninterface StrategicInsightsProps {\n  insights: AnalysisInsight[];\n}\n\nexport function StrategicInsights({ insights }: StrategicInsightsProps) {\n  const getImpactColor = (impact: 'high' | 'medium' | 'low') => {\n    switch (impact) {\n      case 'high': return 'text-red-400';\n      case 'medium': return 'text-yellow-400';\n      case 'low': return 'text-green-400';\n      default: return 'text-gray-400';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {insights.map((insight, index) => (\n          <div key={index} className=\"card p-6 space-y-4\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-blue-600/10 rounded-lg\">\n                  <TrendingUp className=\"w-5 h-5 text-blue-400\" />\n                </div>\n                <h3 className=\"font-medium\">{insight.title}</h3>\n              </div>\n              <span className={`text-sm ${getImpactColor(insight.impact)}`}>\n                {insight.impact.toUpperCase()}\n              </span>\n            </div>\n\n            <p className=\"text-sm text-gray-400\">{insight.description}</p>\n\n            <div className=\"pt-4 border-t border-gray-700\">\n              <div className=\"flex items-start space-x-2\">\n                <Lightbulb className=\"w-4 h-4 text-yellow-400 mt-1 flex-shrink-0\" />\n                <p className=\"text-sm\">{insight.recommendation}</p>\n              </div>\n            </div>\n\n            {insight.metrics && (\n              <div className=\"grid grid-cols-2 gap-4 pt-4\">\n                {Object.entries(insight.metrics).map(([key, value]) => (\n                  <div key={key}>\n                    <div className=\"text-sm text-gray-400\">{key}</div>\n                    <div className=\"text-lg font-medium\">{value}</div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\n\nexport class GitHubService {\n  private static instance: GitHubService;\n  private baseUrl = 'https://api.github.com';\n  private token: string | undefined;\n\n  private constructor() {\n    this.token = import.meta.env.VITE_GITHUB_TOKEN;\n  }\n\n  static getInstance(): GitHubService {\n    if (!GitHubService.instance) {\n      GitHubService.instance = new GitHubService();\n    }\n    return GitHubService.instance;\n  }\n\n  async fetchRepositoryInfo(owner: string, repo: string): Promise<any> {\n    thoughtLogger.log('execution', `Fetching repository info: ${owner}/${repo}`);\n\n    try {\n      const response = await fetch(`${this.baseUrl}/repos/${owner}/${repo}`, {\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        throw new AppError(`GitHub API error: ${response.statusText}`, 'API_ERROR');\n      }\n\n      return await response.json();\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to fetch repository info', { error });\n      throw error instanceof AppError ? error : new AppError('Failed to fetch repository info', 'API_ERROR');\n    }\n  }\n\n  async searchRepositories(query: string): Promise<any[]> {\n    thoughtLogger.log('execution', `Searching repositories: ${query}`);\n\n    try {\n      const response = await fetch(\n        `${this.baseUrl}/search/repositories?q=${encodeURIComponent(query)}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        throw new AppError(`GitHub API error: ${response.statusText}`, 'API_ERROR');\n      }\n\n      const data = await response.json();\n      return data.items || [];\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to search repositories', { error });\n      throw error instanceof AppError ? error : new AppError('Failed to search repositories', 'API_ERROR');\n    }\n  }\n\n  private getHeaders(): HeadersInit {\n    const headers: HeadersInit = {\n      'Accept': 'application/vnd.github.v3+json',\n    };\n\n    if (this.token) {\n      headers['Authorization'] = `token ${this.token}`;\n    }\n\n    return headers;\n  }\n}","import { GitHubService } from '../services/github-service';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport type { Tool } from '../types/tools';\n\nexport class GitHubTools {\n  private static instance: GitHubTools;\n  private githubService: GitHubService;\n\n  private constructor() {\n    this.githubService = GitHubService.getInstance();\n  }\n\n  static getInstance(): GitHubTools {\n    if (!GitHubTools.instance) {\n      GitHubTools.instance = new GitHubTools();\n    }\n    return GitHubTools.instance;\n  }\n\n  getTools(): Tool[] {\n    return [\n      {\n        name: 'search-repositories',\n        description: 'Search GitHub repositories',\n        execute: async (query: string) => {\n          thoughtLogger.log('execution', `Searching repositories: ${query}`);\n          try {\n            const repositories = await this.githubService.searchRepositories(query);\n            return {\n              success: true,\n              result: repositories\n            };\n          } catch (error) {\n            return {\n              success: false,\n              error: error instanceof Error ? error.message : 'Failed to search repositories'\n            };\n          }\n        }\n      },\n      {\n        name: 'get-repository-info',\n        description: 'Get information about a specific repository',\n        execute: async (owner: string, repo: string) => {\n          thoughtLogger.log('execution', `Fetching repository info: ${owner}/${repo}`);\n          try {\n            const info = await this.githubService.fetchRepositoryInfo(owner, repo);\n            return {\n              success: true,\n              result: info\n            };\n          } catch (error) {\n            return {\n              success: false,\n              error: error instanceof Error ? error.message : 'Failed to fetch repository info'\n            };\n          }\n        }\n      }\n    ];\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { ToolResult } from '../types/tools';\nimport { WebDataTools } from './web-data-tools';\n\ninterface CompetitorData {\n  name: string;\n  website: string;\n  location: string;\n  services: string[];\n  pricing?: {\n    hostEmployerRate?: string;\n    trainingCost?: string;\n  };\n  specializations: string[];\n  lastUpdated: string;\n}\n\nexport class CompetitorAnalysisTool {\n  private static instance: CompetitorAnalysisTool;\n  private webDataTools: WebDataTools;\n\n  private constructor() {\n    this.webDataTools = WebDataTools.getInstance();\n  }\n\n  static getInstance(): CompetitorAnalysisTool {\n    if (!CompetitorAnalysisTool.instance) {\n      CompetitorAnalysisTool.instance = new CompetitorAnalysisTool();\n    }\n    return CompetitorAnalysisTool.instance;\n  }\n\n  async analyzeCompetitors(industry: string, region: string): Promise<ToolResult> {\n    thoughtLogger.log('plan', `Starting competitor analysis for ${industry} in ${region}`);\n\n    try {\n      // Fetch competitor data from reliable sources\n      const competitors = await this.fetchCompetitorData(industry, region);\n      \n      // Generate analysis report\n      const report = this.generateReport(competitors);\n      \n      // Prepare CSV export data\n      const csvData = this.prepareCSVData(competitors);\n\n      thoughtLogger.log('success', `Completed competitor analysis for ${industry}`);\n\n      return {\n        success: true,\n        result: {\n          report,\n          csvData,\n          competitors\n        }\n      };\n    } catch (error) {\n      thoughtLogger.log('error', `Competitor analysis failed: ${error}`);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  private async fetchCompetitorData(industry: string, region: string): Promise<CompetitorData[]> {\n    thoughtLogger.log('execution', 'Fetching competitor data from sources');\n\n    // Example GTO competitors (in production, this would fetch from APIs/databases)\n    return [\n      {\n        name: \"MEGT\",\n        website: \"https://www.megt.com.au\",\n        location: \"National\",\n        services: [\"Apprenticeships\", \"Traineeships\", \"RTO Services\"],\n        pricing: {\n          hostEmployerRate: \"$150-200/week\",\n          trainingCost: \"Government funded\"\n        },\n        specializations: [\"Trade\", \"Business\", \"Healthcare\"],\n        lastUpdated: new Date().toISOString()\n      },\n      {\n        name: \"MAS National\",\n        website: \"https://www.masnational.com.au\",\n        location: \"National\",\n        services: [\"Apprenticeships\", \"Traineeships\", \"Employment Services\"],\n        pricing: {\n          hostEmployerRate: \"$160-220/week\",\n          trainingCost: \"Government funded\"\n        },\n        specializations: [\"Manufacturing\", \"Hospitality\", \"Retail\"],\n        lastUpdated: new Date().toISOString()\n      },\n      {\n        name: \"Apprenticeship Support Australia\",\n        website: \"https://www.apprenticeshipsupport.com.au\",\n        location: \"National\",\n        services: [\"Apprenticeships\", \"Traineeships\", \"Business Advisory\"],\n        pricing: {\n          hostEmployerRate: \"$140-190/week\",\n          trainingCost: \"Government funded\"\n        },\n        specializations: [\"Construction\", \"Engineering\", \"Business\"],\n        lastUpdated: new Date().toISOString()\n      }\n    ];\n  }\n\n  private generateReport(competitors: CompetitorData[]): string {\n    thoughtLogger.log('execution', 'Generating competitor analysis report');\n\n    return `\n# Group Training Organisation (GTO) Competitor Analysis Report\n\n## Overview\nAnalysis of ${competitors.length} major GTOs operating in Australia.\n\n## Key Findings\n${this.generateKeyFindings(competitors)}\n\n## Detailed Analysis\n${this.generateDetailedAnalysis(competitors)}\n\n## Pricing Analysis\n${this.generatePricingAnalysis(competitors)}\n\n## Market Opportunities\n${this.generateOpportunities(competitors)}\n\nReport generated: ${new Date().toLocaleDateString()}\n    `.trim();\n  }\n\n  private generateKeyFindings(competitors: CompetitorData[]): string {\n    const services = new Set(competitors.flatMap(c => c.services));\n    const specializations = new Set(competitors.flatMap(c => c.specializations));\n\n    return `\n- ${competitors.length} major GTOs analyzed\n- Core services: ${Array.from(services).join(', ')}\n- Key specializations: ${Array.from(specializations).join(', ')}\n- Price range for host employers: ${this.getPriceRange(competitors)}\n    `.trim();\n  }\n\n  private generateDetailedAnalysis(competitors: CompetitorData[]): string {\n    return competitors.map(c => `\n### ${c.name}\n- Website: ${c.website}\n- Location: ${c.location}\n- Services: ${c.services.join(', ')}\n- Specializations: ${c.specializations.join(', ')}\n${c.pricing ? `- Host Employer Rate: ${c.pricing.hostEmployerRate}` : ''}\n    `.trim()).join('\\n\\n');\n  }\n\n  private generatePricingAnalysis(competitors: CompetitorData[]): string {\n    const priceRange = this.getPriceRange(competitors);\n    return `\nAverage host employer rates across analyzed GTOs range from ${priceRange}.\nMost GTOs offer government-funded training programs with additional support services.\n    `.trim();\n  }\n\n  private generateOpportunities(competitors: CompetitorData[]): string {\n    return `\n1. Market gaps in specialized industry sectors\n2. Potential for competitive pricing strategies\n3. Opportunities for enhanced digital services\n4. Regional expansion possibilities\n    `.trim();\n  }\n\n  private getPriceRange(competitors: CompetitorData[]): string {\n    const rates = competitors\n      .filter(c => c.pricing?.hostEmployerRate)\n      .map(c => c.pricing!.hostEmployerRate!);\n    \n    return rates.length ? rates.join(' - ') : 'Pricing data not available';\n  }\n\n  private prepareCSVData(competitors: CompetitorData[]): any[] {\n    return competitors.map(c => ({\n      Name: c.name,\n      Website: c.website,\n      Location: c.location,\n      Services: c.services.join('; '),\n      HostEmployerRate: c.pricing?.hostEmployerRate || 'N/A',\n      TrainingCost: c.pricing?.trainingCost || 'N/A',\n      Specializations: c.specializations.join('; '),\n      LastUpdated: c.lastUpdated\n    }));\n  }\n}","import { Logger } from '../logging/Logger';\nimport { ToolError } from '../errors/AppError';\nimport { WebDataTools } from './web-data-tools';\nimport { GitHubTools } from './github-tools';\nimport { CompetitorAnalysisTool } from './competitor-analysis';\nimport type { Tool, ToolResult } from '../types/tools';\nimport { thoughtLogger } from '../logging/thought-logger';\n\nclass ToolRegistry {\n  private static instance: ToolRegistry;\n  private tools: Map<string, Tool> = new Map();\n  private webDataTools: WebDataTools;\n  private githubTools: GitHubTools;\n  private competitorAnalysisTool: CompetitorAnalysisTool;\n\n  private constructor() {\n    this.webDataTools = WebDataTools.getInstance();\n    this.githubTools = GitHubTools.getInstance();\n    this.competitorAnalysisTool = CompetitorAnalysisTool.getInstance();\n    this.registerDefaultTools();\n  }\n\n  static getInstance(): ToolRegistry {\n    if (!ToolRegistry.instance) {\n      ToolRegistry.instance = new ToolRegistry();\n    }\n    return ToolRegistry.instance;\n  }\n\n  private registerDefaultTools(): void {\n    try {\n      // Register GitHub tools\n      this.githubTools.getTools().forEach(tool => this.register(tool));\n\n      // Register web data tools\n      this.register({\n        name: 'scrape-github-links',\n        description: 'Scrape repository links from a GitHub page and export to CSV',\n        execute: async (url: string) => {\n          thoughtLogger.log('plan', `Starting GitHub scraping for ${url}`);\n          try {\n            const links = await this.webDataTools.scrapeGitHubLinks(url);\n            const csv = await this.webDataTools.exportToCSV(links);\n            \n            return {\n              success: true,\n              result: {\n                linkCount: links.length,\n                csv\n              }\n            };\n          } catch (error) {\n            return {\n              success: false,\n              error: error instanceof Error ? error.message : 'Failed to scrape GitHub links'\n            };\n          }\n        }\n      });\n\n      // Register competitor analysis tool\n      this.register({\n        name: 'analyze-competitors',\n        description: 'Analyze competitors in a specific industry and region',\n        execute: async (industry: string, region: string) => {\n          thoughtLogger.log('plan', `Starting competitor analysis for ${industry} in ${region}`);\n          return this.competitorAnalysisTool.analyzeCompetitors(industry, region);\n        }\n      });\n\n      thoughtLogger.log('success', 'Default tools registered successfully');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to register default tools', { error });\n      throw new ToolError('Failed to register default tools', error);\n    }\n  }\n\n  register(tool: Tool): void {\n    try {\n      if (!tool.name || !tool.execute) {\n        throw new ToolError('Invalid tool configuration');\n      }\n\n      this.tools.set(tool.name, tool);\n      thoughtLogger.log('success', `Tool registered: ${tool.name}`);\n    } catch (error) {\n      thoughtLogger.log('error', `Failed to register tool: ${tool.name}`, { error });\n      throw new ToolError(`Failed to register tool: ${tool.name}`, error);\n    }\n  }\n\n  async executeTool(name: string, ...args: any[]): Promise<ToolResult> {\n    const tool = this.tools.get(name);\n    if (!tool) {\n      const error = `Tool \"${name}\" not found`;\n      thoughtLogger.log('error', error);\n      return {\n        success: false,\n        error\n      };\n    }\n\n    try {\n      thoughtLogger.log('execution', `Executing tool: ${name}`, { args });\n      const result = await tool.execute(...args);\n      thoughtLogger.log('success', `Tool execution completed: ${name}`);\n      return result;\n    } catch (error) {\n      thoughtLogger.log('error', `Tool execution failed: ${name}`, { error });\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  getTools(): Tool[] {\n    return Array.from(this.tools.values());\n  }\n}\n\n// Create and export the singleton instance\nexport const toolRegistry = ToolRegistry.getInstance();","import { useState } from 'react';\nimport { toolRegistry } from '../lib/tools/tool-registry';\nimport type { \n  AnalysisParams, \n  CompetitorData, \n  AnalysisInsight \n} from '../components/competitor-analysis/types';\n\nexport function useCompetitorAnalysis() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [report, setReport] = useState<string>('');\n  const [competitors, setCompetitors] = useState<CompetitorData[]>([]);\n  const [insights, setInsights] = useState<AnalysisInsight[]>([]);\n  const [metrics, setMetrics] = useState<Record<string, number>>({});\n\n  const analyze = async (params: AnalysisParams) => {\n    setIsLoading(true);\n    try {\n      const result = await toolRegistry.executeTool('analyze-competitors', params);\n\n      if (result.success && result.result) {\n        setReport(result.result.report);\n        setCompetitors(result.result.competitors);\n        setInsights(result.result.insights);\n        setMetrics(result.result.metrics);\n      }\n    } catch (error) {\n      console.error('Analysis failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return {\n    analyze,\n    isLoading,\n    report,\n    competitors,\n    insights,\n    metrics,\n  };\n}","import React, { useState } from 'react';\nimport { AnalysisParameters } from './AnalysisParameters';\nimport { AnalysisDashboard } from './AnalysisDashboard';\nimport { AnalysisReport } from './AnalysisReport';\nimport { ComparisonMatrix } from './ComparisonMatrix';\nimport { StrategicInsights } from './StrategicInsights';\nimport { useCompetitorAnalysis } from '../../hooks/useCompetitorAnalysis';\nimport { CompetitorData, AnalysisParams } from './types';\n\nexport function CompetitorAnalysis() {\n  const {\n    analyze,\n    isLoading,\n    report,\n    competitors,\n    insights,\n    metrics\n  } = useCompetitorAnalysis();\n\n  const [activeTab, setActiveTab] = useState<'dashboard' | 'report' | 'matrix' | 'insights'>('dashboard');\n\n  const handleAnalysis = async (params: AnalysisParams) => {\n    await analyze(params);\n  };\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return <AnalysisDashboard competitors={competitors} metrics={metrics} />;\n      case 'report':\n        return <AnalysisReport report={report} />;\n      case 'matrix':\n        return <ComparisonMatrix competitors={competitors} />;\n      case 'insights':\n        return <StrategicInsights insights={insights} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"p-4 sm:p-6 max-w-7xl mx-auto\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold mb-2\">Competitor Analysis</h1>\n        <p className=\"text-gray-400\">\n          Comprehensive competitor analysis and strategic insights\n        </p>\n      </div>\n\n      <AnalysisParameters onAnalyze={handleAnalysis} isLoading={isLoading} />\n\n      {(competitors.length > 0 || report) && (\n        <>\n          <div className=\"flex flex-wrap gap-2 mb-6 bg-gray-800/50 p-2 rounded-lg backdrop-blur-sm\">\n            {[\n              { id: 'dashboard', label: 'Dashboard' },\n              { id: 'report', label: 'Detailed Report' },\n              { id: 'matrix', label: 'Comparison Matrix' },\n              { id: 'insights', label: 'Strategic Insights' }\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as typeof activeTab)}\n                className={`flex-1 min-w-[120px] px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  activeTab === tab.id\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-400 hover:text-white hover:bg-gray-700'\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"space-y-6 overflow-x-auto\">\n            {renderContent()}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Wrench, Search, Code, Database, FileText, Zap } from 'lucide-react';\nimport { CompetitorAnalysis } from '../competitor-analysis/CompetitorAnalysis';\nimport { toolRegistry } from '../../lib/tools/tool-registry';\n\nexport function ToolsPanel() {\n  const [activeTab, setActiveTab] = useState<'tools' | 'analysis'>('tools');\n  const [selectedTool, setSelectedTool] = useState<string | null>(null);\n\n  const tools = toolRegistry.getTools();\n  const toolCategories = {\n    'Data Processing': tools.filter(t => t.name.includes('data') || t.name.includes('process')),\n    'Search & Analysis': tools.filter(t => t.name.includes('search') || t.name.includes('analyze')),\n    'Code & Development': tools.filter(t => t.name.includes('code') || t.name.includes('git')),\n    'Export & Import': tools.filter(t => t.name.includes('export') || t.name.includes('import'))\n  };\n\n  return (\n    <div className=\"flex-1 overflow-hidden flex flex-col\">\n      <div className=\"border-b border-border\">\n        <nav className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"flex space-x-4\">\n            <button\n              onClick={() => setActiveTab('tools')}\n              className={`px-4 py-2 font-medium ${\n                activeTab === 'tools'\n                  ? 'text-primary border-b-2 border-primary'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              Available Tools\n            </button>\n            <button\n              onClick={() => setActiveTab('analysis')}\n              className={`px-4 py-2 font-medium ${\n                activeTab === 'analysis'\n                  ? 'text-primary border-b-2 border-primary'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              Competitor Analysis\n            </button>\n          </div>\n        </nav>\n      </div>\n\n      <div className=\"flex-1 overflow-auto p-6\">\n        {activeTab === 'tools' ? (\n          <div className=\"max-w-7xl mx-auto\">\n            <div className=\"flex items-center space-x-4 mb-6\">\n              <Wrench className=\"w-8 h-8 text-primary\" />\n              <div>\n                <h2 className=\"text-2xl font-bold\">Tools & Utilities</h2>\n                <p className=\"text-muted-foreground\">\n                  Powerful tools to enhance your workflow\n                </p>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {Object.entries(toolCategories).map(([category, tools]) => (\n                <div key={category} className=\"card p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 flex items-center space-x-2\">\n                    {category === 'Data Processing' && <Database className=\"w-5 h-5\" />}\n                    {category === 'Search & Analysis' && <Search className=\"w-5 h-5\" />}\n                    {category === 'Code & Development' && <Code className=\"w-5 h-5\" />}\n                    {category === 'Export & Import' && <FileText className=\"w-5 h-5\" />}\n                    <span>{category}</span>\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {tools.map(tool => (\n                      <button\n                        key={tool.name}\n                        onClick={() => setSelectedTool(tool.name)}\n                        className={`w-full p-3 rounded-lg transition-colors text-left ${\n                          selectedTool === tool.name\n                            ? 'bg-primary text-primary-foreground'\n                            : 'bg-secondary hover:bg-secondary/80'\n                        }`}\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"font-medium\">{tool.name}</span>\n                          <Zap className=\"w-4 h-4 opacity-50\" />\n                        </div>\n                        <p className=\"text-sm mt-1 opacity-80\">\n                          {tool.description}\n                        </p>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {selectedTool && (\n              <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center p-4\">\n                <div className=\"bg-card max-w-2xl w-full rounded-lg shadow-lg border border-border p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4\">\n                    {tools.find(t => t.name === selectedTool)?.name}\n                  </h3>\n                  <p className=\"text-muted-foreground mb-6\">\n                    {tools.find(t => t.name === selectedTool)?.description}\n                  </p>\n                  <div className=\"flex justify-end space-x-3\">\n                    <button\n                      onClick={() => setSelectedTool(null)}\n                      className=\"px-4 py-2 text-muted-foreground hover:text-foreground\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={() => {\n                        // Execute tool\n                        setSelectedTool(null);\n                      }}\n                      className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90\"\n                    >\n                      Execute Tool\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <CompetitorAnalysis />\n        )}\n      </div>\n    </div>\n  );\n}","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const diff = _dateLeft.getTime() - _dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();\n  const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(dateLeft, dateRight) {\n  return +toDate(dateLeft) - +toDate(dateRight);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { endOfDay } from \"./endOfDay.mjs\";\nimport { endOfMonth } from \"./endOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date) {\n  const _date = toDate(date);\n  return +endOfDay(_date) === +endOfMonth(_date);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.mjs\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(\n    differenceInCalendarMonths(_dateLeft, _dateRight),\n  );\n  let result;\n\n  // Check for the difference of less than month\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (_dateLeft.getMonth() === 1 && _dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      _dateLeft.setDate(30);\n    }\n\n    _dateLeft.setMonth(_dateLeft.getMonth() - sign * difference);\n\n    // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n    let isLastMonthNotFull = compareAsc(_dateLeft, _dateRight) === -sign;\n\n    // Check for cases of one full calendar month\n    if (\n      isLastDayOfMonth(toDate(dateLeft)) &&\n      difference === 1 &&\n      compareAsc(dateLeft, _dateRight) === 1\n    ) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(dateLeft, dateRight, options) {\n  const diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { minutesInDay, minutesInMonth } from \"./constants.mjs\";\nimport { differenceInMonths } from \"./differenceInMonths.mjs\";\nimport { differenceInSeconds } from \"./differenceInSeconds.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date\n * @param baseDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport function formatDistance(date, baseDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(date, baseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  let dateLeft;\n  let dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(baseDate);\n    dateRight = toDate(date);\n  } else {\n    dateLeft = toDate(date);\n    dateRight = toDate(baseDate);\n  }\n\n  const seconds = differenceInSeconds(dateRight, dateLeft);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(dateRight) -\n      getTimezoneOffsetInMilliseconds(dateLeft)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n","import { formatDistance } from \"./formatDistance.mjs\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, Date.now(), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n","import React from 'react';\nimport { FileText, Trash2, Tag, ExternalLink, Search, X } from 'lucide-react';\nimport type { Document } from '../lib/documents/types';\nimport { formatDistanceToNow } from 'date-fns';\n\ninterface DocumentListProps {\n  documents: Document[];\n  viewMode: 'grid' | 'list';\n  isLoading: boolean;\n  selectedTags: string[];\n  onTagSelect: (tags: string[]) => void;\n  onRefresh: () => void;\n  onSearch: (query: string) => void;\n}\n\nexport function DocumentList({\n  documents,\n  viewMode,\n  isLoading,\n  selectedTags,\n  onTagSelect,\n  onRefresh,\n  onSearch\n}: DocumentListProps) {\n  const [searchQuery, setSearchQuery] = React.useState('');\n  const allTags = Array.from(\n    new Set(documents.flatMap(doc => doc.tags))\n  ).sort();\n\n  const handleTagClick = (tag: string) => {\n    if (selectedTags.includes(tag)) {\n      onTagSelect(selectedTags.filter(t => t !== tag));\n    } else {\n      onTagSelect([...selectedTags, tag]);\n    }\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSearch(searchQuery);\n  };\n\n  const clearSearch = () => {\n    setSearchQuery('');\n    onSearch('');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex flex-col lg:flex-row\">\n      {/* Tag Sidebar */}\n      <div className=\"w-full lg:w-64 bg-gray-800/50 backdrop-blur-sm p-4 flex-shrink-0 border-b lg:border-b-0 lg:border-r border-gray-700/50\">\n        <h3 className=\"text-sm font-medium text-gray-300 mb-4\">Document Tags</h3>\n        <div className=\"flex flex-wrap lg:flex-col gap-2\">\n          {allTags.map(tag => (\n            <button\n              key={tag}\n              onClick={() => handleTagClick(tag)}\n              className={`px-3 py-1.5 rounded text-sm transition-colors ${\n                selectedTags.includes(tag)\n                  ? 'bg-blue-600 text-white'\n                  : 'text-gray-400 hover:bg-gray-700'\n              }`}\n            >\n              <div className=\"flex items-center\">\n                <Tag className=\"w-3 h-3 mr-2\" />\n                <span>{tag}</span>\n                {selectedTags.includes(tag) && (\n                  <span className=\"ml-auto text-xs bg-blue-500 px-1.5 rounded-full\">\n                    {documents.filter(d => d.tags.includes(tag)).length}\n                  </span>\n                )}\n              </div>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Document List */}\n      <div className=\"flex-1 p-4 lg:p-6 overflow-y-auto\">\n        {/* Search Bar */}\n        <form onSubmit={handleSearch} className=\"mb-6\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search documents...\"\n              className=\"w-full bg-gray-800/50 text-gray-100 rounded-lg pl-10 pr-10 py-2 border border-gray-700/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n            {searchQuery && (\n              <button\n                type=\"button\"\n                onClick={clearSearch}\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300\"\n              >\n                <X size={18} />\n              </button>\n            )}\n          </div>\n        </form>\n\n        {documents.length === 0 ? (\n          <div className=\"text-center text-gray-400 mt-12\">\n            <FileText className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n            <p>No documents found</p>\n          </div>\n        ) : viewMode === 'grid' ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {documents.map(doc => (\n              <DocumentCard key={doc.id} document={doc} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"space-y-2\">\n            {documents.map(doc => (\n              <DocumentRow key={doc.id} document={doc} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction DocumentCard({ document }: { document: Document }) {\n  return (\n    <div className=\"bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 hover:bg-gray-800/70 transition-colors border border-gray-700/50\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-start space-x-3\">\n          <FileText className=\"w-5 h-5 text-blue-400 flex-shrink-0\" />\n          <div>\n            <h3 className=\"font-medium text-gray-100 truncate\">{document.name}</h3>\n            <p className=\"text-sm text-gray-400\">\n              {formatDistanceToNow(document.createdAt)} ago\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button className=\"text-gray-400 hover:text-gray-300\">\n            <ExternalLink size={16} />\n          </button>\n          <button className=\"text-gray-400 hover:text-red-400\">\n            <Trash2 size={16} />\n          </button>\n        </div>\n      </div>\n      {document.tags.length > 0 && (\n        <div className=\"mt-3 flex flex-wrap gap-2\">\n          {document.tags.map(tag => (\n            <span\n              key={tag}\n              className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-700/50 text-gray-300 border border-gray-600/50\"\n            >\n              <Tag size={12} className=\"mr-1\" />\n              {tag}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction DocumentRow({ document }: { document: Document }) {\n  return (\n    <div className=\"flex items-center justify-between bg-gray-800/50 backdrop-blur-sm rounded-lg p-3 hover:bg-gray-800/70 transition-colors border border-gray-700/50\">\n      <div className=\"flex items-center space-x-3\">\n        <FileText className=\"w-5 h-5 text-blue-400\" />\n        <div>\n          <h3 className=\"font-medium text-gray-100\">{document.name}</h3>\n          <div className=\"flex items-center space-x-2 text-sm text-gray-400\">\n            <span>{formatDistanceToNow(document.createdAt)} ago</span>\n            {document.tags.length > 0 && (\n              <>\n                <span></span>\n                <div className=\"flex items-center space-x-1\">\n                  {document.tags.map(tag => (\n                    <span\n                      key={tag}\n                      className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-gray-700/50 border border-gray-600/50\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"flex items-center space-x-2\">\n        <button className=\"p-2 text-gray-400 hover:text-gray-300 rounded\">\n          <ExternalLink size={16} />\n        </button>\n        <button className=\"p-2 text-gray-400 hover:text-red-400 rounded\">\n          <Trash2 size={16} />\n        </button>\n      </div>\n    </div>\n  );\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\n\ninterface VectorEntry {\n  id: string;\n  vector: number[];\n  timestamp: number;\n}\n\ninterface SearchResult {\n  id: string;\n  score: number;\n}\n\nexport class VectorStore {\n  private vectors: Map<string, VectorEntry> = new Map();\n  private dimensions = 384;\n\n  async addDocument(content: string): Promise<string> {\n    try {\n      const id = crypto.randomUUID();\n      const vector = await this.generateEmbedding(content);\n\n      this.vectors.set(id, {\n        id,\n        vector,\n        timestamp: Date.now()\n      });\n\n      return id;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to add vector', { error });\n      throw new AppError('Failed to add vector', 'VECTOR_ERROR');\n    }\n  }\n\n  async search(query: string, minSimilarity = 0.7, limit = 10): Promise<SearchResult[]> {\n    try {\n      const queryVector = await this.generateEmbedding(query);\n      \n      const results = Array.from(this.vectors.values())\n        .map(entry => ({\n          id: entry.id,\n          score: this.cosineSimilarity(queryVector, entry.vector)\n        }))\n        .filter(result => result.score >= minSimilarity)\n        .sort((a, b) => b.score - a.score)\n        .slice(0, limit);\n\n      return results;\n    } catch (error) {\n      thoughtLogger.log('error', 'Vector search failed', { error });\n      throw new AppError('Vector search failed', 'SEARCH_ERROR');\n    }\n  }\n\n  private async generateEmbedding(text: string): Promise<number[]> {\n    // Initialize embedding vector\n    const vector = new Array(this.dimensions).fill(0);\n    \n    // Normalize and tokenize text\n    const tokens = text.toLowerCase()\n      .replace(/[^\\w\\s]/g, '')\n      .split(/\\s+/)\n      .filter(Boolean);\n\n    // Generate semantic embedding\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const tokenHash = this.hashString(token);\n      \n      // Distribute token influence across embedding\n      for (let j = 0; j < this.dimensions; j++) {\n        vector[j] += Math.sin(tokenHash * (j + 1)) / tokens.length;\n      }\n    }\n\n    // Normalize vector\n    const magnitude = Math.sqrt(\n      vector.reduce((sum, val) => sum + val * val, 0)\n    );\n\n    return vector.map(val => val / magnitude);\n  }\n\n  private hashString(str: string): number {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash;\n    }\n    return hash;\n  }\n\n  private cosineSimilarity(a: number[], b: number[]): number {\n    if (a.length !== b.length) {\n      throw new Error('Vector dimensions must match');\n    }\n\n    const dotProduct = a.reduce((sum, val, i) => sum + val * b[i], 0);\n    const magnitudeA = Math.sqrt(a.reduce((sum, val) => sum + val * val, 0));\n    const magnitudeB = Math.sqrt(b.reduce((sum, val) => sum + val * val, 0));\n\n    return dotProduct / (magnitudeA * magnitudeB);\n  }\n\n  clear(): void {\n    this.vectors.clear();\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\n\nexport class AutoTagger {\n  private static instance: AutoTagger;\n  \n  // Common technical terms and their categories\n  private readonly tagCategories = {\n    programming: [\n      'javascript', 'typescript', 'python', 'java', 'c++', 'code', 'function',\n      'class', 'api', 'react', 'vue', 'angular', 'node', 'express', 'database'\n    ],\n    documentation: [\n      'readme', 'docs', 'documentation', 'guide', 'tutorial', 'manual',\n      'reference', 'specification', 'api doc', 'changelog'\n    ],\n    configuration: [\n      'config', 'settings', 'env', 'environment', 'setup', 'installation',\n      'docker', 'kubernetes', 'deployment', 'build'\n    ],\n    data: [\n      'json', 'xml', 'csv', 'database', 'sql', 'nosql', 'schema',\n      'model', 'dataset', 'analytics'\n    ],\n    security: [\n      'security', 'auth', 'authentication', 'authorization', 'encryption',\n      'token', 'jwt', 'oauth', 'password', 'credentials'\n    ]\n  };\n\n  // File type tags\n  private readonly fileTypeTags: Record<string, string[]> = {\n    'application/pdf': ['pdf', 'document'],\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['docx', 'document'],\n    'text/plain': ['txt', 'text'],\n    'text/markdown': ['markdown', 'documentation']\n  };\n\n  private constructor() {}\n\n  static getInstance(): AutoTagger {\n    if (!AutoTagger.instance) {\n      AutoTagger.instance = new AutoTagger();\n    }\n    return AutoTagger.instance;\n  }\n\n  async generateTags(content: string, fileName: string, mimeType: string): Promise<string[]> {\n    thoughtLogger.log('execution', 'Generating tags for document', { fileName });\n\n    try {\n      const tags = new Set<string>();\n\n      // Add file type tags\n      this.addFileTypeTags(tags, mimeType);\n\n      // Add content-based tags\n      this.addContentTags(tags, content);\n\n      // Add filename-based tags\n      this.addFilenameTags(tags, fileName);\n\n      // Convert to array and limit number of tags\n      const finalTags = Array.from(tags).slice(0, 10);\n\n      thoughtLogger.log('success', 'Tags generated successfully', {\n        fileName,\n        tagCount: finalTags.length,\n        tags: finalTags\n      });\n\n      return finalTags;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to generate tags', { error });\n      return [];\n    }\n  }\n\n  private addFileTypeTags(tags: Set<string>, mimeType: string): void {\n    const typeTags = this.fileTypeTags[mimeType] || [];\n    typeTags.forEach(tag => tags.add(tag));\n  }\n\n  private addContentTags(tags: Set<string>, content: string): void {\n    const normalizedContent = content.toLowerCase();\n\n    // Add category-based tags\n    for (const [category, terms] of Object.entries(this.tagCategories)) {\n      const hasTerms = terms.some(term => normalizedContent.includes(term));\n      if (hasTerms) {\n        tags.add(category);\n        // Add specific matching terms as tags\n        terms\n          .filter(term => normalizedContent.includes(term))\n          .forEach(term => tags.add(term));\n      }\n    }\n\n    // Add language-specific tags\n    this.detectLanguages(normalizedContent).forEach(lang => tags.add(lang));\n  }\n\n  private addFilenameTags(tags: Set<string>, fileName: string): void {\n    const normalizedName = fileName.toLowerCase();\n\n    // Add tags based on common filename patterns\n    if (normalizedName.includes('readme')) tags.add('documentation');\n    if (normalizedName.includes('config')) tags.add('configuration');\n    if (normalizedName.includes('test')) tags.add('testing');\n    if (normalizedName.includes('example')) tags.add('example');\n    \n    // Add extension as tag\n    const extension = fileName.split('.').pop()?.toLowerCase();\n    if (extension && extension !== fileName.toLowerCase()) {\n      tags.add(extension);\n    }\n  }\n\n  private detectLanguages(content: string): string[] {\n    const languages: string[] = [];\n    \n    // Simple language detection based on common patterns\n    if (content.includes('function') || content.includes('const') || content.includes('let')) {\n      languages.push('javascript');\n    }\n    if (content.includes('interface') || content.includes('type ') || content.includes(': string')) {\n      languages.push('typescript');\n    }\n    if (content.includes('def ') || content.includes('import ') || content.includes('class ')) {\n      languages.push('python');\n    }\n    if (content.includes('public class') || content.includes('private void')) {\n      languages.push('java');\n    }\n\n    return languages;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { VectorStore } from './vector-store';\nimport { IndexedDBStorage } from '../storage/indexed-db';\nimport { AutoTagger } from './auto-tagger';\nimport type { Document, Workspace, SearchOptions, SearchResult } from './types';\nimport { AppError } from '../errors/AppError';\n\nexport class DocumentManager {\n  private static instance: DocumentManager;\n  private vectorStore: VectorStore;\n  private storage: IndexedDBStorage;\n  private autoTagger: AutoTagger;\n\n  private constructor() {\n    this.vectorStore = new VectorStore();\n    this.storage = new IndexedDBStorage();\n    this.autoTagger = AutoTagger.getInstance();\n  }\n\n  static getInstance(): DocumentManager {\n    if (!DocumentManager.instance) {\n      DocumentManager.instance = new DocumentManager();\n    }\n    return DocumentManager.instance;\n  }\n\n  async addDocument(\n    workspaceId: string,\n    file: File,\n    userTags: string[] = []\n  ): Promise<Document> {\n    thoughtLogger.log('execution', 'Adding new document', { \n      workspaceId,\n      fileName: file.name,\n      fileType: file.type,\n      fileSize: file.size\n    });\n\n    try {\n      // Initialize storage\n      await this.storage.init();\n\n      // Validate file\n      if (!this.isValidFileType(file)) {\n        throw new AppError('Unsupported file type', 'VALIDATION_ERROR');\n      }\n\n      if (file.size > 10 * 1024 * 1024) { // 10MB limit\n        throw new AppError('File size exceeds limit', 'VALIDATION_ERROR');\n      }\n\n      // Extract content\n      const content = await this.extractContent(file);\n      if (!content) {\n        throw new AppError('Failed to extract content from file', 'PROCESSING_ERROR');\n      }\n\n      // Generate auto tags\n      const autoTags = await this.autoTagger.generateTags(content, file.name, file.type);\n\n      // Combine auto tags with user tags, removing duplicates\n      const tags = Array.from(new Set([...autoTags, ...userTags]));\n\n      // Generate vector embedding\n      const vectorId = await this.vectorStore.addDocument(content);\n\n      // Create document\n      const document: Document = {\n        id: crypto.randomUUID(),\n        name: file.name,\n        content,\n        mimeType: file.type,\n        tags,\n        vectorId,\n        workspaceId,\n        createdAt: Date.now(),\n        updatedAt: Date.now(),\n        metadata: {\n          fileSize: file.size,\n          wordCount: content.split(/\\s+/).length,\n          processingTime: Date.now()\n        }\n      };\n\n      // Store document\n      await this.storage.put('documents', document);\n\n      // Update workspace\n      await this.updateWorkspaceDocuments(workspaceId, document.id);\n\n      thoughtLogger.log('success', 'Document added successfully', {\n        documentId: document.id,\n        autoTags,\n        finalTags: tags\n      });\n\n      return document;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to add document', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Failed to add document',\n        'DOCUMENT_ERROR',\n        error\n      );\n    }\n  }\n\n  private async extractContent(file: File): Promise<string> {\n    try {\n      switch (file.type) {\n        case 'text/plain':\n        case 'text/markdown':\n          return await file.text();\n\n        case 'application/pdf':\n          return await this.extractPDFContent(file);\n\n        case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n          return await this.extractDocxContent(file);\n\n        default:\n          if (file.type.startsWith('text/')) {\n            return await file.text();\n          }\n          throw new AppError(`Unsupported file type: ${file.type}`, 'VALIDATION_ERROR');\n      }\n    } catch (error) {\n      thoughtLogger.log('error', 'Content extraction failed', { error });\n      throw new AppError('Failed to extract content', 'PROCESSING_ERROR', error);\n    }\n  }\n\n  private async extractPDFContent(file: File): Promise<string> {\n    // For now, return a simple text extraction\n    // In production, use a PDF parsing library\n    return await file.text();\n  }\n\n  private async extractDocxContent(file: File): Promise<string> {\n    // For now, return a simple text extraction\n    // In production, use a DOCX parsing library\n    return await file.text();\n  }\n\n  private isValidFileType(file: File): boolean {\n    const supportedTypes = [\n      'text/plain',\n      'text/markdown',\n      'application/pdf',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n    ];\n\n    return supportedTypes.includes(file.type) || file.type.startsWith('text/');\n  }\n\n  private async updateWorkspaceDocuments(workspaceId: string, documentId: string): Promise<void> {\n    const workspace = await this.storage.get('workspaces', workspaceId);\n    if (!workspace) {\n      // Create default workspace if it doesn't exist\n      const defaultWorkspace: Workspace = {\n        id: workspaceId,\n        name: 'Default Workspace',\n        documentIds: [documentId],\n        createdAt: Date.now(),\n        updatedAt: Date.now()\n      };\n      await this.storage.put('workspaces', defaultWorkspace);\n    } else {\n      workspace.documentIds.push(documentId);\n      workspace.updatedAt = Date.now();\n      await this.storage.put('workspaces', workspace);\n    }\n  }\n\n  async searchDocuments(options: SearchOptions): Promise<SearchResult[]> {\n    thoughtLogger.log('execution', 'Searching documents', options);\n\n    try {\n      // Get vector results\n      const vectorResults = await this.vectorStore.search(\n        options.query,\n        options.similarity || 0.7,\n        options.limit || 10\n      );\n\n      // Fetch full documents\n      const documents = await Promise.all(\n        vectorResults.map(async result => {\n          const doc = await this.storage.get('documents', result.id);\n          return {\n            document: doc,\n            score: result.score,\n            excerpt: this.generateExcerpt(doc.content, options.query)\n          };\n        })\n      );\n\n      // Filter by workspace and tags if specified\n      return documents.filter(result => {\n        if (options.workspaceId && result.document.workspaceId !== options.workspaceId) {\n          return false;\n        }\n        if (options.tags && options.tags.length > 0) {\n          return options.tags.every(tag => result.document.tags.includes(tag));\n        }\n        return true;\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'Document search failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Document search failed',\n        'SEARCH_ERROR',\n        error\n      );\n    }\n  }\n\n  private generateExcerpt(content: string, query: string): string {\n    const words = content.split(/\\s+/);\n    const queryWords = query.toLowerCase().split(/\\s+/);\n    const excerptLength = 50;\n\n    // Find best matching position\n    let bestPosition = 0;\n    let maxMatches = 0;\n\n    for (let i = 0; i < words.length - excerptLength; i++) {\n      const matches = queryWords.filter(qw => \n        words.slice(i, i + excerptLength)\n          .some(w => w.toLowerCase().includes(qw))\n      ).length;\n\n      if (matches > maxMatches) {\n        maxMatches = matches;\n        bestPosition = i;\n      }\n    }\n\n    return words\n      .slice(bestPosition, bestPosition + excerptLength)\n      .join(' ') + '...';\n  }\n}","import React, { useState, useRef } from 'react';\nimport { Upload, X, FileText, AlertCircle } from 'lucide-react';\nimport { DocumentManager } from '../lib/documents/document-manager';\nimport { thoughtLogger } from '../lib/logging/thought-logger';\n\ninterface DocumentUploadProps {\n  workspaceId: string;\n  onUploadComplete?: () => void;\n  onUploadError?: () => void;\n}\n\nexport function DocumentUpload({ workspaceId, onUploadComplete, onUploadError }: DocumentUploadProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [files, setFiles] = useState<File[]>([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [uploadProgress, setUploadProgress] = useState<Record<string, number>>({});\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const documentManager = DocumentManager.getInstance();\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    setError(null);\n    \n    const droppedFiles = Array.from(e.dataTransfer.files);\n    setFiles(prev => [...prev, ...droppedFiles]);\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setError(null);\n      const selectedFiles = Array.from(e.target.files);\n      setFiles(prev => [...prev, ...selectedFiles]);\n    }\n  };\n\n  const removeFile = (index: number) => {\n    setFiles(prev => prev.filter((_, i) => i !== index));\n    setError(null);\n  };\n\n  const uploadFiles = async () => {\n    setIsUploading(true);\n    setError(null);\n\n    try {\n      thoughtLogger.log('execution', 'Starting document upload', {\n        fileCount: files.length,\n        workspaceId\n      });\n\n      await Promise.all(\n        files.map(async (file, index) => {\n          try {\n            setUploadProgress(prev => ({ ...prev, [file.name]: 0 }));\n            \n            const progressInterval = setInterval(() => {\n              setUploadProgress(prev => ({\n                ...prev,\n                [file.name]: Math.min((prev[file.name] || 0) + 10, 90)\n              }));\n            }, 200);\n\n            await documentManager.addDocument(workspaceId, file);\n            \n            clearInterval(progressInterval);\n            setUploadProgress(prev => ({ ...prev, [file.name]: 100 }));\n            \n            thoughtLogger.log('success', 'Document uploaded successfully', {\n              fileName: file.name\n            });\n          } catch (error) {\n            thoughtLogger.log('error', `Failed to upload ${file.name}`, { error });\n            throw error;\n          }\n        })\n      );\n\n      setFiles([]);\n      onUploadComplete?.();\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'Upload failed');\n      onUploadError?.();\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Drop Zone */}\n      <div\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        className={`border-2 border-dashed rounded-lg p-4 sm:p-8 text-center transition-colors ${\n          isDragging\n            ? 'border-blue-500 bg-blue-50/5'\n            : 'border-gray-600 hover:border-gray-500'\n        }`}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          onChange={handleFileSelect}\n          className=\"hidden\"\n          accept=\".pdf,.docx,.txt,.md\"\n        />\n\n        <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\n        <p className=\"mt-2 text-sm text-gray-300\">\n          Drag and drop files here, or{' '}\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"text-blue-400 hover:text-blue-300\"\n          >\n            browse\n          </button>\n        </p>\n        <p className=\"mt-1 text-xs text-gray-400\">\n          Supported formats: PDF, DOCX, TXT, MD\n        </p>\n      </div>\n\n      {/* File List */}\n      {files.length > 0 && (\n        <div className=\"space-y-2\">\n          {files.map((file, index) => (\n            <div\n              key={index}\n              className=\"flex items-center justify-between bg-gray-800/50 backdrop-blur-sm rounded-lg p-3\"\n            >\n              <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\n                <FileText className=\"w-5 h-5 text-blue-400 flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm truncate\">{file.name}</p>\n                  {uploadProgress[file.name] !== undefined && (\n                    <div className=\"mt-1 h-1 w-full bg-gray-700 rounded-full overflow-hidden\">\n                      <div \n                        className=\"h-full bg-blue-500 transition-all duration-200\"\n                        style={{ width: `${uploadProgress[file.name]}%` }}\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n              <button\n                onClick={() => removeFile(index)}\n                className=\"ml-2 p-2 text-gray-400 hover:text-gray-300\"\n                disabled={isUploading}\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n          ))}\n\n          <div className=\"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3\">\n            <button\n              onClick={() => setFiles([])}\n              className=\"px-4 py-2 text-gray-400 hover:text-gray-300 w-full sm:w-auto\"\n              disabled={isUploading}\n            >\n              Clear All\n            </button>\n            <button\n              onClick={uploadFiles}\n              disabled={isUploading}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors w-full sm:w-auto\"\n            >\n              {isUploading ? 'Uploading...' : 'Upload Files'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"p-4 bg-red-500/10 border border-red-500/50 rounded-lg\">\n          <div className=\"flex items-start space-x-2\">\n            <AlertCircle className=\"w-5 h-5 text-red-400 mt-0.5\" />\n            <div className=\"flex-1\">\n              <h4 className=\"text-sm font-medium text-red-400\">Upload Failed</h4>\n              <p className=\"text-sm text-red-300/90 mt-1\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { FileText, Upload, Grid, List, Search, Filter } from 'lucide-react';\nimport { DocumentList } from '../DocumentList';\nimport { DocumentUpload } from '../DocumentUpload';\nimport { DocumentManager } from '../../lib/documents/document-manager';\nimport type { Document, SearchOptions } from '../../lib/documents/types';\n\nexport function DocumentPanel() {\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [isUploadOpen, setIsUploadOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [uploadSuccess, setUploadSuccess] = useState<boolean | null>(null);\n\n  React.useEffect(() => {\n    loadDocuments();\n  }, [searchQuery, selectedTags]);\n\n  const loadDocuments = async () => {\n    setIsLoading(true);\n    try {\n      const searchOptions: SearchOptions = {\n        query: searchQuery,\n        tags: selectedTags.length > 0 ? selectedTags : undefined,\n        limit: 50\n      };\n\n      const results = await DocumentManager.getInstance().searchDocuments(searchOptions);\n      setDocuments(results.map(r => r.document));\n    } catch (error) {\n      console.error('Failed to load documents:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUploadComplete = async () => {\n    setUploadSuccess(true);\n    setIsUploadOpen(false);\n    await loadDocuments();\n\n    setTimeout(() => {\n      setUploadSuccess(null);\n    }, 3000);\n  };\n\n  const handleUploadError = () => {\n    setUploadSuccess(false);\n    setTimeout(() => {\n      setUploadSuccess(null);\n    }, 3000);\n  };\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full bg-background\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 border-b border-border bg-background/50 backdrop-blur-sm gap-4\">\n        <div className=\"flex-1 max-w-xl\">\n          <h1 className=\"text-xl font-bold mb-1\">Documents</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Manage and search through your documents\n          </p>\n        </div>\n\n        <div className=\"flex items-center w-full sm:w-auto gap-4\">\n          <div className=\"flex items-center space-x-2 bg-secondary rounded-lg p-1\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`p-2 rounded ${\n                viewMode === 'grid'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              <Grid size={20} />\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`p-2 rounded ${\n                viewMode === 'list'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              <List size={20} />\n            </button>\n          </div>\n\n          <button\n            onClick={() => setIsUploadOpen(true)}\n            className=\"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors w-full sm:w-auto justify-center\"\n          >\n            <Upload size={20} />\n            <span>Upload</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Upload Status Messages */}\n      {uploadSuccess !== null && (\n        <div\n          className={`p-4 ${\n            uploadSuccess\n              ? 'bg-green-500/10 border-green-500/50 text-green-400'\n              : 'bg-destructive/10 border-destructive/50 text-destructive'\n          } border backdrop-blur-sm`}\n        >\n          <div className=\"flex items-center space-x-2 max-w-4xl mx-auto\">\n            <FileText className=\"w-5 h-5\" />\n            <p>\n              {uploadSuccess\n                ? 'Document uploaded successfully!'\n                : 'Failed to upload document. Please try again.'}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        {isUploadOpen ? (\n          <div className=\"p-4\">\n            <DocumentUpload\n              workspaceId=\"default\"\n              onUploadComplete={handleUploadComplete}\n              onUploadError={handleUploadError}\n            />\n          </div>\n        ) : (\n          <DocumentList\n            documents={documents}\n            viewMode={viewMode}\n            isLoading={isLoading}\n            selectedTags={selectedTags}\n            onTagSelect={setSelectedTags}\n            onRefresh={loadDocuments}\n            onSearch={setSearchQuery}\n          />\n        )}\n      </div>\n    </div>\n  );\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { SearchResult } from '../types/search';\n\ninterface MoAConfig {\n  numHeads?: number;\n  temperature?: number;\n  maxTokens?: number;\n}\n\nexport class MoASearchAggregator {\n  private numHeads: number;\n  private temperature: number;\n  private maxTokens: number;\n\n  constructor(config: MoAConfig = {}) {\n    this.numHeads = config.numHeads || 4;\n    this.temperature = config.temperature || 0.7;\n    this.maxTokens = config.maxTokens || 1024;\n  }\n\n  async aggregate(results: SearchResult[]): Promise<string> {\n    thoughtLogger.log('plan', 'Starting MoA-style result aggregation', {\n      numResults: results.length,\n      sources: results.map(r => r.metadata?.source)\n    });\n\n    try {\n      // Apply multi-head attention mechanism\n      const headResults = await Promise.all(\n        Array(this.numHeads).fill(0).map(() => \n          this.processAttentionHead(results)\n        )\n      );\n\n      // Combine results from all heads\n      const aggregated = this.combineHeadResults(headResults);\n\n      thoughtLogger.log('success', 'Results aggregated successfully', {\n        numHeads: this.numHeads,\n        resultLength: aggregated.length\n      });\n\n      return aggregated;\n    } catch (error) {\n      thoughtLogger.log('error', 'Result aggregation failed', { error });\n      throw error;\n    }\n  }\n\n  private async processAttentionHead(results: SearchResult[]): Promise<string> {\n    // Calculate attention scores\n    const scores = results.map(result => ({\n      content: result.content,\n      score: this.calculateAttentionScore(result)\n    }));\n\n    // Sort by attention score\n    scores.sort((a, b) => b.score - a.score);\n\n    // Take top results\n    const topResults = scores.slice(0, 3);\n\n    return this.combineWithAttention(topResults);\n  }\n\n  private calculateAttentionScore(result: SearchResult): number {\n    // Score based on multiple factors\n    const sourceScore = this.getSourceScore(result.metadata?.source);\n    const densityScore = this.calculateDensityScore(result.content);\n    const relevanceScore = this.calculateRelevanceScore(result.content);\n    const freshnessScore = this.calculateFreshnessScore(result.metadata?.timestamp);\n\n    return (sourceScore + densityScore + relevanceScore + freshnessScore) / 4;\n  }\n\n  private getSourceScore(source?: string): number {\n    const sourceScores: Record<string, number> = {\n      perplexity: 0.95,\n      tavily: 0.9,\n      google: 0.85,\n      serp: 0.8\n    };\n    return source ? sourceScores[source] || 0.7 : 0.7;\n  }\n\n  private calculateDensityScore(content: string): number {\n    const words = content.toLowerCase().split(/\\s+/);\n    const uniqueWords = new Set(words);\n    return uniqueWords.size / words.length;\n  }\n\n  private calculateRelevanceScore(content: string): number {\n    // Count relevance signals\n    const dateMatches = content.match(/\\b\\d{4}[-/]\\d{2}[-/]\\d{2}\\b/g)?.length || 0;\n    const numberMatches = content.match(/\\b\\d+([.,]\\d+)?\\b/g)?.length || 0;\n    const properNouns = content.match(/(?<!^|\\.\\s+)\\b[A-Z][a-z]+\\b/g)?.length || 0;\n\n    const totalSignals = dateMatches + numberMatches + properNouns;\n    return Math.min(totalSignals / 10, 1);\n  }\n\n  private calculateFreshnessScore(timestamp?: string): number {\n    if (!timestamp) return 0.5;\n    \n    const age = Date.now() - new Date(timestamp).getTime();\n    const hourAge = age / (1000 * 60 * 60);\n    \n    // Exponential decay based on age\n    return Math.exp(-hourAge / 24);\n  }\n\n  private combineWithAttention(\n    results: Array<{ content: string; score: number }>\n  ): string {\n    // Normalize scores\n    const total = results.reduce((sum, r) => sum + r.score, 0);\n    const normalized = results.map(r => ({\n      ...r,\n      score: r.score / total\n    }));\n\n    // Combine content with weighted attention\n    return normalized\n      .map(r => this.truncateContent(r.content, Math.floor(this.maxTokens * r.score)))\n      .join('\\n\\n');\n  }\n\n  private truncateContent(content: string, maxLength: number): string {\n    if (content.length <= maxLength) return content;\n    return content.slice(0, maxLength - 3) + '...';\n  }\n\n  private combineHeadResults(headResults: string[]): string {\n    // Remove duplicates and near-duplicates\n    const unique = this.deduplicateResults(headResults);\n    return unique.join('\\n\\n');\n  }\n\n  private deduplicateResults(results: string[]): string[] {\n    const unique = new Set<string>();\n    const output: string[] = [];\n\n    for (const result of results) {\n      const simplified = result.toLowerCase().replace(/\\s+/g, ' ').trim();\n      \n      const isDuplicate = Array.from(unique).some(existing => \n        this.calculateSimilarity(simplified, existing) > 0.8\n      );\n\n      if (!isDuplicate) {\n        unique.add(simplified);\n        output.push(result);\n      }\n    }\n\n    return output;\n  }\n\n  private calculateSimilarity(a: string, b: string): number {\n    const setA = new Set(a.split(' '));\n    const setB = new Set(b.split(' '));\n    \n    const intersection = new Set(\n      Array.from(setA).filter(x => setB.has(x))\n    );\n    \n    const union = new Set([...setA, ...setB]);\n    \n    return intersection.size / union.size;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { SearchResult } from '../types/search';\nimport { VectorStore } from '../memory/vector-store';\nimport { config } from '../config';\n\nexport class RagProcessor {\n  private vectorStore: VectorStore;\n\n  constructor() {\n    this.vectorStore = new VectorStore();\n  }\n\n  async process(results: SearchResult[]): Promise<SearchResult[]> {\n    thoughtLogger.log('plan', 'Processing search results with RAG', {\n      resultCount: results.length\n    });\n\n    try {\n      // Store results in vector store for retrieval\n      const storedResults = await Promise.all(\n        results.map(async result => {\n          const vectorId = await this.vectorStore.addDocument(result.content);\n          return { ...result, vectorId };\n        })\n      );\n\n      // Perform similarity search to find relevant content\n      const enhancedResults = await Promise.all(\n        storedResults.map(async result => {\n          const similarContent = await this.vectorStore.search(\n            result.content,\n            0.7,\n            3\n          );\n\n          // Enhance result with related content\n          return {\n            ...result,\n            content: this.combineContent(result.content, similarContent)\n          };\n        })\n      );\n\n      thoughtLogger.log('success', 'RAG processing complete', {\n        enhancedCount: enhancedResults.length\n      });\n\n      return enhancedResults;\n    } catch (error) {\n      thoughtLogger.log('error', 'RAG processing failed', { error });\n      return results; // Return original results if RAG fails\n    }\n  }\n\n  private combineContent(\n    originalContent: string,\n    similarContent: Array<{ content: string; score: number }>\n  ): string {\n    let combined = originalContent + '\\n\\n';\n\n    if (similarContent.length > 0) {\n      combined += '### Related Information\\n\\n';\n      similarContent.forEach(({ content, score }) => {\n        if (score > 0.8 && content !== originalContent) {\n          combined += content + '\\n\\n';\n        }\n      });\n    }\n\n    return combined.trim();\n  }\n}","import { config } from '../config';\nimport type { Message } from '../types';\nimport { AppError } from '../errors/AppError';\n\nexport class PerplexityAPI {\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n  private readonly model: string;\n\n  constructor() {\n    this.apiKey = config.apiKeys.perplexity;\n    this.baseUrl = config.services.perplexity.baseUrl;\n    this.model = config.services.perplexity.defaultModel;\n\n    if (!this.apiKey) {\n      console.warn('Perplexity API key not configured');\n    }\n  }\n\n  async search(query: string): Promise<string> {\n    if (!this.apiKey) {\n      throw new AppError('Perplexity API key not configured', 'API_ERROR');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/chat/completions`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.apiKey}`\n        },\n        body: JSON.stringify({\n          model: this.model,\n          messages: [{ role: 'user', content: query }],\n          max_tokens: config.services.perplexity.maxTokens,\n          temperature: config.services.perplexity.temperature\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new AppError(\n          `Perplexity API error: ${error.message || response.statusText}`,\n          'API_ERROR'\n        );\n      }\n\n      const data = await response.json();\n      return data.choices[0].message.content;\n    } catch (error) {\n      if (error instanceof AppError) throw error;\n      throw new AppError('Failed to communicate with Perplexity API', 'API_ERROR', error);\n    }\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\nimport { config } from '../config';\n\nexport class TavilyAPI {\n  private readonly apiKey: string;\n  private readonly baseUrl = 'https://api.tavily.com/v1';\n\n  constructor() {\n    this.apiKey = config.apiKeys.tavily;\n    if (!this.apiKey) {\n      thoughtLogger.log('warning', 'Tavily API key not configured');\n    }\n  }\n\n  async search(query: string, options: {\n    searchDepth?: 'basic' | 'advanced';\n    includeImages?: boolean;\n    includeAnswers?: boolean;\n    maxResults?: number;\n  } = {}): Promise<string> {\n    if (!this.apiKey) {\n      throw new AppError('Tavily API key not configured', 'API_ERROR');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/search`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'api-key': this.apiKey\n        },\n        body: JSON.stringify({\n          query,\n          search_depth: options.searchDepth || 'advanced',\n          include_images: options.includeImages || false,\n          include_answer: options.includeAnswers || true,\n          max_results: options.maxResults || 10\n        })\n      });\n\n      if (!response.ok) {\n        throw new AppError(\n          `Tavily API error: ${response.statusText}`,\n          'API_ERROR',\n          { status: response.status }\n        );\n      }\n\n      const data = await response.json();\n      return this.formatResults(data);\n    } catch (error) {\n      thoughtLogger.log('error', 'Tavily search failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Failed to search with Tavily',\n        'API_ERROR',\n        error\n      );\n    }\n  }\n\n  async extract(url: string, options: {\n    include_summary?: boolean;\n    max_results?: number;\n  } = {}): Promise<string> {\n    if (!this.apiKey) {\n      throw new AppError('Tavily API key not configured', 'API_ERROR');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/extract`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'api-key': this.apiKey\n        },\n        body: JSON.stringify({\n          url,\n          include_summary: options.include_summary || true,\n          max_results: options.max_results || 5\n        })\n      });\n\n      if (!response.ok) {\n        throw new AppError(\n          `Tavily API error: ${response.statusText}`,\n          'API_ERROR',\n          { status: response.status }\n        );\n      }\n\n      const data = await response.json();\n      return this.formatExtractedContent(data);\n    } catch (error) {\n      thoughtLogger.log('error', 'Tavily extraction failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Failed to extract content with Tavily',\n        'API_ERROR',\n        error\n      );\n    }\n  }\n\n  private formatResults(data: any): string {\n    let formattedContent = '';\n\n    if (data.answer) {\n      formattedContent += `${data.answer}\\n\\n`;\n    }\n\n    if (data.results?.length) {\n      formattedContent += '### Sources\\n\\n';\n      data.results.forEach((result: any) => {\n        formattedContent += `**${result.title}**\\n${result.snippet}\\n[${result.url}](${result.url})\\n\\n`;\n      });\n    }\n\n    return formattedContent.trim();\n  }\n\n  private formatExtractedContent(data: any): string {\n    let formattedContent = '';\n\n    if (data.summary) {\n      formattedContent += `### Summary\\n${data.summary}\\n\\n`;\n    }\n\n    if (data.content) {\n      formattedContent += `### Content\\n${data.content}\\n\\n`;\n    }\n\n    if (data.metadata) {\n      formattedContent += `### Metadata\\n`;\n      Object.entries(data.metadata).forEach(([key, value]) => {\n        formattedContent += `- ${key}: ${value}\\n`;\n      });\n    }\n\n    return formattedContent.trim();\n  }\n}","import { config } from '../config';\nimport { AppError } from '../errors/AppError';\n\nexport class GoogleSearchAPI {\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n  private readonly searchEngineId: string;\n\n  constructor() {\n    this.apiKey = config.apiKeys.google;\n    this.baseUrl = config.services.google.baseUrl;\n    this.searchEngineId = config.services.google.searchEngineId;\n\n    if (!this.apiKey) {\n      console.warn('Google Search API key not configured');\n    }\n  }\n\n  async search(query: string): Promise<string> {\n    if (!this.apiKey) {\n      throw new AppError('Google Search API key not configured', 'API_ERROR');\n    }\n\n    try {\n      const url = new URL(this.baseUrl);\n      url.searchParams.append('key', this.apiKey);\n      url.searchParams.append('cx', this.searchEngineId);\n      url.searchParams.append('q', query);\n      url.searchParams.append('num', config.services.google.resultsPerPage.toString());\n\n      const response = await fetch(url.toString());\n\n      if (!response.ok) {\n        throw new AppError(\n          `Google API request failed with status ${response.status}`,\n          'API_ERROR'\n        );\n      }\n\n      const data = await response.json();\n      return this.formatSearchResults(data.items || []);\n    } catch (error) {\n      if (error instanceof AppError) throw error;\n      throw new AppError('Failed to communicate with Google Search API', 'API_ERROR', error);\n    }\n  }\n\n  private formatSearchResults(items: any[]): string {\n    if (!items.length) {\n      return 'No results found.';\n    }\n\n    return items.map(item => {\n      const title = item.title || 'Untitled';\n      const snippet = item.snippet || 'No description available.';\n      return `**${title}**\\n${snippet}\\n`;\n    }).join('\\n');\n  }\n}","import { config } from '../config';\nimport { AppError } from '../errors/AppError';\n\nexport class SerpAPI {\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n\n  constructor() {\n    this.apiKey = config.apiKeys.serp;\n    this.baseUrl = config.services.serp.baseUrl;\n\n    if (!this.apiKey) {\n      console.warn('SERP API key not configured');\n    }\n  }\n\n  async search(query: string): Promise<string> {\n    if (!this.apiKey) {\n      throw new AppError('SERP API key not configured', 'API_ERROR');\n    }\n\n    try {\n      const url = new URL(this.baseUrl);\n      url.searchParams.append('api_key', this.apiKey);\n      url.searchParams.append('q', query);\n      url.searchParams.append('num', config.services.serp.resultsPerPage.toString());\n\n      const response = await fetch(url.toString());\n\n      if (!response.ok) {\n        throw new AppError(\n          `SERP API request failed with status ${response.status}`,\n          'API_ERROR'\n        );\n      }\n\n      const data = await response.json();\n      return this.formatSearchResults(data.organic_results || []);\n    } catch (error) {\n      if (error instanceof AppError) throw error;\n      throw new AppError('Failed to communicate with SERP API', 'API_ERROR', error);\n    }\n  }\n\n  private formatSearchResults(results: any[]): string {\n    if (!results.length) {\n      return 'No results found.';\n    }\n\n    return results.map(result => {\n      const title = result.title || 'Untitled';\n      const snippet = result.snippet || 'No description available.';\n      return `**${title}**\\n${snippet}\\n`;\n    }).join('\\n');\n  }\n}","import { config } from '../lib/config';\nimport { MoASearchAggregator } from '../lib/search/moa';\nimport { RagProcessor } from '../lib/search/rag-processor';\nimport { PerplexityAPI } from '../lib/api/perplexity';\nimport { TavilyAPI } from '../lib/api/tavily';\nimport { GoogleSearchAPI } from '../lib/api/google-search';\nimport { SerpAPI } from '../lib/api/serp';\nimport { thoughtLogger } from '../lib/logging/thought-logger';\nimport type { SearchResult } from '../lib/types/search';\n\nclass SearchService {\n  private perplexityAPI: PerplexityAPI;\n  private tavilyAPI: TavilyAPI;\n  private googleSearchAPI: GoogleSearchAPI;\n  private serpAPI: SerpAPI;\n  private moaAggregator: MoASearchAggregator;\n  private ragProcessor: RagProcessor;\n  private static instance: SearchService;\n\n  private constructor() {\n    this.perplexityAPI = new PerplexityAPI();\n    this.tavilyAPI = new TavilyAPI();\n    this.googleSearchAPI = new GoogleSearchAPI();\n    this.serpAPI = new SerpAPI();\n    this.moaAggregator = new MoASearchAggregator();\n    this.ragProcessor = new RagProcessor();\n  }\n\n  static getInstance(): SearchService {\n    if (!SearchService.instance) {\n      SearchService.instance = new SearchService();\n    }\n    return SearchService.instance;\n  }\n\n  async search(query: string): Promise<string> {\n    thoughtLogger.log('plan', 'Starting concurrent search with MoA and RAG', { query });\n\n    try {\n      // Run primary searches concurrently\n      const [perplexityResult, tavilyResult] = await Promise.allSettled([\n        this.searchWithProvider('perplexity', () => this.perplexityAPI.search(query)),\n        this.searchWithProvider('tavily', () => this.tavilyAPI.search(query))\n      ]);\n\n      // Run fallback searches if needed\n      let fallbackResults: PromiseSettledResult<SearchResult>[] = [];\n      if (perplexityResult.status === 'rejected' || tavilyResult.status === 'rejected') {\n        fallbackResults = await Promise.allSettled([\n          this.searchWithProvider('google', () => this.googleSearchAPI.search(query)),\n          this.searchWithProvider('serp', () => this.serpAPI.search(query))\n        ]);\n      }\n\n      // Collect successful results\n      const results = [\n        ...(perplexityResult.status === 'fulfilled' ? [perplexityResult.value] : []),\n        ...(tavilyResult.status === 'fulfilled' ? [tavilyResult.value] : []),\n        ...fallbackResults\n          .filter((result): result is PromiseFulfilledResult<SearchResult> => \n            result.status === 'fulfilled'\n          )\n          .map(result => result.value)\n      ];\n\n      // Process results through RAG\n      const ragResults = await this.ragProcessor.process(results);\n\n      // Aggregate results using MoA\n      const aggregatedContent = await this.moaAggregator.aggregate(ragResults);\n\n      thoughtLogger.log('success', 'Search completed successfully', {\n        resultCount: results.length,\n        sources: results.map(r => r.metadata.source)\n      });\n\n      return aggregatedContent;\n    } catch (error) {\n      thoughtLogger.log('error', 'Search failed', { error });\n      throw error;\n    }\n  }\n\n  private async searchWithProvider(\n    provider: string,\n    searchFn: () => Promise<string>\n  ): Promise<SearchResult> {\n    try {\n      const content = await searchFn();\n      return {\n        success: true,\n        content,\n        metadata: {\n          source: provider,\n          timestamp: new Date().toISOString()\n        }\n      };\n    } catch (error) {\n      thoughtLogger.log('error', `${provider} search failed`, { error });\n      throw error;\n    }\n  }\n}\n\n// Export singleton instance\nexport const searchService = SearchService.getInstance();","import React, { createContext, useContext, useState } from 'react';\nimport { searchService } from '../services/search-service';\nimport { thoughtLogger } from '../lib/logging/thought-logger';\nimport type { SearchResult } from '../lib/types/search';\n\ninterface SearchContextType {\n  results: SearchResult[];\n  isStreaming: boolean;\n  search: (query: string) => Promise<void>;\n  clearResults: () => void;\n}\n\nconst SearchContext = createContext<SearchContextType | undefined>(undefined);\n\nexport function SearchProvider({ children }: { children: React.ReactNode }) {\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [isStreaming, setIsStreaming] = useState(false);\n\n  const search = async (query: string) => {\n    setIsStreaming(true);\n    try {\n      thoughtLogger.log('execution', 'Starting search', { query });\n      const searchResults = await searchService.search(query);\n      \n      setResults(prev => [...prev, {\n        success: true,\n        content: searchResults,\n        metadata: {\n          source: 'aggregated',\n          timestamp: new Date().toISOString(),\n          query\n        }\n      }]);\n\n      thoughtLogger.log('success', 'Search completed');\n    } catch (error) {\n      thoughtLogger.log('error', 'Search failed', { error });\n      setResults(prev => [...prev, {\n        success: false,\n        content: error instanceof Error ? error.message : 'Search failed',\n        metadata: {\n          source: 'error',\n          timestamp: new Date().toISOString(),\n          query\n        }\n      }]);\n    } finally {\n      setIsStreaming(false);\n    }\n  };\n\n  const clearResults = () => {\n    setResults([]);\n    thoughtLogger.log('success', 'Search results cleared');\n  };\n\n  return (\n    <SearchContext.Provider value={{ results, isStreaming, search, clearResults }}>\n      {children}\n    </SearchContext.Provider>\n  );\n}\n\nexport function useSearch() {\n  const context = useContext(SearchContext);\n  if (!context) {\n    throw new Error('useSearch must be used within a SearchProvider');\n  }\n  return context;\n}","import React from 'react';\nimport { ExternalLink } from 'lucide-react';\nimport { useSearch } from '../context/SearchContext';\nimport ReactMarkdown from 'react-markdown';\n\nexport function SearchResults() {\n  const { results, isStreaming } = useSearch();\n\n  if (results.length === 0) {\n    return (\n      <div className=\"text-center text-muted-foreground py-12\">\n        <p>Start searching to see results</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {results.map((result, index) => (\n        <div\n          key={index}\n          className=\"bg-secondary rounded-lg p-6 animate-fade-in\"\n        >\n          {result.type === 'answer' ? (\n            <div className=\"prose prose-invert max-w-none\">\n              <ReactMarkdown>{result.content}</ReactMarkdown>\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              <div className=\"flex items-start justify-between\">\n                <h3 className=\"text-lg font-semibold\">{result.title}</h3>\n                {result.url && (\n                  <a\n                    href={result.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-primary hover:text-primary/80\"\n                  >\n                    <ExternalLink className=\"w-5 h-5\" />\n                  </a>\n                )}\n              </div>\n              <p className=\"text-foreground/80\">{result.content}</p>\n              {result.url && (\n                <p className=\"text-muted-foreground text-sm\">{result.url}</p>\n              )}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}","import React from 'react';\nimport { Search as SearchIcon, Sparkles, ExternalLink } from 'lucide-react';\nimport { useSearch } from '../../context/SearchContext';\nimport { SearchResults } from '../SearchResults';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport function SearchPanel() {\n  const [query, setQuery] = React.useState('');\n  const [isSearching, setIsSearching] = React.useState(false);\n  const resultsEndRef = React.useRef<HTMLDivElement>(null);\n  const { search, results, isStreaming } = useSearch();\n\n  const handleSearch = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim() || isSearching) return;\n\n    setIsSearching(true);\n    try {\n      await search(query);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  React.useEffect(() => {\n    if (results.length > 0) {\n      resultsEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [results]);\n\n  return (\n    <div className=\"flex-1 flex flex-col\">\n      {/* Search Header */}\n      <header className=\"bg-background/50 backdrop-blur-sm border-b border-border p-4\">\n        <form onSubmit={handleSearch} className=\"max-w-4xl mx-auto\">\n          <div className=\"relative flex items-center\">\n            <input\n              type=\"text\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              placeholder=\"Search anything...\"\n              className=\"w-full bg-secondary text-foreground rounded-lg pl-12 pr-12 py-3 focus:outline-none focus:ring-2 focus:ring-primary\"\n              disabled={isSearching}\n            />\n            <SearchIcon className=\"absolute left-4 w-5 h-5 text-muted-foreground\" />\n            <button\n              type=\"submit\"\n              disabled={isSearching || !query.trim()}\n              className=\"absolute right-4 text-primary hover:text-primary/80 disabled:opacity-50\"\n            >\n              <Sparkles className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </form>\n      </header>\n\n      {/* Search Results */}\n      <div className=\"flex-1 overflow-auto p-4\">\n        <div className=\"max-w-4xl mx-auto space-y-6\">\n          <AnimatePresence mode=\"wait\">\n            {isSearching ? (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"flex items-center justify-center py-12\"\n              >\n                <div className=\"flex flex-col items-center space-y-4\">\n                  <div className=\"relative\">\n                    <div className=\"w-12 h-12 border-4 border-primary/30 rounded-full animate-spin border-t-primary\" />\n                    <Sparkles className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-primary\" />\n                  </div>\n                  <p className=\"text-muted-foreground\">Searching...</p>\n                </div>\n              </motion.div>\n            ) : (\n              <SearchResults />\n            )}\n          </AnimatePresence>\n          <div ref={resultsEndRef} />\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Save } from 'lucide-react';\nimport { thoughtLogger } from '../lib/logging/thought-logger';\n\ninterface SaveButtonProps {\n  onSave: () => Promise<void>;\n  isDirty: boolean;\n}\n\nexport function SaveButton({ onSave, isDirty }: SaveButtonProps) {\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [error, setError] = React.useState<string | null>(null);\n\n  const handleSave = async () => {\n    if (!isDirty || isSaving) return;\n    \n    setIsSaving(true);\n    setError(null);\n    \n    try {\n      await onSave();\n      thoughtLogger.log('success', 'Changes saved successfully');\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Failed to save changes';\n      setError(message);\n      thoughtLogger.log('error', 'Failed to save changes', { error: err });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={handleSave}\n        disabled={!isDirty || isSaving}\n        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${\n          isDirty\n            ? 'bg-blue-600 hover:bg-blue-700 text-white'\n            : 'bg-gray-700 text-gray-400 cursor-not-allowed'\n        }`}\n      >\n        <Save className=\"w-4 h-4\" />\n        <span>{isSaving ? 'Saving...' : 'Save Changes'}</span>\n      </button>\n      \n      {error && (\n        <div className=\"absolute top-full mt-2 left-0 right-0 bg-red-600 text-white text-sm rounded-lg p-2\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Shield } from 'lucide-react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { SaveButton } from '../../SaveButton';\n\nexport function APISettings() {\n  const { settings, updateSettings } = useSettings();\n  const [localSettings, setLocalSettings] = useState(settings.apiKeys || {});\n  const isDirty = JSON.stringify(localSettings) !== JSON.stringify(settings.apiKeys);\n\n  const handleSave = async () => {\n    await updateSettings({\n      ...settings,\n      apiKeys: localSettings\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-medium\">API Configuration</h3>\n          <p className=\"text-sm text-gray-400\">Configure API keys for various services</p>\n        </div>\n        <Shield className=\"w-5 h-5 text-blue-400\" />\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block font-medium mb-2\">Groq API Key</label>\n          <input\n            type=\"password\"\n            value={localSettings.groq || ''}\n            onChange={(e) => setLocalSettings(prev => ({ ...prev, groq: e.target.value }))}\n            className=\"w-full bg-gray-700 rounded-lg px-3 py-2\"\n            placeholder=\"Enter Groq API key\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block font-medium mb-2\">Perplexity API Key</label>\n          <input\n            type=\"password\"\n            value={localSettings.perplexity || ''}\n            onChange={(e) => setLocalSettings(prev => ({ ...prev, perplexity: e.target.value }))}\n            className=\"w-full bg-gray-700 rounded-lg px-3 py-2\"\n            placeholder=\"Enter Perplexity API key\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block font-medium mb-2\">X.AI API Key</label>\n          <input\n            type=\"password\"\n            value={localSettings.xai || ''}\n            onChange={(e) => setLocalSettings(prev => ({ ...prev, xai: e.target.value }))}\n            className=\"w-full bg-gray-700 rounded-lg px-3 py-2\"\n            placeholder=\"Enter X.AI API key\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block font-medium mb-2\">GitHub API Key</label>\n          <input\n            type=\"password\"\n            value={localSettings.github || ''}\n            onChange={(e) => setLocalSettings(prev => ({ ...prev, github: e.target.value }))}\n            className=\"w-full bg-gray-700 rounded-lg px-3 py-2\"\n            placeholder=\"Enter GitHub API key\"\n          />\n        </div>\n\n        <div className=\"pt-4\">\n          <SaveButton onSave={handleSave} isDirty={isDirty} />\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\ninterface ToggleProps {\n  enabled: boolean;\n  onChange: (enabled: boolean) => void;\n}\n\nexport function Toggle({ enabled, onChange }: ToggleProps) {\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onChange(!enabled)}\n      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n        enabled ? 'bg-blue-600' : 'bg-gray-700'\n      }`}\n    >\n      <span\n        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n          enabled ? 'translate-x-6' : 'translate-x-1'\n        }`}\n      />\n    </button>\n  );\n}","import React, { useState } from 'react';\nimport { Zap } from 'lucide-react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { Toggle } from '../../Toggle';\nimport { SaveButton } from '../../SaveButton';\n\nexport function PerformanceSettings() {\n  const { settings, updateSettings } = useSettings();\n  const [localSettings, setLocalSettings] = useState(settings.performance);\n  const isDirty = JSON.stringify(localSettings) !== JSON.stringify(settings.performance);\n\n  const handleSave = async () => {\n    await updateSettings({\n      ...settings,\n      performance: localSettings\n    });\n  };\n\n  const handleMaxTokensChange = (value: string) => {\n    setLocalSettings(prev => ({\n      ...prev,\n      maxTokens: parseInt(value)\n    }));\n  };\n\n  const handleTemperatureChange = (value: string) => {\n    setLocalSettings(prev => ({\n      ...prev,\n      temperature: parseFloat(value)\n    }));\n  };\n\n  const handleStreamingToggle = (enabled: boolean) => {\n    setLocalSettings(prev => ({\n      ...prev,\n      streaming: enabled\n    }));\n  };\n\n  const tokenOptions = [\n    { value: 1024, label: '1K tokens' },\n    { value: 2048, label: '2K tokens' },\n    { value: 4096, label: '4K tokens' },\n    { value: 8192, label: '8K tokens' },\n    { value: 16384, label: '16K tokens' },\n    { value: 32768, label: '32K tokens' }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-medium\">Performance Settings</h3>\n          <p className=\"text-sm text-gray-400\">Configure model performance and behavior</p>\n        </div>\n        <Zap className=\"w-5 h-5 text-blue-400\" />\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block font-medium mb-2\">Temperature</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.1\"\n            value={localSettings.temperature}\n            onChange={(e) => handleTemperatureChange(e.target.value)}\n            className=\"w-full\"\n          />\n          <div className=\"flex justify-between text-sm text-gray-400\">\n            <span>More Focused</span>\n            <span>{localSettings.temperature.toFixed(1)}</span>\n            <span>More Creative</span>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block font-medium mb-2\">Max Tokens</label>\n          <select\n            value={localSettings.maxTokens}\n            onChange={(e) => handleMaxTokensChange(e.target.value)}\n            className=\"w-full bg-gray-700 rounded-lg px-3 py-2\"\n          >\n            {tokenOptions.map(option => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          <p className=\"mt-1 text-sm text-gray-400\">\n            Maximum number of tokens to generate in responses\n          </p>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <label className=\"font-medium\">Enable Streaming</label>\n            <p className=\"text-sm text-gray-400\">Show responses as they are generated</p>\n          </div>\n          <Toggle\n            enabled={localSettings.streaming}\n            onChange={handleStreamingToggle}\n          />\n        </div>\n\n        <div className=\"pt-4\">\n          <SaveButton onSave={handleSave} isDirty={isDirty} />\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { Toggle } from '../../Toggle';\nimport { SaveButton } from '../../SaveButton';\n\nexport function MemorySettings() {\n  const { settings, updateSettings } = useSettings();\n  const [localSettings, setLocalSettings] = useState(settings.memory);\n  const isDirty = JSON.stringify(localSettings) !== JSON.stringify(settings.memory);\n\n  const handleSave = async () => {\n    await updateSettings('memory', localSettings);\n  };\n\n  const handleClearMemory = async () => {\n    if (window.confirm('Are you sure you want to clear all memory? This cannot be undone.')) {\n      // Clear memory implementation\n      console.log('Memory cleared');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold\">Memory & Storage Settings</h3>\n        <SaveButton onSave={handleSave} isDirty={isDirty} />\n      </div>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Vector Memory\n            <span className=\"text-gray-400 ml-2\">Long-term knowledge storage</span>\n          </label>\n          <div className=\"flex items-center justify-between mt-2\">\n            <span className=\"text-sm\">Enable vector memory</span>\n            <Toggle\n              enabled={localSettings.vectorMemoryEnabled}\n              onChange={(enabled) => setLocalSettings(prev => ({\n                ...prev,\n                vectorMemoryEnabled: enabled\n              }))}\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Memory Limit\n            <span className=\"text-gray-400 ml-2\">Maximum stored memories</span>\n          </label>\n          <select\n            value={localSettings.memoryLimit}\n            onChange={(e) => setLocalSettings(prev => ({\n              ...prev,\n              memoryLimit: parseInt(e.target.value)\n            }))}\n            className=\"w-full bg-gray-700 rounded px-3 py-2\"\n          >\n            <option value={100}>100 memories</option>\n            <option value={500}>500 memories</option>\n            <option value={1000}>1,000 memories</option>\n            <option value={5000}>5,000 memories</option>\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Context Window\n            <span className=\"text-gray-400 ml-2\">Message history length</span>\n          </label>\n          <select\n            value={localSettings.contextWindow}\n            onChange={(e) => setLocalSettings(prev => ({\n              ...prev,\n              contextWindow: parseInt(e.target.value)\n            }))}\n            className=\"w-full bg-gray-700 rounded px-3 py-2\"\n          >\n            <option value={5}>Last 5 messages</option>\n            <option value={10}>Last 10 messages</option>\n            <option value={20}>Last 20 messages</option>\n            <option value={50}>Last 50 messages</option>\n          </select>\n        </div>\n\n        <div className=\"pt-4\">\n          <button\n            onClick={handleClearMemory}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n          >\n            Clear All Memory\n          </button>\n          <p className=\"text-sm text-gray-400 mt-2\">\n            This will permanently delete all stored memories and conversation history.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { Toggle } from '../../Toggle';\nimport { SaveButton } from '../../SaveButton';\n\nexport function NotificationSettings() {\n  const { settings, updateSettings } = useSettings();\n  const [localSettings, setLocalSettings] = useState(settings.notifications);\n  const isDirty = JSON.stringify(localSettings) !== JSON.stringify(settings.notifications);\n\n  const handleSave = async () => {\n    await updateSettings('notifications', localSettings);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold\">Notification Settings</h3>\n        <SaveButton onSave={handleSave} isDirty={isDirty} />\n      </div>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            System Notifications\n            <span className=\"text-gray-400 ml-2\">Status and error alerts</span>\n          </label>\n          <div className=\"space-y-2 mt-2\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Show error notifications</span>\n              <Toggle\n                enabled={localSettings.showErrors}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  showErrors: enabled\n                }))}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Show success notifications</span>\n              <Toggle\n                enabled={localSettings.showSuccess}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  showSuccess: enabled\n                }))}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Agent Status Updates\n            <span className=\"text-gray-400 ml-2\">Agent activity notifications</span>\n          </label>\n          <div className=\"space-y-2 mt-2\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Show agent assignments</span>\n              <Toggle\n                enabled={localSettings.showAgentAssignments}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  showAgentAssignments: enabled\n                }))}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Show task completion</span>\n              <Toggle\n                enabled={localSettings.showTaskCompletion}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  showTaskCompletion: enabled\n                }))}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Sound Effects\n            <span className=\"text-gray-400 ml-2\">Notification sounds</span>\n          </label>\n          <div className=\"space-y-2 mt-2\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Enable sound effects</span>\n              <Toggle\n                enabled={localSettings.soundEnabled}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  soundEnabled: enabled\n                }))}\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm mb-1\">Volume</label>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                value={localSettings.volume}\n                onChange={(e) => setLocalSettings(prev => ({\n                  ...prev,\n                  volume: parseInt(e.target.value)\n                }))}\n                className=\"w-full\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\ninterface SettingsSectionProps {\n  children: React.ReactNode;\n  title?: string;\n}\n\nexport function SettingsSection({ children, title }: SettingsSectionProps) {\n  return (\n    <div className=\"bg-gray-800 rounded-lg p-6\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      {children}\n    </div>\n  );\n}","import React from 'react';\nimport { Code } from 'lucide-react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { SettingsSection } from './SettingsSection';\n\nexport function ModelSettings() {\n  const { settings, updateSettings } = useSettings();\n\n  const handleModelChange = (model: string) => {\n    updateSettings({\n      models: {\n        ...settings.models,\n        defaultModel: model\n      }\n    });\n  };\n\n  const handleModelToggle = (model: string) => {\n    const enabledModels = settings.models.enabledModels.includes(model)\n      ? settings.models.enabledModels.filter(m => m !== model)\n      : [...settings.models.enabledModels, model];\n\n    updateSettings({\n      models: {\n        ...settings.models,\n        enabledModels\n      }\n    });\n  };\n\n  return (\n    <SettingsSection>\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n            <Code className=\"w-5 h-5 mr-2\" />\n            Model Configuration\n          </h3>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Default Model</label>\n              <select\n                value={settings.models.defaultModel}\n                onChange={(e) => handleModelChange(e.target.value)}\n                className=\"w-full bg-gray-700 rounded-lg px-3 py-2 text-gray-100\"\n              >\n                <option value=\"grok-beta\">Grok Beta</option>\n                <option value=\"llama-3.2-70b-preview\">Llama 70B</option>\n                <option value=\"llama-3.2-7b-preview\">Llama 7B</option>\n                <option value=\"granite3-dense-2b\">Granite Dense 2B</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Enabled Models</label>\n              <div className=\"space-y-2\">\n                {['grok-beta', 'llama-3.2-70b-preview', 'llama-3.2-7b-preview', 'granite3-dense-2b'].map(model => (\n                  <label key={model} className=\"flex items-center space-x-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={settings.models.enabledModels.includes(model)}\n                      onChange={() => handleModelToggle(model)}\n                      className=\"rounded bg-gray-700 border-gray-600 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span>{model}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SettingsSection>\n  );\n}","import React, { useState } from 'react';\nimport { useSettings } from '../../../context/SettingsContext';\nimport { Toggle } from '../../Toggle';\nimport { SaveButton } from '../../SaveButton';\nimport { Info } from 'lucide-react';\n\nexport function WorkflowSettings() {\n  const { settings, updateSettings } = useSettings();\n  const [localSettings, setLocalSettings] = useState(settings.workflow);\n  const isDirty = JSON.stringify(localSettings) !== JSON.stringify(settings.workflow);\n\n  const handleSave = async () => {\n    await updateSettings({\n      ...settings,\n      workflow: localSettings\n    });\n  };\n\n  const handleParallelTasksChange = (value: number) => {\n    setLocalSettings(prev => ({\n      ...prev,\n      parallelTasks: value\n    }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold\">Workflow Settings</h3>\n        <SaveButton onSave={handleSave} isDirty={isDirty} />\n      </div>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Multi-Agent Collaboration\n            <span className=\"text-gray-400 ml-2\">Agent cooperation for complex tasks</span>\n          </label>\n          <div className=\"flex items-center justify-between mt-2\">\n            <span className=\"text-sm\">Enable agent collaboration</span>\n            <Toggle\n              enabled={localSettings.collaborationEnabled}\n              onChange={(enabled) => setLocalSettings(prev => ({\n                ...prev,\n                collaborationEnabled: enabled\n              }))}\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Task Planning\n            <span className=\"text-gray-400 ml-2\">Automatic task decomposition</span>\n          </label>\n          <div className=\"flex items-center justify-between mt-2\">\n            <span className=\"text-sm\">Enable task planning</span>\n            <Toggle\n              enabled={localSettings.taskPlanningEnabled}\n              onChange={(enabled) => setLocalSettings(prev => ({\n                ...prev,\n                taskPlanningEnabled: enabled\n              }))}\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Parallel Processing\n            <span className=\"text-gray-400 ml-2\">Concurrent task execution</span>\n          </label>\n          <div className=\"relative\">\n            <select\n              value={localSettings.parallelTasks}\n              onChange={(e) => handleParallelTasksChange(parseInt(e.target.value))}\n              className=\"w-full bg-gray-700 rounded px-3 py-2\"\n            >\n              <option value={1}>Sequential (1 task)</option>\n              <option value={2}>Balanced (2 tasks)</option>\n              <option value={4}>Performance (4 tasks)</option>\n              <option value={8}>Maximum (8 tasks)</option>\n            </select>\n            <button\n              type=\"button\"\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300\"\n              title=\"Parallel tasks allow multiple agents to work simultaneously on different aspects of a complex task. Higher values increase processing speed but require more system resources.\"\n            >\n              <Info className=\"w-4 h-4\" />\n            </button>\n          </div>\n          <p className=\"mt-2 text-sm text-gray-400\">\n            Current parallel tasks: {localSettings.parallelTasks}\n            <br />\n            <span className=\"text-xs\">\n              Higher values allow more agents to work simultaneously, improving speed but using more resources.\n            </span>\n          </p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">\n            Workflow Logging\n            <span className=\"text-gray-400 ml-2\">Task execution monitoring</span>\n          </label>\n          <div className=\"space-y-2 mt-2\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Log task planning</span>\n              <Toggle\n                enabled={localSettings.logTaskPlanning}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  logTaskPlanning: enabled\n                }))}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Log agent communication</span>\n              <Toggle\n                enabled={localSettings.logAgentComm}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  logAgentComm: enabled\n                }))}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Log agent state changes</span>\n              <Toggle\n                enabled={localSettings.logAgentState || false}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  logAgentState: enabled\n                }))}\n              />\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm\">Log memory operations</span>\n              <Toggle\n                enabled={localSettings.logMemoryOps || false}\n                onChange={(enabled) => setLocalSettings(prev => ({\n                  ...prev,\n                  logMemoryOps: enabled\n                }))}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Settings, Zap, Database, Bell, Code, Workflow } from 'lucide-react';\nimport { APISettings } from './settings/APISettings';\nimport { PerformanceSettings } from './settings/PerformanceSettings';\nimport { MemorySettings } from './settings/MemorySettings';\nimport { NotificationSettings } from './settings/NotificationSettings';\nimport { ModelSettings } from './settings/ModelSettings';\nimport { WorkflowSettings } from './settings/WorkflowSettings';\n\nexport function SettingsPanel() {\n  const [activeSection, setActiveSection] = React.useState<string>('api');\n\n  const sections = [\n    { id: 'api', icon: Settings, title: 'API Configuration', component: APISettings },\n    { id: 'performance', icon: Zap, title: 'Performance', component: PerformanceSettings },\n    { id: 'memory', icon: Database, title: 'Memory & Storage', component: MemorySettings },\n    { id: 'models', icon: Code, title: 'Model Configuration', component: ModelSettings },\n    { id: 'workflow', icon: Workflow, title: 'Workflow Settings', component: WorkflowSettings },\n    { id: 'notifications', icon: Bell, title: 'Notifications', component: NotificationSettings }\n  ];\n\n  const ActiveComponent = sections.find(s => s.id === activeSection)?.component || APISettings;\n\n  return (\n    <div className=\"flex-1 p-6 overflow-auto\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        <div className=\"flex items-center space-x-4 mb-6\">\n          <Settings className=\"w-8 h-8 text-primary\" />\n          <h2 className=\"text-2xl font-bold\">Settings</h2>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-6\">\n          {/* Navigation */}\n          <div className=\"w-64 space-y-2\">\n            {sections.map(section => (\n              <button\n                key={section.id}\n                onClick={() => setActiveSection(section.id)}\n                className={`w-full flex items-center space-x-3 px-4 py-2 rounded-lg transition-colors ${\n                  activeSection === section.id\n                    ? 'bg-primary text-primary-foreground'\n                    : 'text-muted-foreground hover:text-foreground hover:bg-secondary'\n                }`}\n              >\n                <section.icon className=\"w-5 h-5\" />\n                <span>{section. title}</span>\n              </button>\n            ))}\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1\">\n            <ActiveComponent />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Chat } from './Chat';\nimport { CanvasPanel } from './panels/CanvasPanel';\nimport { AgentPanel } from './panels/AgentPanel';\nimport { ToolsPanel } from './panels/ToolsPanel';\nimport { DocumentPanel } from './panels/DocumentPanel';\nimport { SearchPanel } from './panels/SearchPanel';\nimport { SettingsPanel } from './panels/SettingsPanel';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport type { ActivePanel } from '../App';\n\ninterface MainContentProps {\n  activePanel: ActivePanel;\n}\n\nexport function MainContent({ activePanel }: MainContentProps) {\n  const renderContent = () => {\n    const variants = {\n      initial: { opacity: 0, y: 20 },\n      animate: { opacity: 1, y: 0 },\n      exit: { opacity: 0, y: -20 }\n    };\n\n    return (\n      <AnimatePresence mode=\"wait\">\n        <motion.div\n          key={activePanel}\n          variants={variants}\n          initial=\"initial\"\n          animate=\"animate\"\n          exit=\"exit\"\n          transition={{ duration: 0.2 }}\n          className=\"h-full\"\n        >\n          {(() => {\n            switch (activePanel) {\n              case 'chat':\n                return <Chat />;\n              case 'canvas':\n                return <CanvasPanel />;\n              case 'agent':\n                return <AgentPanel />;\n              case 'tools':\n                return <ToolsPanel />;\n              case 'documents':\n                return <DocumentPanel />;\n              case 'search':\n                return <SearchPanel />;\n              case 'settings':\n                return <SettingsPanel />;\n              default:\n                return <Chat />;\n            }\n          })()}\n        </motion.div>\n      </AnimatePresence>\n    );\n  };\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {renderContent()}\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { ChevronLeft, ChevronRight, Search, Pause, Play, Filter, X } from 'lucide-react';\nimport { cn } from '../lib/utils';\nimport { useStore } from '../store';\nimport { ScrollArea } from './ui/ScrollArea';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { thoughtLogger, type Thought, type ThoughtType } from '../lib/logging/thought-logger';\n\nexport function LoggingSidebar() {\n  const [isPaused, setIsPaused] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeFilters, setActiveFilters] = useState<Set<ThoughtType>>(new Set());\n  const [thoughts, setThoughts] = useState<Thought[]>([]);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [showFilters, setShowFilters] = useState(false);\n  const logsEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const unsubscribe = thoughtLogger.subscribe(newThoughts => {\n      if (!isPaused) {\n        setThoughts(newThoughts);\n      }\n    });\n\n    return () => unsubscribe();\n  }, [isPaused]);\n\n  useEffect(() => {\n    if (!isPaused && logsEndRef.current) {\n      logsEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [thoughts, isPaused]);\n\n  const filteredThoughts = thoughts.filter(thought => {\n    const matchesSearch = searchTerm === '' || \n      thought.message.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesFilter = activeFilters.size === 0 || \n      activeFilters.has(thought.level);\n    return matchesSearch && matchesFilter;\n  });\n\n  const toggleFilter = (type: ThoughtType) => {\n    const newFilters = new Set(activeFilters);\n    if (newFilters.has(type)) {\n      newFilters.delete(type);\n    } else {\n      newFilters.add(type);\n    }\n    setActiveFilters(newFilters);\n  };\n\n  const clearFilters = () => {\n    setActiveFilters(new Set());\n    setSearchTerm('');\n  };\n\n  if (isCollapsed) {\n    return (\n      <motion.div\n        initial={{ width: 320 }}\n        animate={{ width: 48 }}\n        transition={{ type: 'spring', damping: 20 }}\n        className=\"bg-background/95 backdrop-blur-sm border-l border-border flex flex-col items-center py-4\"\n      >\n        <button\n          onClick={() => setIsCollapsed(false)}\n          className=\"text-muted-foreground hover:text-foreground p-2\"\n        >\n          <ChevronLeft className=\"w-5 h-5\" />\n        </button>\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ width: 48 }}\n      animate={{ width: 320 }}\n      transition={{ type: 'spring', damping: 20 }}\n      className=\"h-full bg-background/95 backdrop-blur-sm border-l border-border flex flex-col\"\n    >\n      {/* Header */}\n      <div className=\"flex-none p-4 border-b border-border\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-lg font-semibold\">System Thoughts</h2>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className={cn(\n                \"p-2 rounded-lg transition-colors\",\n                showFilters || activeFilters.size > 0\n                  ? \"text-primary hover:text-primary/80\"\n                  : \"text-muted-foreground hover:text-foreground\"\n              )}\n            >\n              <Filter className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={() => setIsPaused(!isPaused)}\n              className={cn(\n                \"p-2 rounded-lg\",\n                isPaused ? \"text-green-400 hover:text-green-300\" : \"text-yellow-400 hover:text-yellow-300\"\n              )}\n            >\n              {isPaused ? <Play className=\"w-5 h-5\" /> : <Pause className=\"w-5 h-5\" />}\n            </button>\n            <button\n              onClick={() => setIsCollapsed(true)}\n              className=\"p-2 text-muted-foreground hover:text-foreground rounded-lg\"\n            >\n              <ChevronRight className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search thoughts...\"\n            className=\"w-full bg-secondary text-foreground rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary\"\n          />\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\" size={18} />\n        </div>\n\n        {/* Filters */}\n        <AnimatePresence>\n          {showFilters && (\n            <motion.div\n              initial={{ height: 0, opacity: 0 }}\n              animate={{ height: 'auto', opacity: 1 }}\n              exit={{ height: 0, opacity: 0 }}\n              className=\"mt-4 space-y-2 overflow-hidden\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium\">Thought Types</span>\n                {activeFilters.size > 0 && (\n                  <button\n                    onClick={clearFilters}\n                    className=\"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1\"\n                  >\n                    <X className=\"w-3 h-3\" />\n                    Clear filters\n                  </button>\n                )}\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                {Object.values(thoughtLogger.getThoughtTypes()).map(type => (\n                  <button\n                    key={type}\n                    onClick={() => toggleFilter(type)}\n                    className={cn(\n                      \"px-3 py-1 text-xs rounded-full transition-colors\",\n                      activeFilters.has(type)\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-secondary text-muted-foreground hover:text-foreground\"\n                    )}\n                  >\n                    {type}\n                  </button>\n                ))}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Thoughts */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-4 space-y-3\">\n          <AnimatePresence initial={false}>\n            {filteredThoughts.map((thought) => (\n              <motion.div\n                key={thought.id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className={cn(\n                  \"rounded-lg border p-4\",\n                  thought.level === 'error' && 'bg-red-500/10 border-red-500/20',\n                  thought.level === 'warning' && 'bg-yellow-500/10 border-yellow-500/20',\n                  thought.level === 'success' && 'bg-green-500/10 border-green-500/20',\n                  thought.level === 'info' && 'bg-blue-500/10 border-blue-500/20'\n                )}\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className={cn(\n                    \"text-xs font-medium\",\n                    thought.level === 'error' && 'text-red-400',\n                    thought.level === 'warning' && 'text-yellow-400',\n                    thought.level === 'success' && 'text-green-400',\n                    thought.level === 'info' && 'text-blue-400'\n                  )}>\n                    {thought.level.toUpperCase()}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground\">\n                    {new Date(thought.timestamp).toLocaleTimeString()}\n                  </span>\n                </div>\n                <p className=\"text-sm\">{thought.message}</p>\n                {thought.metadata && (\n                  <pre className=\"mt-2 text-xs bg-secondary/50 p-2 rounded overflow-x-auto\">\n                    {JSON.stringify(thought.metadata, null, 2)}\n                  </pre>\n                )}\n              </motion.div>\n            ))}\n          </AnimatePresence>\n          <div ref={logsEndRef} />\n        </div>\n      </ScrollArea>\n    </motion.div>\n  );\n}","import React from 'react';\nimport { Sidebar } from './Sidebar';\nimport { MainContent } from './MainContent';\nimport { LoggingSidebar } from './LoggingSidebar';\nimport { useStore } from '../store';\nimport { cn } from '../lib/utils';\nimport { Menu, X } from 'lucide-react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useSettings } from '../context/SettingsContext';\nimport type { ActivePanel } from '../App';\n\ninterface LayoutProps {\n  activePanel: ActivePanel;\n  onPanelChange: (panel: ActivePanel) => void;\n}\n\nexport function Layout({ activePanel, onPanelChange }: LayoutProps) {\n  const [isSidebarOpen, setIsSidebarOpen] = useLocalStorage('sidebar.open', true);\n  const [isLoggingOpen, setIsLoggingOpen] = useLocalStorage('logging.open', true);\n  const { settings } = useSettings();\n\n  return (\n    <div className={cn(\n      \"flex h-screen overflow-hidden\",\n      settings.theme === 'dark' ? 'dark' : ''\n    )}>\n      {/* Background patterns */}\n      <div className=\"absolute inset-0 bg-grid-white/[0.02] -z-10\" />\n      <div className=\"absolute inset-0 bg-gradient-to-b from-black/5 to-black/20 -z-10\" />\n      \n      {/* Mobile Menu Button */}\n      <button\n        onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n        className=\"fixed top-4 left-4 z-50 p-2 bg-secondary rounded-lg hover:bg-secondary/80 transition-colors lg:hidden\"\n        aria-label={isSidebarOpen ? 'Close menu' : 'Open menu'}\n      >\n        {isSidebarOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n      </button>\n\n      {/* Main Sidebar */}\n      <AnimatePresence mode=\"wait\">\n        {(isSidebarOpen || !('ontouchstart' in window)) && (\n          <motion.div\n            initial={{ x: -320 }}\n            animate={{ x: 0 }}\n            exit={{ x: -320 }}\n            transition={{ type: \"spring\", damping: 20 }}\n            className=\"fixed inset-y-0 left-0 w-64 z-30 lg:relative\"\n          >\n            <Sidebar activePanel={activePanel} onPanelChange={onPanelChange} />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Mobile Sidebar Overlay */}\n      <AnimatePresence>\n        {isSidebarOpen && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 z-20 lg:hidden backdrop-blur-sm\"\n            onClick={() => setIsSidebarOpen(false)}\n          />\n        )}\n      </AnimatePresence>\n\n      {/* Main Content */}\n      <div className=\"flex flex-1 relative\">\n        <main className={cn(\n          \"flex-1 overflow-hidden transition-all duration-300\",\n          isSidebarOpen ? \"lg:ml-64\" : \"lg:ml-0\"\n        )}>\n          <MainContent activePanel={activePanel} />\n        </main>\n\n        {/* Logging Sidebar */}\n        <AnimatePresence mode=\"wait\">\n          {(isLoggingOpen || !('ontouchstart' in window)) && (\n            <motion.div\n              initial={{ x: 320 }}\n              animate={{ x: 0 }}\n              exit={{ x: 320 }}\n              transition={{ type: \"spring\", damping: 20 }}\n              className=\"fixed inset-y-0 right-0 w-80 z-30 lg:relative\"\n            >\n              <LoggingSidebar onClose={() => setIsLoggingOpen(false)} />\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Mobile Logging Toggle */}\n        <button\n          onClick={() => setIsLoggingOpen(!isLoggingOpen)}\n          className=\"fixed bottom-4 right-4 z-50 p-2 bg-secondary rounded-lg hover:bg-secondary/80 transition-colors lg:hidden\"\n          aria-label={isLoggingOpen ? 'Close logs' : 'Open logs'}\n        >\n          <Menu className=\"w-6 h-6\" />\n        </button>\n      </div>\n    </div>\n  );\n}","import $6vYhU$react from \"react\";\nimport {createContextScope as $6vYhU$createContextScope} from \"@radix-ui/react-context\";\nimport {useComposedRefs as $6vYhU$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {Slot as $6vYhU$Slot} from \"@radix-ui/react-slot\";\n\n\n\n\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}></CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\nfunction $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(name) {\n    /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/ const PROVIDER_NAME = name + 'CollectionProvider';\n    const [createCollectionContext, createCollectionScope] = $6vYhU$createContextScope(PROVIDER_NAME);\n    const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(PROVIDER_NAME, {\n        collectionRef: {\n            current: null\n        },\n        itemMap: new Map()\n    });\n    const CollectionProvider = (props)=>{\n        const { scope: scope , children: children  } = props;\n        const ref = $6vYhU$react.useRef(null);\n        const itemMap = $6vYhU$react.useRef(new Map()).current;\n        return /*#__PURE__*/ $6vYhU$react.createElement(CollectionProviderImpl, {\n            scope: scope,\n            itemMap: itemMap,\n            collectionRef: ref\n        }, children);\n    };\n    /*#__PURE__*/ Object.assign(CollectionProvider, {\n        displayName: PROVIDER_NAME\n    });\n    /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/ const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n    const CollectionSlot = /*#__PURE__*/ $6vYhU$react.forwardRef((props, forwardedRef)=>{\n        const { scope: scope , children: children  } = props;\n        const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n        const composedRefs = $6vYhU$useComposedRefs(forwardedRef, context.collectionRef);\n        return /*#__PURE__*/ $6vYhU$react.createElement($6vYhU$Slot, {\n            ref: composedRefs\n        }, children);\n    });\n    /*#__PURE__*/ Object.assign(CollectionSlot, {\n        displayName: COLLECTION_SLOT_NAME\n    });\n    /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/ const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n    const ITEM_DATA_ATTR = 'data-radix-collection-item';\n    const CollectionItemSlot = /*#__PURE__*/ $6vYhU$react.forwardRef((props, forwardedRef)=>{\n        const { scope: scope , children: children , ...itemData } = props;\n        const ref = $6vYhU$react.useRef(null);\n        const composedRefs = $6vYhU$useComposedRefs(forwardedRef, ref);\n        const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n        $6vYhU$react.useEffect(()=>{\n            context.itemMap.set(ref, {\n                ref: ref,\n                ...itemData\n            });\n            return ()=>void context.itemMap.delete(ref)\n            ;\n        });\n        return /*#__PURE__*/ $6vYhU$react.createElement($6vYhU$Slot, {\n            [ITEM_DATA_ATTR]: '',\n            ref: composedRefs\n        }, children);\n    });\n    /*#__PURE__*/ Object.assign(CollectionItemSlot, {\n        displayName: ITEM_SLOT_NAME\n    });\n    /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/ function useCollection(scope) {\n        const context = useCollectionContext(name + 'CollectionConsumer', scope);\n        const getItems = $6vYhU$react.useCallback(()=>{\n            const collectionNode = context.collectionRef.current;\n            if (!collectionNode) return [];\n            const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n            const items = Array.from(context.itemMap.values());\n            const orderedItems = items.sort((a, b)=>orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)\n            );\n            return orderedItems;\n        }, [\n            context.collectionRef,\n            context.itemMap\n        ]);\n        return getItems;\n    }\n    return [\n        {\n            Provider: CollectionProvider,\n            Slot: CollectionSlot,\n            ItemSlot: CollectionItemSlot\n        },\n        useCollection,\n        createCollectionScope\n    ];\n}\n\n\n\n\nexport {$e02a7d9cb1dc128c$export$c74125a8e3af6bb2 as createCollection};\n//# sourceMappingURL=index.mjs.map\n","import $eyrYI$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {useState as $eyrYI$useState, useRef as $eyrYI$useRef, createElement as $eyrYI$createElement, useCallback as $eyrYI$useCallback, forwardRef as $eyrYI$forwardRef, useEffect as $eyrYI$useEffect, useMemo as $eyrYI$useMemo, Fragment as $eyrYI$Fragment} from \"react\";\nimport {createPortal as $eyrYI$createPortal} from \"react-dom\";\nimport {composeEventHandlers as $eyrYI$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {useComposedRefs as $eyrYI$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {createCollection as $eyrYI$createCollection} from \"@radix-ui/react-collection\";\nimport {createContextScope as $eyrYI$createContextScope} from \"@radix-ui/react-context\";\nimport {Branch as $eyrYI$Branch, Root as $eyrYI$Root} from \"@radix-ui/react-dismissable-layer\";\nimport {Portal as $eyrYI$Portal} from \"@radix-ui/react-portal\";\nimport {Presence as $eyrYI$Presence} from \"@radix-ui/react-presence\";\nimport {Primitive as $eyrYI$Primitive, dispatchDiscreteCustomEvent as $eyrYI$dispatchDiscreteCustomEvent} from \"@radix-ui/react-primitive\";\nimport {useCallbackRef as $eyrYI$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\nimport {useControllableState as $eyrYI$useControllableState} from \"@radix-ui/react-use-controllable-state\";\nimport {useLayoutEffect as $eyrYI$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\nimport {VisuallyHidden as $eyrYI$VisuallyHidden} from \"@radix-ui/react-visually-hidden\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * ToastProvider\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$PROVIDER_NAME = 'ToastProvider';\nconst [$054eb8030ebde76e$var$Collection, $054eb8030ebde76e$var$useCollection, $054eb8030ebde76e$var$createCollectionScope] = $eyrYI$createCollection('Toast');\nconst [$054eb8030ebde76e$var$createToastContext, $054eb8030ebde76e$export$8a359da18fbc9073] = $eyrYI$createContextScope('Toast', [\n    $054eb8030ebde76e$var$createCollectionScope\n]);\nconst [$054eb8030ebde76e$var$ToastProviderProvider, $054eb8030ebde76e$var$useToastProviderContext] = $054eb8030ebde76e$var$createToastContext($054eb8030ebde76e$var$PROVIDER_NAME);\nconst $054eb8030ebde76e$export$f5d03d415824e0e = (props)=>{\n    const { __scopeToast: __scopeToast , label: label = 'Notification' , duration: duration = 5000 , swipeDirection: swipeDirection = 'right' , swipeThreshold: swipeThreshold = 50 , children: children  } = props;\n    const [viewport, setViewport] = $eyrYI$useState(null);\n    const [toastCount, setToastCount] = $eyrYI$useState(0);\n    const isFocusedToastEscapeKeyDownRef = $eyrYI$useRef(false);\n    const isClosePausedRef = $eyrYI$useRef(false);\n    return /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$Collection.Provider, {\n        scope: __scopeToast\n    }, /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastProviderProvider, {\n        scope: __scopeToast,\n        label: label,\n        duration: duration,\n        swipeDirection: swipeDirection,\n        swipeThreshold: swipeThreshold,\n        toastCount: toastCount,\n        viewport: viewport,\n        onViewportChange: setViewport,\n        onToastAdd: $eyrYI$useCallback(()=>setToastCount((prevCount)=>prevCount + 1\n            )\n        , []),\n        onToastRemove: $eyrYI$useCallback(()=>setToastCount((prevCount)=>prevCount - 1\n            )\n        , []),\n        isFocusedToastEscapeKeyDownRef: isFocusedToastEscapeKeyDownRef,\n        isClosePausedRef: isClosePausedRef\n    }, children));\n};\n$054eb8030ebde76e$export$f5d03d415824e0e.propTypes = {\n    label (props) {\n        if (props.label && typeof props.label === 'string' && !props.label.trim()) {\n            const error = `Invalid prop \\`label\\` supplied to \\`${$054eb8030ebde76e$var$PROVIDER_NAME}\\`. Expected non-empty \\`string\\`.`;\n            return new Error(error);\n        }\n        return null;\n    }\n};\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$f5d03d415824e0e, {\n    displayName: $054eb8030ebde76e$var$PROVIDER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ToastViewport\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$VIEWPORT_NAME = 'ToastViewport';\nconst $054eb8030ebde76e$var$VIEWPORT_DEFAULT_HOTKEY = [\n    'F8'\n];\nconst $054eb8030ebde76e$var$VIEWPORT_PAUSE = 'toast.viewportPause';\nconst $054eb8030ebde76e$var$VIEWPORT_RESUME = 'toast.viewportResume';\nconst $054eb8030ebde76e$export$6192c2425ecfd989 = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , hotkey: hotkey = $054eb8030ebde76e$var$VIEWPORT_DEFAULT_HOTKEY , label: label = 'Notifications ({hotkey})' , ...viewportProps } = props;\n    const context = $054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$VIEWPORT_NAME, __scopeToast);\n    const getItems = $054eb8030ebde76e$var$useCollection(__scopeToast);\n    const wrapperRef = $eyrYI$useRef(null);\n    const headFocusProxyRef = $eyrYI$useRef(null);\n    const tailFocusProxyRef = $eyrYI$useRef(null);\n    const ref = $eyrYI$useRef(null);\n    const composedRefs = $eyrYI$useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    const hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n    const hasToasts = context.toastCount > 0;\n    $eyrYI$useEffect(()=>{\n        const handleKeyDown = (event)=>{\n            var _ref$current;\n            // we use `event.code` as it is consistent regardless of meta keys that were pressed.\n            // for example, `event.key` for `Control+Alt+t` is `` and `t !== `\n            const isHotkeyPressed = hotkey.every((key)=>event[key] || event.code === key\n            );\n            if (isHotkeyPressed) (_ref$current = ref.current) === null || _ref$current === void 0 || _ref$current.focus();\n        };\n        document.addEventListener('keydown', handleKeyDown);\n        return ()=>document.removeEventListener('keydown', handleKeyDown)\n        ;\n    }, [\n        hotkey\n    ]);\n    $eyrYI$useEffect(()=>{\n        const wrapper = wrapperRef.current;\n        const viewport = ref.current;\n        if (hasToasts && wrapper && viewport) {\n            const handlePause = ()=>{\n                if (!context.isClosePausedRef.current) {\n                    const pauseEvent = new CustomEvent($054eb8030ebde76e$var$VIEWPORT_PAUSE);\n                    viewport.dispatchEvent(pauseEvent);\n                    context.isClosePausedRef.current = true;\n                }\n            };\n            const handleResume = ()=>{\n                if (context.isClosePausedRef.current) {\n                    const resumeEvent = new CustomEvent($054eb8030ebde76e$var$VIEWPORT_RESUME);\n                    viewport.dispatchEvent(resumeEvent);\n                    context.isClosePausedRef.current = false;\n                }\n            };\n            const handleFocusOutResume = (event)=>{\n                const isFocusMovingOutside = !wrapper.contains(event.relatedTarget);\n                if (isFocusMovingOutside) handleResume();\n            };\n            const handlePointerLeaveResume = ()=>{\n                const isFocusInside = wrapper.contains(document.activeElement);\n                if (!isFocusInside) handleResume();\n            }; // Toasts are not in the viewport React tree so we need to bind DOM events\n            wrapper.addEventListener('focusin', handlePause);\n            wrapper.addEventListener('focusout', handleFocusOutResume);\n            wrapper.addEventListener('pointermove', handlePause);\n            wrapper.addEventListener('pointerleave', handlePointerLeaveResume);\n            window.addEventListener('blur', handlePause);\n            window.addEventListener('focus', handleResume);\n            return ()=>{\n                wrapper.removeEventListener('focusin', handlePause);\n                wrapper.removeEventListener('focusout', handleFocusOutResume);\n                wrapper.removeEventListener('pointermove', handlePause);\n                wrapper.removeEventListener('pointerleave', handlePointerLeaveResume);\n                window.removeEventListener('blur', handlePause);\n                window.removeEventListener('focus', handleResume);\n            };\n        }\n    }, [\n        hasToasts,\n        context.isClosePausedRef\n    ]);\n    const getSortedTabbableCandidates = $eyrYI$useCallback(({ tabbingDirection: tabbingDirection  })=>{\n        const toastItems = getItems();\n        const tabbableCandidates = toastItems.map((toastItem)=>{\n            const toastNode = toastItem.ref.current;\n            const toastTabbableCandidates = [\n                toastNode,\n                ...$054eb8030ebde76e$var$getTabbableCandidates(toastNode)\n            ];\n            return tabbingDirection === 'forwards' ? toastTabbableCandidates : toastTabbableCandidates.reverse();\n        });\n        return (tabbingDirection === 'forwards' ? tabbableCandidates.reverse() : tabbableCandidates).flat();\n    }, [\n        getItems\n    ]);\n    $eyrYI$useEffect(()=>{\n        const viewport = ref.current; // We programmatically manage tabbing as we are unable to influence\n        // the source order with portals, this allows us to reverse the\n        // tab order so that it runs from most recent toast to least\n        if (viewport) {\n            const handleKeyDown = (event)=>{\n                const isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n                const isTabKey = event.key === 'Tab' && !isMetaKey;\n                if (isTabKey) {\n                    const focusedElement = document.activeElement;\n                    const isTabbingBackwards = event.shiftKey;\n                    const targetIsViewport = event.target === viewport; // If we're back tabbing after jumping to the viewport then we simply\n                    // proxy focus out to the preceding document\n                    if (targetIsViewport && isTabbingBackwards) {\n                        var _headFocusProxyRef$cu;\n                        (_headFocusProxyRef$cu = headFocusProxyRef.current) === null || _headFocusProxyRef$cu === void 0 || _headFocusProxyRef$cu.focus();\n                        return;\n                    }\n                    const tabbingDirection = isTabbingBackwards ? 'backwards' : 'forwards';\n                    const sortedCandidates = getSortedTabbableCandidates({\n                        tabbingDirection: tabbingDirection\n                    });\n                    const index = sortedCandidates.findIndex((candidate)=>candidate === focusedElement\n                    );\n                    if ($054eb8030ebde76e$var$focusFirst(sortedCandidates.slice(index + 1))) event.preventDefault();\n                    else {\n                        var _headFocusProxyRef$cu2, _tailFocusProxyRef$cu;\n                        // If we can't focus that means we're at the edges so we\n                        // proxy to the corresponding exit point and let the browser handle\n                        // tab/shift+tab keypress and implicitly pass focus to the next valid element in the document\n                        isTabbingBackwards ? (_headFocusProxyRef$cu2 = headFocusProxyRef.current) === null || _headFocusProxyRef$cu2 === void 0 || _headFocusProxyRef$cu2.focus() : (_tailFocusProxyRef$cu = tailFocusProxyRef.current) === null || _tailFocusProxyRef$cu === void 0 || _tailFocusProxyRef$cu.focus();\n                    }\n                }\n            }; // Toasts are not in the viewport React tree so we need to bind DOM events\n            viewport.addEventListener('keydown', handleKeyDown);\n            return ()=>viewport.removeEventListener('keydown', handleKeyDown)\n            ;\n        }\n    }, [\n        getItems,\n        getSortedTabbableCandidates\n    ]);\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Branch, {\n        ref: wrapperRef,\n        role: \"region\",\n        \"aria-label\": label.replace('{hotkey}', hotkeyLabel) // Ensure virtual cursor from landmarks menus triggers focus/blur for pause/resume\n        ,\n        tabIndex: -1 // incase list has size when empty (e.g. padding), we remove pointer events so\n        ,\n        style: {\n            pointerEvents: hasToasts ? undefined : 'none'\n        }\n    }, hasToasts && /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$FocusProxy, {\n        ref: headFocusProxyRef,\n        onFocusFromOutsideViewport: ()=>{\n            const tabbableCandidates = getSortedTabbableCandidates({\n                tabbingDirection: 'forwards'\n            });\n            $054eb8030ebde76e$var$focusFirst(tabbableCandidates);\n        }\n    }), /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$Collection.Slot, {\n        scope: __scopeToast\n    }, /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.ol, $eyrYI$babelruntimehelpersesmextends({\n        tabIndex: -1\n    }, viewportProps, {\n        ref: composedRefs\n    }))), hasToasts && /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$FocusProxy, {\n        ref: tailFocusProxyRef,\n        onFocusFromOutsideViewport: ()=>{\n            const tabbableCandidates = getSortedTabbableCandidates({\n                tabbingDirection: 'backwards'\n            });\n            $054eb8030ebde76e$var$focusFirst(tabbableCandidates);\n        }\n    }));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$6192c2425ecfd989, {\n    displayName: $054eb8030ebde76e$var$VIEWPORT_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$FOCUS_PROXY_NAME = 'ToastFocusProxy';\nconst $054eb8030ebde76e$var$FocusProxy = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , onFocusFromOutsideViewport: onFocusFromOutsideViewport , ...proxyProps } = props;\n    const context = $054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$FOCUS_PROXY_NAME, __scopeToast);\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$VisuallyHidden, $eyrYI$babelruntimehelpersesmextends({\n        \"aria-hidden\": true,\n        tabIndex: 0\n    }, proxyProps, {\n        ref: forwardedRef // Avoid page scrolling when focus is on the focus proxy\n        ,\n        style: {\n            position: 'fixed'\n        },\n        onFocus: (event)=>{\n            var _context$viewport;\n            const prevFocusedElement = event.relatedTarget;\n            const isFocusFromOutsideViewport = !((_context$viewport = context.viewport) !== null && _context$viewport !== void 0 && _context$viewport.contains(prevFocusedElement));\n            if (isFocusFromOutsideViewport) onFocusFromOutsideViewport();\n        }\n    }));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$var$FocusProxy, {\n    displayName: $054eb8030ebde76e$var$FOCUS_PROXY_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * Toast\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$TOAST_NAME = 'Toast';\nconst $054eb8030ebde76e$var$TOAST_SWIPE_START = 'toast.swipeStart';\nconst $054eb8030ebde76e$var$TOAST_SWIPE_MOVE = 'toast.swipeMove';\nconst $054eb8030ebde76e$var$TOAST_SWIPE_CANCEL = 'toast.swipeCancel';\nconst $054eb8030ebde76e$var$TOAST_SWIPE_END = 'toast.swipeEnd';\nconst $054eb8030ebde76e$export$8d8dc7d5f743331b = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { forceMount: forceMount , open: openProp , defaultOpen: defaultOpen , onOpenChange: onOpenChange , ...toastProps } = props;\n    const [open = true, setOpen] = $eyrYI$useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: onOpenChange\n    });\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Presence, {\n        present: forceMount || open\n    }, /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastImpl, $eyrYI$babelruntimehelpersesmextends({\n        open: open\n    }, toastProps, {\n        ref: forwardedRef,\n        onClose: ()=>setOpen(false)\n        ,\n        onPause: $eyrYI$useCallbackRef(props.onPause),\n        onResume: $eyrYI$useCallbackRef(props.onResume),\n        onSwipeStart: $eyrYI$composeEventHandlers(props.onSwipeStart, (event)=>{\n            event.currentTarget.setAttribute('data-swipe', 'start');\n        }),\n        onSwipeMove: $eyrYI$composeEventHandlers(props.onSwipeMove, (event)=>{\n            const { x: x , y: y  } = event.detail.delta;\n            event.currentTarget.setAttribute('data-swipe', 'move');\n            event.currentTarget.style.setProperty('--radix-toast-swipe-move-x', `${x}px`);\n            event.currentTarget.style.setProperty('--radix-toast-swipe-move-y', `${y}px`);\n        }),\n        onSwipeCancel: $eyrYI$composeEventHandlers(props.onSwipeCancel, (event)=>{\n            event.currentTarget.setAttribute('data-swipe', 'cancel');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-y');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-end-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-end-y');\n        }),\n        onSwipeEnd: $eyrYI$composeEventHandlers(props.onSwipeEnd, (event)=>{\n            const { x: x , y: y  } = event.detail.delta;\n            event.currentTarget.setAttribute('data-swipe', 'end');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-y');\n            event.currentTarget.style.setProperty('--radix-toast-swipe-end-x', `${x}px`);\n            event.currentTarget.style.setProperty('--radix-toast-swipe-end-y', `${y}px`);\n            setOpen(false);\n        })\n    })));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$8d8dc7d5f743331b, {\n    displayName: $054eb8030ebde76e$var$TOAST_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const [$054eb8030ebde76e$var$ToastInteractiveProvider, $054eb8030ebde76e$var$useToastInteractiveContext] = $054eb8030ebde76e$var$createToastContext($054eb8030ebde76e$var$TOAST_NAME, {\n    onClose () {}\n});\nconst $054eb8030ebde76e$var$ToastImpl = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , type: type = 'foreground' , duration: durationProp , open: open , onClose: onClose , onEscapeKeyDown: onEscapeKeyDown , onPause: onPause , onResume: onResume , onSwipeStart: onSwipeStart , onSwipeMove: onSwipeMove , onSwipeCancel: onSwipeCancel , onSwipeEnd: onSwipeEnd , ...toastProps } = props;\n    const context = $054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$TOAST_NAME, __scopeToast);\n    const [node1, setNode] = $eyrYI$useState(null);\n    const composedRefs = $eyrYI$useComposedRefs(forwardedRef, (node)=>setNode(node)\n    );\n    const pointerStartRef = $eyrYI$useRef(null);\n    const swipeDeltaRef = $eyrYI$useRef(null);\n    const duration1 = durationProp || context.duration;\n    const closeTimerStartTimeRef = $eyrYI$useRef(0);\n    const closeTimerRemainingTimeRef = $eyrYI$useRef(duration1);\n    const closeTimerRef = $eyrYI$useRef(0);\n    const { onToastAdd: onToastAdd , onToastRemove: onToastRemove  } = context;\n    const handleClose = $eyrYI$useCallbackRef(()=>{\n        var _context$viewport2;\n        // focus viewport if focus is within toast to read the remaining toast\n        // count to SR users and ensure focus isn't lost\n        const isFocusInToast = node1 === null || node1 === void 0 ? void 0 : node1.contains(document.activeElement);\n        if (isFocusInToast) (_context$viewport2 = context.viewport) === null || _context$viewport2 === void 0 || _context$viewport2.focus();\n        onClose();\n    });\n    const startTimer = $eyrYI$useCallback((duration)=>{\n        if (!duration || duration === Infinity) return;\n        window.clearTimeout(closeTimerRef.current);\n        closeTimerStartTimeRef.current = new Date().getTime();\n        closeTimerRef.current = window.setTimeout(handleClose, duration);\n    }, [\n        handleClose\n    ]);\n    $eyrYI$useEffect(()=>{\n        const viewport = context.viewport;\n        if (viewport) {\n            const handleResume = ()=>{\n                startTimer(closeTimerRemainingTimeRef.current);\n                onResume === null || onResume === void 0 || onResume();\n            };\n            const handlePause = ()=>{\n                const elapsedTime = new Date().getTime() - closeTimerStartTimeRef.current;\n                closeTimerRemainingTimeRef.current = closeTimerRemainingTimeRef.current - elapsedTime;\n                window.clearTimeout(closeTimerRef.current);\n                onPause === null || onPause === void 0 || onPause();\n            };\n            viewport.addEventListener($054eb8030ebde76e$var$VIEWPORT_PAUSE, handlePause);\n            viewport.addEventListener($054eb8030ebde76e$var$VIEWPORT_RESUME, handleResume);\n            return ()=>{\n                viewport.removeEventListener($054eb8030ebde76e$var$VIEWPORT_PAUSE, handlePause);\n                viewport.removeEventListener($054eb8030ebde76e$var$VIEWPORT_RESUME, handleResume);\n            };\n        }\n    }, [\n        context.viewport,\n        duration1,\n        onPause,\n        onResume,\n        startTimer\n    ]); // start timer when toast opens or duration changes.\n    // we include `open` in deps because closed !== unmounted when animating\n    // so it could reopen before being completely unmounted\n    $eyrYI$useEffect(()=>{\n        if (open && !context.isClosePausedRef.current) startTimer(duration1);\n    }, [\n        open,\n        duration1,\n        context.isClosePausedRef,\n        startTimer\n    ]);\n    $eyrYI$useEffect(()=>{\n        onToastAdd();\n        return ()=>onToastRemove()\n        ;\n    }, [\n        onToastAdd,\n        onToastRemove\n    ]);\n    const announceTextContent = $eyrYI$useMemo(()=>{\n        return node1 ? $054eb8030ebde76e$var$getAnnounceTextContent(node1) : null;\n    }, [\n        node1\n    ]);\n    if (!context.viewport) return null;\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Fragment, null, announceTextContent && /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastAnnounce, {\n        __scopeToast: __scopeToast // Toasts are always role=status to avoid stuttering issues with role=alert in SRs.\n        ,\n        role: \"status\",\n        \"aria-live\": type === 'foreground' ? 'assertive' : 'polite',\n        \"aria-atomic\": true\n    }, announceTextContent), /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastInteractiveProvider, {\n        scope: __scopeToast,\n        onClose: handleClose\n    }, /*#__PURE__*/ $eyrYI$createPortal(/*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$Collection.ItemSlot, {\n        scope: __scopeToast\n    }, /*#__PURE__*/ $eyrYI$createElement($eyrYI$Root, {\n        asChild: true,\n        onEscapeKeyDown: $eyrYI$composeEventHandlers(onEscapeKeyDown, ()=>{\n            if (!context.isFocusedToastEscapeKeyDownRef.current) handleClose();\n            context.isFocusedToastEscapeKeyDownRef.current = false;\n        })\n    }, /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.li, $eyrYI$babelruntimehelpersesmextends({\n        // Ensure toasts are announced as status list or status when focused\n        role: \"status\",\n        \"aria-live\": \"off\",\n        \"aria-atomic\": true,\n        tabIndex: 0,\n        \"data-state\": open ? 'open' : 'closed',\n        \"data-swipe-direction\": context.swipeDirection\n    }, toastProps, {\n        ref: composedRefs,\n        style: {\n            userSelect: 'none',\n            touchAction: 'none',\n            ...props.style\n        },\n        onKeyDown: $eyrYI$composeEventHandlers(props.onKeyDown, (event)=>{\n            if (event.key !== 'Escape') return;\n            onEscapeKeyDown === null || onEscapeKeyDown === void 0 || onEscapeKeyDown(event.nativeEvent);\n            if (!event.nativeEvent.defaultPrevented) {\n                context.isFocusedToastEscapeKeyDownRef.current = true;\n                handleClose();\n            }\n        }),\n        onPointerDown: $eyrYI$composeEventHandlers(props.onPointerDown, (event)=>{\n            if (event.button !== 0) return;\n            pointerStartRef.current = {\n                x: event.clientX,\n                y: event.clientY\n            };\n        }),\n        onPointerMove: $eyrYI$composeEventHandlers(props.onPointerMove, (event)=>{\n            if (!pointerStartRef.current) return;\n            const x = event.clientX - pointerStartRef.current.x;\n            const y = event.clientY - pointerStartRef.current.y;\n            const hasSwipeMoveStarted = Boolean(swipeDeltaRef.current);\n            const isHorizontalSwipe = [\n                'left',\n                'right'\n            ].includes(context.swipeDirection);\n            const clamp = [\n                'left',\n                'up'\n            ].includes(context.swipeDirection) ? Math.min : Math.max;\n            const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n            const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n            const moveStartBuffer = event.pointerType === 'touch' ? 10 : 2;\n            const delta = {\n                x: clampedX,\n                y: clampedY\n            };\n            const eventDetail = {\n                originalEvent: event,\n                delta: delta\n            };\n            if (hasSwipeMoveStarted) {\n                swipeDeltaRef.current = delta;\n                $054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_MOVE, onSwipeMove, eventDetail, {\n                    discrete: false\n                });\n            } else if ($054eb8030ebde76e$var$isDeltaInDirection(delta, context.swipeDirection, moveStartBuffer)) {\n                swipeDeltaRef.current = delta;\n                $054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_START, onSwipeStart, eventDetail, {\n                    discrete: false\n                });\n                event.target.setPointerCapture(event.pointerId);\n            } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) // User is swiping in wrong direction so we disable swipe gesture\n            // for the current pointer down interaction\n            pointerStartRef.current = null;\n        }),\n        onPointerUp: $eyrYI$composeEventHandlers(props.onPointerUp, (event1)=>{\n            const delta = swipeDeltaRef.current;\n            const target = event1.target;\n            if (target.hasPointerCapture(event1.pointerId)) target.releasePointerCapture(event1.pointerId);\n            swipeDeltaRef.current = null;\n            pointerStartRef.current = null;\n            if (delta) {\n                const toast = event1.currentTarget;\n                const eventDetail = {\n                    originalEvent: event1,\n                    delta: delta\n                };\n                if ($054eb8030ebde76e$var$isDeltaInDirection(delta, context.swipeDirection, context.swipeThreshold)) $054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_END, onSwipeEnd, eventDetail, {\n                    discrete: true\n                });\n                else $054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_CANCEL, onSwipeCancel, eventDetail, {\n                    discrete: true\n                });\n                 // Prevent click event from triggering on items within the toast when\n                // pointer up is part of a swipe gesture\n                toast.addEventListener('click', (event)=>event.preventDefault()\n                , {\n                    once: true\n                });\n            }\n        })\n    })))), context.viewport)));\n});\n$054eb8030ebde76e$var$ToastImpl.propTypes = {\n    type (props) {\n        if (props.type && ![\n            'foreground',\n            'background'\n        ].includes(props.type)) {\n            const error = `Invalid prop \\`type\\` supplied to \\`${$054eb8030ebde76e$var$TOAST_NAME}\\`. Expected \\`foreground | background\\`.`;\n            return new Error(error);\n        }\n        return null;\n    }\n};\n/* -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$ToastAnnounce = (props)=>{\n    const { __scopeToast: __scopeToast , children: children , ...announceProps } = props;\n    const context = $054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$TOAST_NAME, __scopeToast);\n    const [renderAnnounceText, setRenderAnnounceText] = $eyrYI$useState(false);\n    const [isAnnounced, setIsAnnounced] = $eyrYI$useState(false); // render text content in the next frame to ensure toast is announced in NVDA\n    $054eb8030ebde76e$var$useNextFrame(()=>setRenderAnnounceText(true)\n    ); // cleanup after announcing\n    $eyrYI$useEffect(()=>{\n        const timer = window.setTimeout(()=>setIsAnnounced(true)\n        , 1000);\n        return ()=>window.clearTimeout(timer)\n        ;\n    }, []);\n    return isAnnounced ? null : /*#__PURE__*/ $eyrYI$createElement($eyrYI$Portal, {\n        asChild: true\n    }, /*#__PURE__*/ $eyrYI$createElement($eyrYI$VisuallyHidden, announceProps, renderAnnounceText && /*#__PURE__*/ $eyrYI$createElement($eyrYI$Fragment, null, context.label, \" \", children)));\n};\n/* -------------------------------------------------------------------------------------------------\n * ToastTitle\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$TITLE_NAME = 'ToastTitle';\nconst $054eb8030ebde76e$export$16d42d7c29b95a4 = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , ...titleProps } = props;\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.div, $eyrYI$babelruntimehelpersesmextends({}, titleProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$16d42d7c29b95a4, {\n    displayName: $054eb8030ebde76e$var$TITLE_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ToastDescription\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$DESCRIPTION_NAME = 'ToastDescription';\nconst $054eb8030ebde76e$export$ecddd96c53621d9a = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , ...descriptionProps } = props;\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.div, $eyrYI$babelruntimehelpersesmextends({}, descriptionProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$ecddd96c53621d9a, {\n    displayName: $054eb8030ebde76e$var$DESCRIPTION_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ToastAction\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$ACTION_NAME = 'ToastAction';\nconst $054eb8030ebde76e$export$3019feecfda683d2 = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { altText: altText , ...actionProps } = props;\n    if (!altText) return null;\n    return /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastAnnounceExclude, {\n        altText: altText,\n        asChild: true\n    }, /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$export$811e70f61c205839, $eyrYI$babelruntimehelpersesmextends({}, actionProps, {\n        ref: forwardedRef\n    })));\n});\n$054eb8030ebde76e$export$3019feecfda683d2.propTypes = {\n    altText (props) {\n        if (!props.altText) return new Error(`Missing prop \\`altText\\` expected on \\`${$054eb8030ebde76e$var$ACTION_NAME}\\``);\n        return null;\n    }\n};\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$3019feecfda683d2, {\n    displayName: $054eb8030ebde76e$var$ACTION_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * ToastClose\n * -----------------------------------------------------------------------------------------------*/ const $054eb8030ebde76e$var$CLOSE_NAME = 'ToastClose';\nconst $054eb8030ebde76e$export$811e70f61c205839 = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , ...closeProps } = props;\n    const interactiveContext = $054eb8030ebde76e$var$useToastInteractiveContext($054eb8030ebde76e$var$CLOSE_NAME, __scopeToast);\n    return /*#__PURE__*/ $eyrYI$createElement($054eb8030ebde76e$var$ToastAnnounceExclude, {\n        asChild: true\n    }, /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.button, $eyrYI$babelruntimehelpersesmextends({\n        type: \"button\"\n    }, closeProps, {\n        ref: forwardedRef,\n        onClick: $eyrYI$composeEventHandlers(props.onClick, interactiveContext.onClose)\n    })));\n});\n/*#__PURE__*/ Object.assign($054eb8030ebde76e$export$811e70f61c205839, {\n    displayName: $054eb8030ebde76e$var$CLOSE_NAME\n});\n/* ---------------------------------------------------------------------------------------------- */ const $054eb8030ebde76e$var$ToastAnnounceExclude = /*#__PURE__*/ $eyrYI$forwardRef((props, forwardedRef)=>{\n    const { __scopeToast: __scopeToast , altText: altText , ...announceExcludeProps } = props;\n    return /*#__PURE__*/ $eyrYI$createElement($eyrYI$Primitive.div, $eyrYI$babelruntimehelpersesmextends({\n        \"data-radix-toast-announce-exclude\": \"\",\n        \"data-radix-toast-announce-alt\": altText || undefined\n    }, announceExcludeProps, {\n        ref: forwardedRef\n    }));\n});\nfunction $054eb8030ebde76e$var$getAnnounceTextContent(container) {\n    const textContent = [];\n    const childNodes = Array.from(container.childNodes);\n    childNodes.forEach((node)=>{\n        if (node.nodeType === node.TEXT_NODE && node.textContent) textContent.push(node.textContent);\n        if ($054eb8030ebde76e$var$isHTMLElement(node)) {\n            const isHidden = node.ariaHidden || node.hidden || node.style.display === 'none';\n            const isExcluded = node.dataset.radixToastAnnounceExclude === '';\n            if (!isHidden) {\n                if (isExcluded) {\n                    const altText = node.dataset.radixToastAnnounceAlt;\n                    if (altText) textContent.push(altText);\n                } else textContent.push(...$054eb8030ebde76e$var$getAnnounceTextContent(node));\n            }\n        }\n    }); // We return a collection of text rather than a single concatenated string.\n    // This allows SR VO to naturally pause break between nodes while announcing.\n    return textContent;\n}\n/* ---------------------------------------------------------------------------------------------- */ function $054eb8030ebde76e$var$handleAndDispatchCustomEvent(name, handler, detail, { discrete: discrete  }) {\n    const currentTarget = detail.originalEvent.currentTarget;\n    const event = new CustomEvent(name, {\n        bubbles: true,\n        cancelable: true,\n        detail: detail\n    });\n    if (handler) currentTarget.addEventListener(name, handler, {\n        once: true\n    });\n    if (discrete) $eyrYI$dispatchDiscreteCustomEvent(currentTarget, event);\n    else currentTarget.dispatchEvent(event);\n}\nconst $054eb8030ebde76e$var$isDeltaInDirection = (delta, direction, threshold = 0)=>{\n    const deltaX = Math.abs(delta.x);\n    const deltaY = Math.abs(delta.y);\n    const isDeltaX = deltaX > deltaY;\n    if (direction === 'left' || direction === 'right') return isDeltaX && deltaX > threshold;\n    else return !isDeltaX && deltaY > threshold;\n};\nfunction $054eb8030ebde76e$var$useNextFrame(callback = ()=>{}) {\n    const fn = $eyrYI$useCallbackRef(callback);\n    $eyrYI$useLayoutEffect(()=>{\n        let raf1 = 0;\n        let raf2 = 0;\n        raf1 = window.requestAnimationFrame(()=>raf2 = window.requestAnimationFrame(fn)\n        );\n        return ()=>{\n            window.cancelAnimationFrame(raf1);\n            window.cancelAnimationFrame(raf2);\n        };\n    }, [\n        fn\n    ]);\n}\nfunction $054eb8030ebde76e$var$isHTMLElement(node) {\n    return node.nodeType === node.ELEMENT_NODE;\n}\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */ function $054eb8030ebde76e$var$getTabbableCandidates(container) {\n    const nodes = [];\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: (node)=>{\n            const isHiddenInput = node.tagName === 'INPUT' && node.type === 'hidden';\n            if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP; // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n            // runtime's understanding of tabbability, so this automatically accounts\n            // for any kind of element that could be tabbed to.\n            return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n        }\n    });\n    while(walker.nextNode())nodes.push(walker.currentNode); // we do not take into account the order of nodes with positive `tabIndex` as it\n    // hinders accessibility to have tab order different from visual order.\n    return nodes;\n}\nfunction $054eb8030ebde76e$var$focusFirst(candidates) {\n    const previouslyFocusedElement = document.activeElement;\n    return candidates.some((candidate)=>{\n        // if focus is already where we want to go, we don't want to keep going through the candidates\n        if (candidate === previouslyFocusedElement) return true;\n        candidate.focus();\n        return document.activeElement !== previouslyFocusedElement;\n    });\n}\nconst $054eb8030ebde76e$export$2881499e37b75b9a = $054eb8030ebde76e$export$f5d03d415824e0e;\nconst $054eb8030ebde76e$export$d5c6c08dc2d3ca7 = $054eb8030ebde76e$export$6192c2425ecfd989;\nconst $054eb8030ebde76e$export$be92b6f5f03c0fe9 = $054eb8030ebde76e$export$8d8dc7d5f743331b;\nconst $054eb8030ebde76e$export$f99233281efd08a0 = $054eb8030ebde76e$export$16d42d7c29b95a4;\nconst $054eb8030ebde76e$export$393edc798c47379d = $054eb8030ebde76e$export$ecddd96c53621d9a;\nconst $054eb8030ebde76e$export$e19cd5f9376f8cee = $054eb8030ebde76e$export$3019feecfda683d2;\nconst $054eb8030ebde76e$export$f39c2d165cd861fe = $054eb8030ebde76e$export$811e70f61c205839;\n\n\n\n\nexport {$054eb8030ebde76e$export$8a359da18fbc9073 as createToastScope, $054eb8030ebde76e$export$f5d03d415824e0e as ToastProvider, $054eb8030ebde76e$export$6192c2425ecfd989 as ToastViewport, $054eb8030ebde76e$export$8d8dc7d5f743331b as Toast, $054eb8030ebde76e$export$16d42d7c29b95a4 as ToastTitle, $054eb8030ebde76e$export$ecddd96c53621d9a as ToastDescription, $054eb8030ebde76e$export$3019feecfda683d2 as ToastAction, $054eb8030ebde76e$export$811e70f61c205839 as ToastClose, $054eb8030ebde76e$export$2881499e37b75b9a as Provider, $054eb8030ebde76e$export$d5c6c08dc2d3ca7 as Viewport, $054eb8030ebde76e$export$be92b6f5f03c0fe9 as Root, $054eb8030ebde76e$export$f99233281efd08a0 as Title, $054eb8030ebde76e$export$393edc798c47379d as Description, $054eb8030ebde76e$export$e19cd5f9376f8cee as Action, $054eb8030ebde76e$export$f39c2d165cd861fe as Close};\n//# sourceMappingURL=index.mjs.map\n","import React from 'react';\nimport * as Toast from '@radix-ui/react-toast';\nimport { useToast } from '../hooks/useToast';\nimport { cn } from '../lib/utils';\nimport { X } from 'lucide-react';\n\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\n  const { toasts, removeToast } = useToast();\n\n  return (\n    <Toast.Provider>\n      {children}\n      {toasts.map((toast) => (\n        <Toast.Root\n          key={toast.id}\n          className={cn(\n            'fixed bottom-4 right-4 z-50 flex items-start gap-4',\n            'bg-background border border-border rounded-lg shadow-lg p-4 w-96',\n            'data-[state=open]:animate-fade-in data-[state=closed]:animate-fade-out',\n            'data-[swipe=end]:animate-fade-out'\n          )}\n        >\n          <div className=\"flex-1\">\n            {toast.title && (\n              <Toast.Title className=\"font-semibold mb-1\">\n                {toast.title}\n              </Toast.Title>\n            )}\n            <Toast.Description className=\"text-foreground/80\">\n              {toast.message}\n            </Toast.Description>\n          </div>\n          <Toast.Close\n            className=\"p-2 hover:bg-secondary rounded-lg transition-colors\"\n            onClick={() => removeToast(toast.id)}\n          >\n            <X className=\"w-4 h-4\" />\n          </Toast.Close>\n        </Toast.Root>\n      ))}\n      <Toast.Viewport />\n    </Toast.Provider>\n  );\n}","import React, { createContext, useContext, useEffect } from 'react';\nimport { useStore } from '../store';\n\ninterface ConfigContextType {\n  isInitialized: boolean;\n  hasValidConfig: boolean;\n}\n\nconst ConfigContext = createContext<ConfigContextType | undefined>(undefined);\n\nexport function ConfigProvider({ children }: { children: React.ReactNode }) {\n  const [isInitialized, setIsInitialized] = React.useState(false);\n  const [hasValidConfig, setHasValidConfig] = React.useState(false);\n  const { setSettingsPanelOpen } = useStore();\n\n  useEffect(() => {\n    const checkConfig = async () => {\n      const config = {\n        apiKey: import.meta.env.VITE_XAI_API_KEY,\n        groqApiKey: import.meta.env.VITE_GROQ_API_KEY,\n        perplexityApiKey: import.meta.env.VITE_PERPLEXITY_API_KEY,\n        huggingfaceToken: import.meta.env.VITE_HUGGINGFACE_TOKEN\n      };\n\n      const hasAllKeys = Object.values(config).every(Boolean);\n      setHasValidConfig(hasAllKeys);\n      \n      if (!hasAllKeys) {\n        setSettingsPanelOpen(true);\n      }\n      \n      setIsInitialized(true);\n    };\n\n    checkConfig();\n  }, [setSettingsPanelOpen]);\n\n  return (\n    <ConfigContext.Provider value={{ isInitialized, hasValidConfig }}>\n      {children}\n    </ConfigContext.Provider>\n  );\n}\n\nexport function useConfig() {\n  const context = useContext(ConfigContext);\n  if (!context) {\n    throw new Error('useConfig must be used within a ConfigProvider');\n  }\n  return context;\n}","import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { ErrorHandler } from '../lib/errors/ErrorHandler';\nimport { thoughtLogger } from '../lib/logging/thought-logger';\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  isRetrying: boolean;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n    error: null,\n    isRetrying: false\n  };\n\n  public static getDerivedStateFromError(error: Error): State {\n    return {\n      hasError: true,\n      error,\n      isRetrying: false\n    };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    thoughtLogger.log('error', `Uncaught error: ${error.message}`, {\n      error,\n      componentStack: errorInfo.componentStack\n    });\n  }\n\n  private handleReset = async () => {\n    this.setState({ isRetrying: true });\n    \n    try {\n      // Check if error is API key related\n      if (this.state.error?.message.includes('API key')) {\n        // Wait for potential env var updates\n        await new Promise(resolve => setTimeout(resolve, 1000));\n      }\n      \n      this.setState({ hasError: false, error: null, isRetrying: false });\n    } catch (error) {\n      this.setState({ isRetrying: false });\n    }\n  };\n\n  public render() {\n    if (this.state.hasError) {\n      const { message, details } = ErrorHandler.handle(this.state.error);\n      \n      return this.props.fallback || (\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-900\">\n          <div className=\"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex items-center space-x-3 mb-4 text-red-400\">\n              <AlertTriangle className=\"w-6 h-6\" />\n              <h2 className=\"text-xl font-semibold\">Something went wrong</h2>\n            </div>\n            \n            <p className=\"text-gray-300 mb-4\">{message}</p>\n            \n            {details && (\n              <pre className=\"bg-gray-900 p-3 rounded text-sm text-gray-400 mb-4 overflow-x-auto\">\n                {JSON.stringify(details, null, 2)}\n              </pre>\n            )}\n            \n            <button\n              onClick={this.handleReset}\n              disabled={this.state.isRetrying}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors flex items-center justify-center space-x-2 disabled:opacity-50\"\n            >\n              {this.state.isRetrying ? (\n                <>\n                  <RefreshCw className=\"w-5 h-5 animate-spin\" />\n                  <span>Retrying...</span>\n                </>\n              ) : (\n                <span>Try again</span>\n              )}\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}","function getUserAgent() {\n    if (typeof navigator === \"object\" && \"userAgent\" in navigator) {\n        return navigator.userAgent;\n    }\n    if (typeof process === \"object\" && process.version !== undefined) {\n        return `Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;\n    }\n    return \"<environment undetectable>\";\n}\n\nexport { getUserAgent };\n//# sourceMappingURL=index.js.map\n","module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n","module.exports = addHook;\n\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(orig.bind(null, options))\n        .then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .then(function (result_) {\n          result = result_;\n          return orig(result, options);\n        })\n        .then(function () {\n          return result;\n        });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .catch(function (error) {\n          return orig(error, options);\n        });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig,\n  });\n}\n","module.exports = removeHook;\n\nfunction removeHook(state, name, method) {\n  if (!state.registry[name]) {\n    return;\n  }\n\n  var index = state.registry[name]\n    .map(function (registered) {\n      return registered.orig;\n    })\n    .indexOf(method);\n\n  if (index === -1) {\n    return;\n  }\n\n  state.registry[name].splice(index, 1);\n}\n","var register = require(\"./lib/register\");\nvar addHook = require(\"./lib/add\");\nvar removeHook = require(\"./lib/remove\");\n\n// bind with array of arguments: https://stackoverflow.com/a/21792913\nvar bind = Function.bind;\nvar bindable = bind.bind(bind);\n\nfunction bindApi(hook, state, name) {\n  var removeHookRef = bindable(removeHook, null).apply(\n    null,\n    name ? [state, name] : [state]\n  );\n  hook.api = { remove: removeHookRef };\n  hook.remove = removeHookRef;\n  [\"before\", \"error\", \"after\", \"wrap\"].forEach(function (kind) {\n    var args = name ? [state, kind, name] : [state, kind];\n    hook[kind] = hook.api[kind] = bindable(addHook, null).apply(null, args);\n  });\n}\n\nfunction HookSingular() {\n  var singularHookName = \"h\";\n  var singularHookState = {\n    registry: {},\n  };\n  var singularHook = register.bind(null, singularHookState, singularHookName);\n  bindApi(singularHook, singularHookState, singularHookName);\n  return singularHook;\n}\n\nfunction HookCollection() {\n  var state = {\n    registry: {},\n  };\n\n  var hook = register.bind(null, state);\n  bindApi(hook, state);\n\n  return hook;\n}\n\nvar collectionHookDeprecationMessageDisplayed = false;\nfunction Hook() {\n  if (!collectionHookDeprecationMessageDisplayed) {\n    console.warn(\n      '[before-after-hook]: \"Hook()\" repurposing warning, use \"Hook.Collection()\". Read more: https://git.io/upgrade-before-after-hook-to-1.4'\n    );\n    collectionHookDeprecationMessageDisplayed = true;\n  }\n  return HookCollection();\n}\n\nHook.Singular = HookSingular.bind();\nHook.Collection = HookCollection.bind();\n\nmodule.exports = Hook;\n// expose constructors as a named property for TypeScript\nmodule.exports.Hook = Hook;\nmodule.exports.Singular = Hook.Singular;\nmodule.exports.Collection = Hook.Collection;\n","// pkg/dist-src/defaults.js\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"9.0.5\";\n\n// pkg/dist-src/defaults.js\nvar userAgent = `octokit-endpoint.js/${VERSION} ${getUserAgent()}`;\nvar DEFAULTS = {\n  method: \"GET\",\n  baseUrl: \"https://api.github.com\",\n  headers: {\n    accept: \"application/vnd.github.v3+json\",\n    \"user-agent\": userAgent\n  },\n  mediaType: {\n    format: \"\"\n  }\n};\n\n// pkg/dist-src/util/lowercase-keys.js\nfunction lowercaseKeys(object) {\n  if (!object) {\n    return {};\n  }\n  return Object.keys(object).reduce((newObj, key) => {\n    newObj[key.toLowerCase()] = object[key];\n    return newObj;\n  }, {});\n}\n\n// pkg/dist-src/util/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null)\n    return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\")\n    return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null)\n    return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/util/merge-deep.js\nfunction mergeDeep(defaults, options) {\n  const result = Object.assign({}, defaults);\n  Object.keys(options).forEach((key) => {\n    if (isPlainObject(options[key])) {\n      if (!(key in defaults))\n        Object.assign(result, { [key]: options[key] });\n      else\n        result[key] = mergeDeep(defaults[key], options[key]);\n    } else {\n      Object.assign(result, { [key]: options[key] });\n    }\n  });\n  return result;\n}\n\n// pkg/dist-src/util/remove-undefined-properties.js\nfunction removeUndefinedProperties(obj) {\n  for (const key in obj) {\n    if (obj[key] === void 0) {\n      delete obj[key];\n    }\n  }\n  return obj;\n}\n\n// pkg/dist-src/merge.js\nfunction merge(defaults, route, options) {\n  if (typeof route === \"string\") {\n    let [method, url] = route.split(\" \");\n    options = Object.assign(url ? { method, url } : { url: method }, options);\n  } else {\n    options = Object.assign({}, route);\n  }\n  options.headers = lowercaseKeys(options.headers);\n  removeUndefinedProperties(options);\n  removeUndefinedProperties(options.headers);\n  const mergedOptions = mergeDeep(defaults || {}, options);\n  if (options.url === \"/graphql\") {\n    if (defaults && defaults.mediaType.previews?.length) {\n      mergedOptions.mediaType.previews = defaults.mediaType.previews.filter(\n        (preview) => !mergedOptions.mediaType.previews.includes(preview)\n      ).concat(mergedOptions.mediaType.previews);\n    }\n    mergedOptions.mediaType.previews = (mergedOptions.mediaType.previews || []).map((preview) => preview.replace(/-preview/, \"\"));\n  }\n  return mergedOptions;\n}\n\n// pkg/dist-src/util/add-query-parameters.js\nfunction addQueryParameters(url, parameters) {\n  const separator = /\\?/.test(url) ? \"&\" : \"?\";\n  const names = Object.keys(parameters);\n  if (names.length === 0) {\n    return url;\n  }\n  return url + separator + names.map((name) => {\n    if (name === \"q\") {\n      return \"q=\" + parameters.q.split(\"+\").map(encodeURIComponent).join(\"+\");\n    }\n    return `${name}=${encodeURIComponent(parameters[name])}`;\n  }).join(\"&\");\n}\n\n// pkg/dist-src/util/extract-url-variable-names.js\nvar urlVariableRegex = /\\{[^}]+\\}/g;\nfunction removeNonChars(variableName) {\n  return variableName.replace(/^\\W+|\\W+$/g, \"\").split(/,/);\n}\nfunction extractUrlVariableNames(url) {\n  const matches = url.match(urlVariableRegex);\n  if (!matches) {\n    return [];\n  }\n  return matches.map(removeNonChars).reduce((a, b) => a.concat(b), []);\n}\n\n// pkg/dist-src/util/omit.js\nfunction omit(object, keysToOmit) {\n  const result = { __proto__: null };\n  for (const key of Object.keys(object)) {\n    if (keysToOmit.indexOf(key) === -1) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\n\n// pkg/dist-src/util/url-template.js\nfunction encodeReserved(str) {\n  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part) {\n    if (!/%[0-9A-Fa-f]/.test(part)) {\n      part = encodeURI(part).replace(/%5B/g, \"[\").replace(/%5D/g, \"]\");\n    }\n    return part;\n  }).join(\"\");\n}\nfunction encodeUnreserved(str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {\n    return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\nfunction encodeValue(operator, value, key) {\n  value = operator === \"+\" || operator === \"#\" ? encodeReserved(value) : encodeUnreserved(value);\n  if (key) {\n    return encodeUnreserved(key) + \"=\" + value;\n  } else {\n    return value;\n  }\n}\nfunction isDefined(value) {\n  return value !== void 0 && value !== null;\n}\nfunction isKeyOperator(operator) {\n  return operator === \";\" || operator === \"&\" || operator === \"?\";\n}\nfunction getValues(context, operator, key, modifier) {\n  var value = context[key], result = [];\n  if (isDefined(value) && value !== \"\") {\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n      value = value.toString();\n      if (modifier && modifier !== \"*\") {\n        value = value.substring(0, parseInt(modifier, 10));\n      }\n      result.push(\n        encodeValue(operator, value, isKeyOperator(operator) ? key : \"\")\n      );\n    } else {\n      if (modifier === \"*\") {\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            result.push(\n              encodeValue(operator, value2, isKeyOperator(operator) ? key : \"\")\n            );\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              result.push(encodeValue(operator, value[k], k));\n            }\n          });\n        }\n      } else {\n        const tmp = [];\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            tmp.push(encodeValue(operator, value2));\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              tmp.push(encodeUnreserved(k));\n              tmp.push(encodeValue(operator, value[k].toString()));\n            }\n          });\n        }\n        if (isKeyOperator(operator)) {\n          result.push(encodeUnreserved(key) + \"=\" + tmp.join(\",\"));\n        } else if (tmp.length !== 0) {\n          result.push(tmp.join(\",\"));\n        }\n      }\n    }\n  } else {\n    if (operator === \";\") {\n      if (isDefined(value)) {\n        result.push(encodeUnreserved(key));\n      }\n    } else if (value === \"\" && (operator === \"&\" || operator === \"?\")) {\n      result.push(encodeUnreserved(key) + \"=\");\n    } else if (value === \"\") {\n      result.push(\"\");\n    }\n  }\n  return result;\n}\nfunction parseUrl(template) {\n  return {\n    expand: expand.bind(null, template)\n  };\n}\nfunction expand(template, context) {\n  var operators = [\"+\", \"#\", \".\", \"/\", \";\", \"?\", \"&\"];\n  template = template.replace(\n    /\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g,\n    function(_, expression, literal) {\n      if (expression) {\n        let operator = \"\";\n        const values = [];\n        if (operators.indexOf(expression.charAt(0)) !== -1) {\n          operator = expression.charAt(0);\n          expression = expression.substr(1);\n        }\n        expression.split(/,/g).forEach(function(variable) {\n          var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n          values.push(getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n        });\n        if (operator && operator !== \"+\") {\n          var separator = \",\";\n          if (operator === \"?\") {\n            separator = \"&\";\n          } else if (operator !== \"#\") {\n            separator = operator;\n          }\n          return (values.length !== 0 ? operator : \"\") + values.join(separator);\n        } else {\n          return values.join(\",\");\n        }\n      } else {\n        return encodeReserved(literal);\n      }\n    }\n  );\n  if (template === \"/\") {\n    return template;\n  } else {\n    return template.replace(/\\/$/, \"\");\n  }\n}\n\n// pkg/dist-src/parse.js\nfunction parse(options) {\n  let method = options.method.toUpperCase();\n  let url = (options.url || \"/\").replace(/:([a-z]\\w+)/g, \"{$1}\");\n  let headers = Object.assign({}, options.headers);\n  let body;\n  let parameters = omit(options, [\n    \"method\",\n    \"baseUrl\",\n    \"url\",\n    \"headers\",\n    \"request\",\n    \"mediaType\"\n  ]);\n  const urlVariableNames = extractUrlVariableNames(url);\n  url = parseUrl(url).expand(parameters);\n  if (!/^http/.test(url)) {\n    url = options.baseUrl + url;\n  }\n  const omittedParameters = Object.keys(options).filter((option) => urlVariableNames.includes(option)).concat(\"baseUrl\");\n  const remainingParameters = omit(parameters, omittedParameters);\n  const isBinaryRequest = /application\\/octet-stream/i.test(headers.accept);\n  if (!isBinaryRequest) {\n    if (options.mediaType.format) {\n      headers.accept = headers.accept.split(/,/).map(\n        (format) => format.replace(\n          /application\\/vnd(\\.\\w+)(\\.v3)?(\\.\\w+)?(\\+json)?$/,\n          `application/vnd$1$2.${options.mediaType.format}`\n        )\n      ).join(\",\");\n    }\n    if (url.endsWith(\"/graphql\")) {\n      if (options.mediaType.previews?.length) {\n        const previewsFromAcceptHeader = headers.accept.match(/[\\w-]+(?=-preview)/g) || [];\n        headers.accept = previewsFromAcceptHeader.concat(options.mediaType.previews).map((preview) => {\n          const format = options.mediaType.format ? `.${options.mediaType.format}` : \"+json\";\n          return `application/vnd.github.${preview}-preview${format}`;\n        }).join(\",\");\n      }\n    }\n  }\n  if ([\"GET\", \"HEAD\"].includes(method)) {\n    url = addQueryParameters(url, remainingParameters);\n  } else {\n    if (\"data\" in remainingParameters) {\n      body = remainingParameters.data;\n    } else {\n      if (Object.keys(remainingParameters).length) {\n        body = remainingParameters;\n      }\n    }\n  }\n  if (!headers[\"content-type\"] && typeof body !== \"undefined\") {\n    headers[\"content-type\"] = \"application/json; charset=utf-8\";\n  }\n  if ([\"PATCH\", \"PUT\"].includes(method) && typeof body === \"undefined\") {\n    body = \"\";\n  }\n  return Object.assign(\n    { method, url, headers },\n    typeof body !== \"undefined\" ? { body } : null,\n    options.request ? { request: options.request } : null\n  );\n}\n\n// pkg/dist-src/endpoint-with-defaults.js\nfunction endpointWithDefaults(defaults, route, options) {\n  return parse(merge(defaults, route, options));\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldDefaults, newDefaults) {\n  const DEFAULTS2 = merge(oldDefaults, newDefaults);\n  const endpoint2 = endpointWithDefaults.bind(null, DEFAULTS2);\n  return Object.assign(endpoint2, {\n    DEFAULTS: DEFAULTS2,\n    defaults: withDefaults.bind(null, DEFAULTS2),\n    merge: merge.bind(null, DEFAULTS2),\n    parse\n  });\n}\n\n// pkg/dist-src/index.js\nvar endpoint = withDefaults(null, DEFAULTS);\nexport {\n  endpoint\n};\n","class Deprecation extends Error {\n  constructor(message) {\n    super(message); // Maintains proper stack trace (only available on V8)\n\n    /* istanbul ignore next */\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.name = 'Deprecation';\n  }\n\n}\n\nexport { Deprecation };\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// pkg/dist-src/index.js\nimport { Deprecation } from \"deprecation\";\nimport once from \"once\";\nvar logOnceCode = once((deprecation) => console.warn(deprecation));\nvar logOnceHeaders = once((deprecation) => console.warn(deprecation));\nvar RequestError = class extends Error {\n  constructor(message, statusCode, options) {\n    super(message);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    this.name = \"HttpError\";\n    this.status = statusCode;\n    let headers;\n    if (\"headers\" in options && typeof options.headers !== \"undefined\") {\n      headers = options.headers;\n    }\n    if (\"response\" in options) {\n      this.response = options.response;\n      headers = options.response.headers;\n    }\n    const requestCopy = Object.assign({}, options.request);\n    if (options.request.headers.authorization) {\n      requestCopy.headers = Object.assign({}, options.request.headers, {\n        authorization: options.request.headers.authorization.replace(\n          / .*$/,\n          \" [REDACTED]\"\n        )\n      });\n    }\n    requestCopy.url = requestCopy.url.replace(/\\bclient_secret=\\w+/g, \"client_secret=[REDACTED]\").replace(/\\baccess_token=\\w+/g, \"access_token=[REDACTED]\");\n    this.request = requestCopy;\n    Object.defineProperty(this, \"code\", {\n      get() {\n        logOnceCode(\n          new Deprecation(\n            \"[@octokit/request-error] `error.code` is deprecated, use `error.status`.\"\n          )\n        );\n        return statusCode;\n      }\n    });\n    Object.defineProperty(this, \"headers\", {\n      get() {\n        logOnceHeaders(\n          new Deprecation(\n            \"[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.\"\n          )\n        );\n        return headers || {};\n      }\n    });\n  }\n};\nexport {\n  RequestError\n};\n","// pkg/dist-src/index.js\nimport { endpoint } from \"@octokit/endpoint\";\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"8.4.0\";\n\n// pkg/dist-src/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null)\n    return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\")\n    return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null)\n    return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/fetch-wrapper.js\nimport { RequestError } from \"@octokit/request-error\";\n\n// pkg/dist-src/get-buffer-response.js\nfunction getBufferResponse(response) {\n  return response.arrayBuffer();\n}\n\n// pkg/dist-src/fetch-wrapper.js\nfunction fetchWrapper(requestOptions) {\n  const log = requestOptions.request && requestOptions.request.log ? requestOptions.request.log : console;\n  const parseSuccessResponseBody = requestOptions.request?.parseSuccessResponseBody !== false;\n  if (isPlainObject(requestOptions.body) || Array.isArray(requestOptions.body)) {\n    requestOptions.body = JSON.stringify(requestOptions.body);\n  }\n  let headers = {};\n  let status;\n  let url;\n  let { fetch } = globalThis;\n  if (requestOptions.request?.fetch) {\n    fetch = requestOptions.request.fetch;\n  }\n  if (!fetch) {\n    throw new Error(\n      \"fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing\"\n    );\n  }\n  return fetch(requestOptions.url, {\n    method: requestOptions.method,\n    body: requestOptions.body,\n    redirect: requestOptions.request?.redirect,\n    headers: requestOptions.headers,\n    signal: requestOptions.request?.signal,\n    // duplex must be set if request.body is ReadableStream or Async Iterables.\n    // See https://fetch.spec.whatwg.org/#dom-requestinit-duplex.\n    ...requestOptions.body && { duplex: \"half\" }\n  }).then(async (response) => {\n    url = response.url;\n    status = response.status;\n    for (const keyAndValue of response.headers) {\n      headers[keyAndValue[0]] = keyAndValue[1];\n    }\n    if (\"deprecation\" in headers) {\n      const matches = headers.link && headers.link.match(/<([^>]+)>; rel=\"deprecation\"/);\n      const deprecationLink = matches && matches.pop();\n      log.warn(\n        `[@octokit/request] \"${requestOptions.method} ${requestOptions.url}\" is deprecated. It is scheduled to be removed on ${headers.sunset}${deprecationLink ? `. See ${deprecationLink}` : \"\"}`\n      );\n    }\n    if (status === 204 || status === 205) {\n      return;\n    }\n    if (requestOptions.method === \"HEAD\") {\n      if (status < 400) {\n        return;\n      }\n      throw new RequestError(response.statusText, status, {\n        response: {\n          url,\n          status,\n          headers,\n          data: void 0\n        },\n        request: requestOptions\n      });\n    }\n    if (status === 304) {\n      throw new RequestError(\"Not modified\", status, {\n        response: {\n          url,\n          status,\n          headers,\n          data: await getResponseData(response)\n        },\n        request: requestOptions\n      });\n    }\n    if (status >= 400) {\n      const data = await getResponseData(response);\n      const error = new RequestError(toErrorMessage(data), status, {\n        response: {\n          url,\n          status,\n          headers,\n          data\n        },\n        request: requestOptions\n      });\n      throw error;\n    }\n    return parseSuccessResponseBody ? await getResponseData(response) : response.body;\n  }).then((data) => {\n    return {\n      status,\n      url,\n      headers,\n      data\n    };\n  }).catch((error) => {\n    if (error instanceof RequestError)\n      throw error;\n    else if (error.name === \"AbortError\")\n      throw error;\n    let message = error.message;\n    if (error.name === \"TypeError\" && \"cause\" in error) {\n      if (error.cause instanceof Error) {\n        message = error.cause.message;\n      } else if (typeof error.cause === \"string\") {\n        message = error.cause;\n      }\n    }\n    throw new RequestError(message, 500, {\n      request: requestOptions\n    });\n  });\n}\nasync function getResponseData(response) {\n  const contentType = response.headers.get(\"content-type\");\n  if (/application\\/json/.test(contentType)) {\n    return response.json().catch(() => response.text()).catch(() => \"\");\n  }\n  if (!contentType || /^text\\/|charset=utf-8$/.test(contentType)) {\n    return response.text();\n  }\n  return getBufferResponse(response);\n}\nfunction toErrorMessage(data) {\n  if (typeof data === \"string\")\n    return data;\n  let suffix;\n  if (\"documentation_url\" in data) {\n    suffix = ` - ${data.documentation_url}`;\n  } else {\n    suffix = \"\";\n  }\n  if (\"message\" in data) {\n    if (Array.isArray(data.errors)) {\n      return `${data.message}: ${data.errors.map(JSON.stringify).join(\", \")}${suffix}`;\n    }\n    return `${data.message}${suffix}`;\n  }\n  return `Unknown error: ${JSON.stringify(data)}`;\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldEndpoint, newDefaults) {\n  const endpoint2 = oldEndpoint.defaults(newDefaults);\n  const newApi = function(route, parameters) {\n    const endpointOptions = endpoint2.merge(route, parameters);\n    if (!endpointOptions.request || !endpointOptions.request.hook) {\n      return fetchWrapper(endpoint2.parse(endpointOptions));\n    }\n    const request2 = (route2, parameters2) => {\n      return fetchWrapper(\n        endpoint2.parse(endpoint2.merge(route2, parameters2))\n      );\n    };\n    Object.assign(request2, {\n      endpoint: endpoint2,\n      defaults: withDefaults.bind(null, endpoint2)\n    });\n    return endpointOptions.request.hook(request2, endpointOptions);\n  };\n  return Object.assign(newApi, {\n    endpoint: endpoint2,\n    defaults: withDefaults.bind(null, endpoint2)\n  });\n}\n\n// pkg/dist-src/index.js\nvar request = withDefaults(endpoint, {\n  headers: {\n    \"user-agent\": `octokit-request.js/${VERSION} ${getUserAgent()}`\n  }\n});\nexport {\n  request\n};\n","// pkg/dist-src/index.js\nimport { request } from \"@octokit/request\";\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"7.1.0\";\n\n// pkg/dist-src/with-defaults.js\nimport { request as Request2 } from \"@octokit/request\";\n\n// pkg/dist-src/graphql.js\nimport { request as Request } from \"@octokit/request\";\n\n// pkg/dist-src/error.js\nfunction _buildMessageForResponseErrors(data) {\n  return `Request failed due to following response errors:\n` + data.errors.map((e) => ` - ${e.message}`).join(\"\\n\");\n}\nvar GraphqlResponseError = class extends Error {\n  constructor(request2, headers, response) {\n    super(_buildMessageForResponseErrors(response));\n    this.request = request2;\n    this.headers = headers;\n    this.response = response;\n    this.name = \"GraphqlResponseError\";\n    this.errors = response.errors;\n    this.data = response.data;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n};\n\n// pkg/dist-src/graphql.js\nvar NON_VARIABLE_OPTIONS = [\n  \"method\",\n  \"baseUrl\",\n  \"url\",\n  \"headers\",\n  \"request\",\n  \"query\",\n  \"mediaType\"\n];\nvar FORBIDDEN_VARIABLE_OPTIONS = [\"query\", \"method\", \"url\"];\nvar GHES_V3_SUFFIX_REGEX = /\\/api\\/v3\\/?$/;\nfunction graphql(request2, query, options) {\n  if (options) {\n    if (typeof query === \"string\" && \"query\" in options) {\n      return Promise.reject(\n        new Error(`[@octokit/graphql] \"query\" cannot be used as variable name`)\n      );\n    }\n    for (const key in options) {\n      if (!FORBIDDEN_VARIABLE_OPTIONS.includes(key))\n        continue;\n      return Promise.reject(\n        new Error(\n          `[@octokit/graphql] \"${key}\" cannot be used as variable name`\n        )\n      );\n    }\n  }\n  const parsedOptions = typeof query === \"string\" ? Object.assign({ query }, options) : query;\n  const requestOptions = Object.keys(\n    parsedOptions\n  ).reduce((result, key) => {\n    if (NON_VARIABLE_OPTIONS.includes(key)) {\n      result[key] = parsedOptions[key];\n      return result;\n    }\n    if (!result.variables) {\n      result.variables = {};\n    }\n    result.variables[key] = parsedOptions[key];\n    return result;\n  }, {});\n  const baseUrl = parsedOptions.baseUrl || request2.endpoint.DEFAULTS.baseUrl;\n  if (GHES_V3_SUFFIX_REGEX.test(baseUrl)) {\n    requestOptions.url = baseUrl.replace(GHES_V3_SUFFIX_REGEX, \"/api/graphql\");\n  }\n  return request2(requestOptions).then((response) => {\n    if (response.data.errors) {\n      const headers = {};\n      for (const key of Object.keys(response.headers)) {\n        headers[key] = response.headers[key];\n      }\n      throw new GraphqlResponseError(\n        requestOptions,\n        headers,\n        response.data\n      );\n    }\n    return response.data.data;\n  });\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(request2, newDefaults) {\n  const newRequest = request2.defaults(newDefaults);\n  const newApi = (query, options) => {\n    return graphql(newRequest, query, options);\n  };\n  return Object.assign(newApi, {\n    defaults: withDefaults.bind(null, newRequest),\n    endpoint: newRequest.endpoint\n  });\n}\n\n// pkg/dist-src/index.js\nvar graphql2 = withDefaults(request, {\n  headers: {\n    \"user-agent\": `octokit-graphql.js/${VERSION} ${getUserAgent()}`\n  },\n  method: \"POST\",\n  url: \"/graphql\"\n});\nfunction withCustomRequest(customRequest) {\n  return withDefaults(customRequest, {\n    method: \"POST\",\n    url: \"/graphql\"\n  });\n}\nexport {\n  GraphqlResponseError,\n  graphql2 as graphql,\n  withCustomRequest\n};\n","// pkg/dist-src/auth.js\nvar REGEX_IS_INSTALLATION_LEGACY = /^v1\\./;\nvar REGEX_IS_INSTALLATION = /^ghs_/;\nvar REGEX_IS_USER_TO_SERVER = /^ghu_/;\nasync function auth(token) {\n  const isApp = token.split(/\\./).length === 3;\n  const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) || REGEX_IS_INSTALLATION.test(token);\n  const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\n      \"[@octokit/auth-token] Token passed to createTokenAuth is not a string\"\n    );\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport {\n  createTokenAuth\n};\n","// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { Collection } from \"before-after-hook\";\nimport { request } from \"@octokit/request\";\nimport { graphql, withCustomRequest } from \"@octokit/graphql\";\nimport { createTokenAuth } from \"@octokit/auth-token\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"5.2.0\";\n\n// pkg/dist-src/index.js\nvar noop = () => {\n};\nvar consoleWarn = console.warn.bind(console);\nvar consoleError = console.error.bind(console);\nvar userAgentTrail = `octokit-core.js/${VERSION} ${getUserAgent()}`;\nvar Octokit = class {\n  static {\n    this.VERSION = VERSION;\n  }\n  static defaults(defaults) {\n    const OctokitWithDefaults = class extends this {\n      constructor(...args) {\n        const options = args[0] || {};\n        if (typeof defaults === \"function\") {\n          super(defaults(options));\n          return;\n        }\n        super(\n          Object.assign(\n            {},\n            defaults,\n            options,\n            options.userAgent && defaults.userAgent ? {\n              userAgent: `${options.userAgent} ${defaults.userAgent}`\n            } : null\n          )\n        );\n      }\n    };\n    return OctokitWithDefaults;\n  }\n  static {\n    this.plugins = [];\n  }\n  /**\n   * Attach a plugin (or many) to your Octokit instance.\n   *\n   * @example\n   * const API = Octokit.plugin(plugin1, plugin2, plugin3, ...)\n   */\n  static plugin(...newPlugins) {\n    const currentPlugins = this.plugins;\n    const NewOctokit = class extends this {\n      static {\n        this.plugins = currentPlugins.concat(\n          newPlugins.filter((plugin) => !currentPlugins.includes(plugin))\n        );\n      }\n    };\n    return NewOctokit;\n  }\n  constructor(options = {}) {\n    const hook = new Collection();\n    const requestDefaults = {\n      baseUrl: request.endpoint.DEFAULTS.baseUrl,\n      headers: {},\n      request: Object.assign({}, options.request, {\n        // @ts-ignore internal usage only, no need to type\n        hook: hook.bind(null, \"request\")\n      }),\n      mediaType: {\n        previews: [],\n        format: \"\"\n      }\n    };\n    requestDefaults.headers[\"user-agent\"] = options.userAgent ? `${options.userAgent} ${userAgentTrail}` : userAgentTrail;\n    if (options.baseUrl) {\n      requestDefaults.baseUrl = options.baseUrl;\n    }\n    if (options.previews) {\n      requestDefaults.mediaType.previews = options.previews;\n    }\n    if (options.timeZone) {\n      requestDefaults.headers[\"time-zone\"] = options.timeZone;\n    }\n    this.request = request.defaults(requestDefaults);\n    this.graphql = withCustomRequest(this.request).defaults(requestDefaults);\n    this.log = Object.assign(\n      {\n        debug: noop,\n        info: noop,\n        warn: consoleWarn,\n        error: consoleError\n      },\n      options.log\n    );\n    this.hook = hook;\n    if (!options.authStrategy) {\n      if (!options.auth) {\n        this.auth = async () => ({\n          type: \"unauthenticated\"\n        });\n      } else {\n        const auth = createTokenAuth(options.auth);\n        hook.wrap(\"request\", auth.hook);\n        this.auth = auth;\n      }\n    } else {\n      const { authStrategy, ...otherOptions } = options;\n      const auth = authStrategy(\n        Object.assign(\n          {\n            request: this.request,\n            log: this.log,\n            // we pass the current octokit instance as well as its constructor options\n            // to allow for authentication strategies that return a new octokit instance\n            // that shares the same internal state as the current one. The original\n            // requirement for this was the \"event-octokit\" authentication strategy\n            // of https://github.com/probot/octokit-auth-probot.\n            octokit: this,\n            octokitOptions: otherOptions\n          },\n          options.auth\n        )\n      );\n      hook.wrap(\"request\", auth.hook);\n      this.auth = auth;\n    }\n    const classConstructor = this.constructor;\n    for (let i = 0; i < classConstructor.plugins.length; ++i) {\n      Object.assign(this, classConstructor.plugins[i](this, options));\n    }\n  }\n};\nexport {\n  Octokit\n};\n","// pkg/dist-src/version.js\nvar VERSION = \"4.0.1\";\n\n// pkg/dist-src/index.js\nfunction requestLog(octokit) {\n  octokit.hook.wrap(\"request\", (request, options) => {\n    octokit.log.debug(\"request\", options);\n    const start = Date.now();\n    const requestOptions = octokit.request.endpoint.parse(options);\n    const path = requestOptions.url.replace(options.baseUrl, \"\");\n    return request(options).then((response) => {\n      octokit.log.info(\n        `${requestOptions.method} ${path} - ${response.status} in ${Date.now() - start}ms`\n      );\n      return response;\n    }).catch((error) => {\n      octokit.log.info(\n        `${requestOptions.method} ${path} - ${error.status} in ${Date.now() - start}ms`\n      );\n      throw error;\n    });\n  });\n}\nrequestLog.VERSION = VERSION;\nexport {\n  requestLog\n};\n","// pkg/dist-src/version.js\nvar VERSION = \"11.3.1\";\n\n// pkg/dist-src/normalize-paginated-list-response.js\nfunction normalizePaginatedListResponse(response) {\n  if (!response.data) {\n    return {\n      ...response,\n      data: []\n    };\n  }\n  const responseNeedsNormalization = \"total_count\" in response.data && !(\"url\" in response.data);\n  if (!responseNeedsNormalization)\n    return response;\n  const incompleteResults = response.data.incomplete_results;\n  const repositorySelection = response.data.repository_selection;\n  const totalCount = response.data.total_count;\n  delete response.data.incomplete_results;\n  delete response.data.repository_selection;\n  delete response.data.total_count;\n  const namespaceKey = Object.keys(response.data)[0];\n  const data = response.data[namespaceKey];\n  response.data = data;\n  if (typeof incompleteResults !== \"undefined\") {\n    response.data.incomplete_results = incompleteResults;\n  }\n  if (typeof repositorySelection !== \"undefined\") {\n    response.data.repository_selection = repositorySelection;\n  }\n  response.data.total_count = totalCount;\n  return response;\n}\n\n// pkg/dist-src/iterator.js\nfunction iterator(octokit, route, parameters) {\n  const options = typeof route === \"function\" ? route.endpoint(parameters) : octokit.request.endpoint(route, parameters);\n  const requestMethod = typeof route === \"function\" ? route : octokit.request;\n  const method = options.method;\n  const headers = options.headers;\n  let url = options.url;\n  return {\n    [Symbol.asyncIterator]: () => ({\n      async next() {\n        if (!url)\n          return { done: true };\n        try {\n          const response = await requestMethod({ method, url, headers });\n          const normalizedResponse = normalizePaginatedListResponse(response);\n          url = ((normalizedResponse.headers.link || \"\").match(\n            /<([^>]+)>;\\s*rel=\"next\"/\n          ) || [])[1];\n          return { value: normalizedResponse };\n        } catch (error) {\n          if (error.status !== 409)\n            throw error;\n          url = \"\";\n          return {\n            value: {\n              status: 200,\n              headers: {},\n              data: []\n            }\n          };\n        }\n      }\n    })\n  };\n}\n\n// pkg/dist-src/paginate.js\nfunction paginate(octokit, route, parameters, mapFn) {\n  if (typeof parameters === \"function\") {\n    mapFn = parameters;\n    parameters = void 0;\n  }\n  return gather(\n    octokit,\n    [],\n    iterator(octokit, route, parameters)[Symbol.asyncIterator](),\n    mapFn\n  );\n}\nfunction gather(octokit, results, iterator2, mapFn) {\n  return iterator2.next().then((result) => {\n    if (result.done) {\n      return results;\n    }\n    let earlyExit = false;\n    function done() {\n      earlyExit = true;\n    }\n    results = results.concat(\n      mapFn ? mapFn(result.value, done) : result.value.data\n    );\n    if (earlyExit) {\n      return results;\n    }\n    return gather(octokit, results, iterator2, mapFn);\n  });\n}\n\n// pkg/dist-src/compose-paginate.js\nvar composePaginateRest = Object.assign(paginate, {\n  iterator\n});\n\n// pkg/dist-src/generated/paginating-endpoints.js\nvar paginatingEndpoints = [\n  \"GET /advisories\",\n  \"GET /app/hook/deliveries\",\n  \"GET /app/installation-requests\",\n  \"GET /app/installations\",\n  \"GET /assignments/{assignment_id}/accepted_assignments\",\n  \"GET /classrooms\",\n  \"GET /classrooms/{classroom_id}/assignments\",\n  \"GET /enterprises/{enterprise}/copilot/usage\",\n  \"GET /enterprises/{enterprise}/dependabot/alerts\",\n  \"GET /enterprises/{enterprise}/secret-scanning/alerts\",\n  \"GET /events\",\n  \"GET /gists\",\n  \"GET /gists/public\",\n  \"GET /gists/starred\",\n  \"GET /gists/{gist_id}/comments\",\n  \"GET /gists/{gist_id}/commits\",\n  \"GET /gists/{gist_id}/forks\",\n  \"GET /installation/repositories\",\n  \"GET /issues\",\n  \"GET /licenses\",\n  \"GET /marketplace_listing/plans\",\n  \"GET /marketplace_listing/plans/{plan_id}/accounts\",\n  \"GET /marketplace_listing/stubbed/plans\",\n  \"GET /marketplace_listing/stubbed/plans/{plan_id}/accounts\",\n  \"GET /networks/{owner}/{repo}/events\",\n  \"GET /notifications\",\n  \"GET /organizations\",\n  \"GET /orgs/{org}/actions/cache/usage-by-repository\",\n  \"GET /orgs/{org}/actions/permissions/repositories\",\n  \"GET /orgs/{org}/actions/runners\",\n  \"GET /orgs/{org}/actions/secrets\",\n  \"GET /orgs/{org}/actions/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/actions/variables\",\n  \"GET /orgs/{org}/actions/variables/{name}/repositories\",\n  \"GET /orgs/{org}/blocks\",\n  \"GET /orgs/{org}/code-scanning/alerts\",\n  \"GET /orgs/{org}/codespaces\",\n  \"GET /orgs/{org}/codespaces/secrets\",\n  \"GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/copilot/billing/seats\",\n  \"GET /orgs/{org}/copilot/usage\",\n  \"GET /orgs/{org}/dependabot/alerts\",\n  \"GET /orgs/{org}/dependabot/secrets\",\n  \"GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/events\",\n  \"GET /orgs/{org}/failed_invitations\",\n  \"GET /orgs/{org}/hooks\",\n  \"GET /orgs/{org}/hooks/{hook_id}/deliveries\",\n  \"GET /orgs/{org}/installations\",\n  \"GET /orgs/{org}/invitations\",\n  \"GET /orgs/{org}/invitations/{invitation_id}/teams\",\n  \"GET /orgs/{org}/issues\",\n  \"GET /orgs/{org}/members\",\n  \"GET /orgs/{org}/members/{username}/codespaces\",\n  \"GET /orgs/{org}/migrations\",\n  \"GET /orgs/{org}/migrations/{migration_id}/repositories\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/teams\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/users\",\n  \"GET /orgs/{org}/outside_collaborators\",\n  \"GET /orgs/{org}/packages\",\n  \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\",\n  \"GET /orgs/{org}/personal-access-token-requests\",\n  \"GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories\",\n  \"GET /orgs/{org}/personal-access-tokens\",\n  \"GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories\",\n  \"GET /orgs/{org}/projects\",\n  \"GET /orgs/{org}/properties/values\",\n  \"GET /orgs/{org}/public_members\",\n  \"GET /orgs/{org}/repos\",\n  \"GET /orgs/{org}/rulesets\",\n  \"GET /orgs/{org}/rulesets/rule-suites\",\n  \"GET /orgs/{org}/secret-scanning/alerts\",\n  \"GET /orgs/{org}/security-advisories\",\n  \"GET /orgs/{org}/team/{team_slug}/copilot/usage\",\n  \"GET /orgs/{org}/teams\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/invitations\",\n  \"GET /orgs/{org}/teams/{team_slug}/members\",\n  \"GET /orgs/{org}/teams/{team_slug}/projects\",\n  \"GET /orgs/{org}/teams/{team_slug}/repos\",\n  \"GET /orgs/{org}/teams/{team_slug}/teams\",\n  \"GET /projects/columns/{column_id}/cards\",\n  \"GET /projects/{project_id}/collaborators\",\n  \"GET /projects/{project_id}/columns\",\n  \"GET /repos/{owner}/{repo}/actions/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/caches\",\n  \"GET /repos/{owner}/{repo}/actions/organization-secrets\",\n  \"GET /repos/{owner}/{repo}/actions/organization-variables\",\n  \"GET /repos/{owner}/{repo}/actions/runners\",\n  \"GET /repos/{owner}/{repo}/actions/runs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/secrets\",\n  \"GET /repos/{owner}/{repo}/actions/variables\",\n  \"GET /repos/{owner}/{repo}/actions/workflows\",\n  \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs\",\n  \"GET /repos/{owner}/{repo}/activity\",\n  \"GET /repos/{owner}/{repo}/assignees\",\n  \"GET /repos/{owner}/{repo}/branches\",\n  \"GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations\",\n  \"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\",\n  \"GET /repos/{owner}/{repo}/code-scanning/analyses\",\n  \"GET /repos/{owner}/{repo}/codespaces\",\n  \"GET /repos/{owner}/{repo}/codespaces/devcontainers\",\n  \"GET /repos/{owner}/{repo}/codespaces/secrets\",\n  \"GET /repos/{owner}/{repo}/collaborators\",\n  \"GET /repos/{owner}/{repo}/comments\",\n  \"GET /repos/{owner}/{repo}/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/commits\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/comments\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-runs\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-suites\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/status\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/statuses\",\n  \"GET /repos/{owner}/{repo}/contributors\",\n  \"GET /repos/{owner}/{repo}/dependabot/alerts\",\n  \"GET /repos/{owner}/{repo}/dependabot/secrets\",\n  \"GET /repos/{owner}/{repo}/deployments\",\n  \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\",\n  \"GET /repos/{owner}/{repo}/environments\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables\",\n  \"GET /repos/{owner}/{repo}/events\",\n  \"GET /repos/{owner}/{repo}/forks\",\n  \"GET /repos/{owner}/{repo}/hooks\",\n  \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries\",\n  \"GET /repos/{owner}/{repo}/invitations\",\n  \"GET /repos/{owner}/{repo}/issues\",\n  \"GET /repos/{owner}/{repo}/issues/comments\",\n  \"GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/comments\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/labels\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/timeline\",\n  \"GET /repos/{owner}/{repo}/keys\",\n  \"GET /repos/{owner}/{repo}/labels\",\n  \"GET /repos/{owner}/{repo}/milestones\",\n  \"GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels\",\n  \"GET /repos/{owner}/{repo}/notifications\",\n  \"GET /repos/{owner}/{repo}/pages/builds\",\n  \"GET /repos/{owner}/{repo}/projects\",\n  \"GET /repos/{owner}/{repo}/pulls\",\n  \"GET /repos/{owner}/{repo}/pulls/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/commits\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/files\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments\",\n  \"GET /repos/{owner}/{repo}/releases\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/assets\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/rules/branches/{branch}\",\n  \"GET /repos/{owner}/{repo}/rulesets\",\n  \"GET /repos/{owner}/{repo}/rulesets/rule-suites\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations\",\n  \"GET /repos/{owner}/{repo}/security-advisories\",\n  \"GET /repos/{owner}/{repo}/stargazers\",\n  \"GET /repos/{owner}/{repo}/subscribers\",\n  \"GET /repos/{owner}/{repo}/tags\",\n  \"GET /repos/{owner}/{repo}/teams\",\n  \"GET /repos/{owner}/{repo}/topics\",\n  \"GET /repositories\",\n  \"GET /search/code\",\n  \"GET /search/commits\",\n  \"GET /search/issues\",\n  \"GET /search/labels\",\n  \"GET /search/repositories\",\n  \"GET /search/topics\",\n  \"GET /search/users\",\n  \"GET /teams/{team_id}/discussions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/reactions\",\n  \"GET /teams/{team_id}/invitations\",\n  \"GET /teams/{team_id}/members\",\n  \"GET /teams/{team_id}/projects\",\n  \"GET /teams/{team_id}/repos\",\n  \"GET /teams/{team_id}/teams\",\n  \"GET /user/blocks\",\n  \"GET /user/codespaces\",\n  \"GET /user/codespaces/secrets\",\n  \"GET /user/emails\",\n  \"GET /user/followers\",\n  \"GET /user/following\",\n  \"GET /user/gpg_keys\",\n  \"GET /user/installations\",\n  \"GET /user/installations/{installation_id}/repositories\",\n  \"GET /user/issues\",\n  \"GET /user/keys\",\n  \"GET /user/marketplace_purchases\",\n  \"GET /user/marketplace_purchases/stubbed\",\n  \"GET /user/memberships/orgs\",\n  \"GET /user/migrations\",\n  \"GET /user/migrations/{migration_id}/repositories\",\n  \"GET /user/orgs\",\n  \"GET /user/packages\",\n  \"GET /user/packages/{package_type}/{package_name}/versions\",\n  \"GET /user/public_emails\",\n  \"GET /user/repos\",\n  \"GET /user/repository_invitations\",\n  \"GET /user/social_accounts\",\n  \"GET /user/ssh_signing_keys\",\n  \"GET /user/starred\",\n  \"GET /user/subscriptions\",\n  \"GET /user/teams\",\n  \"GET /users\",\n  \"GET /users/{username}/events\",\n  \"GET /users/{username}/events/orgs/{org}\",\n  \"GET /users/{username}/events/public\",\n  \"GET /users/{username}/followers\",\n  \"GET /users/{username}/following\",\n  \"GET /users/{username}/gists\",\n  \"GET /users/{username}/gpg_keys\",\n  \"GET /users/{username}/keys\",\n  \"GET /users/{username}/orgs\",\n  \"GET /users/{username}/packages\",\n  \"GET /users/{username}/projects\",\n  \"GET /users/{username}/received_events\",\n  \"GET /users/{username}/received_events/public\",\n  \"GET /users/{username}/repos\",\n  \"GET /users/{username}/social_accounts\",\n  \"GET /users/{username}/ssh_signing_keys\",\n  \"GET /users/{username}/starred\",\n  \"GET /users/{username}/subscriptions\"\n];\n\n// pkg/dist-src/paginating-endpoints.js\nfunction isPaginatingEndpoint(arg) {\n  if (typeof arg === \"string\") {\n    return paginatingEndpoints.includes(arg);\n  } else {\n    return false;\n  }\n}\n\n// pkg/dist-src/index.js\nfunction paginateRest(octokit) {\n  return {\n    paginate: Object.assign(paginate.bind(null, octokit), {\n      iterator: iterator.bind(null, octokit)\n    })\n  };\n}\npaginateRest.VERSION = VERSION;\nexport {\n  composePaginateRest,\n  isPaginatingEndpoint,\n  paginateRest,\n  paginatingEndpoints\n};\n","// pkg/dist-src/version.js\nvar VERSION = \"13.2.2\";\n\n// pkg/dist-src/generated/endpoints.js\nvar Endpoints = {\n  actions: {\n    addCustomLabelsToSelfHostedRunnerForOrg: [\n      \"POST /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    addCustomLabelsToSelfHostedRunnerForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    addSelectedRepoToOrgVariable: [\n      \"PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}\"\n    ],\n    approveWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve\"\n    ],\n    cancelWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel\"\n    ],\n    createEnvironmentVariable: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/variables\"\n    ],\n    createOrUpdateEnvironmentSecret: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    createOrUpdateOrgSecret: [\"PUT /orgs/{org}/actions/secrets/{secret_name}\"],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}\"\n    ],\n    createOrgVariable: [\"POST /orgs/{org}/actions/variables\"],\n    createRegistrationTokenForOrg: [\n      \"POST /orgs/{org}/actions/runners/registration-token\"\n    ],\n    createRegistrationTokenForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/registration-token\"\n    ],\n    createRemoveTokenForOrg: [\"POST /orgs/{org}/actions/runners/remove-token\"],\n    createRemoveTokenForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/remove-token\"\n    ],\n    createRepoVariable: [\"POST /repos/{owner}/{repo}/actions/variables\"],\n    createWorkflowDispatch: [\n      \"POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches\"\n    ],\n    deleteActionsCacheById: [\n      \"DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}\"\n    ],\n    deleteActionsCacheByKey: [\n      \"DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}\"\n    ],\n    deleteArtifact: [\n      \"DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}\"\n    ],\n    deleteEnvironmentSecret: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    deleteEnvironmentVariable: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/actions/secrets/{secret_name}\"],\n    deleteOrgVariable: [\"DELETE /orgs/{org}/actions/variables/{name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}\"\n    ],\n    deleteRepoVariable: [\n      \"DELETE /repos/{owner}/{repo}/actions/variables/{name}\"\n    ],\n    deleteSelfHostedRunnerFromOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}\"\n    ],\n    deleteSelfHostedRunnerFromRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}\"\n    ],\n    deleteWorkflowRun: [\"DELETE /repos/{owner}/{repo}/actions/runs/{run_id}\"],\n    deleteWorkflowRunLogs: [\n      \"DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs\"\n    ],\n    disableSelectedRepositoryGithubActionsOrganization: [\n      \"DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}\"\n    ],\n    disableWorkflow: [\n      \"PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable\"\n    ],\n    downloadArtifact: [\n      \"GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}\"\n    ],\n    downloadJobLogsForWorkflowRun: [\n      \"GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs\"\n    ],\n    downloadWorkflowRunAttemptLogs: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs\"\n    ],\n    downloadWorkflowRunLogs: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs\"\n    ],\n    enableSelectedRepositoryGithubActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/repositories/{repository_id}\"\n    ],\n    enableWorkflow: [\n      \"PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable\"\n    ],\n    forceCancelWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel\"\n    ],\n    generateRunnerJitconfigForOrg: [\n      \"POST /orgs/{org}/actions/runners/generate-jitconfig\"\n    ],\n    generateRunnerJitconfigForRepo: [\n      \"POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig\"\n    ],\n    getActionsCacheList: [\"GET /repos/{owner}/{repo}/actions/caches\"],\n    getActionsCacheUsage: [\"GET /repos/{owner}/{repo}/actions/cache/usage\"],\n    getActionsCacheUsageByRepoForOrg: [\n      \"GET /orgs/{org}/actions/cache/usage-by-repository\"\n    ],\n    getActionsCacheUsageForOrg: [\"GET /orgs/{org}/actions/cache/usage\"],\n    getAllowedActionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/selected-actions\"\n    ],\n    getAllowedActionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/selected-actions\"\n    ],\n    getArtifact: [\"GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}\"],\n    getCustomOidcSubClaimForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/oidc/customization/sub\"\n    ],\n    getEnvironmentPublicKey: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key\"\n    ],\n    getEnvironmentSecret: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}\"\n    ],\n    getEnvironmentVariable: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    getGithubActionsDefaultWorkflowPermissionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/workflow\"\n    ],\n    getGithubActionsDefaultWorkflowPermissionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/workflow\"\n    ],\n    getGithubActionsPermissionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions\"\n    ],\n    getGithubActionsPermissionsRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions\"\n    ],\n    getJobForWorkflowRun: [\"GET /repos/{owner}/{repo}/actions/jobs/{job_id}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/actions/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/actions/secrets/{secret_name}\"],\n    getOrgVariable: [\"GET /orgs/{org}/actions/variables/{name}\"],\n    getPendingDeploymentsForRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments\"\n    ],\n    getRepoPermissions: [\n      \"GET /repos/{owner}/{repo}/actions/permissions\",\n      {},\n      { renamed: [\"actions\", \"getGithubActionsPermissionsRepository\"] }\n    ],\n    getRepoPublicKey: [\"GET /repos/{owner}/{repo}/actions/secrets/public-key\"],\n    getRepoSecret: [\"GET /repos/{owner}/{repo}/actions/secrets/{secret_name}\"],\n    getRepoVariable: [\"GET /repos/{owner}/{repo}/actions/variables/{name}\"],\n    getReviewsForRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals\"\n    ],\n    getSelfHostedRunnerForOrg: [\"GET /orgs/{org}/actions/runners/{runner_id}\"],\n    getSelfHostedRunnerForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/{runner_id}\"\n    ],\n    getWorkflow: [\"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}\"],\n    getWorkflowAccessToRepository: [\n      \"GET /repos/{owner}/{repo}/actions/permissions/access\"\n    ],\n    getWorkflowRun: [\"GET /repos/{owner}/{repo}/actions/runs/{run_id}\"],\n    getWorkflowRunAttempt: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}\"\n    ],\n    getWorkflowRunUsage: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing\"\n    ],\n    getWorkflowUsage: [\n      \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing\"\n    ],\n    listArtifactsForRepo: [\"GET /repos/{owner}/{repo}/actions/artifacts\"],\n    listEnvironmentSecrets: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/secrets\"\n    ],\n    listEnvironmentVariables: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/variables\"\n    ],\n    listJobsForWorkflowRun: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs\"\n    ],\n    listJobsForWorkflowRunAttempt: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs\"\n    ],\n    listLabelsForSelfHostedRunnerForOrg: [\n      \"GET /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    listLabelsForSelfHostedRunnerForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    listOrgSecrets: [\"GET /orgs/{org}/actions/secrets\"],\n    listOrgVariables: [\"GET /orgs/{org}/actions/variables\"],\n    listRepoOrganizationSecrets: [\n      \"GET /repos/{owner}/{repo}/actions/organization-secrets\"\n    ],\n    listRepoOrganizationVariables: [\n      \"GET /repos/{owner}/{repo}/actions/organization-variables\"\n    ],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/actions/secrets\"],\n    listRepoVariables: [\"GET /repos/{owner}/{repo}/actions/variables\"],\n    listRepoWorkflows: [\"GET /repos/{owner}/{repo}/actions/workflows\"],\n    listRunnerApplicationsForOrg: [\"GET /orgs/{org}/actions/runners/downloads\"],\n    listRunnerApplicationsForRepo: [\n      \"GET /repos/{owner}/{repo}/actions/runners/downloads\"\n    ],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/actions/secrets/{secret_name}/repositories\"\n    ],\n    listSelectedReposForOrgVariable: [\n      \"GET /orgs/{org}/actions/variables/{name}/repositories\"\n    ],\n    listSelectedRepositoriesEnabledGithubActionsOrganization: [\n      \"GET /orgs/{org}/actions/permissions/repositories\"\n    ],\n    listSelfHostedRunnersForOrg: [\"GET /orgs/{org}/actions/runners\"],\n    listSelfHostedRunnersForRepo: [\"GET /repos/{owner}/{repo}/actions/runners\"],\n    listWorkflowRunArtifacts: [\n      \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts\"\n    ],\n    listWorkflowRuns: [\n      \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs\"\n    ],\n    listWorkflowRunsForRepo: [\"GET /repos/{owner}/{repo}/actions/runs\"],\n    reRunJobForWorkflowRun: [\n      \"POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun\"\n    ],\n    reRunWorkflow: [\"POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun\"],\n    reRunWorkflowFailedJobs: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs\"\n    ],\n    removeAllCustomLabelsFromSelfHostedRunnerForOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    removeAllCustomLabelsFromSelfHostedRunnerForRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    removeCustomLabelFromSelfHostedRunnerForOrg: [\n      \"DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}\"\n    ],\n    removeCustomLabelFromSelfHostedRunnerForRepo: [\n      \"DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    removeSelectedRepoFromOrgVariable: [\n      \"DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}\"\n    ],\n    reviewCustomGatesForRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule\"\n    ],\n    reviewPendingDeploymentsForRun: [\n      \"POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments\"\n    ],\n    setAllowedActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/selected-actions\"\n    ],\n    setAllowedActionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/selected-actions\"\n    ],\n    setCustomLabelsForSelfHostedRunnerForOrg: [\n      \"PUT /orgs/{org}/actions/runners/{runner_id}/labels\"\n    ],\n    setCustomLabelsForSelfHostedRunnerForRepo: [\n      \"PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels\"\n    ],\n    setCustomOidcSubClaimForRepo: [\n      \"PUT /repos/{owner}/{repo}/actions/oidc/customization/sub\"\n    ],\n    setGithubActionsDefaultWorkflowPermissionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/workflow\"\n    ],\n    setGithubActionsDefaultWorkflowPermissionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/workflow\"\n    ],\n    setGithubActionsPermissionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions\"\n    ],\n    setGithubActionsPermissionsRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/actions/secrets/{secret_name}/repositories\"\n    ],\n    setSelectedReposForOrgVariable: [\n      \"PUT /orgs/{org}/actions/variables/{name}/repositories\"\n    ],\n    setSelectedRepositoriesEnabledGithubActionsOrganization: [\n      \"PUT /orgs/{org}/actions/permissions/repositories\"\n    ],\n    setWorkflowAccessToRepository: [\n      \"PUT /repos/{owner}/{repo}/actions/permissions/access\"\n    ],\n    updateEnvironmentVariable: [\n      \"PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}\"\n    ],\n    updateOrgVariable: [\"PATCH /orgs/{org}/actions/variables/{name}\"],\n    updateRepoVariable: [\n      \"PATCH /repos/{owner}/{repo}/actions/variables/{name}\"\n    ]\n  },\n  activity: {\n    checkRepoIsStarredByAuthenticatedUser: [\"GET /user/starred/{owner}/{repo}\"],\n    deleteRepoSubscription: [\"DELETE /repos/{owner}/{repo}/subscription\"],\n    deleteThreadSubscription: [\n      \"DELETE /notifications/threads/{thread_id}/subscription\"\n    ],\n    getFeeds: [\"GET /feeds\"],\n    getRepoSubscription: [\"GET /repos/{owner}/{repo}/subscription\"],\n    getThread: [\"GET /notifications/threads/{thread_id}\"],\n    getThreadSubscriptionForAuthenticatedUser: [\n      \"GET /notifications/threads/{thread_id}/subscription\"\n    ],\n    listEventsForAuthenticatedUser: [\"GET /users/{username}/events\"],\n    listNotificationsForAuthenticatedUser: [\"GET /notifications\"],\n    listOrgEventsForAuthenticatedUser: [\n      \"GET /users/{username}/events/orgs/{org}\"\n    ],\n    listPublicEvents: [\"GET /events\"],\n    listPublicEventsForRepoNetwork: [\"GET /networks/{owner}/{repo}/events\"],\n    listPublicEventsForUser: [\"GET /users/{username}/events/public\"],\n    listPublicOrgEvents: [\"GET /orgs/{org}/events\"],\n    listReceivedEventsForUser: [\"GET /users/{username}/received_events\"],\n    listReceivedPublicEventsForUser: [\n      \"GET /users/{username}/received_events/public\"\n    ],\n    listRepoEvents: [\"GET /repos/{owner}/{repo}/events\"],\n    listRepoNotificationsForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/notifications\"\n    ],\n    listReposStarredByAuthenticatedUser: [\"GET /user/starred\"],\n    listReposStarredByUser: [\"GET /users/{username}/starred\"],\n    listReposWatchedByUser: [\"GET /users/{username}/subscriptions\"],\n    listStargazersForRepo: [\"GET /repos/{owner}/{repo}/stargazers\"],\n    listWatchedReposForAuthenticatedUser: [\"GET /user/subscriptions\"],\n    listWatchersForRepo: [\"GET /repos/{owner}/{repo}/subscribers\"],\n    markNotificationsAsRead: [\"PUT /notifications\"],\n    markRepoNotificationsAsRead: [\"PUT /repos/{owner}/{repo}/notifications\"],\n    markThreadAsDone: [\"DELETE /notifications/threads/{thread_id}\"],\n    markThreadAsRead: [\"PATCH /notifications/threads/{thread_id}\"],\n    setRepoSubscription: [\"PUT /repos/{owner}/{repo}/subscription\"],\n    setThreadSubscription: [\n      \"PUT /notifications/threads/{thread_id}/subscription\"\n    ],\n    starRepoForAuthenticatedUser: [\"PUT /user/starred/{owner}/{repo}\"],\n    unstarRepoForAuthenticatedUser: [\"DELETE /user/starred/{owner}/{repo}\"]\n  },\n  apps: {\n    addRepoToInstallation: [\n      \"PUT /user/installations/{installation_id}/repositories/{repository_id}\",\n      {},\n      { renamed: [\"apps\", \"addRepoToInstallationForAuthenticatedUser\"] }\n    ],\n    addRepoToInstallationForAuthenticatedUser: [\n      \"PUT /user/installations/{installation_id}/repositories/{repository_id}\"\n    ],\n    checkToken: [\"POST /applications/{client_id}/token\"],\n    createFromManifest: [\"POST /app-manifests/{code}/conversions\"],\n    createInstallationAccessToken: [\n      \"POST /app/installations/{installation_id}/access_tokens\"\n    ],\n    deleteAuthorization: [\"DELETE /applications/{client_id}/grant\"],\n    deleteInstallation: [\"DELETE /app/installations/{installation_id}\"],\n    deleteToken: [\"DELETE /applications/{client_id}/token\"],\n    getAuthenticated: [\"GET /app\"],\n    getBySlug: [\"GET /apps/{app_slug}\"],\n    getInstallation: [\"GET /app/installations/{installation_id}\"],\n    getOrgInstallation: [\"GET /orgs/{org}/installation\"],\n    getRepoInstallation: [\"GET /repos/{owner}/{repo}/installation\"],\n    getSubscriptionPlanForAccount: [\n      \"GET /marketplace_listing/accounts/{account_id}\"\n    ],\n    getSubscriptionPlanForAccountStubbed: [\n      \"GET /marketplace_listing/stubbed/accounts/{account_id}\"\n    ],\n    getUserInstallation: [\"GET /users/{username}/installation\"],\n    getWebhookConfigForApp: [\"GET /app/hook/config\"],\n    getWebhookDelivery: [\"GET /app/hook/deliveries/{delivery_id}\"],\n    listAccountsForPlan: [\"GET /marketplace_listing/plans/{plan_id}/accounts\"],\n    listAccountsForPlanStubbed: [\n      \"GET /marketplace_listing/stubbed/plans/{plan_id}/accounts\"\n    ],\n    listInstallationReposForAuthenticatedUser: [\n      \"GET /user/installations/{installation_id}/repositories\"\n    ],\n    listInstallationRequestsForAuthenticatedApp: [\n      \"GET /app/installation-requests\"\n    ],\n    listInstallations: [\"GET /app/installations\"],\n    listInstallationsForAuthenticatedUser: [\"GET /user/installations\"],\n    listPlans: [\"GET /marketplace_listing/plans\"],\n    listPlansStubbed: [\"GET /marketplace_listing/stubbed/plans\"],\n    listReposAccessibleToInstallation: [\"GET /installation/repositories\"],\n    listSubscriptionsForAuthenticatedUser: [\"GET /user/marketplace_purchases\"],\n    listSubscriptionsForAuthenticatedUserStubbed: [\n      \"GET /user/marketplace_purchases/stubbed\"\n    ],\n    listWebhookDeliveries: [\"GET /app/hook/deliveries\"],\n    redeliverWebhookDelivery: [\n      \"POST /app/hook/deliveries/{delivery_id}/attempts\"\n    ],\n    removeRepoFromInstallation: [\n      \"DELETE /user/installations/{installation_id}/repositories/{repository_id}\",\n      {},\n      { renamed: [\"apps\", \"removeRepoFromInstallationForAuthenticatedUser\"] }\n    ],\n    removeRepoFromInstallationForAuthenticatedUser: [\n      \"DELETE /user/installations/{installation_id}/repositories/{repository_id}\"\n    ],\n    resetToken: [\"PATCH /applications/{client_id}/token\"],\n    revokeInstallationAccessToken: [\"DELETE /installation/token\"],\n    scopeToken: [\"POST /applications/{client_id}/token/scoped\"],\n    suspendInstallation: [\"PUT /app/installations/{installation_id}/suspended\"],\n    unsuspendInstallation: [\n      \"DELETE /app/installations/{installation_id}/suspended\"\n    ],\n    updateWebhookConfigForApp: [\"PATCH /app/hook/config\"]\n  },\n  billing: {\n    getGithubActionsBillingOrg: [\"GET /orgs/{org}/settings/billing/actions\"],\n    getGithubActionsBillingUser: [\n      \"GET /users/{username}/settings/billing/actions\"\n    ],\n    getGithubPackagesBillingOrg: [\"GET /orgs/{org}/settings/billing/packages\"],\n    getGithubPackagesBillingUser: [\n      \"GET /users/{username}/settings/billing/packages\"\n    ],\n    getSharedStorageBillingOrg: [\n      \"GET /orgs/{org}/settings/billing/shared-storage\"\n    ],\n    getSharedStorageBillingUser: [\n      \"GET /users/{username}/settings/billing/shared-storage\"\n    ]\n  },\n  checks: {\n    create: [\"POST /repos/{owner}/{repo}/check-runs\"],\n    createSuite: [\"POST /repos/{owner}/{repo}/check-suites\"],\n    get: [\"GET /repos/{owner}/{repo}/check-runs/{check_run_id}\"],\n    getSuite: [\"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}\"],\n    listAnnotations: [\n      \"GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations\"\n    ],\n    listForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/check-runs\"],\n    listForSuite: [\n      \"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs\"\n    ],\n    listSuitesForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/check-suites\"],\n    rerequestRun: [\n      \"POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest\"\n    ],\n    rerequestSuite: [\n      \"POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest\"\n    ],\n    setSuitesPreferences: [\n      \"PATCH /repos/{owner}/{repo}/check-suites/preferences\"\n    ],\n    update: [\"PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}\"]\n  },\n  codeScanning: {\n    deleteAnalysis: [\n      \"DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}\"\n    ],\n    getAlert: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}\",\n      {},\n      { renamedParameters: { alert_id: \"alert_number\" } }\n    ],\n    getAnalysis: [\n      \"GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}\"\n    ],\n    getCodeqlDatabase: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}\"\n    ],\n    getDefaultSetup: [\"GET /repos/{owner}/{repo}/code-scanning/default-setup\"],\n    getSarif: [\"GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}\"],\n    listAlertInstances: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/code-scanning/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/code-scanning/alerts\"],\n    listAlertsInstances: [\n      \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\",\n      {},\n      { renamed: [\"codeScanning\", \"listAlertInstances\"] }\n    ],\n    listCodeqlDatabases: [\n      \"GET /repos/{owner}/{repo}/code-scanning/codeql/databases\"\n    ],\n    listRecentAnalyses: [\"GET /repos/{owner}/{repo}/code-scanning/analyses\"],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}\"\n    ],\n    updateDefaultSetup: [\n      \"PATCH /repos/{owner}/{repo}/code-scanning/default-setup\"\n    ],\n    uploadSarif: [\"POST /repos/{owner}/{repo}/code-scanning/sarifs\"]\n  },\n  codesOfConduct: {\n    getAllCodesOfConduct: [\"GET /codes_of_conduct\"],\n    getConductCode: [\"GET /codes_of_conduct/{key}\"]\n  },\n  codespaces: {\n    addRepositoryForSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    checkPermissionsForDevcontainer: [\n      \"GET /repos/{owner}/{repo}/codespaces/permissions_check\"\n    ],\n    codespaceMachinesForAuthenticatedUser: [\n      \"GET /user/codespaces/{codespace_name}/machines\"\n    ],\n    createForAuthenticatedUser: [\"POST /user/codespaces\"],\n    createOrUpdateOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}\"\n    ],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    createOrUpdateSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}\"\n    ],\n    createWithPrForAuthenticatedUser: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces\"\n    ],\n    createWithRepoForAuthenticatedUser: [\n      \"POST /repos/{owner}/{repo}/codespaces\"\n    ],\n    deleteForAuthenticatedUser: [\"DELETE /user/codespaces/{codespace_name}\"],\n    deleteFromOrganization: [\n      \"DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/codespaces/secrets/{secret_name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    deleteSecretForAuthenticatedUser: [\n      \"DELETE /user/codespaces/secrets/{secret_name}\"\n    ],\n    exportForAuthenticatedUser: [\n      \"POST /user/codespaces/{codespace_name}/exports\"\n    ],\n    getCodespacesForUserInOrg: [\n      \"GET /orgs/{org}/members/{username}/codespaces\"\n    ],\n    getExportDetailsForAuthenticatedUser: [\n      \"GET /user/codespaces/{codespace_name}/exports/{export_id}\"\n    ],\n    getForAuthenticatedUser: [\"GET /user/codespaces/{codespace_name}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/codespaces/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/codespaces/secrets/{secret_name}\"],\n    getPublicKeyForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/public-key\"\n    ],\n    getRepoPublicKey: [\n      \"GET /repos/{owner}/{repo}/codespaces/secrets/public-key\"\n    ],\n    getRepoSecret: [\n      \"GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}\"\n    ],\n    getSecretForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/{secret_name}\"\n    ],\n    listDevcontainersInRepositoryForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/devcontainers\"\n    ],\n    listForAuthenticatedUser: [\"GET /user/codespaces\"],\n    listInOrganization: [\n      \"GET /orgs/{org}/codespaces\",\n      {},\n      { renamedParameters: { org_id: \"org\" } }\n    ],\n    listInRepositoryForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces\"\n    ],\n    listOrgSecrets: [\"GET /orgs/{org}/codespaces/secrets\"],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/codespaces/secrets\"],\n    listRepositoriesForSecretForAuthenticatedUser: [\n      \"GET /user/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    listSecretsForAuthenticatedUser: [\"GET /user/codespaces/secrets\"],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    preFlightWithRepoForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/new\"\n    ],\n    publishForAuthenticatedUser: [\n      \"POST /user/codespaces/{codespace_name}/publish\"\n    ],\n    removeRepositoryForSecretForAuthenticatedUser: [\n      \"DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    repoMachinesForAuthenticatedUser: [\n      \"GET /repos/{owner}/{repo}/codespaces/machines\"\n    ],\n    setRepositoriesForSecretForAuthenticatedUser: [\n      \"PUT /user/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories\"\n    ],\n    startForAuthenticatedUser: [\"POST /user/codespaces/{codespace_name}/start\"],\n    stopForAuthenticatedUser: [\"POST /user/codespaces/{codespace_name}/stop\"],\n    stopInOrganization: [\n      \"POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop\"\n    ],\n    updateForAuthenticatedUser: [\"PATCH /user/codespaces/{codespace_name}\"]\n  },\n  copilot: {\n    addCopilotSeatsForTeams: [\n      \"POST /orgs/{org}/copilot/billing/selected_teams\"\n    ],\n    addCopilotSeatsForUsers: [\n      \"POST /orgs/{org}/copilot/billing/selected_users\"\n    ],\n    cancelCopilotSeatAssignmentForTeams: [\n      \"DELETE /orgs/{org}/copilot/billing/selected_teams\"\n    ],\n    cancelCopilotSeatAssignmentForUsers: [\n      \"DELETE /orgs/{org}/copilot/billing/selected_users\"\n    ],\n    getCopilotOrganizationDetails: [\"GET /orgs/{org}/copilot/billing\"],\n    getCopilotSeatDetailsForUser: [\n      \"GET /orgs/{org}/members/{username}/copilot\"\n    ],\n    listCopilotSeats: [\"GET /orgs/{org}/copilot/billing/seats\"],\n    usageMetricsForEnterprise: [\"GET /enterprises/{enterprise}/copilot/usage\"],\n    usageMetricsForOrg: [\"GET /orgs/{org}/copilot/usage\"],\n    usageMetricsForTeam: [\"GET /orgs/{org}/team/{team_slug}/copilot/usage\"]\n  },\n  dependabot: {\n    addSelectedRepoToOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    createOrUpdateOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}\"\n    ],\n    createOrUpdateRepoSecret: [\n      \"PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    deleteOrgSecret: [\"DELETE /orgs/{org}/dependabot/secrets/{secret_name}\"],\n    deleteRepoSecret: [\n      \"DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    getAlert: [\"GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}\"],\n    getOrgPublicKey: [\"GET /orgs/{org}/dependabot/secrets/public-key\"],\n    getOrgSecret: [\"GET /orgs/{org}/dependabot/secrets/{secret_name}\"],\n    getRepoPublicKey: [\n      \"GET /repos/{owner}/{repo}/dependabot/secrets/public-key\"\n    ],\n    getRepoSecret: [\n      \"GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}\"\n    ],\n    listAlertsForEnterprise: [\n      \"GET /enterprises/{enterprise}/dependabot/alerts\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/dependabot/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/dependabot/alerts\"],\n    listOrgSecrets: [\"GET /orgs/{org}/dependabot/secrets\"],\n    listRepoSecrets: [\"GET /repos/{owner}/{repo}/dependabot/secrets\"],\n    listSelectedReposForOrgSecret: [\n      \"GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories\"\n    ],\n    removeSelectedRepoFromOrgSecret: [\n      \"DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}\"\n    ],\n    setSelectedReposForOrgSecret: [\n      \"PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories\"\n    ],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}\"\n    ]\n  },\n  dependencyGraph: {\n    createRepositorySnapshot: [\n      \"POST /repos/{owner}/{repo}/dependency-graph/snapshots\"\n    ],\n    diffRange: [\n      \"GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}\"\n    ],\n    exportSbom: [\"GET /repos/{owner}/{repo}/dependency-graph/sbom\"]\n  },\n  emojis: { get: [\"GET /emojis\"] },\n  gists: {\n    checkIsStarred: [\"GET /gists/{gist_id}/star\"],\n    create: [\"POST /gists\"],\n    createComment: [\"POST /gists/{gist_id}/comments\"],\n    delete: [\"DELETE /gists/{gist_id}\"],\n    deleteComment: [\"DELETE /gists/{gist_id}/comments/{comment_id}\"],\n    fork: [\"POST /gists/{gist_id}/forks\"],\n    get: [\"GET /gists/{gist_id}\"],\n    getComment: [\"GET /gists/{gist_id}/comments/{comment_id}\"],\n    getRevision: [\"GET /gists/{gist_id}/{sha}\"],\n    list: [\"GET /gists\"],\n    listComments: [\"GET /gists/{gist_id}/comments\"],\n    listCommits: [\"GET /gists/{gist_id}/commits\"],\n    listForUser: [\"GET /users/{username}/gists\"],\n    listForks: [\"GET /gists/{gist_id}/forks\"],\n    listPublic: [\"GET /gists/public\"],\n    listStarred: [\"GET /gists/starred\"],\n    star: [\"PUT /gists/{gist_id}/star\"],\n    unstar: [\"DELETE /gists/{gist_id}/star\"],\n    update: [\"PATCH /gists/{gist_id}\"],\n    updateComment: [\"PATCH /gists/{gist_id}/comments/{comment_id}\"]\n  },\n  git: {\n    createBlob: [\"POST /repos/{owner}/{repo}/git/blobs\"],\n    createCommit: [\"POST /repos/{owner}/{repo}/git/commits\"],\n    createRef: [\"POST /repos/{owner}/{repo}/git/refs\"],\n    createTag: [\"POST /repos/{owner}/{repo}/git/tags\"],\n    createTree: [\"POST /repos/{owner}/{repo}/git/trees\"],\n    deleteRef: [\"DELETE /repos/{owner}/{repo}/git/refs/{ref}\"],\n    getBlob: [\"GET /repos/{owner}/{repo}/git/blobs/{file_sha}\"],\n    getCommit: [\"GET /repos/{owner}/{repo}/git/commits/{commit_sha}\"],\n    getRef: [\"GET /repos/{owner}/{repo}/git/ref/{ref}\"],\n    getTag: [\"GET /repos/{owner}/{repo}/git/tags/{tag_sha}\"],\n    getTree: [\"GET /repos/{owner}/{repo}/git/trees/{tree_sha}\"],\n    listMatchingRefs: [\"GET /repos/{owner}/{repo}/git/matching-refs/{ref}\"],\n    updateRef: [\"PATCH /repos/{owner}/{repo}/git/refs/{ref}\"]\n  },\n  gitignore: {\n    getAllTemplates: [\"GET /gitignore/templates\"],\n    getTemplate: [\"GET /gitignore/templates/{name}\"]\n  },\n  interactions: {\n    getRestrictionsForAuthenticatedUser: [\"GET /user/interaction-limits\"],\n    getRestrictionsForOrg: [\"GET /orgs/{org}/interaction-limits\"],\n    getRestrictionsForRepo: [\"GET /repos/{owner}/{repo}/interaction-limits\"],\n    getRestrictionsForYourPublicRepos: [\n      \"GET /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"getRestrictionsForAuthenticatedUser\"] }\n    ],\n    removeRestrictionsForAuthenticatedUser: [\"DELETE /user/interaction-limits\"],\n    removeRestrictionsForOrg: [\"DELETE /orgs/{org}/interaction-limits\"],\n    removeRestrictionsForRepo: [\n      \"DELETE /repos/{owner}/{repo}/interaction-limits\"\n    ],\n    removeRestrictionsForYourPublicRepos: [\n      \"DELETE /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"removeRestrictionsForAuthenticatedUser\"] }\n    ],\n    setRestrictionsForAuthenticatedUser: [\"PUT /user/interaction-limits\"],\n    setRestrictionsForOrg: [\"PUT /orgs/{org}/interaction-limits\"],\n    setRestrictionsForRepo: [\"PUT /repos/{owner}/{repo}/interaction-limits\"],\n    setRestrictionsForYourPublicRepos: [\n      \"PUT /user/interaction-limits\",\n      {},\n      { renamed: [\"interactions\", \"setRestrictionsForAuthenticatedUser\"] }\n    ]\n  },\n  issues: {\n    addAssignees: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/assignees\"\n    ],\n    addLabels: [\"POST /repos/{owner}/{repo}/issues/{issue_number}/labels\"],\n    checkUserCanBeAssigned: [\"GET /repos/{owner}/{repo}/assignees/{assignee}\"],\n    checkUserCanBeAssignedToIssue: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}\"\n    ],\n    create: [\"POST /repos/{owner}/{repo}/issues\"],\n    createComment: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/comments\"\n    ],\n    createLabel: [\"POST /repos/{owner}/{repo}/labels\"],\n    createMilestone: [\"POST /repos/{owner}/{repo}/milestones\"],\n    deleteComment: [\n      \"DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}\"\n    ],\n    deleteLabel: [\"DELETE /repos/{owner}/{repo}/labels/{name}\"],\n    deleteMilestone: [\n      \"DELETE /repos/{owner}/{repo}/milestones/{milestone_number}\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}/issues/{issue_number}\"],\n    getComment: [\"GET /repos/{owner}/{repo}/issues/comments/{comment_id}\"],\n    getEvent: [\"GET /repos/{owner}/{repo}/issues/events/{event_id}\"],\n    getLabel: [\"GET /repos/{owner}/{repo}/labels/{name}\"],\n    getMilestone: [\"GET /repos/{owner}/{repo}/milestones/{milestone_number}\"],\n    list: [\"GET /issues\"],\n    listAssignees: [\"GET /repos/{owner}/{repo}/assignees\"],\n    listComments: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/comments\"],\n    listCommentsForRepo: [\"GET /repos/{owner}/{repo}/issues/comments\"],\n    listEvents: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/events\"],\n    listEventsForRepo: [\"GET /repos/{owner}/{repo}/issues/events\"],\n    listEventsForTimeline: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/timeline\"\n    ],\n    listForAuthenticatedUser: [\"GET /user/issues\"],\n    listForOrg: [\"GET /orgs/{org}/issues\"],\n    listForRepo: [\"GET /repos/{owner}/{repo}/issues\"],\n    listLabelsForMilestone: [\n      \"GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels\"\n    ],\n    listLabelsForRepo: [\"GET /repos/{owner}/{repo}/labels\"],\n    listLabelsOnIssue: [\n      \"GET /repos/{owner}/{repo}/issues/{issue_number}/labels\"\n    ],\n    listMilestones: [\"GET /repos/{owner}/{repo}/milestones\"],\n    lock: [\"PUT /repos/{owner}/{repo}/issues/{issue_number}/lock\"],\n    removeAllLabels: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels\"\n    ],\n    removeAssignees: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees\"\n    ],\n    removeLabel: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}\"\n    ],\n    setLabels: [\"PUT /repos/{owner}/{repo}/issues/{issue_number}/labels\"],\n    unlock: [\"DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock\"],\n    update: [\"PATCH /repos/{owner}/{repo}/issues/{issue_number}\"],\n    updateComment: [\"PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}\"],\n    updateLabel: [\"PATCH /repos/{owner}/{repo}/labels/{name}\"],\n    updateMilestone: [\n      \"PATCH /repos/{owner}/{repo}/milestones/{milestone_number}\"\n    ]\n  },\n  licenses: {\n    get: [\"GET /licenses/{license}\"],\n    getAllCommonlyUsed: [\"GET /licenses\"],\n    getForRepo: [\"GET /repos/{owner}/{repo}/license\"]\n  },\n  markdown: {\n    render: [\"POST /markdown\"],\n    renderRaw: [\n      \"POST /markdown/raw\",\n      { headers: { \"content-type\": \"text/plain; charset=utf-8\" } }\n    ]\n  },\n  meta: {\n    get: [\"GET /meta\"],\n    getAllVersions: [\"GET /versions\"],\n    getOctocat: [\"GET /octocat\"],\n    getZen: [\"GET /zen\"],\n    root: [\"GET /\"]\n  },\n  migrations: {\n    deleteArchiveForAuthenticatedUser: [\n      \"DELETE /user/migrations/{migration_id}/archive\"\n    ],\n    deleteArchiveForOrg: [\n      \"DELETE /orgs/{org}/migrations/{migration_id}/archive\"\n    ],\n    downloadArchiveForOrg: [\n      \"GET /orgs/{org}/migrations/{migration_id}/archive\"\n    ],\n    getArchiveForAuthenticatedUser: [\n      \"GET /user/migrations/{migration_id}/archive\"\n    ],\n    getStatusForAuthenticatedUser: [\"GET /user/migrations/{migration_id}\"],\n    getStatusForOrg: [\"GET /orgs/{org}/migrations/{migration_id}\"],\n    listForAuthenticatedUser: [\"GET /user/migrations\"],\n    listForOrg: [\"GET /orgs/{org}/migrations\"],\n    listReposForAuthenticatedUser: [\n      \"GET /user/migrations/{migration_id}/repositories\"\n    ],\n    listReposForOrg: [\"GET /orgs/{org}/migrations/{migration_id}/repositories\"],\n    listReposForUser: [\n      \"GET /user/migrations/{migration_id}/repositories\",\n      {},\n      { renamed: [\"migrations\", \"listReposForAuthenticatedUser\"] }\n    ],\n    startForAuthenticatedUser: [\"POST /user/migrations\"],\n    startForOrg: [\"POST /orgs/{org}/migrations\"],\n    unlockRepoForAuthenticatedUser: [\n      \"DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock\"\n    ],\n    unlockRepoForOrg: [\n      \"DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock\"\n    ]\n  },\n  oidc: {\n    getOidcCustomSubTemplateForOrg: [\n      \"GET /orgs/{org}/actions/oidc/customization/sub\"\n    ],\n    updateOidcCustomSubTemplateForOrg: [\n      \"PUT /orgs/{org}/actions/oidc/customization/sub\"\n    ]\n  },\n  orgs: {\n    addSecurityManagerTeam: [\n      \"PUT /orgs/{org}/security-managers/teams/{team_slug}\"\n    ],\n    assignTeamToOrgRole: [\n      \"PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}\"\n    ],\n    assignUserToOrgRole: [\n      \"PUT /orgs/{org}/organization-roles/users/{username}/{role_id}\"\n    ],\n    blockUser: [\"PUT /orgs/{org}/blocks/{username}\"],\n    cancelInvitation: [\"DELETE /orgs/{org}/invitations/{invitation_id}\"],\n    checkBlockedUser: [\"GET /orgs/{org}/blocks/{username}\"],\n    checkMembershipForUser: [\"GET /orgs/{org}/members/{username}\"],\n    checkPublicMembershipForUser: [\"GET /orgs/{org}/public_members/{username}\"],\n    convertMemberToOutsideCollaborator: [\n      \"PUT /orgs/{org}/outside_collaborators/{username}\"\n    ],\n    createCustomOrganizationRole: [\"POST /orgs/{org}/organization-roles\"],\n    createInvitation: [\"POST /orgs/{org}/invitations\"],\n    createOrUpdateCustomProperties: [\"PATCH /orgs/{org}/properties/schema\"],\n    createOrUpdateCustomPropertiesValuesForRepos: [\n      \"PATCH /orgs/{org}/properties/values\"\n    ],\n    createOrUpdateCustomProperty: [\n      \"PUT /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    createWebhook: [\"POST /orgs/{org}/hooks\"],\n    delete: [\"DELETE /orgs/{org}\"],\n    deleteCustomOrganizationRole: [\n      \"DELETE /orgs/{org}/organization-roles/{role_id}\"\n    ],\n    deleteWebhook: [\"DELETE /orgs/{org}/hooks/{hook_id}\"],\n    enableOrDisableSecurityProductOnAllOrgRepos: [\n      \"POST /orgs/{org}/{security_product}/{enablement}\"\n    ],\n    get: [\"GET /orgs/{org}\"],\n    getAllCustomProperties: [\"GET /orgs/{org}/properties/schema\"],\n    getCustomProperty: [\n      \"GET /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    getMembershipForAuthenticatedUser: [\"GET /user/memberships/orgs/{org}\"],\n    getMembershipForUser: [\"GET /orgs/{org}/memberships/{username}\"],\n    getOrgRole: [\"GET /orgs/{org}/organization-roles/{role_id}\"],\n    getWebhook: [\"GET /orgs/{org}/hooks/{hook_id}\"],\n    getWebhookConfigForOrg: [\"GET /orgs/{org}/hooks/{hook_id}/config\"],\n    getWebhookDelivery: [\n      \"GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}\"\n    ],\n    list: [\"GET /organizations\"],\n    listAppInstallations: [\"GET /orgs/{org}/installations\"],\n    listBlockedUsers: [\"GET /orgs/{org}/blocks\"],\n    listCustomPropertiesValuesForRepos: [\"GET /orgs/{org}/properties/values\"],\n    listFailedInvitations: [\"GET /orgs/{org}/failed_invitations\"],\n    listForAuthenticatedUser: [\"GET /user/orgs\"],\n    listForUser: [\"GET /users/{username}/orgs\"],\n    listInvitationTeams: [\"GET /orgs/{org}/invitations/{invitation_id}/teams\"],\n    listMembers: [\"GET /orgs/{org}/members\"],\n    listMembershipsForAuthenticatedUser: [\"GET /user/memberships/orgs\"],\n    listOrgRoleTeams: [\"GET /orgs/{org}/organization-roles/{role_id}/teams\"],\n    listOrgRoleUsers: [\"GET /orgs/{org}/organization-roles/{role_id}/users\"],\n    listOrgRoles: [\"GET /orgs/{org}/organization-roles\"],\n    listOrganizationFineGrainedPermissions: [\n      \"GET /orgs/{org}/organization-fine-grained-permissions\"\n    ],\n    listOutsideCollaborators: [\"GET /orgs/{org}/outside_collaborators\"],\n    listPatGrantRepositories: [\n      \"GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories\"\n    ],\n    listPatGrantRequestRepositories: [\n      \"GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories\"\n    ],\n    listPatGrantRequests: [\"GET /orgs/{org}/personal-access-token-requests\"],\n    listPatGrants: [\"GET /orgs/{org}/personal-access-tokens\"],\n    listPendingInvitations: [\"GET /orgs/{org}/invitations\"],\n    listPublicMembers: [\"GET /orgs/{org}/public_members\"],\n    listSecurityManagerTeams: [\"GET /orgs/{org}/security-managers\"],\n    listWebhookDeliveries: [\"GET /orgs/{org}/hooks/{hook_id}/deliveries\"],\n    listWebhooks: [\"GET /orgs/{org}/hooks\"],\n    patchCustomOrganizationRole: [\n      \"PATCH /orgs/{org}/organization-roles/{role_id}\"\n    ],\n    pingWebhook: [\"POST /orgs/{org}/hooks/{hook_id}/pings\"],\n    redeliverWebhookDelivery: [\n      \"POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts\"\n    ],\n    removeCustomProperty: [\n      \"DELETE /orgs/{org}/properties/schema/{custom_property_name}\"\n    ],\n    removeMember: [\"DELETE /orgs/{org}/members/{username}\"],\n    removeMembershipForUser: [\"DELETE /orgs/{org}/memberships/{username}\"],\n    removeOutsideCollaborator: [\n      \"DELETE /orgs/{org}/outside_collaborators/{username}\"\n    ],\n    removePublicMembershipForAuthenticatedUser: [\n      \"DELETE /orgs/{org}/public_members/{username}\"\n    ],\n    removeSecurityManagerTeam: [\n      \"DELETE /orgs/{org}/security-managers/teams/{team_slug}\"\n    ],\n    reviewPatGrantRequest: [\n      \"POST /orgs/{org}/personal-access-token-requests/{pat_request_id}\"\n    ],\n    reviewPatGrantRequestsInBulk: [\n      \"POST /orgs/{org}/personal-access-token-requests\"\n    ],\n    revokeAllOrgRolesTeam: [\n      \"DELETE /orgs/{org}/organization-roles/teams/{team_slug}\"\n    ],\n    revokeAllOrgRolesUser: [\n      \"DELETE /orgs/{org}/organization-roles/users/{username}\"\n    ],\n    revokeOrgRoleTeam: [\n      \"DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}\"\n    ],\n    revokeOrgRoleUser: [\n      \"DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}\"\n    ],\n    setMembershipForUser: [\"PUT /orgs/{org}/memberships/{username}\"],\n    setPublicMembershipForAuthenticatedUser: [\n      \"PUT /orgs/{org}/public_members/{username}\"\n    ],\n    unblockUser: [\"DELETE /orgs/{org}/blocks/{username}\"],\n    update: [\"PATCH /orgs/{org}\"],\n    updateMembershipForAuthenticatedUser: [\n      \"PATCH /user/memberships/orgs/{org}\"\n    ],\n    updatePatAccess: [\"POST /orgs/{org}/personal-access-tokens/{pat_id}\"],\n    updatePatAccesses: [\"POST /orgs/{org}/personal-access-tokens\"],\n    updateWebhook: [\"PATCH /orgs/{org}/hooks/{hook_id}\"],\n    updateWebhookConfigForOrg: [\"PATCH /orgs/{org}/hooks/{hook_id}/config\"]\n  },\n  packages: {\n    deletePackageForAuthenticatedUser: [\n      \"DELETE /user/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageForOrg: [\n      \"DELETE /orgs/{org}/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageForUser: [\n      \"DELETE /users/{username}/packages/{package_type}/{package_name}\"\n    ],\n    deletePackageVersionForAuthenticatedUser: [\n      \"DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    deletePackageVersionForOrg: [\n      \"DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    deletePackageVersionForUser: [\n      \"DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getAllPackageVersionsForAPackageOwnedByAnOrg: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\",\n      {},\n      { renamed: [\"packages\", \"getAllPackageVersionsForPackageOwnedByOrg\"] }\n    ],\n    getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions\",\n      {},\n      {\n        renamed: [\n          \"packages\",\n          \"getAllPackageVersionsForPackageOwnedByAuthenticatedUser\"\n        ]\n      }\n    ],\n    getAllPackageVersionsForPackageOwnedByAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions\"\n    ],\n    getAllPackageVersionsForPackageOwnedByOrg: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\"\n    ],\n    getAllPackageVersionsForPackageOwnedByUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}/versions\"\n    ],\n    getPackageForAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}\"\n    ],\n    getPackageForOrganization: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}\"\n    ],\n    getPackageForUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}\"\n    ],\n    getPackageVersionForAuthenticatedUser: [\n      \"GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getPackageVersionForOrganization: [\n      \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    getPackageVersionForUser: [\n      \"GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}\"\n    ],\n    listDockerMigrationConflictingPackagesForAuthenticatedUser: [\n      \"GET /user/docker/conflicts\"\n    ],\n    listDockerMigrationConflictingPackagesForOrganization: [\n      \"GET /orgs/{org}/docker/conflicts\"\n    ],\n    listDockerMigrationConflictingPackagesForUser: [\n      \"GET /users/{username}/docker/conflicts\"\n    ],\n    listPackagesForAuthenticatedUser: [\"GET /user/packages\"],\n    listPackagesForOrganization: [\"GET /orgs/{org}/packages\"],\n    listPackagesForUser: [\"GET /users/{username}/packages\"],\n    restorePackageForAuthenticatedUser: [\n      \"POST /user/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageForOrg: [\n      \"POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageForUser: [\n      \"POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}\"\n    ],\n    restorePackageVersionForAuthenticatedUser: [\n      \"POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ],\n    restorePackageVersionForOrg: [\n      \"POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ],\n    restorePackageVersionForUser: [\n      \"POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore\"\n    ]\n  },\n  projects: {\n    addCollaborator: [\"PUT /projects/{project_id}/collaborators/{username}\"],\n    createCard: [\"POST /projects/columns/{column_id}/cards\"],\n    createColumn: [\"POST /projects/{project_id}/columns\"],\n    createForAuthenticatedUser: [\"POST /user/projects\"],\n    createForOrg: [\"POST /orgs/{org}/projects\"],\n    createForRepo: [\"POST /repos/{owner}/{repo}/projects\"],\n    delete: [\"DELETE /projects/{project_id}\"],\n    deleteCard: [\"DELETE /projects/columns/cards/{card_id}\"],\n    deleteColumn: [\"DELETE /projects/columns/{column_id}\"],\n    get: [\"GET /projects/{project_id}\"],\n    getCard: [\"GET /projects/columns/cards/{card_id}\"],\n    getColumn: [\"GET /projects/columns/{column_id}\"],\n    getPermissionForUser: [\n      \"GET /projects/{project_id}/collaborators/{username}/permission\"\n    ],\n    listCards: [\"GET /projects/columns/{column_id}/cards\"],\n    listCollaborators: [\"GET /projects/{project_id}/collaborators\"],\n    listColumns: [\"GET /projects/{project_id}/columns\"],\n    listForOrg: [\"GET /orgs/{org}/projects\"],\n    listForRepo: [\"GET /repos/{owner}/{repo}/projects\"],\n    listForUser: [\"GET /users/{username}/projects\"],\n    moveCard: [\"POST /projects/columns/cards/{card_id}/moves\"],\n    moveColumn: [\"POST /projects/columns/{column_id}/moves\"],\n    removeCollaborator: [\n      \"DELETE /projects/{project_id}/collaborators/{username}\"\n    ],\n    update: [\"PATCH /projects/{project_id}\"],\n    updateCard: [\"PATCH /projects/columns/cards/{card_id}\"],\n    updateColumn: [\"PATCH /projects/columns/{column_id}\"]\n  },\n  pulls: {\n    checkIfMerged: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/merge\"],\n    create: [\"POST /repos/{owner}/{repo}/pulls\"],\n    createReplyForReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies\"\n    ],\n    createReview: [\"POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews\"],\n    createReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/comments\"\n    ],\n    deletePendingReview: [\n      \"DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    deleteReviewComment: [\n      \"DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}\"\n    ],\n    dismissReview: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}\"],\n    getReview: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    getReviewComment: [\"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}\"],\n    list: [\"GET /repos/{owner}/{repo}/pulls\"],\n    listCommentsForReview: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments\"\n    ],\n    listCommits: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/commits\"],\n    listFiles: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/files\"],\n    listRequestedReviewers: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    listReviewComments: [\n      \"GET /repos/{owner}/{repo}/pulls/{pull_number}/comments\"\n    ],\n    listReviewCommentsForRepo: [\"GET /repos/{owner}/{repo}/pulls/comments\"],\n    listReviews: [\"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews\"],\n    merge: [\"PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge\"],\n    removeRequestedReviewers: [\n      \"DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    requestReviewers: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers\"\n    ],\n    submitReview: [\n      \"POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events\"\n    ],\n    update: [\"PATCH /repos/{owner}/{repo}/pulls/{pull_number}\"],\n    updateBranch: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch\"\n    ],\n    updateReview: [\n      \"PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}\"\n    ],\n    updateReviewComment: [\n      \"PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}\"\n    ]\n  },\n  rateLimit: { get: [\"GET /rate_limit\"] },\n  reactions: {\n    createForCommitComment: [\n      \"POST /repos/{owner}/{repo}/comments/{comment_id}/reactions\"\n    ],\n    createForIssue: [\n      \"POST /repos/{owner}/{repo}/issues/{issue_number}/reactions\"\n    ],\n    createForIssueComment: [\n      \"POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\"\n    ],\n    createForPullRequestReviewComment: [\n      \"POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\"\n    ],\n    createForRelease: [\n      \"POST /repos/{owner}/{repo}/releases/{release_id}/reactions\"\n    ],\n    createForTeamDiscussionCommentInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\"\n    ],\n    createForTeamDiscussionInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\"\n    ],\n    deleteForCommitComment: [\n      \"DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForIssue: [\n      \"DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}\"\n    ],\n    deleteForIssueComment: [\n      \"DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForPullRequestComment: [\n      \"DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}\"\n    ],\n    deleteForRelease: [\n      \"DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}\"\n    ],\n    deleteForTeamDiscussion: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}\"\n    ],\n    deleteForTeamDiscussionComment: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}\"\n    ],\n    listForCommitComment: [\n      \"GET /repos/{owner}/{repo}/comments/{comment_id}/reactions\"\n    ],\n    listForIssue: [\"GET /repos/{owner}/{repo}/issues/{issue_number}/reactions\"],\n    listForIssueComment: [\n      \"GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\"\n    ],\n    listForPullRequestReviewComment: [\n      \"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\"\n    ],\n    listForRelease: [\n      \"GET /repos/{owner}/{repo}/releases/{release_id}/reactions\"\n    ],\n    listForTeamDiscussionCommentInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\"\n    ],\n    listForTeamDiscussionInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\"\n    ]\n  },\n  repos: {\n    acceptInvitation: [\n      \"PATCH /user/repository_invitations/{invitation_id}\",\n      {},\n      { renamed: [\"repos\", \"acceptInvitationForAuthenticatedUser\"] }\n    ],\n    acceptInvitationForAuthenticatedUser: [\n      \"PATCH /user/repository_invitations/{invitation_id}\"\n    ],\n    addAppAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    addCollaborator: [\"PUT /repos/{owner}/{repo}/collaborators/{username}\"],\n    addStatusCheckContexts: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    addTeamAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    addUserAccessRestrictions: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    cancelPagesDeployment: [\n      \"POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel\"\n    ],\n    checkAutomatedSecurityFixes: [\n      \"GET /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    checkCollaborator: [\"GET /repos/{owner}/{repo}/collaborators/{username}\"],\n    checkPrivateVulnerabilityReporting: [\n      \"GET /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    checkVulnerabilityAlerts: [\n      \"GET /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    codeownersErrors: [\"GET /repos/{owner}/{repo}/codeowners/errors\"],\n    compareCommits: [\"GET /repos/{owner}/{repo}/compare/{base}...{head}\"],\n    compareCommitsWithBasehead: [\n      \"GET /repos/{owner}/{repo}/compare/{basehead}\"\n    ],\n    createAutolink: [\"POST /repos/{owner}/{repo}/autolinks\"],\n    createCommitComment: [\n      \"POST /repos/{owner}/{repo}/commits/{commit_sha}/comments\"\n    ],\n    createCommitSignatureProtection: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    createCommitStatus: [\"POST /repos/{owner}/{repo}/statuses/{sha}\"],\n    createDeployKey: [\"POST /repos/{owner}/{repo}/keys\"],\n    createDeployment: [\"POST /repos/{owner}/{repo}/deployments\"],\n    createDeploymentBranchPolicy: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\"\n    ],\n    createDeploymentProtectionRule: [\n      \"POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules\"\n    ],\n    createDeploymentStatus: [\n      \"POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\"\n    ],\n    createDispatchEvent: [\"POST /repos/{owner}/{repo}/dispatches\"],\n    createForAuthenticatedUser: [\"POST /user/repos\"],\n    createFork: [\"POST /repos/{owner}/{repo}/forks\"],\n    createInOrg: [\"POST /orgs/{org}/repos\"],\n    createOrUpdateCustomPropertiesValues: [\n      \"PATCH /repos/{owner}/{repo}/properties/values\"\n    ],\n    createOrUpdateEnvironment: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    createOrUpdateFileContents: [\"PUT /repos/{owner}/{repo}/contents/{path}\"],\n    createOrgRuleset: [\"POST /orgs/{org}/rulesets\"],\n    createPagesDeployment: [\"POST /repos/{owner}/{repo}/pages/deployments\"],\n    createPagesSite: [\"POST /repos/{owner}/{repo}/pages\"],\n    createRelease: [\"POST /repos/{owner}/{repo}/releases\"],\n    createRepoRuleset: [\"POST /repos/{owner}/{repo}/rulesets\"],\n    createTagProtection: [\"POST /repos/{owner}/{repo}/tags/protection\"],\n    createUsingTemplate: [\n      \"POST /repos/{template_owner}/{template_repo}/generate\"\n    ],\n    createWebhook: [\"POST /repos/{owner}/{repo}/hooks\"],\n    declineInvitation: [\n      \"DELETE /user/repository_invitations/{invitation_id}\",\n      {},\n      { renamed: [\"repos\", \"declineInvitationForAuthenticatedUser\"] }\n    ],\n    declineInvitationForAuthenticatedUser: [\n      \"DELETE /user/repository_invitations/{invitation_id}\"\n    ],\n    delete: [\"DELETE /repos/{owner}/{repo}\"],\n    deleteAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions\"\n    ],\n    deleteAdminBranchProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    deleteAnEnvironment: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    deleteAutolink: [\"DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}\"],\n    deleteBranchProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    deleteCommitComment: [\"DELETE /repos/{owner}/{repo}/comments/{comment_id}\"],\n    deleteCommitSignatureProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    deleteDeployKey: [\"DELETE /repos/{owner}/{repo}/keys/{key_id}\"],\n    deleteDeployment: [\n      \"DELETE /repos/{owner}/{repo}/deployments/{deployment_id}\"\n    ],\n    deleteDeploymentBranchPolicy: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    deleteFile: [\"DELETE /repos/{owner}/{repo}/contents/{path}\"],\n    deleteInvitation: [\n      \"DELETE /repos/{owner}/{repo}/invitations/{invitation_id}\"\n    ],\n    deleteOrgRuleset: [\"DELETE /orgs/{org}/rulesets/{ruleset_id}\"],\n    deletePagesSite: [\"DELETE /repos/{owner}/{repo}/pages\"],\n    deletePullRequestReviewProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    deleteRelease: [\"DELETE /repos/{owner}/{repo}/releases/{release_id}\"],\n    deleteReleaseAsset: [\n      \"DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}\"\n    ],\n    deleteRepoRuleset: [\"DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    deleteTagProtection: [\n      \"DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}\"\n    ],\n    deleteWebhook: [\"DELETE /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    disableAutomatedSecurityFixes: [\n      \"DELETE /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    disableDeploymentProtectionRule: [\n      \"DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}\"\n    ],\n    disablePrivateVulnerabilityReporting: [\n      \"DELETE /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    disableVulnerabilityAlerts: [\n      \"DELETE /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    downloadArchive: [\n      \"GET /repos/{owner}/{repo}/zipball/{ref}\",\n      {},\n      { renamed: [\"repos\", \"downloadZipballArchive\"] }\n    ],\n    downloadTarballArchive: [\"GET /repos/{owner}/{repo}/tarball/{ref}\"],\n    downloadZipballArchive: [\"GET /repos/{owner}/{repo}/zipball/{ref}\"],\n    enableAutomatedSecurityFixes: [\n      \"PUT /repos/{owner}/{repo}/automated-security-fixes\"\n    ],\n    enablePrivateVulnerabilityReporting: [\n      \"PUT /repos/{owner}/{repo}/private-vulnerability-reporting\"\n    ],\n    enableVulnerabilityAlerts: [\n      \"PUT /repos/{owner}/{repo}/vulnerability-alerts\"\n    ],\n    generateReleaseNotes: [\n      \"POST /repos/{owner}/{repo}/releases/generate-notes\"\n    ],\n    get: [\"GET /repos/{owner}/{repo}\"],\n    getAccessRestrictions: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions\"\n    ],\n    getAdminBranchProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    getAllDeploymentProtectionRules: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules\"\n    ],\n    getAllEnvironments: [\"GET /repos/{owner}/{repo}/environments\"],\n    getAllStatusCheckContexts: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\"\n    ],\n    getAllTopics: [\"GET /repos/{owner}/{repo}/topics\"],\n    getAppsWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\"\n    ],\n    getAutolink: [\"GET /repos/{owner}/{repo}/autolinks/{autolink_id}\"],\n    getBranch: [\"GET /repos/{owner}/{repo}/branches/{branch}\"],\n    getBranchProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    getBranchRules: [\"GET /repos/{owner}/{repo}/rules/branches/{branch}\"],\n    getClones: [\"GET /repos/{owner}/{repo}/traffic/clones\"],\n    getCodeFrequencyStats: [\"GET /repos/{owner}/{repo}/stats/code_frequency\"],\n    getCollaboratorPermissionLevel: [\n      \"GET /repos/{owner}/{repo}/collaborators/{username}/permission\"\n    ],\n    getCombinedStatusForRef: [\"GET /repos/{owner}/{repo}/commits/{ref}/status\"],\n    getCommit: [\"GET /repos/{owner}/{repo}/commits/{ref}\"],\n    getCommitActivityStats: [\"GET /repos/{owner}/{repo}/stats/commit_activity\"],\n    getCommitComment: [\"GET /repos/{owner}/{repo}/comments/{comment_id}\"],\n    getCommitSignatureProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures\"\n    ],\n    getCommunityProfileMetrics: [\"GET /repos/{owner}/{repo}/community/profile\"],\n    getContent: [\"GET /repos/{owner}/{repo}/contents/{path}\"],\n    getContributorsStats: [\"GET /repos/{owner}/{repo}/stats/contributors\"],\n    getCustomDeploymentProtectionRule: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}\"\n    ],\n    getCustomPropertiesValues: [\"GET /repos/{owner}/{repo}/properties/values\"],\n    getDeployKey: [\"GET /repos/{owner}/{repo}/keys/{key_id}\"],\n    getDeployment: [\"GET /repos/{owner}/{repo}/deployments/{deployment_id}\"],\n    getDeploymentBranchPolicy: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    getDeploymentStatus: [\n      \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}\"\n    ],\n    getEnvironment: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}\"\n    ],\n    getLatestPagesBuild: [\"GET /repos/{owner}/{repo}/pages/builds/latest\"],\n    getLatestRelease: [\"GET /repos/{owner}/{repo}/releases/latest\"],\n    getOrgRuleSuite: [\"GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}\"],\n    getOrgRuleSuites: [\"GET /orgs/{org}/rulesets/rule-suites\"],\n    getOrgRuleset: [\"GET /orgs/{org}/rulesets/{ruleset_id}\"],\n    getOrgRulesets: [\"GET /orgs/{org}/rulesets\"],\n    getPages: [\"GET /repos/{owner}/{repo}/pages\"],\n    getPagesBuild: [\"GET /repos/{owner}/{repo}/pages/builds/{build_id}\"],\n    getPagesDeployment: [\n      \"GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}\"\n    ],\n    getPagesHealthCheck: [\"GET /repos/{owner}/{repo}/pages/health\"],\n    getParticipationStats: [\"GET /repos/{owner}/{repo}/stats/participation\"],\n    getPullRequestReviewProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    getPunchCardStats: [\"GET /repos/{owner}/{repo}/stats/punch_card\"],\n    getReadme: [\"GET /repos/{owner}/{repo}/readme\"],\n    getReadmeInDirectory: [\"GET /repos/{owner}/{repo}/readme/{dir}\"],\n    getRelease: [\"GET /repos/{owner}/{repo}/releases/{release_id}\"],\n    getReleaseAsset: [\"GET /repos/{owner}/{repo}/releases/assets/{asset_id}\"],\n    getReleaseByTag: [\"GET /repos/{owner}/{repo}/releases/tags/{tag}\"],\n    getRepoRuleSuite: [\n      \"GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}\"\n    ],\n    getRepoRuleSuites: [\"GET /repos/{owner}/{repo}/rulesets/rule-suites\"],\n    getRepoRuleset: [\"GET /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    getRepoRulesets: [\"GET /repos/{owner}/{repo}/rulesets\"],\n    getStatusChecksProtection: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    getTeamsWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\"\n    ],\n    getTopPaths: [\"GET /repos/{owner}/{repo}/traffic/popular/paths\"],\n    getTopReferrers: [\"GET /repos/{owner}/{repo}/traffic/popular/referrers\"],\n    getUsersWithAccessToProtectedBranch: [\n      \"GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\"\n    ],\n    getViews: [\"GET /repos/{owner}/{repo}/traffic/views\"],\n    getWebhook: [\"GET /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    getWebhookConfigForRepo: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/config\"\n    ],\n    getWebhookDelivery: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}\"\n    ],\n    listActivities: [\"GET /repos/{owner}/{repo}/activity\"],\n    listAutolinks: [\"GET /repos/{owner}/{repo}/autolinks\"],\n    listBranches: [\"GET /repos/{owner}/{repo}/branches\"],\n    listBranchesForHeadCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head\"\n    ],\n    listCollaborators: [\"GET /repos/{owner}/{repo}/collaborators\"],\n    listCommentsForCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/comments\"\n    ],\n    listCommitCommentsForRepo: [\"GET /repos/{owner}/{repo}/comments\"],\n    listCommitStatusesForRef: [\n      \"GET /repos/{owner}/{repo}/commits/{ref}/statuses\"\n    ],\n    listCommits: [\"GET /repos/{owner}/{repo}/commits\"],\n    listContributors: [\"GET /repos/{owner}/{repo}/contributors\"],\n    listCustomDeploymentRuleIntegrations: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps\"\n    ],\n    listDeployKeys: [\"GET /repos/{owner}/{repo}/keys\"],\n    listDeploymentBranchPolicies: [\n      \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\"\n    ],\n    listDeploymentStatuses: [\n      \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\"\n    ],\n    listDeployments: [\"GET /repos/{owner}/{repo}/deployments\"],\n    listForAuthenticatedUser: [\"GET /user/repos\"],\n    listForOrg: [\"GET /orgs/{org}/repos\"],\n    listForUser: [\"GET /users/{username}/repos\"],\n    listForks: [\"GET /repos/{owner}/{repo}/forks\"],\n    listInvitations: [\"GET /repos/{owner}/{repo}/invitations\"],\n    listInvitationsForAuthenticatedUser: [\"GET /user/repository_invitations\"],\n    listLanguages: [\"GET /repos/{owner}/{repo}/languages\"],\n    listPagesBuilds: [\"GET /repos/{owner}/{repo}/pages/builds\"],\n    listPublic: [\"GET /repositories\"],\n    listPullRequestsAssociatedWithCommit: [\n      \"GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls\"\n    ],\n    listReleaseAssets: [\n      \"GET /repos/{owner}/{repo}/releases/{release_id}/assets\"\n    ],\n    listReleases: [\"GET /repos/{owner}/{repo}/releases\"],\n    listTagProtection: [\"GET /repos/{owner}/{repo}/tags/protection\"],\n    listTags: [\"GET /repos/{owner}/{repo}/tags\"],\n    listTeams: [\"GET /repos/{owner}/{repo}/teams\"],\n    listWebhookDeliveries: [\n      \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries\"\n    ],\n    listWebhooks: [\"GET /repos/{owner}/{repo}/hooks\"],\n    merge: [\"POST /repos/{owner}/{repo}/merges\"],\n    mergeUpstream: [\"POST /repos/{owner}/{repo}/merge-upstream\"],\n    pingWebhook: [\"POST /repos/{owner}/{repo}/hooks/{hook_id}/pings\"],\n    redeliverWebhookDelivery: [\n      \"POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts\"\n    ],\n    removeAppAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    removeCollaborator: [\n      \"DELETE /repos/{owner}/{repo}/collaborators/{username}\"\n    ],\n    removeStatusCheckContexts: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    removeStatusCheckProtection: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    removeTeamAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    removeUserAccessRestrictions: [\n      \"DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    renameBranch: [\"POST /repos/{owner}/{repo}/branches/{branch}/rename\"],\n    replaceAllTopics: [\"PUT /repos/{owner}/{repo}/topics\"],\n    requestPagesBuild: [\"POST /repos/{owner}/{repo}/pages/builds\"],\n    setAdminBranchProtection: [\n      \"POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins\"\n    ],\n    setAppAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps\",\n      {},\n      { mapToData: \"apps\" }\n    ],\n    setStatusCheckContexts: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts\",\n      {},\n      { mapToData: \"contexts\" }\n    ],\n    setTeamAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams\",\n      {},\n      { mapToData: \"teams\" }\n    ],\n    setUserAccessRestrictions: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users\",\n      {},\n      { mapToData: \"users\" }\n    ],\n    testPushWebhook: [\"POST /repos/{owner}/{repo}/hooks/{hook_id}/tests\"],\n    transfer: [\"POST /repos/{owner}/{repo}/transfer\"],\n    update: [\"PATCH /repos/{owner}/{repo}\"],\n    updateBranchProtection: [\n      \"PUT /repos/{owner}/{repo}/branches/{branch}/protection\"\n    ],\n    updateCommitComment: [\"PATCH /repos/{owner}/{repo}/comments/{comment_id}\"],\n    updateDeploymentBranchPolicy: [\n      \"PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}\"\n    ],\n    updateInformationAboutPagesSite: [\"PUT /repos/{owner}/{repo}/pages\"],\n    updateInvitation: [\n      \"PATCH /repos/{owner}/{repo}/invitations/{invitation_id}\"\n    ],\n    updateOrgRuleset: [\"PUT /orgs/{org}/rulesets/{ruleset_id}\"],\n    updatePullRequestReviewProtection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews\"\n    ],\n    updateRelease: [\"PATCH /repos/{owner}/{repo}/releases/{release_id}\"],\n    updateReleaseAsset: [\n      \"PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}\"\n    ],\n    updateRepoRuleset: [\"PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}\"],\n    updateStatusCheckPotection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\",\n      {},\n      { renamed: [\"repos\", \"updateStatusCheckProtection\"] }\n    ],\n    updateStatusCheckProtection: [\n      \"PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks\"\n    ],\n    updateWebhook: [\"PATCH /repos/{owner}/{repo}/hooks/{hook_id}\"],\n    updateWebhookConfigForRepo: [\n      \"PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config\"\n    ],\n    uploadReleaseAsset: [\n      \"POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}\",\n      { baseUrl: \"https://uploads.github.com\" }\n    ]\n  },\n  search: {\n    code: [\"GET /search/code\"],\n    commits: [\"GET /search/commits\"],\n    issuesAndPullRequests: [\"GET /search/issues\"],\n    labels: [\"GET /search/labels\"],\n    repos: [\"GET /search/repositories\"],\n    topics: [\"GET /search/topics\"],\n    users: [\"GET /search/users\"]\n  },\n  secretScanning: {\n    getAlert: [\n      \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}\"\n    ],\n    listAlertsForEnterprise: [\n      \"GET /enterprises/{enterprise}/secret-scanning/alerts\"\n    ],\n    listAlertsForOrg: [\"GET /orgs/{org}/secret-scanning/alerts\"],\n    listAlertsForRepo: [\"GET /repos/{owner}/{repo}/secret-scanning/alerts\"],\n    listLocationsForAlert: [\n      \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations\"\n    ],\n    updateAlert: [\n      \"PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}\"\n    ]\n  },\n  securityAdvisories: {\n    createFork: [\n      \"POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks\"\n    ],\n    createPrivateVulnerabilityReport: [\n      \"POST /repos/{owner}/{repo}/security-advisories/reports\"\n    ],\n    createRepositoryAdvisory: [\n      \"POST /repos/{owner}/{repo}/security-advisories\"\n    ],\n    createRepositoryAdvisoryCveRequest: [\n      \"POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve\"\n    ],\n    getGlobalAdvisory: [\"GET /advisories/{ghsa_id}\"],\n    getRepositoryAdvisory: [\n      \"GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}\"\n    ],\n    listGlobalAdvisories: [\"GET /advisories\"],\n    listOrgRepositoryAdvisories: [\"GET /orgs/{org}/security-advisories\"],\n    listRepositoryAdvisories: [\"GET /repos/{owner}/{repo}/security-advisories\"],\n    updateRepositoryAdvisory: [\n      \"PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}\"\n    ]\n  },\n  teams: {\n    addOrUpdateMembershipForUserInOrg: [\n      \"PUT /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    addOrUpdateProjectPermissionsInOrg: [\n      \"PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}\"\n    ],\n    addOrUpdateRepoPermissionsInOrg: [\n      \"PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    checkPermissionsForProjectInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/projects/{project_id}\"\n    ],\n    checkPermissionsForRepoInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    create: [\"POST /orgs/{org}/teams\"],\n    createDiscussionCommentInOrg: [\n      \"POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\"\n    ],\n    createDiscussionInOrg: [\"POST /orgs/{org}/teams/{team_slug}/discussions\"],\n    deleteDiscussionCommentInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    deleteDiscussionInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    deleteInOrg: [\"DELETE /orgs/{org}/teams/{team_slug}\"],\n    getByName: [\"GET /orgs/{org}/teams/{team_slug}\"],\n    getDiscussionCommentInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    getDiscussionInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    getMembershipForUserInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    list: [\"GET /orgs/{org}/teams\"],\n    listChildInOrg: [\"GET /orgs/{org}/teams/{team_slug}/teams\"],\n    listDiscussionCommentsInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\"\n    ],\n    listDiscussionsInOrg: [\"GET /orgs/{org}/teams/{team_slug}/discussions\"],\n    listForAuthenticatedUser: [\"GET /user/teams\"],\n    listMembersInOrg: [\"GET /orgs/{org}/teams/{team_slug}/members\"],\n    listPendingInvitationsInOrg: [\n      \"GET /orgs/{org}/teams/{team_slug}/invitations\"\n    ],\n    listProjectsInOrg: [\"GET /orgs/{org}/teams/{team_slug}/projects\"],\n    listReposInOrg: [\"GET /orgs/{org}/teams/{team_slug}/repos\"],\n    removeMembershipForUserInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}\"\n    ],\n    removeProjectInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}\"\n    ],\n    removeRepoInOrg: [\n      \"DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}\"\n    ],\n    updateDiscussionCommentInOrg: [\n      \"PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}\"\n    ],\n    updateDiscussionInOrg: [\n      \"PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}\"\n    ],\n    updateInOrg: [\"PATCH /orgs/{org}/teams/{team_slug}\"]\n  },\n  users: {\n    addEmailForAuthenticated: [\n      \"POST /user/emails\",\n      {},\n      { renamed: [\"users\", \"addEmailForAuthenticatedUser\"] }\n    ],\n    addEmailForAuthenticatedUser: [\"POST /user/emails\"],\n    addSocialAccountForAuthenticatedUser: [\"POST /user/social_accounts\"],\n    block: [\"PUT /user/blocks/{username}\"],\n    checkBlocked: [\"GET /user/blocks/{username}\"],\n    checkFollowingForUser: [\"GET /users/{username}/following/{target_user}\"],\n    checkPersonIsFollowedByAuthenticated: [\"GET /user/following/{username}\"],\n    createGpgKeyForAuthenticated: [\n      \"POST /user/gpg_keys\",\n      {},\n      { renamed: [\"users\", \"createGpgKeyForAuthenticatedUser\"] }\n    ],\n    createGpgKeyForAuthenticatedUser: [\"POST /user/gpg_keys\"],\n    createPublicSshKeyForAuthenticated: [\n      \"POST /user/keys\",\n      {},\n      { renamed: [\"users\", \"createPublicSshKeyForAuthenticatedUser\"] }\n    ],\n    createPublicSshKeyForAuthenticatedUser: [\"POST /user/keys\"],\n    createSshSigningKeyForAuthenticatedUser: [\"POST /user/ssh_signing_keys\"],\n    deleteEmailForAuthenticated: [\n      \"DELETE /user/emails\",\n      {},\n      { renamed: [\"users\", \"deleteEmailForAuthenticatedUser\"] }\n    ],\n    deleteEmailForAuthenticatedUser: [\"DELETE /user/emails\"],\n    deleteGpgKeyForAuthenticated: [\n      \"DELETE /user/gpg_keys/{gpg_key_id}\",\n      {},\n      { renamed: [\"users\", \"deleteGpgKeyForAuthenticatedUser\"] }\n    ],\n    deleteGpgKeyForAuthenticatedUser: [\"DELETE /user/gpg_keys/{gpg_key_id}\"],\n    deletePublicSshKeyForAuthenticated: [\n      \"DELETE /user/keys/{key_id}\",\n      {},\n      { renamed: [\"users\", \"deletePublicSshKeyForAuthenticatedUser\"] }\n    ],\n    deletePublicSshKeyForAuthenticatedUser: [\"DELETE /user/keys/{key_id}\"],\n    deleteSocialAccountForAuthenticatedUser: [\"DELETE /user/social_accounts\"],\n    deleteSshSigningKeyForAuthenticatedUser: [\n      \"DELETE /user/ssh_signing_keys/{ssh_signing_key_id}\"\n    ],\n    follow: [\"PUT /user/following/{username}\"],\n    getAuthenticated: [\"GET /user\"],\n    getByUsername: [\"GET /users/{username}\"],\n    getContextForUser: [\"GET /users/{username}/hovercard\"],\n    getGpgKeyForAuthenticated: [\n      \"GET /user/gpg_keys/{gpg_key_id}\",\n      {},\n      { renamed: [\"users\", \"getGpgKeyForAuthenticatedUser\"] }\n    ],\n    getGpgKeyForAuthenticatedUser: [\"GET /user/gpg_keys/{gpg_key_id}\"],\n    getPublicSshKeyForAuthenticated: [\n      \"GET /user/keys/{key_id}\",\n      {},\n      { renamed: [\"users\", \"getPublicSshKeyForAuthenticatedUser\"] }\n    ],\n    getPublicSshKeyForAuthenticatedUser: [\"GET /user/keys/{key_id}\"],\n    getSshSigningKeyForAuthenticatedUser: [\n      \"GET /user/ssh_signing_keys/{ssh_signing_key_id}\"\n    ],\n    list: [\"GET /users\"],\n    listBlockedByAuthenticated: [\n      \"GET /user/blocks\",\n      {},\n      { renamed: [\"users\", \"listBlockedByAuthenticatedUser\"] }\n    ],\n    listBlockedByAuthenticatedUser: [\"GET /user/blocks\"],\n    listEmailsForAuthenticated: [\n      \"GET /user/emails\",\n      {},\n      { renamed: [\"users\", \"listEmailsForAuthenticatedUser\"] }\n    ],\n    listEmailsForAuthenticatedUser: [\"GET /user/emails\"],\n    listFollowedByAuthenticated: [\n      \"GET /user/following\",\n      {},\n      { renamed: [\"users\", \"listFollowedByAuthenticatedUser\"] }\n    ],\n    listFollowedByAuthenticatedUser: [\"GET /user/following\"],\n    listFollowersForAuthenticatedUser: [\"GET /user/followers\"],\n    listFollowersForUser: [\"GET /users/{username}/followers\"],\n    listFollowingForUser: [\"GET /users/{username}/following\"],\n    listGpgKeysForAuthenticated: [\n      \"GET /user/gpg_keys\",\n      {},\n      { renamed: [\"users\", \"listGpgKeysForAuthenticatedUser\"] }\n    ],\n    listGpgKeysForAuthenticatedUser: [\"GET /user/gpg_keys\"],\n    listGpgKeysForUser: [\"GET /users/{username}/gpg_keys\"],\n    listPublicEmailsForAuthenticated: [\n      \"GET /user/public_emails\",\n      {},\n      { renamed: [\"users\", \"listPublicEmailsForAuthenticatedUser\"] }\n    ],\n    listPublicEmailsForAuthenticatedUser: [\"GET /user/public_emails\"],\n    listPublicKeysForUser: [\"GET /users/{username}/keys\"],\n    listPublicSshKeysForAuthenticated: [\n      \"GET /user/keys\",\n      {},\n      { renamed: [\"users\", \"listPublicSshKeysForAuthenticatedUser\"] }\n    ],\n    listPublicSshKeysForAuthenticatedUser: [\"GET /user/keys\"],\n    listSocialAccountsForAuthenticatedUser: [\"GET /user/social_accounts\"],\n    listSocialAccountsForUser: [\"GET /users/{username}/social_accounts\"],\n    listSshSigningKeysForAuthenticatedUser: [\"GET /user/ssh_signing_keys\"],\n    listSshSigningKeysForUser: [\"GET /users/{username}/ssh_signing_keys\"],\n    setPrimaryEmailVisibilityForAuthenticated: [\n      \"PATCH /user/email/visibility\",\n      {},\n      { renamed: [\"users\", \"setPrimaryEmailVisibilityForAuthenticatedUser\"] }\n    ],\n    setPrimaryEmailVisibilityForAuthenticatedUser: [\n      \"PATCH /user/email/visibility\"\n    ],\n    unblock: [\"DELETE /user/blocks/{username}\"],\n    unfollow: [\"DELETE /user/following/{username}\"],\n    updateAuthenticated: [\"PATCH /user\"]\n  }\n};\nvar endpoints_default = Endpoints;\n\n// pkg/dist-src/endpoints-to-methods.js\nvar endpointMethodsMap = /* @__PURE__ */ new Map();\nfor (const [scope, endpoints] of Object.entries(endpoints_default)) {\n  for (const [methodName, endpoint] of Object.entries(endpoints)) {\n    const [route, defaults, decorations] = endpoint;\n    const [method, url] = route.split(/ /);\n    const endpointDefaults = Object.assign(\n      {\n        method,\n        url\n      },\n      defaults\n    );\n    if (!endpointMethodsMap.has(scope)) {\n      endpointMethodsMap.set(scope, /* @__PURE__ */ new Map());\n    }\n    endpointMethodsMap.get(scope).set(methodName, {\n      scope,\n      methodName,\n      endpointDefaults,\n      decorations\n    });\n  }\n}\nvar handler = {\n  has({ scope }, methodName) {\n    return endpointMethodsMap.get(scope).has(methodName);\n  },\n  getOwnPropertyDescriptor(target, methodName) {\n    return {\n      value: this.get(target, methodName),\n      // ensures method is in the cache\n      configurable: true,\n      writable: true,\n      enumerable: true\n    };\n  },\n  defineProperty(target, methodName, descriptor) {\n    Object.defineProperty(target.cache, methodName, descriptor);\n    return true;\n  },\n  deleteProperty(target, methodName) {\n    delete target.cache[methodName];\n    return true;\n  },\n  ownKeys({ scope }) {\n    return [...endpointMethodsMap.get(scope).keys()];\n  },\n  set(target, methodName, value) {\n    return target.cache[methodName] = value;\n  },\n  get({ octokit, scope, cache }, methodName) {\n    if (cache[methodName]) {\n      return cache[methodName];\n    }\n    const method = endpointMethodsMap.get(scope).get(methodName);\n    if (!method) {\n      return void 0;\n    }\n    const { endpointDefaults, decorations } = method;\n    if (decorations) {\n      cache[methodName] = decorate(\n        octokit,\n        scope,\n        methodName,\n        endpointDefaults,\n        decorations\n      );\n    } else {\n      cache[methodName] = octokit.request.defaults(endpointDefaults);\n    }\n    return cache[methodName];\n  }\n};\nfunction endpointsToMethods(octokit) {\n  const newMethods = {};\n  for (const scope of endpointMethodsMap.keys()) {\n    newMethods[scope] = new Proxy({ octokit, scope, cache: {} }, handler);\n  }\n  return newMethods;\n}\nfunction decorate(octokit, scope, methodName, defaults, decorations) {\n  const requestWithDefaults = octokit.request.defaults(defaults);\n  function withDecorations(...args) {\n    let options = requestWithDefaults.endpoint.merge(...args);\n    if (decorations.mapToData) {\n      options = Object.assign({}, options, {\n        data: options[decorations.mapToData],\n        [decorations.mapToData]: void 0\n      });\n      return requestWithDefaults(options);\n    }\n    if (decorations.renamed) {\n      const [newScope, newMethodName] = decorations.renamed;\n      octokit.log.warn(\n        `octokit.${scope}.${methodName}() has been renamed to octokit.${newScope}.${newMethodName}()`\n      );\n    }\n    if (decorations.deprecated) {\n      octokit.log.warn(decorations.deprecated);\n    }\n    if (decorations.renamedParameters) {\n      const options2 = requestWithDefaults.endpoint.merge(...args);\n      for (const [name, alias] of Object.entries(\n        decorations.renamedParameters\n      )) {\n        if (name in options2) {\n          octokit.log.warn(\n            `\"${name}\" parameter is deprecated for \"octokit.${scope}.${methodName}()\". Use \"${alias}\" instead`\n          );\n          if (!(alias in options2)) {\n            options2[alias] = options2[name];\n          }\n          delete options2[name];\n        }\n      }\n      return requestWithDefaults(options2);\n    }\n    return requestWithDefaults(...args);\n  }\n  return Object.assign(withDecorations, requestWithDefaults);\n}\n\n// pkg/dist-src/index.js\nfunction restEndpointMethods(octokit) {\n  const api = endpointsToMethods(octokit);\n  return {\n    rest: api\n  };\n}\nrestEndpointMethods.VERSION = VERSION;\nfunction legacyRestEndpointMethods(octokit) {\n  const api = endpointsToMethods(octokit);\n  return {\n    ...api,\n    rest: api\n  };\n}\nlegacyRestEndpointMethods.VERSION = VERSION;\nexport {\n  legacyRestEndpointMethods,\n  restEndpointMethods\n};\n","// pkg/dist-src/index.js\nimport { Octokit as Core } from \"@octokit/core\";\nimport { requestLog } from \"@octokit/plugin-request-log\";\nimport { paginateRest } from \"@octokit/plugin-paginate-rest\";\nimport { legacyRestEndpointMethods } from \"@octokit/plugin-rest-endpoint-methods\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"20.1.1\";\n\n// pkg/dist-src/index.js\nvar Octokit = Core.plugin(\n  requestLog,\n  legacyRestEndpointMethods,\n  paginateRest\n).defaults({\n  userAgent: `octokit-rest.js/${VERSION}`\n});\nexport {\n  Octokit\n};\n","import { Octokit } from '@octokit/rest';\nimport { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\nimport type { Repository, Branch, PullRequest } from './types';\nimport { config } from '../config';\n\nexport class GitHubClient {\n  private static instance: GitHubClient;\n  private octokit: Octokit;\n  private initialized = false;\n\n  private constructor() {\n    this.octokit = new Octokit({\n      auth: config.apiKeys.github,\n      userAgent: 'Agent-One v1.0.0'\n    });\n  }\n\n  static getInstance(): GitHubClient {\n    if (!GitHubClient.instance) {\n      GitHubClient.instance = new GitHubClient();\n    }\n    return GitHubClient.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      if (!config.apiKeys.github) {\n        throw new AppError('GitHub API key not configured', 'CONFIG_ERROR');\n      }\n\n      // Verify connection and permissions\n      const { data } = await this.octokit.users.getAuthenticated();\n      \n      thoughtLogger.log('success', 'GitHub connection verified', {\n        username: data.login,\n        scopes: data.scopes\n      });\n\n      this.initialized = true;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize GitHub client', { error });\n      throw new AppError(\n        'GitHub initialization failed',\n        'GITHUB_ERROR',\n        error instanceof Error ? error.message : 'Unknown error'\n      );\n    }\n  }\n\n  async verifyConnection(): Promise<boolean> {\n    try {\n      if (!config.apiKeys.github) {\n        thoughtLogger.log('warning', 'GitHub API key not configured');\n        return false;\n      }\n\n      const { data } = await this.octokit.users.getAuthenticated();\n      thoughtLogger.log('success', 'GitHub connection verified', {\n        username: data.login,\n        scopes: data.scopes\n      });\n      return true;\n    } catch (error) {\n      thoughtLogger.log('error', 'GitHub connection verification failed', { error });\n      return false;\n    }\n  }\n\n  async listRepositories(options: {\n    type?: 'all' | 'owner' | 'public' | 'private' | 'member';\n    sort?: 'created' | 'updated' | 'pushed' | 'full_name';\n    direction?: 'asc' | 'desc';\n    per_page?: number;\n    page?: number;\n  } = {}): Promise<Repository[]> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.repos.listForAuthenticatedUser({\n        ...options,\n        per_page: options.per_page || 30,\n        sort: options.sort || 'updated'\n      });\n      return data;\n    } catch (error) {\n      throw new AppError('Failed to list repositories', 'GITHUB_ERROR', error);\n    }\n  }\n\n  async getRepository(owner: string, repo: string): Promise<Repository> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.repos.get({\n        owner,\n        repo\n      });\n      return data;\n    } catch (error) {\n      throw new AppError('Failed to get repository', 'GITHUB_ERROR', error);\n    }\n  }\n\n  async getFileContent(owner: string, repo: string, path: string): Promise<string> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.repos.getContent({\n        owner,\n        repo,\n        path\n      });\n\n      if ('content' in data) {\n        return Buffer.from(data.content, 'base64').toString();\n      }\n\n      throw new Error('Not a file');\n    } catch (error) {\n      throw new AppError('Failed to get file content', 'GITHUB_ERROR', error);\n    }\n  }\n\n  async listBranches(owner: string, repo: string): Promise<Branch[]> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.repos.listBranches({\n        owner,\n        repo\n      });\n      return data;\n    } catch (error) {\n      throw new AppError('Failed to list branches', 'GITHUB_ERROR', error);\n    }\n  }\n\n  async createPullRequest(params: {\n    owner: string;\n    repo: string;\n    title: string;\n    head: string;\n    base: string;\n    body?: string;\n  }): Promise<PullRequest> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.pulls.create(params);\n      return data;\n    } catch (error) {\n      throw new AppError('Failed to create pull request', 'GITHUB_ERROR', error);\n    }\n  }\n\n  async getRepositoryFiles(owner: string, repo: string, path: string = ''): Promise<any[]> {\n    if (!this.initialized) await this.initialize();\n\n    try {\n      const { data } = await this.octokit.repos.getContent({\n        owner,\n        repo,\n        path\n      });\n\n      if (Array.isArray(data)) {\n        const files = [];\n        for (const item of data) {\n          if (item.type === 'file') {\n            files.push(item);\n          } else if (item.type === 'dir') {\n            const subFiles = await this.getRepositoryFiles(owner, repo, item.path);\n            files.push(...subFiles);\n          }\n        }\n        return files;\n      }\n\n      return [data];\n    } catch (error) {\n      throw new AppError('Failed to get repository files', 'GITHUB_ERROR', error);\n    }\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { AppError } from '../errors/AppError';\nimport { GitHubClient } from './github-client';\n\nexport class CodespaceClient {\n  private static instance: CodespaceClient;\n  private githubClient: GitHubClient;\n\n  private constructor() {\n    this.githubClient = GitHubClient.getInstance();\n  }\n\n  static getInstance(): CodespaceClient {\n    if (!CodespaceClient.instance) {\n      CodespaceClient.instance = new CodespaceClient();\n    }\n    return CodespaceClient.instance;\n  }\n\n  async verifyCodespaceAccess(): Promise<boolean> {\n    try {\n      const isGitHubConnected = await this.githubClient.verifyConnection();\n      if (!isGitHubConnected) {\n        thoughtLogger.log('warning', 'GitHub connection required for Codespace access');\n        return false;\n      }\n\n      // Check if we're running in a Codespace environment\n      const isCodespace = Boolean(process.env.CODESPACE_NAME);\n      thoughtLogger.log(\n        isCodespace ? 'success' : 'info',\n        isCodespace ? 'Running in Codespace environment' : 'Not running in Codespace environment'\n      );\n\n      return isCodespace;\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to verify Codespace access', { error });\n      return false;\n    }\n  }\n\n  async getCurrentCodespaceInfo(): Promise<any> {\n    try {\n      if (!process.env.CODESPACE_NAME) {\n        throw new AppError('Not running in a Codespace', 'CODESPACE_ERROR');\n      }\n\n      // Get current Codespace configuration\n      const config = {\n        name: process.env.CODESPACE_NAME,\n        repository: process.env.GITHUB_REPOSITORY,\n        branch: process.env.GITHUB_REF_NAME,\n        environment: process.env.CODESPACE_ENVIRONMENT,\n      };\n\n      return config;\n    } catch (error) {\n      throw new AppError('Failed to get Codespace info', 'CODESPACE_ERROR', error);\n    }\n  }\n\n  async syncWithRepository(): Promise<void> {\n    try {\n      if (!process.env.CODESPACE_NAME || !process.env.GITHUB_REPOSITORY) {\n        throw new AppError('Not running in a Codespace', 'CODESPACE_ERROR');\n      }\n\n      const [owner, repo] = process.env.GITHUB_REPOSITORY.split('/');\n      \n      // Get latest changes from the repository\n      await this.githubClient.getRepository(owner, repo);\n\n      thoughtLogger.log('success', 'Synced with repository successfully');\n    } catch (error) {\n      throw new AppError('Failed to sync with repository', 'CODESPACE_ERROR', error);\n    }\n  }\n\n  isCodespaceEnvironment(): boolean {\n    return Boolean(process.env.CODESPACE_NAME);\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { GitHubClient } from '../github/github-client';\nimport { CodespaceClient } from '../github/codespace-client';\nimport { AppError } from '../errors/AppError';\n\ninterface CodeCapability {\n  name: string;\n  type: 'class' | 'function' | 'interface';\n  path: string;\n  description?: string;\n}\n\nexport class CodeAwareness {\n  private static instance: CodeAwareness;\n  private githubClient: GitHubClient;\n  private codespaceClient: CodespaceClient;\n  private sourceFiles: Map<string, string> = new Map();\n  private capabilities: Map<string, CodeCapability> = new Map();\n  private initialized = false;\n\n  private constructor() {\n    this.githubClient = GitHubClient.getInstance();\n    this.codespaceClient = CodespaceClient.getInstance();\n  }\n\n  static getInstance(): CodeAwareness {\n    if (!CodeAwareness.instance) {\n      CodeAwareness.instance = new CodeAwareness();\n    }\n    return CodeAwareness.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      thoughtLogger.log('plan', 'Initializing code awareness system');\n\n      // Load local source files first\n      await this.loadLocalSourceFiles();\n\n      // Verify GitHub and Codespace access\n      const [githubConnected, codespaceAvailable] = await Promise.all([\n        this.githubClient.verifyConnection(),\n        this.codespaceClient.verifyCodespaceAccess()\n      ]);\n\n      if (githubConnected) {\n        // Get current repository info\n        const codespaceInfo = await this.codespaceClient.getCurrentCodespaceInfo();\n        const [owner, repo] = (codespaceInfo?.repository || '').split('/');\n\n        if (owner && repo) {\n          // Load repository files\n          await this.loadRepositoryFiles(owner, repo);\n        }\n      }\n\n      // Extract capabilities from all source files\n      await this.extractAllCapabilities();\n\n      this.initialized = true;\n      thoughtLogger.log('success', 'Code awareness system initialized', {\n        filesLoaded: this.sourceFiles.size,\n        capabilitiesFound: this.capabilities.size,\n        codespaceAvailable\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize code awareness', { error });\n      throw error;\n    }\n  }\n\n  private async loadLocalSourceFiles(): Promise<void> {\n    try {\n      // Get all TypeScript files in the src directory\n      const files = await this.getLocalFiles('/src');\n      \n      for (const file of files) {\n        if (this.isRelevantFile(file.path)) {\n          this.sourceFiles.set(file.path, file.content);\n        }\n      }\n\n      thoughtLogger.log('success', 'Local source files loaded', {\n        fileCount: this.sourceFiles.size\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to load local source files', { error });\n      throw error;\n    }\n  }\n\n  private async getLocalFiles(dir: string): Promise<Array<{ path: string; content: string }>> {\n    // This is a simplified version - in production, use proper file system access\n    const files: Array<{ path: string; content: string }> = [];\n    \n    // Add files that we know exist from our running context\n    const knownFiles = [\n      '/src/lib/system/code-awareness.ts',\n      '/src/lib/github/github-client.ts',\n      '/src/lib/services/search-service.ts',\n      // Add other known files\n    ];\n\n    for (const path of knownFiles) {\n      try {\n        const content = await this.getFileContent(path);\n        if (content) {\n          files.push({ path, content });\n        }\n      } catch (error) {\n        thoughtLogger.log('warning', `Failed to load file: ${path}`, { error });\n      }\n    }\n\n    return files;\n  }\n\n  private async loadRepositoryFiles(owner: string, repo: string): Promise<void> {\n    try {\n      const files = await this.githubClient.getRepositoryFiles(owner, repo);\n\n      for (const file of files) {\n        if (this.isRelevantFile(file.path)) {\n          const content = await this.githubClient.getFileContent(owner, repo, file.path);\n          this.sourceFiles.set(file.path, content);\n        }\n      }\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to load repository files', { error });\n      throw error;\n    }\n  }\n\n  private async extractAllCapabilities(): Promise<void> {\n    for (const [path, content] of this.sourceFiles.entries()) {\n      const fileCapabilities = this.extractCapabilities(content, path);\n      fileCapabilities.forEach(cap => this.capabilities.set(cap.name, cap));\n    }\n  }\n\n  private isRelevantFile(path: string): boolean {\n    const relevantExtensions = ['.ts', '.tsx', '.js', '.jsx', '.json', '.md'];\n    const excludedPaths = ['node_modules', 'dist', '.git'];\n    \n    return (\n      relevantExtensions.some(ext => path.endsWith(ext)) &&\n      !excludedPaths.some(excluded => path.includes(excluded))\n    );\n  }\n\n  async getFileContent(path: string): Promise<string | null> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n    return this.sourceFiles.get(path) || null;\n  }\n\n  async searchCode(query: string): Promise<Array<{ path: string; content: string; matches: string[] }>> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    const results: Array<{ path: string; content: string; matches: string[] }> = [];\n    const searchRegex = new RegExp(query, 'gi');\n\n    for (const [path, content] of this.sourceFiles.entries()) {\n      const matches = content.match(searchRegex);\n      if (matches) {\n        results.push({\n          path,\n          content,\n          matches\n        });\n      }\n    }\n\n    return results;\n  }\n\n  getCapabilities(): CodeCapability[] {\n    return Array.from(this.capabilities.values());\n  }\n\n  hasCapability(name: string): boolean {\n    return this.capabilities.has(name);\n  }\n\n  private extractCapabilities(content: string, path: string): CodeCapability[] {\n    const capabilities: CodeCapability[] = [];\n    \n    // Extract classes\n    const classMatches = content.matchAll(/(?:export\\s+)?class\\s+(\\w+)(?:\\s+extends\\s+\\w+)?(?:\\s+implements\\s+\\w+(?:\\s*,\\s*\\w+)*)?/g);\n    for (const match of classMatches) {\n      capabilities.push({\n        name: match[1],\n        type: 'class',\n        path,\n        description: this.extractDescription(content, match.index || 0)\n      });\n    }\n\n    // Extract interfaces\n    const interfaceMatches = content.matchAll(/(?:export\\s+)?interface\\s+(\\w+)(?:\\s+extends\\s+\\w+(?:\\s*,\\s*\\w+)*)?/g);\n    for (const match of interfaceMatches) {\n      capabilities.push({\n        name: match[1],\n        type: 'interface',\n        path,\n        description: this.extractDescription(content, match.index || 0)\n      });\n    }\n\n    // Extract functions\n    const functionMatches = content.matchAll(/(?:export\\s+)?(?:async\\s+)?function\\s+(\\w+)/g);\n    for (const match of functionMatches) {\n      capabilities.push({\n        name: match[1],\n        type: 'function',\n        path,\n        description: this.extractDescription(content, match.index || 0)\n      });\n    }\n\n    return capabilities;\n  }\n\n  private extractDescription(content: string, index: number): string | undefined {\n    // Look for JSDoc comment above the declaration\n    const beforeDeclaration = content.slice(0, index).trim();\n    const commentMatch = beforeDeclaration.match(/\\/\\*\\*\\s*([\\s\\S]*?)\\s*\\*\\/\\s*$/);\n    \n    if (commentMatch) {\n      return commentMatch[1]\n        .split('\\n')\n        .map(line => line.trim().replace(/^\\*\\s*/, ''))\n        .filter(Boolean)\n        .join(' ');\n    }\n\n    return undefined;\n  }\n\n  async getSystemCapabilities(): Promise<{\n    services: string[];\n    features: string[];\n    integrations: string[];\n  }> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    const capabilities = this.getCapabilities();\n    \n    return {\n      services: capabilities\n        .filter(cap => cap.path.includes('/services/'))\n        .map(cap => cap.name),\n      features: capabilities\n        .filter(cap => cap.type === 'class' && !cap.path.includes('/services/'))\n        .map(cap => cap.name),\n      integrations: capabilities\n        .filter(cap => cap.path.includes('/integrations/') || cap.path.includes('/api/'))\n        .map(cap => cap.name)\n    };\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { CodeAwareness } from './code-awareness';\nimport { GitHubClient } from '../github/github-client';\nimport { CodespaceClient } from '../github/codespace-client';\nimport { agentSystem } from '../agents/agent-system';\nimport { ModelRouter } from '../routing/router';\nimport { MemoryManager } from '../memory/memory-manager';\n\nexport class SystemInitializer {\n  private static instance: SystemInitializer;\n  private initialized = false;\n\n  private constructor() {}\n\n  static getInstance(): SystemInitializer {\n    if (!SystemInitializer.instance) {\n      SystemInitializer.instance = new SystemInitializer();\n    }\n    return SystemInitializer.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      thoughtLogger.log('plan', 'Starting system initialization');\n\n      // Initialize code awareness first to enable self-awareness\n      const codeAwareness = CodeAwareness.getInstance();\n      await codeAwareness.initialize();\n\n      // Initialize GitHub and Codespace clients\n      const [githubClient, codespaceClient] = await Promise.all([\n        GitHubClient.getInstance().verifyConnection(),\n        CodespaceClient.getInstance().verifyCodespaceAccess()\n      ]);\n\n      // Initialize core systems\n      const [modelRouter, memoryManager] = await Promise.all([\n        ModelRouter.getInstance().initialize(),\n        MemoryManager.getInstance().initialize()\n      ]);\n\n      // Initialize agent system\n      await agentSystem.initialize();\n\n      this.initialized = true;\n      thoughtLogger.log('success', 'System initialization complete', {\n        codeAwareness: codeAwareness.isInitialized,\n        githubConnected: githubClient,\n        codespaceAvailable: codespaceClient,\n        modelRouter: modelRouter.isInitialized,\n        memoryManager: memoryManager.isInitialized,\n        agentSystem: agentSystem.isInitialized\n      });\n    } catch (error) {\n      thoughtLogger.log('error', 'System initialization failed', { error });\n      throw error;\n    }\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { thoughtLogger } from '../logging/thought-logger';\nimport { PerplexityAPI } from '../api/perplexity';\nimport { TavilyAPI } from '../api/tavily';\nimport { GoogleSearchAPI } from '../api/google-search';\nimport { SerpAPI } from '../api/serp';\nimport { MoASearchAggregator } from '../search/moa';\nimport { RagProcessor } from '../search/rag-processor';\nimport { SearchResult } from '../types/search';\nimport { config } from '../config';\nimport { AppError } from '../errors/AppError';\n\nexport class SearchService {\n  private static instance: SearchService;\n  private perplexityAPI: PerplexityAPI;\n  private tavilyAPI: TavilyAPI;\n  private googleSearchAPI: GoogleSearchAPI;\n  private serpAPI: SerpAPI;\n  private moaAggregator: MoASearchAggregator;\n  private ragProcessor: RagProcessor;\n  private initialized = false;\n\n  private constructor() {\n    this.perplexityAPI = new PerplexityAPI();\n    this.tavilyAPI = new TavilyAPI();\n    this.googleSearchAPI = new GoogleSearchAPI();\n    this.serpAPI = new SerpAPI();\n    this.moaAggregator = new MoASearchAggregator();\n    this.ragProcessor = new RagProcessor();\n  }\n\n  static getInstance(): SearchService {\n    if (!SearchService.instance) {\n      SearchService.instance = new SearchService();\n    }\n    return SearchService.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      // Verify API keys\n      const missingKeys = this.validateApiKeys();\n      if (missingKeys.length > 0) {\n        throw new AppError(`Missing search API keys: ${missingKeys.join(', ')}`, 'CONFIG_ERROR');\n      }\n\n      this.initialized = true;\n      thoughtLogger.log('success', 'Search service initialized');\n    } catch (error) {\n      thoughtLogger.log('error', 'Failed to initialize search service', { error });\n      throw error;\n    }\n  }\n\n  private validateApiKeys(): string[] {\n    const requiredKeys = {\n      perplexity: config.apiKeys.perplexity,\n      tavily: config.apiKeys.tavily,\n      google: config.apiKeys.google,\n      serp: config.apiKeys.serp\n    };\n\n    return Object.entries(requiredKeys)\n      .filter(([_, value]) => !value)\n      .map(([key]) => key);\n  }\n\n  async search(query: string): Promise<string> {\n    if (!this.initialized) {\n      await this.initialize();\n    }\n\n    thoughtLogger.log('plan', 'Starting concurrent search with MoA and RAG', { query });\n\n    try {\n      // Run primary searches concurrently\n      const [perplexityResult, tavilyResult] = await Promise.allSettled([\n        this.searchWithProvider('perplexity', () => this.perplexityAPI.search(query)),\n        this.searchWithProvider('tavily', () => this.tavilyAPI.search(query))\n      ]);\n\n      // Run fallback searches if needed\n      let fallbackResults: PromiseSettledResult<SearchResult>[] = [];\n      if (perplexityResult.status === 'rejected' || tavilyResult.status === 'rejected') {\n        fallbackResults = await Promise.allSettled([\n          this.searchWithProvider('google', () => this.googleSearchAPI.search(query)),\n          this.searchWithProvider('serp', () => this.serpAPI.search(query))\n        ]);\n      }\n\n      // Collect successful results\n      const results = [\n        ...(perplexityResult.status === 'fulfilled' ? [perplexityResult.value] : []),\n        ...(tavilyResult.status === 'fulfilled' ? [tavilyResult.value] : []),\n        ...fallbackResults\n          .filter((result): result is PromiseFulfilledResult<SearchResult> => \n            result.status === 'fulfilled'\n          )\n          .map(result => result.value)\n      ];\n\n      if (results.length === 0) {\n        throw new AppError('No search results available', 'SEARCH_ERROR');\n      }\n\n      // Process results through RAG\n      const ragResults = await this.ragProcessor.process(results);\n\n      // Aggregate results using MoA\n      const aggregatedContent = await this.moaAggregator.aggregate(ragResults);\n\n      thoughtLogger.log('success', 'Search completed successfully', {\n        resultCount: results.length,\n        sources: results.map(r => r.metadata.source)\n      });\n\n      return aggregatedContent;\n    } catch (error) {\n      thoughtLogger.log('error', 'Search failed', { error });\n      throw error instanceof AppError ? error : new AppError(\n        'Search operation failed',\n        'SEARCH_ERROR',\n        error\n      );\n    }\n  }\n\n  private async searchWithProvider(\n    provider: string,\n    searchFn: () => Promise<string>\n  ): Promise<SearchResult> {\n    try {\n      const content = await searchFn();\n      return {\n        success: true,\n        content,\n        metadata: {\n          source: provider,\n          timestamp: new Date().toISOString()\n        }\n      };\n    } catch (error) {\n      thoughtLogger.log('error', `${provider} search failed`, { error });\n      throw error;\n    }\n  }\n\n  get isInitialized(): boolean {\n    return this.initialized;\n  }\n}","import { thoughtLogger } from './logging/thought-logger';\nimport { SystemInitializer } from './system/system-initializer';\nimport { SearchService } from './services/search-service';\nimport { GitHubClient } from './github/github-client';\nimport { CodeAwareness } from './system/code-awareness';\nimport { config } from './config';\n\nexport async function initializeSystem() {\n  try {\n    thoughtLogger.log('plan', 'Starting system initialization');\n\n    // Skip GitHub initialization if no token is provided\n    // This prevents the blank screen issue when GitHub token is missing\n    if (config.apiKeys.github) {\n      try {\n        const githubClient = GitHubClient.getInstance();\n        await githubClient.initialize();\n        thoughtLogger.log('success', 'GitHub client initialized');\n      } catch (error) {\n        thoughtLogger.log('warning', 'GitHub initialization failed, continuing without GitHub integration', { error });\n      }\n    }\n\n    // Initialize core services\n    const searchService = SearchService.getInstance();\n    const codeAwareness = CodeAwareness.getInstance();\n    const systemInitializer = SystemInitializer.getInstance();\n\n    // Initialize remaining services with error handling\n    await Promise.allSettled([\n      searchService.initialize().catch(error => {\n        thoughtLogger.log('warning', 'Search service initialization failed', { error });\n      }),\n      codeAwareness.initialize().catch(error => {\n        thoughtLogger.log('warning', 'Code awareness initialization failed', { error });\n      }),\n      systemInitializer.initialize()\n    ]);\n\n    thoughtLogger.log('success', 'System initialization complete');\n    return true;\n  } catch (error) {\n    thoughtLogger.log('error', 'System initialization failed', { error });\n    // Return true even if some services fail to initialize\n    // This prevents the blank screen and allows the app to function with reduced capabilities\n    return true;\n  }\n}","import React, { useEffect } from 'react';\nimport { Layout } from './components/Layout';\nimport { ToastProvider } from './providers/ToastProvider';\nimport { SettingsProvider } from './context/SettingsContext';\nimport { ConfigProvider } from './providers/ConfigProvider';\nimport { SearchProvider } from './context/SearchContext';\nimport { ErrorBoundary } from './components/ErrorBoundary';\nimport { initializeSystem } from './lib/initialize';\nimport { useToast } from './hooks/useToast';\nimport { ConfigWarning } from './components/ConfigWarning';\n\nexport type ActivePanel = 'chat' | 'canvas' | 'agent' | 'tools' | 'documents' | 'search' | 'settings';\n\nexport default function App() {\n  const [activePanel, setActivePanel] = React.useState<ActivePanel>('chat');\n  const [isInitialized, setIsInitialized] = React.useState(false);\n  const { addToast } = useToast();\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const success = await initializeSystem();\n        setIsInitialized(true);\n        if (success) {\n          addToast({\n            type: 'success',\n            message: 'System initialized successfully'\n          });\n        }\n      } catch (error) {\n        addToast({\n          type: 'error',\n          title: 'Initialization Error',\n          message: error instanceof Error ? error.message : 'Failed to initialize system'\n        });\n        // Set initialized even on error to prevent blank screen\n        setIsInitialized(true);\n      }\n    };\n\n    init();\n  }, [addToast]);\n\n  // Show loading state while initializing\n  if (!isInitialized) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-lg\">Initializing system...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ErrorBoundary>\n      <ToastProvider>\n        <SettingsProvider>\n          <ConfigProvider>\n            <SearchProvider>\n              <Layout\n                activePanel={activePanel}\n                onPanelChange={setActivePanel}\n              />\n            </SearchProvider>\n          </ConfigProvider>\n        </SettingsProvider>\n      </ToastProvider>\n    </ErrorBoundary>\n  );\n}","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport './index.css';\nimport './styles/prism-theme.css';\n\nconst root = document.getElementById('root');\nif (!root) throw new Error('Root element not found');\n\ncreateRoot(root).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","createRoot","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","className","children","rest","ref","createElement","tag","attrs","Activity","AlertCircle","AlertTriangle","Bell","Brain","Calculator","Check","ChevronLeft","ChevronRight","Circle","Clock","Code","Database","Download","ExternalLink","FileText","Filter","Grid3x3","Info","Lightbulb","List","Menu","MessageSquare","Minus","MousePointer","Paintbrush","Pause","Pencil","Play","Plus","Redo","RefreshCw","Save","Search","Send","Settings","Shield","SlidersHorizontal","Sparkles","Square","Tag","Trash2","TrendingUp","Type","Undo","Upload","Users","Wand2","Workflow","Wrench","X","Zap","r","o","clsx","CLASS_PART_SEPARATOR","createClassUtils","config","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getClassGroupId","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","getConflictingClassGroupIds","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","_a","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","key","path","currentClassPartObject","pathPart","func","classGroupEntries","prefixedClassGroup","value","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","createSplitModifiers","separator","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","modifiers","bracketDepth","modifierStart","postfixModifierPosition","index","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","splitModifiers","classGroupsInConflict","originalClassName","variantModifier","parsed","modifierId","classId","group","twJoin","argument","resolvedValue","toValue","mix","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","result","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","label","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumber","getNumberAndArbitrary","twMerge","cn","inputs","define_import_meta_env_default","t","u","useSyncExternalStoreShim_production_min","shimModule","require$$1","v","w","withSelector_production_min","withSelectorModule","useStore","create","persist","set","view","open","provider","state","log","Sidebar","activeView","setActiveView","navItems","jsxs","jsx","item","Icon","PERPLEXITY_API_KEY","GOOGLE_API_KEY","SERP_API_KEY","XAI_API_KEY","GROQ_API_KEY","HUGGINGFACE_TOKEN","EventEmitter","event","callback","cb","args","wrapper","ThoughtLogger","total","thought","level","message","metadata","options","thoughts","agents","filtered","listener","thoughtLogger","AppError","code","details","APIError","ToolError","RateLimiter","now","time","waitTime","resolve","validTimestamps","_APIClient","missingKeys","error","messages","onProgress","response","role","content","data","body","reader","decoder","done","lines","line","_b","APIClient","AgentSystem$1","agentSystem","AgentSystem","useToast","toast","id","_extends","$6ed0406888f73fc4$var$setRef","$6ed0406888f73fc4$export$43e446d32b3d21af","refs","node","$6ed0406888f73fc4$export$c7b2cbe3552a0d05","$3vqmr$useCallback","$5e63c961fc1ce211$export$8c6ed5c666ac1360","$9IrjX$forwardRef","props","forwardedRef","slotProps","childrenArray","$9IrjX$Children","slottable","$5e63c961fc1ce211$var$isSlottable","newElement","newChildren","child","$9IrjX$isValidElement","$9IrjX$createElement","$5e63c961fc1ce211$var$SlotClone","$9IrjX$babelruntimehelpersesmextends","$9IrjX$cloneElement","$5e63c961fc1ce211$var$mergeProps","$9IrjX$composeRefs","$5e63c961fc1ce211$export$d9f1ccf0bdb05d45","$9IrjX$Fragment","childProps","overrideProps","propName","slotPropValue","childPropValue","$8927f6f2acc4f386$var$NODES","$8927f6f2acc4f386$export$250ffa63cdc0d034","primitive","Node","$4q5Fq$forwardRef","asChild","primitiveProps","Comp","$4q5Fq$Slot","$4q5Fq$useEffect","$4q5Fq$createElement","$4q5Fq$babelruntimehelpersesmextends","$8927f6f2acc4f386$export$6d1a0317bde7de7f","target","$4q5Fq$flushSync","$9f79659886946c16$export$e5c5a5f917a5871c","$dxlwH$useLayoutEffect","$fe963b355347cc68$export$3e6543de14f8614f","initialState","machine","$iqq3r$useReducer","nextState","$921a889cee6df7e8$export$99c2b779aa4e8b8b","present","presence","$921a889cee6df7e8$var$usePresence","$iqq3r$Children","$iqq3r$useComposedRefs","$iqq3r$cloneElement","node1","setNode","$iqq3r$useState","stylesRef","$iqq3r$useRef","prevPresentRef","prevAnimationNameRef","send","$iqq3r$useEffect","currentAnimationName","$921a889cee6df7e8$var$getAnimationName","$iqq3r$useLayoutEffect","styles","wasPresent","prevAnimationName","handleAnimationEnd","isCurrentAnimation","$iqq3r$flushSync","handleAnimationStart","$iqq3r$useCallback","$c512c27ab02ef895$export$50c7b4e9d9f19c1","scopeName","createContextScopeDeps","defaultContexts","$c512c27ab02ef895$export$fd42f52fd3ae1109","rootComponentName","defaultContext","BaseContext","$3bkAK$createContext","Provider","scope","context","Context","$3bkAK$useMemo","$3bkAK$createElement","useContext","consumerName","$3bkAK$useContext","createScope","scopeContexts","contexts","$c512c27ab02ef895$var$composeContextScopes","scopes","baseScope","createScope1","scopeHooks","overrideScopes","nextScopes1","nextScopes","useScope","currentScope","$b1b2314f5f9a1d84$export$25bec8c6f54ee79a","callbackRef","$lwiWj$useRef","$lwiWj$useEffect","$lwiWj$useMemo","_callbackRef$current","$f631663db3294ace$var$DirectionContext","$7Gjcd$createContext","$f631663db3294ace$export$b39126d51d94e6f3","localDir","globalDir","$7Gjcd$useContext","$ae6933e535247d3d$export$7d15b64cf5a3a4c4","min","max","$e42e1063c40fb3ef$export$b9ecd428b558ff10","originalEventHandler","ourEventHandler","checkForDefaultPrevented","$6c2e24571c90391f$export$3e6543de14f8614f","$fnFM9$useReducer","$57acba87d6e25586$var$SCROLL_AREA_NAME","$57acba87d6e25586$var$createScrollAreaContext","$57acba87d6e25586$export$488468afe3a6f2b1","$fnFM9$createContextScope","$57acba87d6e25586$var$ScrollAreaProvider","$57acba87d6e25586$var$useScrollAreaContext","$57acba87d6e25586$export$ccf8d8d7bbf3c2cc","$fnFM9$forwardRef","__scopeScrollArea","type","dir","scrollHideDelay","scrollAreaProps","scrollArea","setScrollArea","$fnFM9$useState","viewport","setViewport","setContent","scrollbarX","setScrollbarX","scrollbarY","setScrollbarY","cornerWidth","setCornerWidth","cornerHeight","setCornerHeight","scrollbarXEnabled","setScrollbarXEnabled","scrollbarYEnabled","setScrollbarYEnabled","composedRefs","$fnFM9$useComposedRefs","direction","$fnFM9$useDirection","$fnFM9$createElement","$fnFM9$Primitive","$fnFM9$babelruntimehelpersesmextends","$57acba87d6e25586$var$VIEWPORT_NAME","$57acba87d6e25586$export$a21cbf9f11fca853","viewportProps","$fnFM9$useRef","$fnFM9$Fragment","$57acba87d6e25586$var$SCROLLBAR_NAME","$57acba87d6e25586$export$2fabd85d0eba3c57","forceMount","scrollbarProps","onScrollbarXEnabledChange","onScrollbarYEnabledChange","isHorizontal","$fnFM9$useEffect","$57acba87d6e25586$var$ScrollAreaScrollbarHover","$57acba87d6e25586$var$ScrollAreaScrollbarScroll","$57acba87d6e25586$var$ScrollAreaScrollbarAuto","$57acba87d6e25586$var$ScrollAreaScrollbarVisible","visible","setVisible","hideTimer","handlePointerEnter","handlePointerLeave","$fnFM9$Presence","debounceScrollEnd","$57acba87d6e25586$var$useDebounceCallback","scrollDirection","prevScrollPos","handleScroll","scrollPos","$fnFM9$composeEventHandlers","handleResize","isOverflowX","isOverflowY","$57acba87d6e25586$var$useResizeObserver","orientation","thumbRef","pointerOffsetRef","sizes","setSizes","thumbRatio","$57acba87d6e25586$var$getThumbRatio","commonProps","thumb","pointerPos","getScrollPosition","$57acba87d6e25586$var$getScrollPositionFromPointer","$57acba87d6e25586$var$ScrollAreaScrollbarX","offset","$57acba87d6e25586$var$getThumbOffsetFromScroll","$57acba87d6e25586$var$ScrollAreaScrollbarY","onSizesChange","computedStyle","setComputedStyle","composeRefs","$57acba87d6e25586$var$ScrollAreaScrollbarImpl","$57acba87d6e25586$var$getThumbSize","maxScrollPos","$57acba87d6e25586$var$isScrollingWithinScrollbarBounds","$57acba87d6e25586$var$toInt","$57acba87d6e25586$var$ScrollbarProvider","$57acba87d6e25586$var$useScrollbarContext","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize","scrollbar","setScrollbar","rectRef","prevWebkitUserSelectRef","handleWheelScroll","$fnFM9$useCallbackRef","handleThumbPositionChange","handleDragScroll","x","y","handleWheel","element","$57acba87d6e25586$var$THUMB_NAME","$57acba87d6e25586$export$9fba1154677d7cd2","thumbProps","scrollbarContext","$57acba87d6e25586$var$ScrollAreaThumbImpl","style","scrollAreaContext","composedRef","removeUnlinkedScrollListenerRef","$57acba87d6e25586$var$addUnlinkedScrollListener","thumbRect","$57acba87d6e25586$var$CORNER_NAME","$57acba87d6e25586$export$56969d565df7cc4b","hasBothScrollbarsVisible","$57acba87d6e25586$var$ScrollAreaCornerImpl","cornerProps","width1","setWidth","height1","setHeight","hasSize","_context$scrollbarX","height","_context$scrollbarY","width","viewportSize","contentSize","ratio","scrollbarPadding","thumbSize","pointerOffset","thumbSizePx","thumbCenter","thumbOffsetFromEnd","minPointerPos","maxPointerPos","scrollRange","$57acba87d6e25586$var$linearScale","maxThumbPos","scrollClampRange","scrollWithoutMomentum","$fnFM9$clamp","input","output","handler","prevPosition","rAF","loop","position","isHorizontalScroll","isVerticalScroll","delay","handleCallback","debounceTimerRef","$fnFM9$useCallback","$fnFM9$useLayoutEffect","resizeObserver","$57acba87d6e25586$export$be92b6f5f03c0fe9","$57acba87d6e25586$export$d5c6c08dc2d3ca7","$57acba87d6e25586$export$9a4e88b92edfce6b","$57acba87d6e25586$export$6521433ed15a34db","$57acba87d6e25586$export$ac61190d9fc311a9","ScrollArea","ScrollAreaPrimitive.Root","ScrollAreaPrimitive.Viewport","ScrollAreaPrimitive.Scrollbar","ScrollAreaPrimitive.Thumb","ScrollAreaPrimitive.Corner","MotionConfigContext","createContext","MotionContext","PresenceContext","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","LazyContext","camelToDash","str","optimizedAppearDataId","optimizedAppearDataAttribute","MotionGlobalConfig","Queue","process","createRenderStep","runNextFrame","thisFrame","nextFrame","numToRun","isProcessing","flushNextFrame","toKeepAlive","step","keepAlive","immediate","addToCurrentFrame","queue","frameData","i","stepsOrder","maxElapsed","createRenderBatcher","scheduleNextBatch","allowKeepAlive","useDefaultElapsed","steps","acc","processStep","stepId","processBatch","timestamp","wake","microtask","cancelMicrotask","useVisualElement","visualState","createVisualElement","parent","lazyContext","presenceContext","reducedMotionConfig","visualElementRef","useRef","visualElement","useInsertionEffect","wantsHandoff","isRefObject","useMotionRef","externalRef","useCallback","instance","isVariantLabel","isAnimationControls","variantPriorityOrder","variantProps","isControllingVariants","name","isVariantNode","getCurrentTreeVariants","initial","animate","useCreateMotionContext","useMemo","variantLabelsAsDependency","prop","featureProps","featureDefinitions","loadFeatures","features","LayoutGroupContext","SwitchLayoutGroupContext","motionComponentSymbol","createMotionComponent","preloadedFeatures","useRender","useVisualState","MotionComponent","MeasureLayout","configAndProps","useLayoutId","isStatic","initialLayoutGroupConfig","isStrict","React.createElement","ForwardRefComponent","layoutId","layoutGroupId","createMotionProxy","createConfig","custom","customMotionComponentConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","scaleCorrectors","addScaleCorrector","correctors","transformPropOrder","transformProps","isForcedMotionValue","layout","isMotionValue","translateAlias","numTransforms","buildTransform","transform","enableHardwareAcceleration","allowTransformNone","transformIsDefault","transformTemplate","transformString","transformName","checkStringStartsWith","token","isCSSVariableName","isCSSVariableToken","cssVariableRegex","getValueAsType","clamp","number","alpha","sanitize","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","degrees","percent","px","vh","vw","progressPercentage","int","numberValueTypes","buildHTMLStyles","latestValues","vars","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","originX","originY","originZ","createHtmlRenderState","copyRawValuesOnly","source","useInitialMotionValues","useStyle","styleProp","useHTMLProps","htmlProps","validMotionProps","isValidMotionProp","shouldForward","loadExternalIsValidProp","isValidProp","filterProps","isDom","forwardMotionProps","filteredProps","calcOrigin","origin","calcSVGTransformOrigin","dimensions","pxOriginX","pxOriginY","dashKeys","camelKeys","buildSVGPath","length","useDashCase","keys","pathLength","pathSpacing","buildSVGAttrs","attrX","attrY","attrScale","pathOffset","latest","isSVGTag","createSvgRenderState","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","elementProps","renderedChildren","renderHTML","projection","camelCaseAttributes","renderSVG","renderState","_styleProp","scrapeMotionValuesFromProps","prevProps","newValues","scrapeMotionValuesFromProps$1","targetKey","resolveVariantFromProps","definition","currentValues","currentVelocity","useConstant","init","isKeyframesTarget","isCustomValue","resolveFinalValueInKeyframes","resolveMotionValue","unwrappedValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","make","scrapeMotionValues","values","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","resolved","transitionEnd","transition","valueTarget","noop","any","frame","cancelFrame","svgMotionConfig","htmlMotionConfig","createDomMotionConfig","addDomEvent","eventName","isPrimaryPointer","extractEventInfo","pointType","addPointerInfo","addPointerEvent","combineFunctions","pipe","transformers","createLock","lock","openLock","globalHorizontalLock","globalVerticalLock","getGlobalLock","drag","openHorizontal","openVertical","isDragActive","openGestureLock","Feature","addHoverEvent","isActive","callbackName","handleEvent","info","HoverGesture","FocusGesture","isFocusVisible","isNodeOrChild","fireSyntheticPointerEvent","syntheticPointerEvent","PressGesture","startEvent","startInfo","removePointerUpListener","endEvent","endInfo","onTap","onTapCancel","globalTapTarget","removePointerCancelListener","cancelEvent","cancelInfo","handleKeydown","keydownEvent","handleKeyup","keyupEvent","removeKeydownListener","handleBlur","removeBlurListener","onTapStart","whileTap","removePointerListener","removeFocusListener","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","entries","initIntersectionObserver","root","lookupRoot","rootObservers","observeIntersection","rootInteresectionObserver","thresholdNames","InViewFeature","rootMargin","amount","once","onIntersectionUpdate","isIntersecting","onViewportEnter","onViewportLeave","hasViewportOptionChanged","prevViewport","gestureAnimations","shallowCompare","next","prev","prevLength","getCurrent","current","getVelocity","velocity","resolveVariant","invariant","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","instantAnimationState","isBezierDefinition","easing","isWaapiSupportedEasing","supportedWaapiEasing","cubicBezierAsString","mapEasingToNativeEasing","animateStyle","valueName","keyframes","duration","repeat","repeatType","ease","times","keyframeOptions","getFinalKeyframe","calcBezier","a1","a2","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","lowerBound","upperBound","mX1","mX2","currentX","currentT","cubicBezier","mY1","mY2","getTForX","aX","easeIn","easeOut","easeInOut","isEasingArray","mirrorEasing","reverseEasing","circIn","circOut","circInOut","backOut","backIn","backInOut","anticipate","easingLookup","easingDefinitionToFunction","x1","y1","x2","y2","isColorString","testProp","splitColor","aName","bName","cName","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","parseHex","hex","hsla","hue","saturation","lightness","from","to","progress","hueToRgb","hslaToRgba","mixLinearColor","fromExpo","colorTypes","getColorType","asRGBA","model","mixColor","fromRGBA","toRGBA","blended","test","cssVarTokeniser","colorTokeniser","numberTokeniser","tokenise","regex","countKey","parse","matches","analyseComplexValue","originalValue","parseComplexValue","createTransformer","numColors","numVars","tokenised","numValues","convertNumbersToZero","getAnimatableNone","complex","mixImmediate","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","template","originStats","targetStats","toFromDifference","mixNumber","detectMixerFactory","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","isClamp","inputLength","interpolator","progressInRange","fillOffset","remaining","offsetProgress","defaultOffset","arr","convertOffsetToTimes","defaultEasing","keyframeValues","easingFunctions","absoluteTimes","mapTimeToKeyframe","velocityPerSecond","frameDuration","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","initialGuess","approximateRoot","stiffness","rootIterations","durationKeys","physicsKeys","isSpringType","getSpringOptions","springOptions","derived","spring","restDelta","restSpeed","damping","isResolvedFromDuration","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","dampedAngularFreq","freqForT","isBelowVelocityThreshold","isBelowDisplacementThreshold","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","isOutOfBounds","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","clearTime","newTime","frameloopDriver","passTimestamp","maxGeneratorDuration","calcGeneratorDuration","generator","timeStep","types","animateValue","autoplay","driver","keyframes$1","repeatDelay","onPlay","onStop","onComplete","onUpdate","speed","hasStopped","resolveFinishedPromise","currentFinishedPromise","updateFinishedPromise","animationDriver","generatorFactory","mapNumbersToKeyframes","mirroredGenerator","playState","holdTime","startTime","cancelTime","calculatedDuration","resolvedDuration","totalDuration","currentTime","tick","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","iterationProgress","isAnimationFinished","finish","stopAnimationDriver","cancel","play","controls","reject","newSpeed","memo","supportsWaapi","acceleratedValues","sampleDelta","requiresPregeneratedKeyframes","createAcceleratedAnimation","pendingCancel","sampleAnimation","pregeneratedKeyframes","animation","cancelAnimation","safeCancel","timeline","createInstantAnimation","setValue","underDampedSpring","criticallyDampedSpring","keyframesTransition","getDefaultTransition","valueKey","isAnimatable","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","filter","functions","defaultValueTypes","getDefaultValueType","defaultValueType","isZeroValueString","isNone","getKeyframes","isTargetAnimatable","defaultOrigin","animatableTemplateValue","noneKeyframeIndexes","isTransitionDefined","when","_delay","delayChildren","staggerChildren","staggerDirection","getValueTransition","animateMotionValue","valueTransition","originKeyframe","targetKeyframe","isOriginAnimatable","acceleratedAnimation","isWillChangeMotionValue","isNumericalString","addUniqueItem","removeItem","SubscriptionManager","numSubscriptions","MAX_VELOCITY_DELTA","isFloat","MotionValue","render","prevFrameValue","subscription","unsubscribe","eventManagers","passiveEffect","stopPassiveEffect","startAnimation","motionValue","testValueType","auto","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","setTarget","checkTargetForNewValues","newValueKeys","numNewValues","targetValue","getOriginFromTransition","getOrigin","transitionOrigin","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","hasKeyframesChanged","animateTarget","transitionOverride","willChange","animations","animationTypeState","appearId","canSkip","animateVariant","variant","getAnimation","getChildAnimations","forwardDelay","animateChildren","first","last","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateVisualElement","resolvedDefinition","reversePriorityOrder","numAnimationTypes","animateList","createAnimationState","createState","isInitialRender","buildResolvedTypeValues","setAnimateFunction","makeAnimator","animateChanges","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isInherited","shouldAnimateType","checkVariantsDidChange","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","valueHasChanged","fallbackAnimation","fallbackTarget","shouldAnimate","setActive","createTypeState","AnimationFeature","prevAnimate","ExitAnimationFeature","isPresent","onExitComplete","prevIsPresent","exitAnimation","register","distance","distance2D","xDelta","yDelta","PanSession","handlers","transformPagePoint","contextWindow","dragSnapToOrigin","getPanInfo","isPanStarted","isDistancePastThreshold","point","onStart","onMove","transformPoint","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","subtractPoint","history","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","calcLength","axis","isNear","maxDistance","calcAxisDelta","calcBoxDelta","calcRelativeAxis","relative","calcRelativeBox","calcRelativeAxisPosition","calcRelativePosition","applyConstraints","elastic","calcRelativeAxisConstraints","calcRelativeConstraints","layoutBox","top","left","bottom","right","calcViewportAxisConstraints","layoutAxis","constraintsAxis","calcViewportConstraints","constraintsBox","sourceLength","targetLength","rebaseAxisConstraints","constraints","relativeConstraints","defaultElastic","resolveDragElastic","dragElastic","resolveAxisElastic","minLabel","maxLabel","resolvePointElastic","createAxisDelta","createDelta","createAxis","createBox","eachAxis","convertBoundingBoxToBox","convertBoxToBoundingBox","transformBoxPoints","topLeft","bottomRight","isIdentityScale","hasScale","scaleX","scaleY","has2DTranslate","is2DTranslate","scalePoint","originPoint","distanceFromOrigin","scaled","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","box","applyTreeDeltas","treeScale","treePath","isSharedTransition","treeLength","transformBox","snapToDefault","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","measureViewportBox","measurePageBox","rootProjectionNode","viewportBox","scroll","getContextWindow","elementDragControls","VisualElementDragControls","originEvent","snapToCursor","dragPropagation","onDragStart","measuredAxis","animationState","dragDirectionLock","onDirectionLock","onDrag","getCurrentDirection","isDragging","onDragEnd","_point","shouldDrag","axisValue","dragConstraints","prevConstraints","onMeasureDragConstraints","constraintsElement","measuredConstraints","userConstraints","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","dragKey","externalMotionValue","boxProgress","stopPointerListener","dragListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","currentDirection","lockThreshold","DragGesture","dragControls","asyncHandler","PanGesture","pointerDownEvent","onPanSessionStart","onPanStart","onPan","onPanEnd","usePresence","useId","globalProjectionState","pixelsToPercent","pixels","correctBorderRadius","correctBoxShadow","projectionDelta","original","shadow","xScale","yScale","averageScale","MeasureLayoutWithContext","React__default","layoutGroup","switchLayoutGroup","defaultScaleCorrectors","layoutDependency","stack","promoteContext","safeToRemove","borders","numBorders","asNumber","isPx","mixValues","follow","lead","shouldCrossfadeOpacity","isOnlyMember","easeCrossfadeIn","easeCrossfadeOut","borderLabel","followRadius","getRadius","leadRadius","radiusName","compress","copyAxisInto","originAxis","copyBoxInto","originBox","removePointDelta","removeAxisDelta","sourceAxis","removeAxisTransforms","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEquals","boxEqualsRounded","aspectRatio","NodeStack","prevLead","indexOfNode","member","preserveFollowOpacity","crossfade","resumingFrom","buildProjectionTransform","latestTransform","xTranslate","yTranslate","rotate","rotateX","rotateY","elementScaleX","elementScaleY","compareByDepth","FlatTree","timeout","start","checkElapsed","record","isSVGElement","animateSingleValue","motionValue$1","transformAxes","hiddenVisibility","animationTarget","projectionFrameData","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","subscriptionManager","isLayoutDirty","cancelDelay","resizeUnblockUpdate","finishAnimation","hasRelativeTargetChanged","newLayout","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","hasOnlyRelativeTargetChanged","animationOptions","resetRotation","shouldNotifyListeners","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","updateLayout","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","prevLayout","phase","needsMeasurement","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","roundBox","boxWithoutScroll","rootScroll","transformOnly","withTransforms","boxWithoutTransform","nodeBox","forceRecalculation","isShared","relativeParent","prevTreeScaleX","prevTreeScaleY","prevProjectionTransform","notifyAll","snapshot","snapshotLatestValues","mixedValues","targetDelta","relativeLayout","snapshotSource","layoutSource","isSharedLayoutAnimation","hasOpacityCrossfade","prevRelativeTarget","mixAxisDelta","mixBox","targetWithTransforms","shouldAnimatePositionOnly","xLength","yLength","needsReset","hasRotate","resetValues","emptyStyles","valuesToRender","correct","applyTo","corrected","num","measuredLayout","animationType","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","mixAxis","userAgentContains","roundPoint","roundAxis","DocumentProjectionNode","notify","HTMLProjectionNode","documentNode","splitCSSVariableRegex","parseCSSVariable","match","fallback","getVariableValue","depth","trimmed","resolveCSSVariables","positionalKeys","isPositionalKey","hasPositionalKey","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","removeNonTranslationalTransform","removedTransforms","positionalValues","paddingLeft","paddingRight","paddingTop","paddingBottom","convertChangedValueTypes","changedKeys","originBbox","elementComputedStyle","display","targetBbox","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","fromType","toType","numKeyframes","fromIndex","scrollY","convertedTarget","unitConversion","parseDomVariant","prefersReducedMotion","hasReducedMotionListener","initPrefersReducedMotion","motionMediaQuery","setReducedMotionPreferences","updateMotionValuesFromProps","nextValue","prevValue","existingValue","latestValue","visualElementStore","featureNames","numFeatures","propEventHandlers","numVariantProps","VisualElement","initialMotionValues","_props","_prevProps","remove","valueIsTransform","removeOnChange","removeOnRenderRequest","other","renderedProps","ProjectionNodeConstructor","isEnabled","FeatureConstructor","ProjectionNode","MeasureLayoutComponent","layoutScroll","layoutRoot","feature","canMutate","startAtParent","closestVariantNode","valueFromInitial","DOMVisualElement","isMounted","getComputedStyle","HTMLVisualElement","defaultType","SVGVisualElement","createDomVisualElement","motion","useIsMounted","useForceUpdate","forcedRenderCount","setForcedRenderCount","useState","forceRender","PopChildMeasure","React.Component","PopChild","React.cloneElement","PresenceChild","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","childId","isComplete","_","React.useEffect","useUnmountEffect","getChildKey","updateChildLookup","allChildren","onlyElements","Children","isValidElement","AnimatePresence","exitBeforeEnter","filteredChildren","childrenToRender","exitingChildren","presentChildren","React.Fragment","presentKeys","targetKeys","numPresent","component","insertionIndex","exitingComponent","onExit","leftOverKeys","childKey","leftOverKey","presentChild","presentChildKey","cloneElement","$addc16e1bbe58fd0$export$3a72a57244d6e765","onEscapeKeyDownProp","ownerDocument","onEscapeKeyDown","$hPSQ5$useCallbackRef","$hPSQ5$useEffect","handleKeyDown","$5cb92bef7577960e$var$CONTEXT_UPDATE","$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE","$5cb92bef7577960e$var$FOCUS_OUTSIDE","$5cb92bef7577960e$var$originalBodyPointerEvents","$5cb92bef7577960e$var$DismissableLayerContext","$kqwpH$createContext","$5cb92bef7577960e$export$177fb62ff3ec1f22","$kqwpH$forwardRef","_node$ownerDocument","disableOutsidePointerEvents","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","$kqwpH$useContext","$kqwpH$useState","force","$kqwpH$useComposedRefs","layers","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","isBodyPointerEventsDisabled","isPointerEventsEnabled","pointerDownOutside","$5cb92bef7577960e$var$usePointerDownOutside","isPointerDownOnBranch","branch","focusOutside","$5cb92bef7577960e$var$useFocusOutside","$kqwpH$useEscapeKeydown","$kqwpH$useEffect","$5cb92bef7577960e$var$dispatchUpdate","handleUpdate","$kqwpH$createElement","$kqwpH$Primitive","$kqwpH$babelruntimehelpersesmextends","$kqwpH$composeEventHandlers","$5cb92bef7577960e$export$4d5eb2109db14228","$kqwpH$useRef","handlePointerDownOutside","$kqwpH$useCallbackRef","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","handleAndDispatchPointerDownOutsideEvent","$5cb92bef7577960e$var$handleAndDispatchCustomEvent","eventDetail","timerId","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","detail","discrete","$kqwpH$dispatchDiscreteCustomEvent","$5cb92bef7577960e$export$be92b6f5f03c0fe9","$5cb92bef7577960e$export$aecb2ddcb55c95be","$1746a345f3d73bb7$var$useReactId","$2AODx$react","$1746a345f3d73bb7$var$count","$1746a345f3d73bb7$export$f680877a34711e37","deterministicId","setId","$2AODx$react.useState","$2AODx$useLayoutEffect","reactId","sides","round","floor","createCoords","oppositeSideMap","oppositeAlignmentMap","end","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","getAxisLength","getSideAxis","getAlignmentAxis","getAlignmentSides","rects","rtl","alignment","alignmentAxis","mainAlignmentSide","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","getSideList","side","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","list","expandPaddingObject","getPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","_ref","reference","floating","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition","strategy","middleware","platform","validMiddleware","statefulPlacement","middlewareData","resetCount","fn","nextX","nextY","reset","detectOverflow","_await$platform$isEle","elements","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","offsetParent","offsetScale","elementClientRect","arrow","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","alignmentOffset","flip","_middlewareData$arrow","_middlewareData$flip","initialPlacement","checkMainAxis","checkCrossAxis","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","initialSideAxis","isBasePlacement","fallbackPlacements","hasFallbackAxisSideDirection","placements","overflow","overflows","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$filter2","currentSideAxis","getSideOffsets","isAnySideFullyClipped","hide","offsets","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","_middlewareData$offse","diffCoords","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","_state$middlewareData","_state$middlewareData2","apply","heightSide","widthSide","maximumClippingHeight","maximumClippingWidth","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","xMin","xMax","yMin","yMax","nextDimensions","hasWindow","getNodeName","isNode","getWindow","getDocumentElement","isElement","isHTMLElement","isShadowRoot","isOverflowElement","overflowX","overflowY","isTableElement","isTopLayer","selector","isContainingBlock","elementOrCss","webkit","isWebKit","css","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","getNodeScroll","getNearestOverflowAncestor","parentNode","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","getCssDimensions","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","getScale","domElement","$","noOffsets","getVisualOffsets","shouldAddVisualOffsets","isFixed","floatingOffsetParent","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","getWindowScrollBarX","leftScroll","getHTMLOffset","documentElement","ignoreScrollbarX","htmlRect","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","isOffsetParentAnElement","offsetRect","htmlOffset","getClientRects","getDocumentRect","html","getViewportRect","visualViewport","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","el","currentContainingBlockComputedStyle","elementIsFixed","currentNodeIsContaining","ancestor","getClippingRect","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getElementRects","getOffsetParentFn","getDimensionsFn","floatingDimensions","isRTL","observeMove","io","timeoutId","cleanup","_io","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","isFirstUpdate","handleObserve","autoUpdate","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","referenceEl","ancestors","cleanupIo","reobserveFrame","firstEntry","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","offset$1","shift$1","flip$1","size$1","hide$1","arrow$1","limitShift$1","mergedOptions","platformWithCache","computePosition$1","deepEqual","getDPR","roundByDPR","dpr","useLatestRef","React.useRef","useFloating","externalReference","externalFloating","whileElementsMounted","setData","React.useState","latestMiddleware","setLatestMiddleware","_reference","_setReference","_floating","_setFloating","setReference","React.useCallback","referenceRef","setFloating","floatingRef","floatingEl","dataRef","hasWhileElementsMounted","whileElementsMountedRef","platformRef","openRef","fullData","isMountedRef","ReactDOM.flushSync","React.useMemo","floatingStyles","initialStyles","isRef","arrow$2","deps","$7e8f5cd07187803e$export$21b07c8f274aebd5","$jbnEx$forwardRef","arrowProps","$jbnEx$createElement","$jbnEx$Primitive","$jbnEx$babelruntimehelpersesmextends","$7e8f5cd07187803e$export$be92b6f5f03c0fe9","$db6c3485150b8e66$export$1ab7ae714698c4b8","setSize","$9gyGR$useState","$9gyGR$useLayoutEffect","borderSizeEntry","borderSize","$cf1ac5d9fe0e8206$var$POPPER_NAME","$cf1ac5d9fe0e8206$var$createPopperContext","$cf1ac5d9fe0e8206$export$722aac194ae923","$kY93V$createContextScope","$cf1ac5d9fe0e8206$var$PopperProvider","$cf1ac5d9fe0e8206$var$usePopperContext","$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9","__scopePopper","anchor","setAnchor","$kY93V$useState","$kY93V$createElement","$cf1ac5d9fe0e8206$var$ANCHOR_NAME","$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d","$kY93V$forwardRef","virtualRef","anchorProps","$kY93V$useRef","$kY93V$useComposedRefs","$kY93V$useEffect","$kY93V$Primitive","$kY93V$babelruntimehelpersesmextends","$cf1ac5d9fe0e8206$var$CONTENT_NAME","$cf1ac5d9fe0e8206$var$PopperContentProvider","$cf1ac5d9fe0e8206$var$useContentContext","$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc","_arrowSize$width","_arrowSize$height","_middlewareData$arrow2","_middlewareData$arrow3","_middlewareData$trans","_middlewareData$trans2","_middlewareData$hide","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPaddingProp","sticky","hideWhenDetached","updatePositionStrategy","onPlaced","contentProps","setArrow","arrowSize","$kY93V$useSize","arrowWidth","arrowHeight","desiredPlacement","collisionPadding","hasExplicitBoundaries","$cf1ac5d9fe0e8206$var$isNotNull","isPositioned","$kY93V$useFloating","$kY93V$autoUpdate","$kY93V$offset","$kY93V$shift","$kY93V$limitShift","$kY93V$flip","$kY93V$size","anchorWidth","anchorHeight","contentStyle","$kY93V$arrow","$cf1ac5d9fe0e8206$var$transformOrigin","$kY93V$hide","placedSide","placedAlign","$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement","handlePlaced","$kY93V$useCallbackRef","$kY93V$useLayoutEffect","arrowX","arrowY","cannotCenterArrow","contentZIndex","setContentZIndex","$cf1ac5d9fe0e8206$var$ARROW_NAME","$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE","$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0","contentContext","baseSide","$kY93V$Root","_middlewareData$arrow4","_middlewareData$arrow5","_middlewareData$arrow6","_middlewareData$arrow7","_middlewareData$arrow8","isArrowHidden","noArrowAlign","arrowXCenter","arrowYCenter","$cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9","$cf1ac5d9fe0e8206$export$b688253958b8dfe7","$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2","$cf1ac5d9fe0e8206$export$21b07c8f274aebd5","$f1701beae083dbae$export$602eac185826482c","$7SXl2$forwardRef","_globalThis$document","container","portalProps","$7SXl2$reactdom","$7SXl2$createElement","$7SXl2$Primitive","$7SXl2$babelruntimehelpersesmextends","$71cd76cc60e0454e$export$6f32135080cb4c3","defaultProp","onChange","uncontrolledProp","setUncontrolledProp","$71cd76cc60e0454e$var$useUncontrolledState","isControlled","value1","handleChange","$bnPw9$useCallbackRef","$bnPw9$useCallback","uncontrolledState","$bnPw9$useState","prevValueRef","$bnPw9$useRef","$bnPw9$useEffect","$ea1ef594cf570d83$export$439d29a4e110a164","$kVwnw$forwardRef","$kVwnw$createElement","$kVwnw$Primitive","$kVwnw$babelruntimehelpersesmextends","$ea1ef594cf570d83$export$be92b6f5f03c0fe9","$a093c7e1ec25a057$var$createTooltipContext","$a093c7e1ec25a057$export$1c540a2224f0d865","$8wepK$createContextScope","$8wepK$createPopperScope","$a093c7e1ec25a057$var$usePopperScope","$a093c7e1ec25a057$var$PROVIDER_NAME","$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION","$a093c7e1ec25a057$var$TOOLTIP_OPEN","$a093c7e1ec25a057$var$TooltipProviderContextProvider","$a093c7e1ec25a057$var$useTooltipProviderContext","$a093c7e1ec25a057$export$f78649fb9ca566b8","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","isOpenDelayed","setIsOpenDelayed","$8wepK$useState","isPointerInTransitRef","$8wepK$useRef","skipDelayTimerRef","$8wepK$useEffect","skipDelayTimer","$8wepK$createElement","$8wepK$useCallback","inTransit","$a093c7e1ec25a057$var$TOOLTIP_NAME","$a093c7e1ec25a057$var$TooltipContextProvider","$a093c7e1ec25a057$var$useTooltipContext","$a093c7e1ec25a057$export$28c660c63b792dea","openProp","defaultOpen","onOpenChange","disableHoverableContentProp","delayDurationProp","providerContext","popperScope","trigger","setTrigger","contentId","$8wepK$useId","openTimerRef","wasOpenDelayedRef","open1","setOpen","$8wepK$useControllableState","stateAttribute","$8wepK$useMemo","handleOpen","handleClose","handleDelayedOpen","$8wepK$Root","$a093c7e1ec25a057$var$TRIGGER_NAME","$a093c7e1ec25a057$export$8c610744efcf8a1d","$8wepK$forwardRef","triggerProps","$8wepK$useComposedRefs","isPointerDownRef","hasPointerMoveOpenedRef","handlePointerUp","$8wepK$Anchor","$8wepK$babelruntimehelpersesmextends","$8wepK$Primitive","$8wepK$composeEventHandlers","$a093c7e1ec25a057$var$PORTAL_NAME","$a093c7e1ec25a057$var$PortalProvider","$a093c7e1ec25a057$var$usePortalContext","$a093c7e1ec25a057$export$7b36b8f925ab7497","$8wepK$Presence","$8wepK$Portal","$a093c7e1ec25a057$var$CONTENT_NAME","$a093c7e1ec25a057$export$e9003e2be37ec060","portalContext","$a093c7e1ec25a057$var$TooltipContentImpl","$a093c7e1ec25a057$var$TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","onClose","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","currentTarget","exitPoint","exitSide","$a093c7e1ec25a057$var$getExitSideFromRect","paddedExitPoints","$a093c7e1ec25a057$var$getPaddedExitPoints","hoverTargetPoints","$a093c7e1ec25a057$var$getPointsFromRect","graceArea","$a093c7e1ec25a057$var$getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","$a093c7e1ec25a057$var$isPointInPolygon","$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider","$a093c7e1ec25a057$var$useVisuallyHiddenContentContext","ariaLabel","$8wepK$DismissableLayer","$8wepK$Content","$8wepK$Slottable","$8wepK$Root1","$a093c7e1ec25a057$var$ARROW_NAME","$a093c7e1ec25a057$export$c27ee0ad710f7559","$8wepK$Arrow","polygon","inside","j","xi","yi","xj","yj","points","newPoints","$a093c7e1ec25a057$var$getHullPresorted","upperHull","lowerHull","i1","$a093c7e1ec25a057$export$2881499e37b75b9a","$a093c7e1ec25a057$export$be92b6f5f03c0fe9","$a093c7e1ec25a057$export$41fb9f06171c75f4","$a093c7e1ec25a057$export$602eac185826482c","$a093c7e1ec25a057$export$7c6e2c02157bb7d2","$a093c7e1ec25a057$export$21b07c8f274aebd5","Tooltip","TooltipPrimitive.Provider","TooltipPrimitive.Root","TooltipPrimitive.Trigger","TooltipPrimitive.Portal","TooltipPrimitive.Content","TooltipPrimitive.Arrow","LoadingIndicator","subText","getIcon","getMessage","degree","tokens","stringify","settings","nameRe","nameReJsx","emptyOptions","re","whitespace","thing","empty","Schema","normal","merge","definitions","normalize","attribute","powers","boolean","increment","booleanish","overloadedBoolean","spaceSeparated","commaSeparated","commaOrSpaceSeparated","checks","DefinedInfo","mask","mark","check","own","xlink","xml","caseSensitiveTransform","attributes","caseInsensitiveTransform","xmlns","aria","svg","valid","dash","cap","find","schema","camelcase","dashes","kebab","$0","hastToReact","htmlBase","svgBase","COMMENT_REGEX","NEWLINE_REGEX","WHITESPACE_REGEX","PROPERTY_REGEX","COLON_REGEX","VALUE_REGEX","SEMICOLON_REGEX","TRIM_REGEX","NEWLINE","FORWARD_SLASH","ASTERISK","EMPTY_STRING","TYPE_COMMENT","TYPE_DECLARATION","inlineStyleParser","lineno","column","updatePosition","Position","msg","err","comments","rules","comment","declaration","val","ret","trim","declarations","decls","decl","__importDefault","this","mod","cjs","_default","StyleToObject","inline_style_parser_1","iterator","styleObject","hasIterator","styleToObject","pointEnd","pointStart","stringifyPosition","VFileMessage","causeOrReason","optionsOrParentOrPlace","reason","legacyCause","emptyMap","dashSomething","tableElements","tableCellElement","docs","toJsxRuntime","tree","filePath","developmentCreate","productionCreate","one","mdxExpression","mdxJsxElement","mdxEsm","text","parentSchema","findComponentFromName","createElementProps","createChildren","addNode","addChildren","expression","assert","crashEstree","createJsxElementProps","jsxDEV","isStaticChildren","alignValue","createProperty","objectExpression","countsByName","count","commas","spaces","parseStyle","transformStylesToCssCasing","replacer","cause","toCamel","allowExpression","identifiers","isIdentifierName","place","domCasing","cssCasing","transformStyleToCssCasing","toDash","$1","urlAttributes","toString","includeImageAlt","includeHtml","all","decodeNamedCharacterReference","characterReference","char","splice","items","chunkStart","parameters","push","hasOwnProperty","combineExtensions","extensions","syntaxExtension","extension","hook","constructs","existing","before","decodeNumericCharacterReference","base","normalizeIdentifier","asciiAlpha","regexCheck","asciiAlphanumeric","asciiAtext","asciiControl","asciiDigit","asciiHexDigit","asciiPunctuation","markdownLineEnding","markdownLineEndingOrSpace","markdownSpace","unicodePunctuation","unicodeWhitespace","normalizeUri","replace","factorySpace","effects","ok","limit","initializeContent","contentStart","afterContentStartConstruct","paragraphInitial","previous","lineStart","document","initializeDocument","containerConstruct","tokenizeContainer","self","continued","childFlow","childToken","lineStartOffset","documentContinue","checkNewContainers","closeFlow","indexBeforeExits","indexBeforeFlow","exitContainers","documentContinued","flowStart","thereIsANewContainer","thereIsNoNewContainer","containerContinue","flowContinue","writeToChild","endOfFile","stream","seen","nok","classifyCharacter","resolveAll","events","called","attention","resolveAllAttention","tokenizeAttention","openingSequence","closingSequence","use","nextEvents","movePoint","attentionMarkers","marker","after","close","autolink","tokenizeAutolink","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","blankLine","tokenizeBlankLine","blockQuote","tokenizeBlockQuoteContinuation","exit","tokenizeBlockQuoteStart","contStart","contBefore","characterEscape","tokenizeCharacterEscape","tokenizeCharacterReference","numeric","nonLazyContinuation","tokenizeNonLazyContinuation","codeFenced","tokenizeCodeFenced","closeStart","tokenizeCloseStart","initialPrefix","sizeOpen","beforeSequenceOpen","tail","sequenceOpen","infoBefore","atNonLazyBreak","metaBefore","meta","contentBefore","beforeContentChunk","contentChunk","startBefore","beforeSequenceClose","sequenceClose","sequenceCloseAfter","codeIndented","tokenizeCodeIndented","furtherStart","tokenizeFurtherStart","afterPrefix","atBreak","codeText","resolveCodeText","tokenizeCodeText","tailExitIndex","headEnterIndex","enter","between","SpliceBuffer","stop","deleteCount","removed","chunkedPush","subtokenize","eventsArray","jumps","lineIndex","otherIndex","otherEvent","subevents","more","subcontent","eventIndex","startPosition","startPositions","tokenizer","childEvents","gaps","adjust","breaks","slice","resolveContent","tokenizeContent","continuationConstruct","tokenizeContinuation","chunkInside","contentEnd","contentContinue","startLookahead","prefixed","factoryDestination","literalType","literalMarkerType","rawType","stringType","balance","enclosedBefore","raw","enclosed","enclosedEscape","rawEscape","factoryLabel","markerType","labelInside","labelEscape","factoryTitle","begin","escape","factoryWhitespace","tokenizeDefinition","titleBefore","tokenizeTitleBefore","identifier","labelAfter","markerAfter","destinationBefore","destinationAfter","afterWhitespace","beforeMarker","titleAfter","titleAfterOptionalWhitespace","hardBreakEscape","tokenizeHardBreakEscape","headingAtx","resolveHeadingAtx","tokenizeHeadingAtx","sequenceFurther","htmlBlockNames","htmlRawNames","htmlFlow","resolveToHtmlFlow","tokenizeHtmlFlow","blankLineBefore","tokenizeBlankLineBefore","nonLazyContinuationStart","tokenizeNonLazyContinuationStart","closingTag","buffer","markerB","declarationOpen","tagCloseStart","continuationDeclarationInside","tagName","commentOpenInside","cdataOpenInside","continuation","slash","basicSelfClosing","completeClosingTagAfter","completeAttributeNameBefore","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCdataInside","continuationAfter","continuationStart","continuationStartNonLazy","continuationBefore","continuationRawEndTag","htmlText","tokenizeHtmlText","returnState","instruction","tagOpen","commentEnd","commentClose","lineEndingBefore","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","lineEndingAfter","lineEndingAfterPrefix","labelEnd","resolveAllLabelEnd","resolveToLabelEnd","tokenizeLabelEnd","resourceConstruct","tokenizeResource","referenceFullConstruct","tokenizeReferenceFull","referenceCollapsedConstruct","tokenizeReferenceCollapsed","newEvents","media","labelStart","defined","labelEndNok","labelEndOk","referenceNotFull","resourceStart","resourceBefore","resourceOpen","resourceEnd","resourceDestinationAfter","resourceDestinationMissing","resourceBetween","resourceTitleAfter","referenceFull","referenceFullAfter","referenceFullMissing","referenceCollapsedStart","referenceCollapsedOpen","labelStartImage","tokenizeLabelStartImage","labelStartLink","tokenizeLabelStartLink","lineEnding","tokenizeLineEnding","thematicBreak","tokenizeThematicBreak","sequence","tokenizeListContinuation","tokenizeListEnd","tokenizeListStart","listItemPrefixWhitespaceConstruct","tokenizeListItemPrefixWhitespace","indentConstruct","tokenizeIndent","initialSize","kind","atMarker","onBlank","endOfPrefix","otherPrefix","notBlank","notInCurrentItem","setextUnderline","resolveToSetextUnderline","tokenizeSetextUnderline","heading","paragraph","flow","initializeFlow","atBlankEnding","afterConstruct","resolver","createResolver","initializeFactory","field","resolveAllLineSuffixes","initializeText","notText","extraResolver","resolveAllText","chunks","bufferIndex","tabs","chunk","contentInitial","flowInitial","insideSpan","resolveText","disable","createTokenizer","parser","initialize","columnStart","resolveAllConstructs","constructFactory","onsuccessfulconstruct","onsuccessfulcheck","consume","defineSkip","sliceSerialize","sliceStream","write","main","addResult","expandTabs","serializeChunks","sliceChunks","_bufferIndex","_index","accountForPotentialSkip","chunkIndex","go","fields","construct","onreturn","bogusState","listOfConstructs","constructIndex","currentConstruct","handleListOfConstructs","handleMapOfConstructs","map","handleConstruct","store","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","restore","startIndex","startBufferIndex","endIndex","endBufferIndex","head","atTab","defaultConstructs","creator","postprocess","search","preprocess","atCarriageReturn","preprocessor","encoding","endPosition","characterEscapeOrReference","decodeString","decode","$2","fromMarkdown","compiler","opener","link","onenterdata","codeFlow","emphasis","hardBreak","image","listItem","onenterlistitemvalue","onenterlistordered","onenterreference","strong","closer","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","onexitdata","onexitcharacterreferencemarker","onexitcharacterreferencevalue","onexitcharacterreference","onexitcodefenced","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","onexitlabeltext","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","onexitresource","onexitsetextheading","onexitsetextheadinglinesequence","onexitsetextheadingtext","configure","compile","resume","listStack","prepareList","defaultOnError","containerBalance","listSpread","firstBlankLineIndex","tailIndex","tailEvent","and","errorHandler","onExitError","siblings","referenceType","fragment","combined","remarkParse","doc","blockquote","properties","strikethrough","footnoteReference","clobberPrefix","safeId","counter","reuseCounter","sup","revert","subtype","suffix","contents","imageReference","inlineCode","linkReference","results","loose","listLoose","listItemLoose","spread","table","rows","firstRow","tableContent","tableRow","cellIndex","cells","cell","tableCell","tab","trimLines","trimLine","ignore","VOID","PRIMITIVE","ARRAY","OBJECT","DATE","REGEXP","MAP","SET","ERROR","BIGINT","env","deserializer","as","out","unpair","object","flags","deserialize","serialized","EMPTY","typeOf","asString","shouldSkip","TYPE","serializer","strict","json","pair","serialize","lossy","structuredClone$1","defaultFootnoteBackContent","rereferenceIndex","defaultFootnoteBackLabel","referenceIndex","footer","footnoteBackContent","footnoteBackLabel","footnoteLabel","footnoteLabelTagName","footnoteLabelProperties","listItems","backReferences","counts","tailTail","structuredClone","convert","castFactory","anyFactory","propsFactory","typeFactory","tests","checkAsRecord","nodeAsRecord","testFunction","looksLikeANode","CONTINUE","EXIT","SKIP","visitParents","visitor","reverse","is","factory","parents","visit","subresult","grandparents","toResult","nodeAsParent","testOrVisitor","visitorOrReverse","maybeReverse","overload","definitionById","footnoteById","footnoteCounts","defaultHandlers","applyData","patch","wrap","handle","shallow","defaultUnknownHandler","nodes","trimMarkdownSpaceStart","hName","hChildren","hProperties","toHast","foot","remarkRehype","destination","file","hastTree","bail","hasOwn","toStr","defineProperty","gOPD","isArray","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","setProperty","getProperty","extend","src","copy","copyIsArray","clone","deep","prototype","trough","fns","pipeline","run","middlewareIndex","middelware","wrapped","fnExpectsCallback","exception","then","minpath","basename","dirname","extname","join","assertPath","seenNonSlash","firstNonSlashEnd","extnameIndex","unmatchedSlash","startPart","startDot","preDotState","segments","joined","absolute","normalizeString","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","minproc","cwd","isUrl","fileUrlOrPath","urlToPath","getPathFromURLPosix","url","pathname","third","order","VFile","isUint8Array","assertNonEmpty","assertPart","stem","part","CallableInstance","proto","Processor","attacher","assertUnfrozen","transformer","realFile","vfile","assertParser","assertCompiler","executor","parseTree","realDone","compileTree","compileResult","looksLikeAValue","complete","assertDone","assertNode","outputTree","resultingTree","attachers","namespace","addPlugin","addList","addPreset","add","plugin","plugins","entryIndex","primary","currentPrimary","isPlainObj","unified","frozen","asyncName","looksLikeAVFile","changelog","emptyPlugins","emptyRemarkRehypeOptions","safeProtocol","deprecations","Markdown","allowedElements","allowElement","components","disallowedElements","rehypePlugins","remarkPlugins","remarkRehypeOptions","skipHtml","unwrapDisallowed","urlTransform","defaultUrlTransform","processor","deprecation","mdastTree","Fragment","colon","questionMark","numberSign","ccount","character","escapeStringRegexp","findAndReplace","ignored","pairs","toPairs","pairIndex","grandparent","change","matchObject","tupleOrList","tuple","toExpression","toFunction","inConstruct","notInConstruct","gfmAutolinkLiteralFromMarkdown","transformGfmAutolinkLiterals","enterLiteralAutolink","enterLiteralAutolinkValue","exitLiteralAutolink","exitLiteralAutolinkEmail","exitLiteralAutolinkHttp","exitLiteralAutolinkWww","gfmAutolinkLiteralToMarkdown","findUrl","findEmail","protocol","domain","isCorrectDomain","parts","splitUrl","atext","trailExec","trail","closingParenIndex","openingParens","closingParens","email","footnoteReferencePeek","gfmFootnoteFromMarkdown","enterFootnoteDefinition","enterFootnoteDefinitionLabelString","enterFootnoteCall","enterFootnoteCallString","exitFootnoteDefinition","exitFootnoteDefinitionLabelString","exitFootnoteCall","exitFootnoteCallString","gfmFootnoteToMarkdown","footnoteDefinition","tracker","subexit","blank","constructsWithoutStrikethrough","handleDelete","peekDelete","gfmStrikethroughFromMarkdown","enterStrikethrough","exitStrikethrough","gfmStrikethroughToMarkdown","defaultStringLength","markdownTable","stringLength","alignments","cellMatrix","sizeMatrix","longestCellByColumn","mostCellsPerRow","rowIndex","row","columnIndex","toAlignment","zwitch","patternInScope","pattern","listInScope","none","_1","longestStreak","substring","expected","formatCodeAsIndented","checkFence","checkQuote","quote","checkEmphasis","encodeCharacterReference","encodeInfo","outside","outsideKind","insideKind","emphasisPeek","betweenHead","betweenTail","formatHeadingAsSetext","literalWithBreak","rank","htmlPeek","imagePeek","imageReferencePeek","alt","inlineCodePeek","formatLinkAsAutolink","linkPeek","linkReferencePeek","checkBullet","checkBulletOther","bullet","bulletOther","checkBulletOrdered","checkRule","bulletCurrent","useDifferentMarker","firstListItem","checkListItemIndent","listItemIndent","phrasing","checkStrong","strongPeek","checkRuleRepetition","repetition","gfmTableFromMarkdown","enterTable","enterCell","enterRow","exitCodeText","exitTable","gfmTableToMarkdown","alignDelimiters","around","inlineCodeWithTable","handleTable","handleTableCell","handleTableRow","serializeData","handleTableAsData","handleTableRowAsData","gfmTaskListItemFromMarkdown","exitCheck","exitParagraphWithTaskListItem","gfmTaskListItemToMarkdown","listItemWithTaskListItem","firstParaghraph","sibling","checkable","checkbox","gfmFromMarkdown","gfmToMarkdown","wwwPrefix","tokenizeWwwPrefix","tokenizeDomain","tokenizePath","tokenizeTrail","emailDomainDotTrail","tokenizeEmailDomainDotTrail","wwwAutolink","tokenizeWwwAutolink","previousWww","protocolAutolink","tokenizeProtocolAutolink","previousProtocol","emailAutolink","tokenizeEmailAutolink","previousEmail","gfmAutolinkLiteral","dot","gfmAtext","previousUnbalanced","emailDomain","emailDomainAfter","emailDomainDot","wwwStart","wwwAfter","protocolStart","protocolPrefixInside","protocolSlashesInside","afterProtocol","protocolAfter","wwwPrefixInside","wwwPrefixAfter","underscoreInLastSegment","underscoreInLastLastSegment","domainInside","domainAfter","domainAtPunctuation","sizeClose","pathInside","pathAtPunctuation","trailCharacterReferenceStart","trailBracketAfter","trailCharacterReferenceInside","indent","gfmFootnote","tokenizeDefinitionStart","tokenizeDefinitionContinuation","gfmFootnoteDefinitionEnd","tokenizeGfmFootnoteCall","tokenizePotentialGfmFootnoteCall","resolveToPotentialGfmFootnoteCall","call","replacement","callStart","callData","callEscape","labelAtMarker","whitespaceAfter","gfmStrikethrough","single","tokenizeStrikethrough","resolveAllStrikethrough","EditMap","addImplementation","vecs","editMap","at","gfmTableAlign","inDelimiterRow","alignIndex","gfmTable","tokenizeTable","resolveTable","sizeB","bodyRowStart","headRowBefore","headRowStart","headRowBreak","headDelimiterStart","headRowData","headRowEscape","headDelimiterBefore","headDelimiterValueBefore","headDelimiterCellBefore","headDelimiterNok","headDelimiterLeftAlignmentAfter","headDelimiterCellAfter","headDelimiterFiller","headDelimiterRightAlignmentAfter","bodyRowBreak","bodyRowData","bodyRowEscape","inFirstCellAwaitingPipe","rowKind","lastCell","afterHeadAwaitingFirstBodyRow","lastTableEnd","currentTable","currentBody","currentCell","flushTableEnd","flushCell","range","rowEnd","previousCell","groupName","getPoint","relatedStart","relatedEnd","valueToken","tableBody","exits","related","tasklistCheck","tokenizeTasklistCheck","gfmTaskListItem","spaceThenNonSpace","gfm","remarkGfm","micromarkExtensions","fromMarkdownExtensions","toMarkdownExtensions","parseSelector","defaultTagName","subvalue","createH","caseSensitive","createAdjustMap","isChild","addProperty","addChild","parsePrimitive","finalResult","svgCaseSensitiveTagNames","s","location","indices","toOffset","toPoint","eol","cr","lf","webNamespaces","fromParse5","quirksMode","loc","startTag","endTag","createLocation","opening","closing","doctype","toParse5","currentSchema","htmlVoidElements","UNDEFINED_CODE_POINTS","REPLACEMENT_CHARACTER","CODE_POINTS","SEQUENCES","isSurrogate","cp","isSurrogatePair","getSurrogatePairCodePoint","cp1","cp2","isControlCodePoint","isUndefinedCodePoint","ERR","DEFAULT_BUFFER_WATERLINE","Preprocessor","cpOffset","col","startCol","startOffset","nextCp","isLastChunk","TokenType","getTokenAttr","attrName","htmlDecodeTree","xmlDecodeTree","decodeMap","fromCodePoint","codePoint","replaceCodePoint","CharCodes","TO_LOWER_BIT","BinTrieFlags","isHexadecimalCharacter","isAsciiAlphaNumeric","isEntityInAttributeInvalidEnd","EntityDecoderState","DecodingMode","EntityDecoder","decodeTree","emitCodePoint","errors","decodeMode","digitCount","startIdx","lastCp","expectedLength","valueLength","determineBranch","consumed","getDecoder","lastIndex","nodeIdx","branchCount","jumpOffset","lo","hi","mid","midVal","NS","ATTRS","DOCUMENT_MODE","TAG_NAMES","TAG_ID","TAG_NAME_TO_ID","getTagID","SPECIAL_ELEMENTS","NUMBERED_HEADERS","State","TokenizerMode","isAsciiDigit","isAsciiUpper","isAsciiLower","isAsciiLetter","toAsciiLower","isWhitespace","isScriptDataDoubleEscapeSequenceEnd","getErrorForNumericCharacterReference","Tokenizer","writeCallback","initialName","chars","attrNameFirstCh","attrLocations","ct","nextLocation","ch","_cp","$$","IMPLICIT_END_TAG_REQUIRED","IMPLICIT_END_TAG_REQUIRED_THOROUGHLY","SCOPING_ELEMENTS_HTML","SCOPING_ELEMENTS_HTML_LIST","SCOPING_ELEMENTS_HTML_BUTTON","SCOPING_ELEMENTS_MATHML","SCOPING_ELEMENTS_SVG","TABLE_ROW_CONTEXT","TABLE_BODY_CONTEXT","TABLE_CONTEXT","TABLE_CELLS","OpenElementStack","treeAdapter","tagID","popped","oldElement","idx","referenceElement","newElementID","insertionIdx","targetIdx","tagNames","targetNS","elementIdx","htmlScope","tn","exclusionId","NOAH_ARK_CAPACITY","EntryType","MARKER","FormattingElementList","neAttrs","candidates","neAttrsLength","neTagName","neNamespaceURI","elementAttrs","neAttrsMap","neAttr","validCandidates","candidate","cAttr","bookmarkIdx","markerIdx","defaultTreeAdapter","namespaceURI","newNode","referenceNode","templateElement","contentElement","publicId","systemId","doctypeNode","prevNode","recipient","recipientAttrsMap","attr","textNode","commentNode","endLocation","VALID_DOCTYPE_NAME","VALID_SYSTEM_ID","QUIRKS_MODE_SYSTEM_ID","QUIRKS_MODE_PUBLIC_ID_PREFIXES","QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES","QUIRKS_MODE_PUBLIC_IDS","LIMITED_QUIRKS_PUBLIC_ID_PREFIXES","LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES","hasPrefix","prefixes","isConforming","getDocumentMode","MIME_TYPES","DEFINITION_URL_ATTR","ADJUSTED_DEFINITION_URL_ATTR","SVG_ATTRS_ADJUSTMENT_MAP","XML_ATTRS_ADJUSTMENT_MAP","SVG_TAG_NAMES_ADJUSTMENT_MAP","EXITS_FOREIGN_CONTENT","causesExit","startTagToken","adjustTokenMathMLAttrs","adjustTokenSVGAttrs","adjustedAttrName","adjustTokenXMLAttrs","adjustedAttrEntry","adjustTokenSVGTagName","adjustedTagName","isMathMLTextIntegrationPoint","ns","isHtmlIntegrationPoint","isIntegrationPoint","foreignNS","HIDDEN_INPUT_TYPE","AA_OUTER_LOOP_ITER","AA_INNER_LOOP_ITER","InsertionMode","BASE_LOC","TABLE_STRUCTURE_TAGS","defaultParserOptions","Parser","fragmentContext","scriptHandler","opts","TN","documentMock","rootElement","beforeToken","tid","isTop","currentTagId","isHTML","currentToken","nextTokenizerState","docTypeNode","tmpl","beforeElement","textNodeIdx","endLine","endCol","endOffset","donor","closingToken","ctLoc","endLoc","foreignContent.isIntegrationPoint","listLength","unopenIdx","selectIdx","openElement","characterInForeignContent","tokenInInitialMode","tokenBeforeHtml","tokenBeforeHead","tokenInHead","tokenInHeadNoScript","tokenAfterHead","characterInBody","characterInTable","characterInTableText","tokenInColumnGroup","tokenAfterBody","tokenAfterAfterBody","nullCharacterInForeignContent","appendComment","tokenInTableText","appendCommentToRootHtmlElement","appendCommentToDocument","doctypeInInitialMode","startTagInForeignContent","startTagBeforeHtml","startTagBeforeHead","startTagInHead","startTagInHeadNoScript","startTagAfterHead","startTagInBody","startTagInTable","startTagInCaption","startTagInColumnGroup","startTagInTableBody","startTagInRow","startTagInCell","startTagInSelect","startTagInSelectInTable","startTagInTemplate","startTagAfterBody","startTagInFrameset","startTagAfterFrameset","startTagAfterAfterBody","startTagAfterAfterFrameset","endTagInForeignContent","endTagBeforeHtml","endTagBeforeHead","endTagInHead","endTagInHeadNoScript","endTagAfterHead","endTagInBody","endTagInText","endTagInTable","endTagInCaption","endTagInColumnGroup","endTagInTableBody","endTagInRow","endTagInCell","endTagInSelect","endTagInSelectInTable","endTagInTemplate","endTagAfterBody","endTagInFrameset","endTagAfterFrameset","eofInBody","eofInText","eofInTemplate","stopParsing","unicode.CODE_POINTS","whitespaceCharacterInBody","whitespaceCharacterInTableText","aaObtainFormattingElementEntry","formattingElementEntry","genericEndTagInBody","aaObtainFurthestBlock","furthestBlock","aaInnerLoop","formattingElement","lastElement","nextElement","elementEntry","counterOverflow","aaRecreateElementFromEntry","aaInsertLastNodeInCommonAncestor","commonAncestor","aaReplaceFormattingElement","callAdoptionAgency","htmlElement","htmlLocation","bodyElement","bodyLocation","doctype.getDocumentMode","doctype.isConforming","templateEndTagInHead","errCode","modeInBody","htmlStartTagInBody","bodyStartTagInBody","framesetStartTagInBody","addressStartTagInBody","numberedHeaderStartTagInBody","preStartTagInBody","formStartTagInBody","inTemplate","listItemStartTagInBody","elementId","plaintextStartTagInBody","buttonStartTagInBody","aStartTagInBody","activeElementEntry","bStartTagInBody","nobrStartTagInBody","appletStartTagInBody","tableStartTagInBody","areaStartTagInBody","isHiddenInput","inputType","inputStartTagInBody","paramStartTagInBody","hrStartTagInBody","imageStartTagInBody","textareaStartTagInBody","xmpStartTagInBody","iframeStartTagInBody","rawTextStartTagInBody","selectStartTagInBody","optgroupStartTagInBody","rbStartTagInBody","rtStartTagInBody","mathStartTagInBody","foreignContent.adjustTokenMathMLAttrs","foreignContent.adjustTokenXMLAttrs","svgStartTagInBody","foreignContent.adjustTokenSVGAttrs","genericStartTagInBody","bodyEndTagInBody","htmlEndTagInBody","addressEndTagInBody","formEndTagInBody","formElement","pEndTagInBody","liEndTagInBody","ddEndTagInBody","numberedHeaderEndTagInBody","appletEndTagInBody","brEndTagInBody","tokenInTable","captionStartTagInTable","colgroupStartTagInTable","colStartTagInTable","tbodyStartTagInTable","tdStartTagInTable","tableStartTagInTable","inputStartTagInTable","formStartTagInTable","savedFosterParentingState","TABLE_VOID_ELEMENTS","unicode.REPLACEMENT_CHARACTER","popUntilHtmlOrIntegrationPoint","foreignContent.causesExit","currentNs","foreignContent.adjustTokenSVGTagName","gfmTagfilterExpression","knownMdxNames","parseOptions","documentMode","handleRaw","unknown","resetTokenizer","p5","stitch","Token.TokenType","createParse5Location","cloneWithoutChildren","fakeRoot","setPoint","node_","extra","html.getTagID","rehypeRaw","markdownComponents","inline","href","MarkdownContent","ReactMarkdown","useLocalStorage","initialValue","storedValue","setStoredValue","defaultSettings","SettingsContext","SettingsProvider","setSettings","addToast","updateSettings","newSettings","updated","setTheme","React","systemTheme","useSettings","Chat","setInput","setIsProcessing","isPaused","setIsPaused","setMessages","processingState","setProcessingState","processingSubText","setProcessingSubText","messagesEndRef","setSettingsPanelOpen","autoScroll","setAutoScroll","isSettingsHovered","setIsSettingsHovered","scrollTop","scrollHeight","clientHeight","isScrolledToBottom","handleSubmit","userMessage","assistantMessage","CanvasPrompt","onSubmit","isGenerating","prompt","setPrompt","CanvasToolbar","selectedTool","onToolChange","onShapeAdd","onUndo","onRedo","onExport","ToolButton","tooltip","isSelected","disabled","onClick","CanvasProperties","selectedObject","onPropertyChange","_c","CanvasManager","canvas","fabricObject","fabric","updates","format","models","selectModel","task","complexity","getModelCapabilities","modelId","ModelRouter$1","ModelRouter","missingModels","query","selectedModel","capabilities","modelConfig","factors","sum","complexityFactor","capabilityBonus","AIDesigner","routerConfig","designSpec","buttonGroup","buttonBg","buttonText","inputGroup","inputBg","placeholder","CanvasPanel","canvasRef","fabricCanvas","setFabricCanvas","setSelectedObject","setSelectedTool","setIsGenerating","handlePromptSubmit","handleShapeAdd","shape","handlePropertyChange","handleUndo","handleRedo","handleExport","blob","MessageQueue","BaseAgent","fullMessage","agent","agentId","status","targetAgentId","success","responseTime","metrics","contextLength","requiresCode","requiresSearch","ErrorHandler","promise","PrimaryAgent","handled","specialists","specialist","WebDataTools","links","prevSibling","headers","csvContent","header","stringValue","SpecialistAgent","urls","TaskAgent","AgentRegistry","VectorStore$1","embedding","queryEmbedding","tokenHash","magnitude","hash","dotProduct","magnitudeA","magnitudeB","IndexedDBStorage","request","db","storeName","MemoryManager","VectorStore","vectorId","__defProp","__export","tasks_exports","audioClassification","audioToAudio","automaticSpeechRecognition","chatCompletion","chatCompletionStream","documentQuestionAnswering","featureExtraction","fillMask","imageClassification","imageSegmentation","imageToImage","imageToText","objectDetection","questionAnswering","sentenceSimilarity","streamingRequest","summarization","tableQuestionAnswering","tabularClassification","tabularRegression","textClassification","textGeneration","textGenerationStream","textToImage","textToSpeech","tokenClassification","translation","visualQuestionAnswering","zeroShotClassification","zeroShotImageClassification","pick","typedInclude","omit","propsArr","letsKeep","modelOrUrl","taskCache","CACHE_DURATION","MAX_CACHE_ITEMS","HF_HUB_URL","getDefaultTask","accessToken","cachedTask","modelTask","resp","HF_INFERENCE_API_BASE_URL","tasks","makeRequestOptions","endpointUrl","otherArgs","includeCredentials","taskHint","wait_for_model","use_cache","dont_load_model","chatCompletion2","res","taskInfo","binary","credentials","getLines","onLine","fieldLength","discardTrailingNewline","concat","bufLength","lineEnd","getMessages","onId","onRetry","onMessage","newMessage","valueOffset","retry","onChunk","InferenceOutputError","base64FromBytes","bin","byte","reqArgs","defaultTask","isValidOutput","isNumArrayRec","maxDepth","curDepth","coord","toArray","_label","_score","HfInference","defaultOptions","__publicField","params","HfInferenceEndpoint","QwenAPI","language","issues","suggestions","quality","currentSection","CodeAgent","review","languageMatch","codeMatch","issue","suggestion","codeAgent","onStateChange","messageId","keyword","AgentPanel","agentStats","setAgentStats","isLoading","setIsLoading","fetchAgentStats","stats","interval","StatCard","trend","AnalysisParameters","onAnalyze","setParams","defaultCriteria","addCompetitor","removeCompetitor","updateCompetitor","updateCriterionWeight","weight","competitor","criterion","ChartJS","CategoryScale","LinearScale","BarElement","PointElement","LineElement","RadialLinearScale","Title","Legend","Filler","AnalysisDashboard","competitors","radarData","barData","Radar","Bar","AnalysisReport","report","handleDownload","ComparisonMatrix","categories","category","getComparisonIcon","getScoreLabel","score","StrategicInsights","insights","getImpactColor","impact","insight","GitHubService","owner","repo","GitHubTools","CompetitorAnalysisTool","industry","region","csvData","services","specializations","rates","ToolRegistry","tool","csv","toolRegistry","useCompetitorAnalysis","setReport","setCompetitors","setInsights","setMetrics","CompetitorAnalysis","analyze","activeTab","setActiveTab","handleAnalysis","renderContent","ToolsPanel","tools","toolCategories","toDate","argStr","minutesInMonth","minutesInDay","getDefaultOptions","getTimezoneOffsetInMilliseconds","date","_date","utcDate","compareAsc","dateLeft","dateRight","_dateLeft","_dateRight","diff","differenceInCalendarMonths","yearDiff","monthDiff","getRoundingMethod","method","differenceInMilliseconds","endOfDay","endOfMonth","month","isLastDayOfMonth","differenceInMonths","sign","difference","isLastMonthNotFull","differenceInSeconds","formatDistanceLocale","formatDistance","tokenValue","buildFormatLongFn","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","rem100","localize","quarter","buildMatchFn","matchPattern","matchResult","matchedString","parsePatterns","findIndex","findKey","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","enUS","baseDate","locale","defaultLocale","minutesInAlmostTwoDays","comparison","localizeOptions","offsetInSeconds","minutes","months","hours","days","nearestMonth","monthsSinceStartOfYear","years","formatDistanceToNow","DocumentList","documents","viewMode","selectedTags","onTagSelect","onRefresh","onSearch","searchQuery","setSearchQuery","allTags","handleTagClick","handleSearch","clearSearch","DocumentCard","DocumentRow","vector","minSimilarity","queryVector","AutoTagger","fileName","mimeType","tags","finalTags","normalizedContent","terms","term","lang","normalizedName","languages","DocumentManager","workspaceId","userTags","autoTags","documentId","workspace","defaultWorkspace","vectorResults","words","queryWords","excerptLength","bestPosition","maxMatches","qw","DocumentUpload","onUploadComplete","onUploadError","setIsDragging","files","setFiles","isUploading","setIsUploading","setError","uploadProgress","setUploadProgress","fileInputRef","documentManager","handleDragOver","handleDragLeave","handleDrop","droppedFiles","handleFileSelect","selectedFiles","removeFile","uploadFiles","progressInterval","DocumentPanel","setDocuments","setSelectedTags","setViewMode","isUploadOpen","setIsUploadOpen","uploadSuccess","setUploadSuccess","loadDocuments","searchOptions","handleUploadComplete","handleUploadError","Grid","MoASearchAggregator","headResults","aggregated","scores","topResults","sourceScore","densityScore","relevanceScore","freshnessScore","dateMatches","numberMatches","properNouns","totalSignals","hourAge","maxLength","unique","simplified","setA","setB","intersection","union","RagProcessor","storedResults","enhancedResults","similarContent","originalContent","PerplexityAPI","TavilyAPI","formattedContent","GoogleSearchAPI","title","snippet","SerpAPI","SearchService$1","SearchService","perplexityResult","tavilyResult","fallbackResults","ragResults","aggregatedContent","searchFn","searchService","SearchContext","SearchProvider","setResults","isStreaming","setIsStreaming","searchResults","clearResults","useSearch","SearchResults","SearchPanel","setQuery","isSearching","setIsSearching","resultsEndRef","SearchIcon","SaveButton","onSave","isDirty","isSaving","setIsSaving","handleSave","APISettings","localSettings","setLocalSettings","Toggle","enabled","PerformanceSettings","handleMaxTokensChange","handleTemperatureChange","handleStreamingToggle","tokenOptions","option","MemorySettings","handleClearMemory","NotificationSettings","SettingsSection","ModelSettings","handleModelChange","handleModelToggle","enabledModels","WorkflowSettings","handleParallelTasksChange","SettingsPanel","activeSection","setActiveSection","sections","ActiveComponent","section","MainContent","activePanel","variants","LoggingSidebar","searchTerm","setSearchTerm","activeFilters","setActiveFilters","setThoughts","isCollapsed","setIsCollapsed","showFilters","setShowFilters","logsEndRef","newThoughts","filteredThoughts","matchesSearch","matchesFilter","toggleFilter","newFilters","clearFilters","Layout","onPanelChange","isSidebarOpen","setIsSidebarOpen","isLoggingOpen","setIsLoggingOpen","$e02a7d9cb1dc128c$export$c74125a8e3af6bb2","PROVIDER_NAME","createCollectionContext","createCollectionScope","$6vYhU$createContextScope","CollectionProviderImpl","useCollectionContext","CollectionProvider","$6vYhU$react","itemMap","COLLECTION_SLOT_NAME","CollectionSlot","$6vYhU$useComposedRefs","$6vYhU$Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","useCollection","collectionNode","orderedNodes","$054eb8030ebde76e$var$PROVIDER_NAME","$054eb8030ebde76e$var$Collection","$054eb8030ebde76e$var$useCollection","$054eb8030ebde76e$var$createCollectionScope","$eyrYI$createCollection","$054eb8030ebde76e$var$createToastContext","$054eb8030ebde76e$export$8a359da18fbc9073","$eyrYI$createContextScope","$054eb8030ebde76e$var$ToastProviderProvider","$054eb8030ebde76e$var$useToastProviderContext","$054eb8030ebde76e$export$f5d03d415824e0e","__scopeToast","swipeDirection","swipeThreshold","$eyrYI$useState","toastCount","setToastCount","isFocusedToastEscapeKeyDownRef","$eyrYI$useRef","isClosePausedRef","$eyrYI$createElement","$eyrYI$useCallback","prevCount","$054eb8030ebde76e$var$VIEWPORT_NAME","$054eb8030ebde76e$var$VIEWPORT_DEFAULT_HOTKEY","$054eb8030ebde76e$var$VIEWPORT_PAUSE","$054eb8030ebde76e$var$VIEWPORT_RESUME","$054eb8030ebde76e$export$6192c2425ecfd989","$eyrYI$forwardRef","hotkey","getItems","wrapperRef","headFocusProxyRef","tailFocusProxyRef","$eyrYI$useComposedRefs","hotkeyLabel","hasToasts","$eyrYI$useEffect","_ref$current","handlePause","pauseEvent","handleResume","resumeEvent","handleFocusOutResume","handlePointerLeaveResume","getSortedTabbableCandidates","tabbingDirection","tabbableCandidates","toastItem","toastNode","toastTabbableCandidates","$054eb8030ebde76e$var$getTabbableCandidates","isMetaKey","focusedElement","isTabbingBackwards","_headFocusProxyRef$cu","sortedCandidates","$054eb8030ebde76e$var$focusFirst","_headFocusProxyRef$cu2","_tailFocusProxyRef$cu","$eyrYI$Branch","$054eb8030ebde76e$var$FocusProxy","$eyrYI$Primitive","$eyrYI$babelruntimehelpersesmextends","$054eb8030ebde76e$var$FOCUS_PROXY_NAME","onFocusFromOutsideViewport","proxyProps","$eyrYI$VisuallyHidden","_context$viewport","prevFocusedElement","$054eb8030ebde76e$var$TOAST_NAME","$054eb8030ebde76e$var$TOAST_SWIPE_START","$054eb8030ebde76e$var$TOAST_SWIPE_MOVE","$054eb8030ebde76e$var$TOAST_SWIPE_CANCEL","$054eb8030ebde76e$var$TOAST_SWIPE_END","$054eb8030ebde76e$export$8d8dc7d5f743331b","toastProps","$eyrYI$useControllableState","$eyrYI$Presence","$054eb8030ebde76e$var$ToastImpl","$eyrYI$useCallbackRef","$eyrYI$composeEventHandlers","$054eb8030ebde76e$var$ToastInteractiveProvider","$054eb8030ebde76e$var$useToastInteractiveContext","durationProp","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd","pointerStartRef","swipeDeltaRef","duration1","closeTimerStartTimeRef","closeTimerRemainingTimeRef","closeTimerRef","onToastAdd","onToastRemove","_context$viewport2","startTimer","elapsedTime","announceTextContent","$eyrYI$useMemo","$054eb8030ebde76e$var$getAnnounceTextContent","$eyrYI$Fragment","$054eb8030ebde76e$var$ToastAnnounce","$eyrYI$createPortal","$eyrYI$Root","hasSwipeMoveStarted","isHorizontalSwipe","clampedX","clampedY","moveStartBuffer","$054eb8030ebde76e$var$handleAndDispatchCustomEvent","$054eb8030ebde76e$var$isDeltaInDirection","event1","announceProps","renderAnnounceText","setRenderAnnounceText","isAnnounced","setIsAnnounced","$054eb8030ebde76e$var$useNextFrame","timer","$eyrYI$Portal","$054eb8030ebde76e$export$16d42d7c29b95a4","titleProps","$054eb8030ebde76e$export$ecddd96c53621d9a","descriptionProps","$054eb8030ebde76e$var$ACTION_NAME","$054eb8030ebde76e$export$3019feecfda683d2","altText","actionProps","$054eb8030ebde76e$var$ToastAnnounceExclude","$054eb8030ebde76e$export$811e70f61c205839","$054eb8030ebde76e$var$CLOSE_NAME","closeProps","interactiveContext","announceExcludeProps","textContent","$054eb8030ebde76e$var$isHTMLElement","isHidden","isExcluded","$eyrYI$dispatchDiscreteCustomEvent","deltaX","deltaY","isDeltaX","$eyrYI$useLayoutEffect","raf1","raf2","walker","previouslyFocusedElement","$054eb8030ebde76e$export$2881499e37b75b9a","$054eb8030ebde76e$export$d5c6c08dc2d3ca7","$054eb8030ebde76e$export$be92b6f5f03c0fe9","$054eb8030ebde76e$export$f99233281efd08a0","$054eb8030ebde76e$export$393edc798c47379d","$054eb8030ebde76e$export$f39c2d165cd861fe","ToastProvider","toasts","removeToast","Toast.Provider","Toast.Root","Toast.Title","Toast.Description","Toast.Close","Toast.Viewport","ConfigContext","ConfigProvider","isInitialized","setIsInitialized","hasValidConfig","setHasValidConfig","hasAllKeys","ErrorBoundary","errorInfo","getUserAgent","register_1","registered","addHook","orig","result_","removeHook","require$$2","bind","bindable","bindApi","removeHookRef","HookSingular","singularHookName","singularHookState","singularHook","HookCollection","collectionHookDeprecationMessageDisplayed","Hook","beforeAfterHookModule","Collection","VERSION","userAgent","DEFAULTS","lowercaseKeys","newObj","Ctor","mergeDeep","defaults","removeUndefinedProperties","route","preview","addQueryParameters","names","urlVariableRegex","removeNonChars","variableName","extractUrlVariableNames","keysToOmit","encodeReserved","encodeUnreserved","encodeValue","operator","isDefined","isKeyOperator","getValues","value2","tmp","parseUrl","expand","operators","literal","variable","urlVariableNames","omittedParameters","remainingParameters","previewsFromAcceptHeader","endpointWithDefaults","withDefaults","oldDefaults","newDefaults","DEFAULTS2","endpoint2","endpoint","Deprecation","wrappy_1","wrappy","onceModule","onceStrict","logOnceCode","logOnceHeaders","RequestError","statusCode","requestCopy","getBufferResponse","fetchWrapper","requestOptions","parseSuccessResponseBody","fetch","_d","keyAndValue","deprecationLink","getResponseData","toErrorMessage","contentType","oldEndpoint","endpointOptions","request2","route2","parameters2","_buildMessageForResponseErrors","GraphqlResponseError","NON_VARIABLE_OPTIONS","FORBIDDEN_VARIABLE_OPTIONS","GHES_V3_SUFFIX_REGEX","graphql","parsedOptions","baseUrl","newRequest","withCustomRequest","customRequest","REGEX_IS_INSTALLATION_LEGACY","REGEX_IS_INSTALLATION","REGEX_IS_USER_TO_SERVER","auth","isApp","isInstallation","isUserToServer","withAuthorizationPrefix","createTokenAuth","consoleWarn","consoleError","userAgentTrail","Octokit","newPlugins","currentPlugins","requestDefaults","authStrategy","otherOptions","classConstructor","requestLog","octokit","normalizePaginatedListResponse","incompleteResults","repositorySelection","totalCount","namespaceKey","requestMethod","normalizedResponse","paginate","mapFn","gather","iterator2","earlyExit","paginateRest","Endpoints","endpoints_default","endpointMethodsMap","endpoints","methodName","decorations","endpointDefaults","descriptor","decorate","endpointsToMethods","newMethods","requestWithDefaults","withDecorations","newScope","newMethodName","options2","alias","legacyRestEndpointMethods","api","Core","GitHubClient","subFiles","define_process_env_default","CodeAwareness","CodespaceClient","githubConnected","codespaceAvailable","codespaceInfo","knownFiles","relevantExtensions","excludedPaths","ext","excluded","searchRegex","classMatches","interfaceMatches","functionMatches","commentMatch","SystemInitializer","codeAwareness","githubClient","codespaceClient","modelRouter","memoryManager","requiredKeys","initializeSystem","systemInitializer","App","setActivePanel","StrictMode"],"mappings":"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KAAM+5E,CAAO,CACtC,CAAA,CACF,CACH,CACAa,GAAa,QAAUjH,GC3WvB,IAAIA,GAAU,SAGVkH,GAAY,CACd,QAAS,CACP,wCAAyC,CACvC,qDACD,EACD,yCAA0C,CACxC,+DACD,EACD,2BAA4B,CAC1B,4EACD,EACD,6BAA8B,CAC5B,uEACD,EACD,mBAAoB,CAClB,0DACD,EACD,kBAAmB,CACjB,yDACD,EACD,0BAA2B,CACzB,sEACD,EACD,gCAAiC,CAC/B,iFACD,EACD,wBAAyB,CAAC,+CAA+C,EACzE,yBAA0B,CACxB,yDACD,EACD,kBAAmB,CAAC,oCAAoC,EACxD,8BAA+B,CAC7B,qDACD,EACD,+BAAgC,CAC9B,+DACD,EACD,wBAAyB,CAAC,+CAA+C,EACzE,yBAA0B,CACxB,yDACD,EACD,mBAAoB,CAAC,8CAA8C,EACnE,uBAAwB,CACtB,uEACD,EACD,uBAAwB,CACtB,wDACD,EACD,wBAAyB,CACvB,uDACD,EACD,eAAgB,CACd,8DACD,EACD,wBAAyB,CACvB,oFACD,EACD,0BAA2B,CACzB,+EACD,EACD,gBAAiB,CAAC,kDAAkD,EACpE,kBAAmB,CAAC,6CAA6C,EACjE,iBAAkB,CAChB,4DACD,EACD,mBAAoB,CAClB,uDACD,EACD,8BAA+B,CAC7B,gDACD,EACD,+BAAgC,CAC9B,0DACD,EACD,kBAAmB,CAAC,oDAAoD,EACxE,sBAAuB,CACrB,yDACD,EACD,mDAAoD,CAClD,qEACD,EACD,gBAAiB,CACf,mEACD,EACD,iBAAkB,CAChB,4EACD,EACD,8BAA+B,CAC7B,sDACD,EACD,+BAAgC,CAC9B,gFACD,EACD,wBAAyB,CACvB,sDACD,EACD,kDAAmD,CACjD,kEACD,EACD,eAAgB,CACd,kEACD,EACD,uBAAwB,CACtB,+DACD,EACD,8BAA+B,CAC7B,qDACD,EACD,+BAAgC,CAC9B,+DACD,EACD,oBAAqB,CAAC,0CAA0C,EAChE,qBAAsB,CAAC,+CAA+C,EACtE,iCAAkC,CAChC,mDACD,EACD,2BAA4B,CAAC,qCAAqC,EAClE,8BAA+B,CAC7B,sDACD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ACvE,oBAAqB,CACnB,yDACD,EACD,oBAAqB,CACnB,sEACD,EACD,oBAAqB,CACnB,0DACD,EACD,cAAe,CACb,8EACD,EACD,IAAK,CAAC,+CAA+C,EACrD,UAAW,CACT,mEACD,EACD,iBAAkB,CAAC,uDAAuD,EAC1E,KAAM,CAAC,iCAAiC,EACxC,sBAAuB,CACrB,4EACD,EACD,YAAa,CAAC,uDAAuD,EACrE,UAAW,CAAC,qDAAqD,EACjE,uBAAwB,CACtB,mEACD,EACD,mBAAoB,CAClB,wDACD,EACD,0BAA2B,CAAC,0CAA0C,EACtE,YAAa,CAAC,uDAAuD,EACrE,MAAO,CAAC,qDAAqD,EAC7D,yBAA0B,CACxB,sEACD,EACD,iBAAkB,CAChB,oEACD,EACD,aAAc,CACZ,2EACD,EACD,OAAQ,CAAC,iDAAiD,EAC1D,aAAc,CACZ,6DACD,EACD,aAAc,CACZ,mEACD,EACD,oBAAqB,CACnB,yDACN,CACG,EACD,UAAW,CAAE,IAAK,CAAC,iBAAiB,CAAG,EACvC,UAAW,CACT,uBAAwB,CACtB,4DACD,EACD,eAAgB,CACd,4DACD,EACD,sBAAuB,CACrB,mEACD,EACD,kCAAmC,CACjC,kEACD,EACD,iBAAkB,CAChB,4DACD,EACD,oCAAqC,CACnC,wGACD,EACD,6BAA8B,CAC5B,8EACD,EACD,uBAAwB,CACtB,4EACD,EACD,eAAgB,CACd,4EACD,EACD,sBAAuB,CACrB,mFACD,EACD,4BAA6B,CAC3B,kFACD,EACD,iBAAkB,CAChB,4EACD,EACD,wBAAyB,CACvB,8FACD,EACD,+BAAgC,CAC9B,wHACD,EACD,qBAAsB,CACpB,2DACD,EACD,aAAc,CAAC,2DAA2D,EAC1E,oBAAqB,CACnB,kEACD,EACD,gCAAiC,CAC/B,iEACD,EACD,eAAgB,CACd,2DACD,EACD,kCAAmC,CACjC,uGACD,EACD,2BAA4B,CAC1B,6EACN,CACG,EACD,MAAO,CACL,iBAAkB,CAChB,qDACA,CAAE,EACF,CAAE,QAAS,CAAC,QAAS,sCAAsC,CAAC,CAC7D,EACD,qCAAsC,CACpC,oDACD,EACD,yB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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,61,62,63,64,65,66,77,78,79,80,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,561,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,632,633,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654]}